function SS(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function un(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function IT(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var a=!1;try{a=this instanceof n}catch{}return a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var op={exports:{}},Ro={},lp={exports:{}},Pe={};var kw;function DT(){if(kw)return Pe;kw=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function y($){return $===null||typeof $!="object"?null:($=m&&$[m]||$["@@iterator"],typeof $=="function"?$:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,w={};function _($,V,ye){this.props=$,this.context=V,this.refs=w,this.updater=ye||v}_.prototype.isReactComponent={},_.prototype.setState=function($,V){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,V,"setState")},_.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function N(){}N.prototype=_.prototype;function A($,V,ye){this.props=$,this.context=V,this.refs=w,this.updater=ye||v}var E=A.prototype=new N;E.constructor=A,j(E,_.prototype),E.isPureReactComponent=!0;var C=Array.isArray,P=Object.prototype.hasOwnProperty,S={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function I($,V,ye){var Ee,je={},Ce=null,Le=null;if(V!=null)for(Ee in V.ref!==void 0&&(Le=V.ref),V.key!==void 0&&(Ce=""+V.key),V)P.call(V,Ee)&&!T.hasOwnProperty(Ee)&&(je[Ee]=V[Ee]);var Re=arguments.length-2;if(Re===1)je.children=ye;else if(1<Re){for(var K=Array(Re),we=0;we<Re;we++)K[we]=arguments[we+2];je.children=K}if($&&$.defaultProps)for(Ee in Re=$.defaultProps,Re)je[Ee]===void 0&&(je[Ee]=Re[Ee]);return{$$typeof:e,type:$,key:Ce,ref:Le,props:je,_owner:S.current}}function M($,V){return{$$typeof:e,type:$.type,key:V,ref:$.ref,props:$.props,_owner:$._owner}}function z($){return typeof $=="object"&&$!==null&&$.$$typeof===e}function W($){var V={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(ye){return V[ye]})}var H=/\/+/g;function Z($,V){return typeof $=="object"&&$!==null&&$.key!=null?W(""+$.key):V.toString(36)}function se($,V,ye,Ee,je){var Ce=typeof $;(Ce==="undefined"||Ce==="boolean")&&($=null);var Le=!1;if($===null)Le=!0;else switch(Ce){case"string":case"number":Le=!0;break;case"object":switch($.$$typeof){case e:case t:Le=!0}}if(Le)return Le=$,je=je(Le),$=Ee===""?"."+Z(Le,0):Ee,C(je)?(ye="",$!=null&&(ye=$.replace(H,"$&/")+"/"),se(je,V,ye,"",function(we){return we})):je!=null&&(z(je)&&(je=M(je,ye+(!je.key||Le&&Le.key===je.key?"":(""+je.key).replace(H,"$&/")+"/")+$)),V.push(je)),1;if(Le=0,Ee=Ee===""?".":Ee+":",C($))for(var Re=0;Re<$.length;Re++){Ce=$[Re];var K=Ee+Z(Ce,Re);Le+=se(Ce,V,ye,K,je)}else if(K=y($),typeof K=="function")for($=K.call($),Re=0;!(Ce=$.next()).done;)Ce=Ce.value,K=Ee+Z(Ce,Re++),Le+=se(Ce,V,ye,K,je);else if(Ce==="object")throw V=String($),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return Le}function Y($,V,ye){if($==null)return $;var Ee=[],je=0;return se($,Ee,"","",function(Ce){return V.call(ye,Ce,je++)}),Ee}function le($){if($._status===-1){var V=$._result;V=V(),V.then(function(ye){($._status===0||$._status===-1)&&($._status=1,$._result=ye)},function(ye){($._status===0||$._status===-1)&&($._status=2,$._result=ye)}),$._status===-1&&($._status=0,$._result=V)}if($._status===1)return $._result.default;throw $._result}var re={current:null},G={transition:null},ie={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:G,ReactCurrentOwner:S};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Pe.Children={map:Y,forEach:function($,V,ye){Y($,function(){V.apply(this,arguments)},ye)},count:function($){var V=0;return Y($,function(){V++}),V},toArray:function($){return Y($,function(V){return V})||[]},only:function($){if(!z($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Pe.Component=_,Pe.Fragment=r,Pe.Profiler=a,Pe.PureComponent=A,Pe.StrictMode=n,Pe.Suspense=d,Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,Pe.act=ae,Pe.cloneElement=function($,V,ye){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var Ee=j({},$.props),je=$.key,Ce=$.ref,Le=$._owner;if(V!=null){if(V.ref!==void 0&&(Ce=V.ref,Le=S.current),V.key!==void 0&&(je=""+V.key),$.type&&$.type.defaultProps)var Re=$.type.defaultProps;for(K in V)P.call(V,K)&&!T.hasOwnProperty(K)&&(Ee[K]=V[K]===void 0&&Re!==void 0?Re[K]:V[K])}var K=arguments.length-2;if(K===1)Ee.children=ye;else if(1<K){Re=Array(K);for(var we=0;we<K;we++)Re[we]=arguments[we+2];Ee.children=Re}return{$$typeof:e,type:$.type,key:je,ref:Ce,props:Ee,_owner:Le}},Pe.createContext=function($){return $={$$typeof:o,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:i,_context:$},$.Consumer=$},Pe.createElement=I,Pe.createFactory=function($){var V=I.bind(null,$);return V.type=$,V},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function($){return{$$typeof:u,render:$}},Pe.isValidElement=z,Pe.lazy=function($){return{$$typeof:p,_payload:{_status:-1,_result:$},_init:le}},Pe.memo=function($,V){return{$$typeof:h,type:$,compare:V===void 0?null:V}},Pe.startTransition=function($){var V=G.transition;G.transition={};try{$()}finally{G.transition=V}},Pe.unstable_act=ae,Pe.useCallback=function($,V){return re.current.useCallback($,V)},Pe.useContext=function($){return re.current.useContext($)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function($){return re.current.useDeferredValue($)},Pe.useEffect=function($,V){return re.current.useEffect($,V)},Pe.useId=function(){return re.current.useId()},Pe.useImperativeHandle=function($,V,ye){return re.current.useImperativeHandle($,V,ye)},Pe.useInsertionEffect=function($,V){return re.current.useInsertionEffect($,V)},Pe.useLayoutEffect=function($,V){return re.current.useLayoutEffect($,V)},Pe.useMemo=function($,V){return re.current.useMemo($,V)},Pe.useReducer=function($,V,ye){return re.current.useReducer($,V,ye)},Pe.useRef=function($){return re.current.useRef($)},Pe.useState=function($){return re.current.useState($)},Pe.useSyncExternalStore=function($,V,ye){return re.current.useSyncExternalStore($,V,ye)},Pe.useTransition=function(){return re.current.useTransition()},Pe.version="18.3.1",Pe}var Sw;function Ns(){return Sw||(Sw=1,lp.exports=DT()),lp.exports}var Nw;function MT(){if(Nw)return Ro;Nw=1;var e=Ns(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(u,d,h){var p,m={},y=null,v=null;h!==void 0&&(y=""+h),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(v=d.ref);for(p in d)n.call(d,p)&&!i.hasOwnProperty(p)&&(m[p]=d[p]);if(u&&u.defaultProps)for(p in d=u.defaultProps,d)m[p]===void 0&&(m[p]=d[p]);return{$$typeof:t,type:u,key:y,ref:v,props:m,_owner:a.current}}return Ro.Fragment=r,Ro.jsx=o,Ro.jsxs=o,Ro}var Ew;function LT(){return Ew||(Ew=1,op.exports=MT()),op.exports}var c=LT(),x=Ns();const NS=un(x),ES=SS({__proto__:null,default:NS},[x]);var Kc={},cp={exports:{}},ur={},up={exports:{}},dp={};var Pw;function $T(){return Pw||(Pw=1,(function(e){function t(G,ie){var ae=G.length;G.push(ie);e:for(;0<ae;){var $=ae-1>>>1,V=G[$];if(0<a(V,ie))G[$]=ie,G[ae]=V,ae=$;else break e}}function r(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var ie=G[0],ae=G.pop();if(ae!==ie){G[0]=ae;e:for(var $=0,V=G.length,ye=V>>>1;$<ye;){var Ee=2*($+1)-1,je=G[Ee],Ce=Ee+1,Le=G[Ce];if(0>a(je,ae))Ce<V&&0>a(Le,je)?(G[$]=Le,G[Ce]=ae,$=Ce):(G[$]=je,G[Ee]=ae,$=Ee);else if(Ce<V&&0>a(Le,ae))G[$]=Le,G[Ce]=ae,$=Ce;else break e}}return ie}function a(G,ie){var ae=G.sortIndex-ie.sortIndex;return ae!==0?ae:G.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,u=o.now();e.unstable_now=function(){return o.now()-u}}var d=[],h=[],p=1,m=null,y=3,v=!1,j=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(G){for(var ie=r(h);ie!==null;){if(ie.callback===null)n(h);else if(ie.startTime<=G)n(h),ie.sortIndex=ie.expirationTime,t(d,ie);else break;ie=r(h)}}function C(G){if(w=!1,E(G),!j)if(r(d)!==null)j=!0,le(P);else{var ie=r(h);ie!==null&&re(C,ie.startTime-G)}}function P(G,ie){j=!1,w&&(w=!1,N(I),I=-1),v=!0;var ae=y;try{for(E(ie),m=r(d);m!==null&&(!(m.expirationTime>ie)||G&&!W());){var $=m.callback;if(typeof $=="function"){m.callback=null,y=m.priorityLevel;var V=$(m.expirationTime<=ie);ie=e.unstable_now(),typeof V=="function"?m.callback=V:m===r(d)&&n(d),E(ie)}else n(d);m=r(d)}if(m!==null)var ye=!0;else{var Ee=r(h);Ee!==null&&re(C,Ee.startTime-ie),ye=!1}return ye}finally{m=null,y=ae,v=!1}}var S=!1,T=null,I=-1,M=5,z=-1;function W(){return!(e.unstable_now()-z<M)}function H(){if(T!==null){var G=e.unstable_now();z=G;var ie=!0;try{ie=T(!0,G)}finally{ie?Z():(S=!1,T=null)}}else S=!1}var Z;if(typeof A=="function")Z=function(){A(H)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,Y=se.port2;se.port1.onmessage=H,Z=function(){Y.postMessage(null)}}else Z=function(){_(H,0)};function le(G){T=G,S||(S=!0,Z())}function re(G,ie){I=_(function(){G(e.unstable_now())},ie)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){j||v||(j=!0,le(P))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(G){switch(y){case 1:case 2:case 3:var ie=3;break;default:ie=y}var ae=y;y=ie;try{return G()}finally{y=ae}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,ie){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ae=y;y=G;try{return ie()}finally{y=ae}},e.unstable_scheduleCallback=function(G,ie,ae){var $=e.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?$+ae:$):ae=$,G){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ae+V,G={id:p++,callback:ie,priorityLevel:G,startTime:ae,expirationTime:V,sortIndex:-1},ae>$?(G.sortIndex=ae,t(h,G),r(d)===null&&G===r(h)&&(w?(N(I),I=-1):w=!0,re(C,ae-$))):(G.sortIndex=V,t(d,G),j||v||(j=!0,le(P))),G},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(G){var ie=y;return function(){var ae=y;y=ie;try{return G.apply(this,arguments)}finally{y=ae}}}})(dp)),dp}var Ow;function BT(){return Ow||(Ow=1,up.exports=$T()),up.exports}var Aw;function FT(){if(Aw)return ur;Aw=1;var e=Ns(),t=BT();function r(s){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+s,f=1;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function i(s,l){o(s,l),o(s+"Capture",l)}function o(s,l){for(a[s]=l,s=0;s<l.length;s++)n.add(l[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function y(s){return d.call(m,s)?!0:d.call(p,s)?!1:h.test(s)?m[s]=!0:(p[s]=!0,!1)}function v(s,l,f,g){if(f!==null&&f.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:f!==null?!f.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function j(s,l,f,g){if(l===null||typeof l>"u"||v(s,l,f,g))return!0;if(g)return!1;if(f!==null)switch(f.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function w(s,l,f,g,b,k,O){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=b,this.mustUseProperty=f,this.propertyName=s,this.type=l,this.sanitizeURL=k,this.removeEmptyString=O}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){_[s]=new w(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var l=s[0];_[l]=new w(l,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){_[s]=new w(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){_[s]=new w(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){_[s]=new w(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){_[s]=new w(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){_[s]=new w(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){_[s]=new w(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){_[s]=new w(s,5,!1,s.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function A(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var l=s.replace(N,A);_[l]=new w(l,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var l=s.replace(N,A);_[l]=new w(l,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var l=s.replace(N,A);_[l]=new w(l,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){_[s]=new w(s,1,!1,s.toLowerCase(),null,!1,!1)}),_.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){_[s]=new w(s,1,!1,s.toLowerCase(),null,!0,!0)});function E(s,l,f,g){var b=_.hasOwnProperty(l)?_[l]:null;(b!==null?b.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(j(l,f,b,g)&&(f=null),g||b===null?y(l)&&(f===null?s.removeAttribute(l):s.setAttribute(l,""+f)):b.mustUseProperty?s[b.propertyName]=f===null?b.type===3?!1:"":f:(l=b.attributeName,g=b.attributeNamespace,f===null?s.removeAttribute(l):(b=b.type,f=b===3||b===4&&f===!0?"":""+f,g?s.setAttributeNS(g,l,f):s.setAttribute(l,f))))}var C=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),W=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),G=Symbol.iterator;function ie(s){return s===null||typeof s!="object"?null:(s=G&&s[G]||s["@@iterator"],typeof s=="function"?s:null)}var ae=Object.assign,$;function V(s){if($===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);$=l&&l[1]||""}return`
`+$+s}var ye=!1;function Ee(s,l){if(!s||ye)return"";ye=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(q){var g=q}Reflect.construct(s,[],l)}else{try{l.call()}catch(q){g=q}s.call(l.prototype)}else{try{throw Error()}catch(q){g=q}s()}}catch(q){if(q&&g&&typeof q.stack=="string"){for(var b=q.stack.split(`
`),k=g.stack.split(`
`),O=b.length-1,R=k.length-1;1<=O&&0<=R&&b[O]!==k[R];)R--;for(;1<=O&&0<=R;O--,R--)if(b[O]!==k[R]){if(O!==1||R!==1)do if(O--,R--,0>R||b[O]!==k[R]){var D=`
`+b[O].replace(" at new "," at ");return s.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",s.displayName)),D}while(1<=O&&0<=R);break}}}finally{ye=!1,Error.prepareStackTrace=f}return(s=s?s.displayName||s.name:"")?V(s):""}function je(s){switch(s.tag){case 5:return V(s.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return s=Ee(s.type,!1),s;case 11:return s=Ee(s.type.render,!1),s;case 1:return s=Ee(s.type,!0),s;default:return""}}function Ce(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case T:return"Fragment";case S:return"Portal";case M:return"Profiler";case I:return"StrictMode";case Z:return"Suspense";case se:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case W:return(s.displayName||"Context")+".Consumer";case z:return(s._context.displayName||"Context")+".Provider";case H:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Y:return l=s.displayName||null,l!==null?l:Ce(s.type)||"Memo";case le:l=s._payload,s=s._init;try{return Ce(s(l))}catch{}}return null}function Le(s){var l=s.type;switch(s.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=l.render,s=s.displayName||s.name||"",l.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(l);case 8:return l===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Re(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function K(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function we(s){var l=K(s)?"checked":"value",f=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),g=""+s[l];if(!s.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var b=f.get,k=f.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return b.call(this)},set:function(O){g=""+O,k.call(this,O)}}),Object.defineProperty(s,l,{enumerable:f.enumerable}),{getValue:function(){return g},setValue:function(O){g=""+O},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function Oe(s){s._valueTracker||(s._valueTracker=we(s))}function ee(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var f=l.getValue(),g="";return s&&(g=K(s)?s.checked?"true":"false":s.value),s=g,s!==f?(l.setValue(s),!0):!1}function xt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function $e(s,l){var f=l.checked;return ae({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??s._wrapperState.initialChecked})}function Ft(s,l){var f=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;f=Re(l.value!=null?l.value:f),s._wrapperState={initialChecked:g,initialValue:f,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Ut(s,l){l=l.checked,l!=null&&E(s,"checked",l,!1)}function Hr(s,l){Ut(s,l);var f=Re(l.value),g=l.type;if(f!=null)g==="number"?(f===0&&s.value===""||s.value!=f)&&(s.value=""+f):s.value!==""+f&&(s.value=""+f);else if(g==="submit"||g==="reset"){s.removeAttribute("value");return}l.hasOwnProperty("value")?gf(s,l.type,f):l.hasOwnProperty("defaultValue")&&gf(s,l.type,Re(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(s.defaultChecked=!!l.defaultChecked)}function Vs(s,l,f){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+s._wrapperState.initialValue,f||l===s.value||(s.value=l),s.defaultValue=l}f=s.name,f!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,f!==""&&(s.name=f)}function gf(s,l,f){(l!=="number"||xt(s.ownerDocument)!==s)&&(f==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+f&&(s.defaultValue=""+f))}var Hs=Array.isArray;function Oi(s,l,f,g){if(s=s.options,l){l={};for(var b=0;b<f.length;b++)l["$"+f[b]]=!0;for(f=0;f<s.length;f++)b=l.hasOwnProperty("$"+s[f].value),s[f].selected!==b&&(s[f].selected=b),b&&g&&(s[f].defaultSelected=!0)}else{for(f=""+Re(f),l=null,b=0;b<s.length;b++){if(s[b].value===f){s[b].selected=!0,g&&(s[b].defaultSelected=!0);return}l!==null||s[b].disabled||(l=s[b])}l!==null&&(l.selected=!0)}}function vf(s,l){if(l.dangerouslySetInnerHTML!=null)throw Error(r(91));return ae({},l,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function I0(s,l){var f=l.value;if(f==null){if(f=l.children,l=l.defaultValue,f!=null){if(l!=null)throw Error(r(92));if(Hs(f)){if(1<f.length)throw Error(r(93));f=f[0]}l=f}l==null&&(l=""),f=l}s._wrapperState={initialValue:Re(f)}}function D0(s,l){var f=Re(l.value),g=Re(l.defaultValue);f!=null&&(f=""+f,f!==s.value&&(s.value=f),l.defaultValue==null&&s.defaultValue!==f&&(s.defaultValue=f)),g!=null&&(s.defaultValue=""+g)}function M0(s){var l=s.textContent;l===s._wrapperState.initialValue&&l!==""&&l!==null&&(s.value=l)}function L0(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yf(s,l){return s==null||s==="http://www.w3.org/1999/xhtml"?L0(l):s==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Ll,$0=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,f,g,b){MSApp.execUnsafeLocalFunction(function(){return s(l,f,g,b)})}:s})(function(s,l){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=l;else{for(Ll=Ll||document.createElement("div"),Ll.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Ll.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;l.firstChild;)s.appendChild(l.firstChild)}});function Gs(s,l){if(l){var f=s.firstChild;if(f&&f===s.lastChild&&f.nodeType===3){f.nodeValue=l;return}}s.textContent=l}var Ys={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$C=["Webkit","ms","Moz","O"];Object.keys(Ys).forEach(function(s){$C.forEach(function(l){l=l+s.charAt(0).toUpperCase()+s.substring(1),Ys[l]=Ys[s]})});function B0(s,l,f){return l==null||typeof l=="boolean"||l===""?"":f||typeof l!="number"||l===0||Ys.hasOwnProperty(s)&&Ys[s]?(""+l).trim():l+"px"}function F0(s,l){s=s.style;for(var f in l)if(l.hasOwnProperty(f)){var g=f.indexOf("--")===0,b=B0(f,l[f],g);f==="float"&&(f="cssFloat"),g?s.setProperty(f,b):s[f]=b}}var BC=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xf(s,l){if(l){if(BC[s]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(r(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(r(61))}if(l.style!=null&&typeof l.style!="object")throw Error(r(62))}}function bf(s,l){if(s.indexOf("-")===-1)return typeof l.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wf=null;function jf(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var _f=null,Ai=null,Ci=null;function U0(s){if(s=yo(s)){if(typeof _f!="function")throw Error(r(280));var l=s.stateNode;l&&(l=sc(l),_f(s.stateNode,s.type,l))}}function z0(s){Ai?Ci?Ci.push(s):Ci=[s]:Ai=s}function q0(){if(Ai){var s=Ai,l=Ci;if(Ci=Ai=null,U0(s),l)for(s=0;s<l.length;s++)U0(l[s])}}function W0(s,l){return s(l)}function K0(){}var kf=!1;function V0(s,l,f){if(kf)return s(l,f);kf=!0;try{return W0(s,l,f)}finally{kf=!1,(Ai!==null||Ci!==null)&&(K0(),q0())}}function Xs(s,l){var f=s.stateNode;if(f===null)return null;var g=sc(f);if(g===null)return null;f=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(f&&typeof f!="function")throw Error(r(231,l,typeof f));return f}var Sf=!1;if(u)try{var Js={};Object.defineProperty(Js,"passive",{get:function(){Sf=!0}}),window.addEventListener("test",Js,Js),window.removeEventListener("test",Js,Js)}catch{Sf=!1}function FC(s,l,f,g,b,k,O,R,D){var q=Array.prototype.slice.call(arguments,3);try{l.apply(f,q)}catch(J){this.onError(J)}}var Qs=!1,$l=null,Bl=!1,Nf=null,UC={onError:function(s){Qs=!0,$l=s}};function zC(s,l,f,g,b,k,O,R,D){Qs=!1,$l=null,FC.apply(UC,arguments)}function qC(s,l,f,g,b,k,O,R,D){if(zC.apply(this,arguments),Qs){if(Qs){var q=$l;Qs=!1,$l=null}else throw Error(r(198));Bl||(Bl=!0,Nf=q)}}function Ua(s){var l=s,f=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(f=l.return),s=l.return;while(s)}return l.tag===3?f:null}function H0(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function G0(s){if(Ua(s)!==s)throw Error(r(188))}function WC(s){var l=s.alternate;if(!l){if(l=Ua(s),l===null)throw Error(r(188));return l!==s?null:s}for(var f=s,g=l;;){var b=f.return;if(b===null)break;var k=b.alternate;if(k===null){if(g=b.return,g!==null){f=g;continue}break}if(b.child===k.child){for(k=b.child;k;){if(k===f)return G0(b),s;if(k===g)return G0(b),l;k=k.sibling}throw Error(r(188))}if(f.return!==g.return)f=b,g=k;else{for(var O=!1,R=b.child;R;){if(R===f){O=!0,f=b,g=k;break}if(R===g){O=!0,g=b,f=k;break}R=R.sibling}if(!O){for(R=k.child;R;){if(R===f){O=!0,f=k,g=b;break}if(R===g){O=!0,g=k,f=b;break}R=R.sibling}if(!O)throw Error(r(189))}}if(f.alternate!==g)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?s:l}function Y0(s){return s=WC(s),s!==null?X0(s):null}function X0(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var l=X0(s);if(l!==null)return l;s=s.sibling}return null}var J0=t.unstable_scheduleCallback,Q0=t.unstable_cancelCallback,KC=t.unstable_shouldYield,VC=t.unstable_requestPaint,ut=t.unstable_now,HC=t.unstable_getCurrentPriorityLevel,Ef=t.unstable_ImmediatePriority,Z0=t.unstable_UserBlockingPriority,Fl=t.unstable_NormalPriority,GC=t.unstable_LowPriority,ex=t.unstable_IdlePriority,Ul=null,fn=null;function YC(s){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(Ul,s,void 0,(s.current.flags&128)===128)}catch{}}var Gr=Math.clz32?Math.clz32:QC,XC=Math.log,JC=Math.LN2;function QC(s){return s>>>=0,s===0?32:31-(XC(s)/JC|0)|0}var zl=64,ql=4194304;function Zs(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Wl(s,l){var f=s.pendingLanes;if(f===0)return 0;var g=0,b=s.suspendedLanes,k=s.pingedLanes,O=f&268435455;if(O!==0){var R=O&~b;R!==0?g=Zs(R):(k&=O,k!==0&&(g=Zs(k)))}else O=f&~b,O!==0?g=Zs(O):k!==0&&(g=Zs(k));if(g===0)return 0;if(l!==0&&l!==g&&(l&b)===0&&(b=g&-g,k=l&-l,b>=k||b===16&&(k&4194240)!==0))return l;if((g&4)!==0&&(g|=f&16),l=s.entangledLanes,l!==0)for(s=s.entanglements,l&=g;0<l;)f=31-Gr(l),b=1<<f,g|=s[f],l&=~b;return g}function ZC(s,l){switch(s){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function e2(s,l){for(var f=s.suspendedLanes,g=s.pingedLanes,b=s.expirationTimes,k=s.pendingLanes;0<k;){var O=31-Gr(k),R=1<<O,D=b[O];D===-1?((R&f)===0||(R&g)!==0)&&(b[O]=ZC(R,l)):D<=l&&(s.expiredLanes|=R),k&=~R}}function Pf(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function tx(){var s=zl;return zl<<=1,(zl&4194240)===0&&(zl=64),s}function Of(s){for(var l=[],f=0;31>f;f++)l.push(s);return l}function eo(s,l,f){s.pendingLanes|=l,l!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,l=31-Gr(l),s[l]=f}function t2(s,l){var f=s.pendingLanes&~l;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=l,s.mutableReadLanes&=l,s.entangledLanes&=l,l=s.entanglements;var g=s.eventTimes;for(s=s.expirationTimes;0<f;){var b=31-Gr(f),k=1<<b;l[b]=0,g[b]=-1,s[b]=-1,f&=~k}}function Af(s,l){var f=s.entangledLanes|=l;for(s=s.entanglements;f;){var g=31-Gr(f),b=1<<g;b&l|s[g]&l&&(s[g]|=l),f&=~b}}var Be=0;function rx(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var nx,Cf,ax,ix,sx,Tf=!1,Kl=[],aa=null,ia=null,sa=null,to=new Map,ro=new Map,oa=[],r2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ox(s,l){switch(s){case"focusin":case"focusout":aa=null;break;case"dragenter":case"dragleave":ia=null;break;case"mouseover":case"mouseout":sa=null;break;case"pointerover":case"pointerout":to.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":ro.delete(l.pointerId)}}function no(s,l,f,g,b,k){return s===null||s.nativeEvent!==k?(s={blockedOn:l,domEventName:f,eventSystemFlags:g,nativeEvent:k,targetContainers:[b]},l!==null&&(l=yo(l),l!==null&&Cf(l)),s):(s.eventSystemFlags|=g,l=s.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),s)}function n2(s,l,f,g,b){switch(l){case"focusin":return aa=no(aa,s,l,f,g,b),!0;case"dragenter":return ia=no(ia,s,l,f,g,b),!0;case"mouseover":return sa=no(sa,s,l,f,g,b),!0;case"pointerover":var k=b.pointerId;return to.set(k,no(to.get(k)||null,s,l,f,g,b)),!0;case"gotpointercapture":return k=b.pointerId,ro.set(k,no(ro.get(k)||null,s,l,f,g,b)),!0}return!1}function lx(s){var l=za(s.target);if(l!==null){var f=Ua(l);if(f!==null){if(l=f.tag,l===13){if(l=H0(f),l!==null){s.blockedOn=l,sx(s.priority,function(){ax(f)});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){s.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Vl(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var f=If(s.domEventName,s.eventSystemFlags,l[0],s.nativeEvent);if(f===null){f=s.nativeEvent;var g=new f.constructor(f.type,f);wf=g,f.target.dispatchEvent(g),wf=null}else return l=yo(f),l!==null&&Cf(l),s.blockedOn=f,!1;l.shift()}return!0}function cx(s,l,f){Vl(s)&&f.delete(l)}function a2(){Tf=!1,aa!==null&&Vl(aa)&&(aa=null),ia!==null&&Vl(ia)&&(ia=null),sa!==null&&Vl(sa)&&(sa=null),to.forEach(cx),ro.forEach(cx)}function ao(s,l){s.blockedOn===l&&(s.blockedOn=null,Tf||(Tf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,a2)))}function io(s){function l(b){return ao(b,s)}if(0<Kl.length){ao(Kl[0],s);for(var f=1;f<Kl.length;f++){var g=Kl[f];g.blockedOn===s&&(g.blockedOn=null)}}for(aa!==null&&ao(aa,s),ia!==null&&ao(ia,s),sa!==null&&ao(sa,s),to.forEach(l),ro.forEach(l),f=0;f<oa.length;f++)g=oa[f],g.blockedOn===s&&(g.blockedOn=null);for(;0<oa.length&&(f=oa[0],f.blockedOn===null);)lx(f),f.blockedOn===null&&oa.shift()}var Ti=C.ReactCurrentBatchConfig,Hl=!0;function i2(s,l,f,g){var b=Be,k=Ti.transition;Ti.transition=null;try{Be=1,Rf(s,l,f,g)}finally{Be=b,Ti.transition=k}}function s2(s,l,f,g){var b=Be,k=Ti.transition;Ti.transition=null;try{Be=4,Rf(s,l,f,g)}finally{Be=b,Ti.transition=k}}function Rf(s,l,f,g){if(Hl){var b=If(s,l,f,g);if(b===null)Jf(s,l,g,Gl,f),ox(s,g);else if(n2(b,s,l,f,g))g.stopPropagation();else if(ox(s,g),l&4&&-1<r2.indexOf(s)){for(;b!==null;){var k=yo(b);if(k!==null&&nx(k),k=If(s,l,f,g),k===null&&Jf(s,l,g,Gl,f),k===b)break;b=k}b!==null&&g.stopPropagation()}else Jf(s,l,g,null,f)}}var Gl=null;function If(s,l,f,g){if(Gl=null,s=jf(g),s=za(s),s!==null)if(l=Ua(s),l===null)s=null;else if(f=l.tag,f===13){if(s=H0(l),s!==null)return s;s=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null);return Gl=s,null}function ux(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(HC()){case Ef:return 1;case Z0:return 4;case Fl:case GC:return 16;case ex:return 536870912;default:return 16}default:return 16}}var la=null,Df=null,Yl=null;function dx(){if(Yl)return Yl;var s,l=Df,f=l.length,g,b="value"in la?la.value:la.textContent,k=b.length;for(s=0;s<f&&l[s]===b[s];s++);var O=f-s;for(g=1;g<=O&&l[f-g]===b[k-g];g++);return Yl=b.slice(s,1<g?1-g:void 0)}function Xl(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function Jl(){return!0}function fx(){return!1}function vr(s){function l(f,g,b,k,O){this._reactName=f,this._targetInst=b,this.type=g,this.nativeEvent=k,this.target=O,this.currentTarget=null;for(var R in s)s.hasOwnProperty(R)&&(f=s[R],this[R]=f?f(k):k[R]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Jl:fx,this.isPropagationStopped=fx,this}return ae(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Jl)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Jl)},persist:function(){},isPersistent:Jl}),l}var Ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mf=vr(Ri),so=ae({},Ri,{view:0,detail:0}),o2=vr(so),Lf,$f,oo,Ql=ae({},so,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ff,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==oo&&(oo&&s.type==="mousemove"?(Lf=s.screenX-oo.screenX,$f=s.screenY-oo.screenY):$f=Lf=0,oo=s),Lf)},movementY:function(s){return"movementY"in s?s.movementY:$f}}),hx=vr(Ql),l2=ae({},Ql,{dataTransfer:0}),c2=vr(l2),u2=ae({},so,{relatedTarget:0}),Bf=vr(u2),d2=ae({},Ri,{animationName:0,elapsedTime:0,pseudoElement:0}),f2=vr(d2),h2=ae({},Ri,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),p2=vr(h2),m2=ae({},Ri,{data:0}),px=vr(m2),g2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},v2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},y2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function x2(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=y2[s])?!!l[s]:!1}function Ff(){return x2}var b2=ae({},so,{key:function(s){if(s.key){var l=g2[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=Xl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?v2[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ff,charCode:function(s){return s.type==="keypress"?Xl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Xl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),w2=vr(b2),j2=ae({},Ql,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mx=vr(j2),_2=ae({},so,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ff}),k2=vr(_2),S2=ae({},Ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),N2=vr(S2),E2=ae({},Ql,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),P2=vr(E2),O2=[9,13,27,32],Uf=u&&"CompositionEvent"in window,lo=null;u&&"documentMode"in document&&(lo=document.documentMode);var A2=u&&"TextEvent"in window&&!lo,gx=u&&(!Uf||lo&&8<lo&&11>=lo),vx=" ",yx=!1;function xx(s,l){switch(s){case"keyup":return O2.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bx(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ii=!1;function C2(s,l){switch(s){case"compositionend":return bx(l);case"keypress":return l.which!==32?null:(yx=!0,vx);case"textInput":return s=l.data,s===vx&&yx?null:s;default:return null}}function T2(s,l){if(Ii)return s==="compositionend"||!Uf&&xx(s,l)?(s=dx(),Yl=Df=la=null,Ii=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return gx&&l.locale!=="ko"?null:l.data;default:return null}}var R2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wx(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!R2[s.type]:l==="textarea"}function jx(s,l,f,g){z0(g),l=nc(l,"onChange"),0<l.length&&(f=new Mf("onChange","change",null,f,g),s.push({event:f,listeners:l}))}var co=null,uo=null;function I2(s){Fx(s,0)}function Zl(s){var l=Bi(s);if(ee(l))return s}function D2(s,l){if(s==="change")return l}var _x=!1;if(u){var zf;if(u){var qf="oninput"in document;if(!qf){var kx=document.createElement("div");kx.setAttribute("oninput","return;"),qf=typeof kx.oninput=="function"}zf=qf}else zf=!1;_x=zf&&(!document.documentMode||9<document.documentMode)}function Sx(){co&&(co.detachEvent("onpropertychange",Nx),uo=co=null)}function Nx(s){if(s.propertyName==="value"&&Zl(uo)){var l=[];jx(l,uo,s,jf(s)),V0(I2,l)}}function M2(s,l,f){s==="focusin"?(Sx(),co=l,uo=f,co.attachEvent("onpropertychange",Nx)):s==="focusout"&&Sx()}function L2(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Zl(uo)}function $2(s,l){if(s==="click")return Zl(l)}function B2(s,l){if(s==="input"||s==="change")return Zl(l)}function F2(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var Yr=typeof Object.is=="function"?Object.is:F2;function fo(s,l){if(Yr(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var f=Object.keys(s),g=Object.keys(l);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var b=f[g];if(!d.call(l,b)||!Yr(s[b],l[b]))return!1}return!0}function Ex(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Px(s,l){var f=Ex(s);s=0;for(var g;f;){if(f.nodeType===3){if(g=s+f.textContent.length,s<=l&&g>=l)return{node:f,offset:l-s};s=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Ex(f)}}function Ox(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?Ox(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function Ax(){for(var s=window,l=xt();l instanceof s.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)s=l.contentWindow;else break;l=xt(s.document)}return l}function Wf(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}function U2(s){var l=Ax(),f=s.focusedElem,g=s.selectionRange;if(l!==f&&f&&f.ownerDocument&&Ox(f.ownerDocument.documentElement,f)){if(g!==null&&Wf(f)){if(l=g.start,s=g.end,s===void 0&&(s=l),"selectionStart"in f)f.selectionStart=l,f.selectionEnd=Math.min(s,f.value.length);else if(s=(l=f.ownerDocument||document)&&l.defaultView||window,s.getSelection){s=s.getSelection();var b=f.textContent.length,k=Math.min(g.start,b);g=g.end===void 0?k:Math.min(g.end,b),!s.extend&&k>g&&(b=g,g=k,k=b),b=Px(f,k);var O=Px(f,g);b&&O&&(s.rangeCount!==1||s.anchorNode!==b.node||s.anchorOffset!==b.offset||s.focusNode!==O.node||s.focusOffset!==O.offset)&&(l=l.createRange(),l.setStart(b.node,b.offset),s.removeAllRanges(),k>g?(s.addRange(l),s.extend(O.node,O.offset)):(l.setEnd(O.node,O.offset),s.addRange(l)))}}for(l=[],s=f;s=s.parentNode;)s.nodeType===1&&l.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<l.length;f++)s=l[f],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var z2=u&&"documentMode"in document&&11>=document.documentMode,Di=null,Kf=null,ho=null,Vf=!1;function Cx(s,l,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Vf||Di==null||Di!==xt(g)||(g=Di,"selectionStart"in g&&Wf(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),ho&&fo(ho,g)||(ho=g,g=nc(Kf,"onSelect"),0<g.length&&(l=new Mf("onSelect","select",null,l,f),s.push({event:l,listeners:g}),l.target=Di)))}function ec(s,l){var f={};return f[s.toLowerCase()]=l.toLowerCase(),f["Webkit"+s]="webkit"+l,f["Moz"+s]="moz"+l,f}var Mi={animationend:ec("Animation","AnimationEnd"),animationiteration:ec("Animation","AnimationIteration"),animationstart:ec("Animation","AnimationStart"),transitionend:ec("Transition","TransitionEnd")},Hf={},Tx={};u&&(Tx=document.createElement("div").style,"AnimationEvent"in window||(delete Mi.animationend.animation,delete Mi.animationiteration.animation,delete Mi.animationstart.animation),"TransitionEvent"in window||delete Mi.transitionend.transition);function tc(s){if(Hf[s])return Hf[s];if(!Mi[s])return s;var l=Mi[s],f;for(f in l)if(l.hasOwnProperty(f)&&f in Tx)return Hf[s]=l[f];return s}var Rx=tc("animationend"),Ix=tc("animationiteration"),Dx=tc("animationstart"),Mx=tc("transitionend"),Lx=new Map,$x="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ca(s,l){Lx.set(s,l),i(l,[s])}for(var Gf=0;Gf<$x.length;Gf++){var Yf=$x[Gf],q2=Yf.toLowerCase(),W2=Yf[0].toUpperCase()+Yf.slice(1);ca(q2,"on"+W2)}ca(Rx,"onAnimationEnd"),ca(Ix,"onAnimationIteration"),ca(Dx,"onAnimationStart"),ca("dblclick","onDoubleClick"),ca("focusin","onFocus"),ca("focusout","onBlur"),ca(Mx,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),K2=new Set("cancel close invalid load scroll toggle".split(" ").concat(po));function Bx(s,l,f){var g=s.type||"unknown-event";s.currentTarget=f,qC(g,l,void 0,s),s.currentTarget=null}function Fx(s,l){l=(l&4)!==0;for(var f=0;f<s.length;f++){var g=s[f],b=g.event;g=g.listeners;e:{var k=void 0;if(l)for(var O=g.length-1;0<=O;O--){var R=g[O],D=R.instance,q=R.currentTarget;if(R=R.listener,D!==k&&b.isPropagationStopped())break e;Bx(b,R,q),k=D}else for(O=0;O<g.length;O++){if(R=g[O],D=R.instance,q=R.currentTarget,R=R.listener,D!==k&&b.isPropagationStopped())break e;Bx(b,R,q),k=D}}}if(Bl)throw s=Nf,Bl=!1,Nf=null,s}function Ge(s,l){var f=l[nh];f===void 0&&(f=l[nh]=new Set);var g=s+"__bubble";f.has(g)||(Ux(l,s,2,!1),f.add(g))}function Xf(s,l,f){var g=0;l&&(g|=4),Ux(f,s,g,l)}var rc="_reactListening"+Math.random().toString(36).slice(2);function mo(s){if(!s[rc]){s[rc]=!0,n.forEach(function(f){f!=="selectionchange"&&(K2.has(f)||Xf(f,!1,s),Xf(f,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[rc]||(l[rc]=!0,Xf("selectionchange",!1,l))}}function Ux(s,l,f,g){switch(ux(l)){case 1:var b=i2;break;case 4:b=s2;break;default:b=Rf}f=b.bind(null,l,f,s),b=void 0,!Sf||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),g?b!==void 0?s.addEventListener(l,f,{capture:!0,passive:b}):s.addEventListener(l,f,!0):b!==void 0?s.addEventListener(l,f,{passive:b}):s.addEventListener(l,f,!1)}function Jf(s,l,f,g,b){var k=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var O=g.tag;if(O===3||O===4){var R=g.stateNode.containerInfo;if(R===b||R.nodeType===8&&R.parentNode===b)break;if(O===4)for(O=g.return;O!==null;){var D=O.tag;if((D===3||D===4)&&(D=O.stateNode.containerInfo,D===b||D.nodeType===8&&D.parentNode===b))return;O=O.return}for(;R!==null;){if(O=za(R),O===null)return;if(D=O.tag,D===5||D===6){g=k=O;continue e}R=R.parentNode}}g=g.return}V0(function(){var q=k,J=jf(f),Q=[];e:{var X=Lx.get(s);if(X!==void 0){var oe=Mf,de=s;switch(s){case"keypress":if(Xl(f)===0)break e;case"keydown":case"keyup":oe=w2;break;case"focusin":de="focus",oe=Bf;break;case"focusout":de="blur",oe=Bf;break;case"beforeblur":case"afterblur":oe=Bf;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=hx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=c2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=k2;break;case Rx:case Ix:case Dx:oe=f2;break;case Mx:oe=N2;break;case"scroll":oe=o2;break;case"wheel":oe=P2;break;case"copy":case"cut":case"paste":oe=p2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=mx}var pe=(l&4)!==0,dt=!pe&&s==="scroll",B=pe?X!==null?X+"Capture":null:X;pe=[];for(var L=q,U;L!==null;){U=L;var te=U.stateNode;if(U.tag===5&&te!==null&&(U=te,B!==null&&(te=Xs(L,B),te!=null&&pe.push(go(L,te,U)))),dt)break;L=L.return}0<pe.length&&(X=new oe(X,de,null,f,J),Q.push({event:X,listeners:pe}))}}if((l&7)===0){e:{if(X=s==="mouseover"||s==="pointerover",oe=s==="mouseout"||s==="pointerout",X&&f!==wf&&(de=f.relatedTarget||f.fromElement)&&(za(de)||de[Pn]))break e;if((oe||X)&&(X=J.window===J?J:(X=J.ownerDocument)?X.defaultView||X.parentWindow:window,oe?(de=f.relatedTarget||f.toElement,oe=q,de=de?za(de):null,de!==null&&(dt=Ua(de),de!==dt||de.tag!==5&&de.tag!==6)&&(de=null)):(oe=null,de=q),oe!==de)){if(pe=hx,te="onMouseLeave",B="onMouseEnter",L="mouse",(s==="pointerout"||s==="pointerover")&&(pe=mx,te="onPointerLeave",B="onPointerEnter",L="pointer"),dt=oe==null?X:Bi(oe),U=de==null?X:Bi(de),X=new pe(te,L+"leave",oe,f,J),X.target=dt,X.relatedTarget=U,te=null,za(J)===q&&(pe=new pe(B,L+"enter",de,f,J),pe.target=U,pe.relatedTarget=dt,te=pe),dt=te,oe&&de)t:{for(pe=oe,B=de,L=0,U=pe;U;U=Li(U))L++;for(U=0,te=B;te;te=Li(te))U++;for(;0<L-U;)pe=Li(pe),L--;for(;0<U-L;)B=Li(B),U--;for(;L--;){if(pe===B||B!==null&&pe===B.alternate)break t;pe=Li(pe),B=Li(B)}pe=null}else pe=null;oe!==null&&zx(Q,X,oe,pe,!1),de!==null&&dt!==null&&zx(Q,dt,de,pe,!0)}}e:{if(X=q?Bi(q):window,oe=X.nodeName&&X.nodeName.toLowerCase(),oe==="select"||oe==="input"&&X.type==="file")var me=D2;else if(wx(X))if(_x)me=B2;else{me=L2;var xe=M2}else(oe=X.nodeName)&&oe.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(me=$2);if(me&&(me=me(s,q))){jx(Q,me,f,J);break e}xe&&xe(s,X,q),s==="focusout"&&(xe=X._wrapperState)&&xe.controlled&&X.type==="number"&&gf(X,"number",X.value)}switch(xe=q?Bi(q):window,s){case"focusin":(wx(xe)||xe.contentEditable==="true")&&(Di=xe,Kf=q,ho=null);break;case"focusout":ho=Kf=Di=null;break;case"mousedown":Vf=!0;break;case"contextmenu":case"mouseup":case"dragend":Vf=!1,Cx(Q,f,J);break;case"selectionchange":if(z2)break;case"keydown":case"keyup":Cx(Q,f,J)}var be;if(Uf)e:{switch(s){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Ii?xx(s,f)&&(Se="onCompositionEnd"):s==="keydown"&&f.keyCode===229&&(Se="onCompositionStart");Se&&(gx&&f.locale!=="ko"&&(Ii||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Ii&&(be=dx()):(la=J,Df="value"in la?la.value:la.textContent,Ii=!0)),xe=nc(q,Se),0<xe.length&&(Se=new px(Se,s,null,f,J),Q.push({event:Se,listeners:xe}),be?Se.data=be:(be=bx(f),be!==null&&(Se.data=be)))),(be=A2?C2(s,f):T2(s,f))&&(q=nc(q,"onBeforeInput"),0<q.length&&(J=new px("onBeforeInput","beforeinput",null,f,J),Q.push({event:J,listeners:q}),J.data=be))}Fx(Q,l)})}function go(s,l,f){return{instance:s,listener:l,currentTarget:f}}function nc(s,l){for(var f=l+"Capture",g=[];s!==null;){var b=s,k=b.stateNode;b.tag===5&&k!==null&&(b=k,k=Xs(s,f),k!=null&&g.unshift(go(s,k,b)),k=Xs(s,l),k!=null&&g.push(go(s,k,b))),s=s.return}return g}function Li(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function zx(s,l,f,g,b){for(var k=l._reactName,O=[];f!==null&&f!==g;){var R=f,D=R.alternate,q=R.stateNode;if(D!==null&&D===g)break;R.tag===5&&q!==null&&(R=q,b?(D=Xs(f,k),D!=null&&O.unshift(go(f,D,R))):b||(D=Xs(f,k),D!=null&&O.push(go(f,D,R)))),f=f.return}O.length!==0&&s.push({event:l,listeners:O})}var V2=/\r\n?/g,H2=/\u0000|\uFFFD/g;function qx(s){return(typeof s=="string"?s:""+s).replace(V2,`
`).replace(H2,"")}function ac(s,l,f){if(l=qx(l),qx(s)!==l&&f)throw Error(r(425))}function ic(){}var Qf=null,Zf=null;function eh(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var th=typeof setTimeout=="function"?setTimeout:void 0,G2=typeof clearTimeout=="function"?clearTimeout:void 0,Wx=typeof Promise=="function"?Promise:void 0,Y2=typeof queueMicrotask=="function"?queueMicrotask:typeof Wx<"u"?function(s){return Wx.resolve(null).then(s).catch(X2)}:th;function X2(s){setTimeout(function(){throw s})}function rh(s,l){var f=l,g=0;do{var b=f.nextSibling;if(s.removeChild(f),b&&b.nodeType===8)if(f=b.data,f==="/$"){if(g===0){s.removeChild(b),io(l);return}g--}else f!=="$"&&f!=="$?"&&f!=="$!"||g++;f=b}while(f);io(l)}function ua(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return s}function Kx(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var f=s.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return s;l--}else f==="/$"&&l++}s=s.previousSibling}return null}var $i=Math.random().toString(36).slice(2),hn="__reactFiber$"+$i,vo="__reactProps$"+$i,Pn="__reactContainer$"+$i,nh="__reactEvents$"+$i,J2="__reactListeners$"+$i,Q2="__reactHandles$"+$i;function za(s){var l=s[hn];if(l)return l;for(var f=s.parentNode;f;){if(l=f[Pn]||f[hn]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(s=Kx(s);s!==null;){if(f=s[hn])return f;s=Kx(s)}return l}s=f,f=s.parentNode}return null}function yo(s){return s=s[hn]||s[Pn],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Bi(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function sc(s){return s[vo]||null}var ah=[],Fi=-1;function da(s){return{current:s}}function Ye(s){0>Fi||(s.current=ah[Fi],ah[Fi]=null,Fi--)}function Ke(s,l){Fi++,ah[Fi]=s.current,s.current=l}var fa={},zt=da(fa),ir=da(!1),qa=fa;function Ui(s,l){var f=s.type.contextTypes;if(!f)return fa;var g=s.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var b={},k;for(k in f)b[k]=l[k];return g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=l,s.__reactInternalMemoizedMaskedChildContext=b),b}function sr(s){return s=s.childContextTypes,s!=null}function oc(){Ye(ir),Ye(zt)}function Vx(s,l,f){if(zt.current!==fa)throw Error(r(168));Ke(zt,l),Ke(ir,f)}function Hx(s,l,f){var g=s.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return f;g=g.getChildContext();for(var b in g)if(!(b in l))throw Error(r(108,Le(s)||"Unknown",b));return ae({},f,g)}function lc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||fa,qa=zt.current,Ke(zt,s),Ke(ir,ir.current),!0}function Gx(s,l,f){var g=s.stateNode;if(!g)throw Error(r(169));f?(s=Hx(s,l,qa),g.__reactInternalMemoizedMergedChildContext=s,Ye(ir),Ye(zt),Ke(zt,s)):Ye(ir),Ke(ir,f)}var On=null,cc=!1,ih=!1;function Yx(s){On===null?On=[s]:On.push(s)}function Z2(s){cc=!0,Yx(s)}function ha(){if(!ih&&On!==null){ih=!0;var s=0,l=Be;try{var f=On;for(Be=1;s<f.length;s++){var g=f[s];do g=g(!0);while(g!==null)}On=null,cc=!1}catch(b){throw On!==null&&(On=On.slice(s+1)),J0(Ef,ha),b}finally{Be=l,ih=!1}}return null}var zi=[],qi=0,uc=null,dc=0,Tr=[],Rr=0,Wa=null,An=1,Cn="";function Ka(s,l){zi[qi++]=dc,zi[qi++]=uc,uc=s,dc=l}function Xx(s,l,f){Tr[Rr++]=An,Tr[Rr++]=Cn,Tr[Rr++]=Wa,Wa=s;var g=An;s=Cn;var b=32-Gr(g)-1;g&=~(1<<b),f+=1;var k=32-Gr(l)+b;if(30<k){var O=b-b%5;k=(g&(1<<O)-1).toString(32),g>>=O,b-=O,An=1<<32-Gr(l)+b|f<<b|g,Cn=k+s}else An=1<<k|f<<b|g,Cn=s}function sh(s){s.return!==null&&(Ka(s,1),Xx(s,1,0))}function oh(s){for(;s===uc;)uc=zi[--qi],zi[qi]=null,dc=zi[--qi],zi[qi]=null;for(;s===Wa;)Wa=Tr[--Rr],Tr[Rr]=null,Cn=Tr[--Rr],Tr[Rr]=null,An=Tr[--Rr],Tr[Rr]=null}var yr=null,xr=null,Qe=!1,Xr=null;function Jx(s,l){var f=Lr(5,null,null,0);f.elementType="DELETED",f.stateNode=l,f.return=s,l=s.deletions,l===null?(s.deletions=[f],s.flags|=16):l.push(f)}function Qx(s,l){switch(s.tag){case 5:var f=s.type;return l=l.nodeType!==1||f.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(s.stateNode=l,yr=s,xr=ua(l.firstChild),!0):!1;case 6:return l=s.pendingProps===""||l.nodeType!==3?null:l,l!==null?(s.stateNode=l,yr=s,xr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(f=Wa!==null?{id:An,overflow:Cn}:null,s.memoizedState={dehydrated:l,treeContext:f,retryLane:1073741824},f=Lr(18,null,null,0),f.stateNode=l,f.return=s,s.child=f,yr=s,xr=null,!0):!1;default:return!1}}function lh(s){return(s.mode&1)!==0&&(s.flags&128)===0}function ch(s){if(Qe){var l=xr;if(l){var f=l;if(!Qx(s,l)){if(lh(s))throw Error(r(418));l=ua(f.nextSibling);var g=yr;l&&Qx(s,l)?Jx(g,f):(s.flags=s.flags&-4097|2,Qe=!1,yr=s)}}else{if(lh(s))throw Error(r(418));s.flags=s.flags&-4097|2,Qe=!1,yr=s}}}function Zx(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;yr=s}function fc(s){if(s!==yr)return!1;if(!Qe)return Zx(s),Qe=!0,!1;var l;if((l=s.tag!==3)&&!(l=s.tag!==5)&&(l=s.type,l=l!=="head"&&l!=="body"&&!eh(s.type,s.memoizedProps)),l&&(l=xr)){if(lh(s))throw eb(),Error(r(418));for(;l;)Jx(s,l),l=ua(l.nextSibling)}if(Zx(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8){var f=s.data;if(f==="/$"){if(l===0){xr=ua(s.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++}s=s.nextSibling}xr=null}}else xr=yr?ua(s.stateNode.nextSibling):null;return!0}function eb(){for(var s=xr;s;)s=ua(s.nextSibling)}function Wi(){xr=yr=null,Qe=!1}function uh(s){Xr===null?Xr=[s]:Xr.push(s)}var eT=C.ReactCurrentBatchConfig;function xo(s,l,f){if(s=f.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(r(309));var g=f.stateNode}if(!g)throw Error(r(147,s));var b=g,k=""+s;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===k?l.ref:(l=function(O){var R=b.refs;O===null?delete R[k]:R[k]=O},l._stringRef=k,l)}if(typeof s!="string")throw Error(r(284));if(!f._owner)throw Error(r(290,s))}return s}function hc(s,l){throw s=Object.prototype.toString.call(l),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s))}function tb(s){var l=s._init;return l(s._payload)}function rb(s){function l(B,L){if(s){var U=B.deletions;U===null?(B.deletions=[L],B.flags|=16):U.push(L)}}function f(B,L){if(!s)return null;for(;L!==null;)l(B,L),L=L.sibling;return null}function g(B,L){for(B=new Map;L!==null;)L.key!==null?B.set(L.key,L):B.set(L.index,L),L=L.sibling;return B}function b(B,L){return B=wa(B,L),B.index=0,B.sibling=null,B}function k(B,L,U){return B.index=U,s?(U=B.alternate,U!==null?(U=U.index,U<L?(B.flags|=2,L):U):(B.flags|=2,L)):(B.flags|=1048576,L)}function O(B){return s&&B.alternate===null&&(B.flags|=2),B}function R(B,L,U,te){return L===null||L.tag!==6?(L=tp(U,B.mode,te),L.return=B,L):(L=b(L,U),L.return=B,L)}function D(B,L,U,te){var me=U.type;return me===T?J(B,L,U.props.children,te,U.key):L!==null&&(L.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===le&&tb(me)===L.type)?(te=b(L,U.props),te.ref=xo(B,L,U),te.return=B,te):(te=Lc(U.type,U.key,U.props,null,B.mode,te),te.ref=xo(B,L,U),te.return=B,te)}function q(B,L,U,te){return L===null||L.tag!==4||L.stateNode.containerInfo!==U.containerInfo||L.stateNode.implementation!==U.implementation?(L=rp(U,B.mode,te),L.return=B,L):(L=b(L,U.children||[]),L.return=B,L)}function J(B,L,U,te,me){return L===null||L.tag!==7?(L=Za(U,B.mode,te,me),L.return=B,L):(L=b(L,U),L.return=B,L)}function Q(B,L,U){if(typeof L=="string"&&L!==""||typeof L=="number")return L=tp(""+L,B.mode,U),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case P:return U=Lc(L.type,L.key,L.props,null,B.mode,U),U.ref=xo(B,null,L),U.return=B,U;case S:return L=rp(L,B.mode,U),L.return=B,L;case le:var te=L._init;return Q(B,te(L._payload),U)}if(Hs(L)||ie(L))return L=Za(L,B.mode,U,null),L.return=B,L;hc(B,L)}return null}function X(B,L,U,te){var me=L!==null?L.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return me!==null?null:R(B,L,""+U,te);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case P:return U.key===me?D(B,L,U,te):null;case S:return U.key===me?q(B,L,U,te):null;case le:return me=U._init,X(B,L,me(U._payload),te)}if(Hs(U)||ie(U))return me!==null?null:J(B,L,U,te,null);hc(B,U)}return null}function oe(B,L,U,te,me){if(typeof te=="string"&&te!==""||typeof te=="number")return B=B.get(U)||null,R(L,B,""+te,me);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case P:return B=B.get(te.key===null?U:te.key)||null,D(L,B,te,me);case S:return B=B.get(te.key===null?U:te.key)||null,q(L,B,te,me);case le:var xe=te._init;return oe(B,L,U,xe(te._payload),me)}if(Hs(te)||ie(te))return B=B.get(U)||null,J(L,B,te,me,null);hc(L,te)}return null}function de(B,L,U,te){for(var me=null,xe=null,be=L,Se=L=0,Ct=null;be!==null&&Se<U.length;Se++){be.index>Se?(Ct=be,be=null):Ct=be.sibling;var De=X(B,be,U[Se],te);if(De===null){be===null&&(be=Ct);break}s&&be&&De.alternate===null&&l(B,be),L=k(De,L,Se),xe===null?me=De:xe.sibling=De,xe=De,be=Ct}if(Se===U.length)return f(B,be),Qe&&Ka(B,Se),me;if(be===null){for(;Se<U.length;Se++)be=Q(B,U[Se],te),be!==null&&(L=k(be,L,Se),xe===null?me=be:xe.sibling=be,xe=be);return Qe&&Ka(B,Se),me}for(be=g(B,be);Se<U.length;Se++)Ct=oe(be,B,Se,U[Se],te),Ct!==null&&(s&&Ct.alternate!==null&&be.delete(Ct.key===null?Se:Ct.key),L=k(Ct,L,Se),xe===null?me=Ct:xe.sibling=Ct,xe=Ct);return s&&be.forEach(function(ja){return l(B,ja)}),Qe&&Ka(B,Se),me}function pe(B,L,U,te){var me=ie(U);if(typeof me!="function")throw Error(r(150));if(U=me.call(U),U==null)throw Error(r(151));for(var xe=me=null,be=L,Se=L=0,Ct=null,De=U.next();be!==null&&!De.done;Se++,De=U.next()){be.index>Se?(Ct=be,be=null):Ct=be.sibling;var ja=X(B,be,De.value,te);if(ja===null){be===null&&(be=Ct);break}s&&be&&ja.alternate===null&&l(B,be),L=k(ja,L,Se),xe===null?me=ja:xe.sibling=ja,xe=ja,be=Ct}if(De.done)return f(B,be),Qe&&Ka(B,Se),me;if(be===null){for(;!De.done;Se++,De=U.next())De=Q(B,De.value,te),De!==null&&(L=k(De,L,Se),xe===null?me=De:xe.sibling=De,xe=De);return Qe&&Ka(B,Se),me}for(be=g(B,be);!De.done;Se++,De=U.next())De=oe(be,B,Se,De.value,te),De!==null&&(s&&De.alternate!==null&&be.delete(De.key===null?Se:De.key),L=k(De,L,Se),xe===null?me=De:xe.sibling=De,xe=De);return s&&be.forEach(function(RT){return l(B,RT)}),Qe&&Ka(B,Se),me}function dt(B,L,U,te){if(typeof U=="object"&&U!==null&&U.type===T&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case P:e:{for(var me=U.key,xe=L;xe!==null;){if(xe.key===me){if(me=U.type,me===T){if(xe.tag===7){f(B,xe.sibling),L=b(xe,U.props.children),L.return=B,B=L;break e}}else if(xe.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===le&&tb(me)===xe.type){f(B,xe.sibling),L=b(xe,U.props),L.ref=xo(B,xe,U),L.return=B,B=L;break e}f(B,xe);break}else l(B,xe);xe=xe.sibling}U.type===T?(L=Za(U.props.children,B.mode,te,U.key),L.return=B,B=L):(te=Lc(U.type,U.key,U.props,null,B.mode,te),te.ref=xo(B,L,U),te.return=B,B=te)}return O(B);case S:e:{for(xe=U.key;L!==null;){if(L.key===xe)if(L.tag===4&&L.stateNode.containerInfo===U.containerInfo&&L.stateNode.implementation===U.implementation){f(B,L.sibling),L=b(L,U.children||[]),L.return=B,B=L;break e}else{f(B,L);break}else l(B,L);L=L.sibling}L=rp(U,B.mode,te),L.return=B,B=L}return O(B);case le:return xe=U._init,dt(B,L,xe(U._payload),te)}if(Hs(U))return de(B,L,U,te);if(ie(U))return pe(B,L,U,te);hc(B,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,L!==null&&L.tag===6?(f(B,L.sibling),L=b(L,U),L.return=B,B=L):(f(B,L),L=tp(U,B.mode,te),L.return=B,B=L),O(B)):f(B,L)}return dt}var Ki=rb(!0),nb=rb(!1),pc=da(null),mc=null,Vi=null,dh=null;function fh(){dh=Vi=mc=null}function hh(s){var l=pc.current;Ye(pc),s._currentValue=l}function ph(s,l,f){for(;s!==null;){var g=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),s===f)break;s=s.return}}function Hi(s,l){mc=s,dh=Vi=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&l)!==0&&(or=!0),s.firstContext=null)}function Ir(s){var l=s._currentValue;if(dh!==s)if(s={context:s,memoizedValue:l,next:null},Vi===null){if(mc===null)throw Error(r(308));Vi=s,mc.dependencies={lanes:0,firstContext:s}}else Vi=Vi.next=s;return l}var Va=null;function mh(s){Va===null?Va=[s]:Va.push(s)}function ab(s,l,f,g){var b=l.interleaved;return b===null?(f.next=f,mh(l)):(f.next=b.next,b.next=f),l.interleaved=f,Tn(s,g)}function Tn(s,l){s.lanes|=l;var f=s.alternate;for(f!==null&&(f.lanes|=l),f=s,s=s.return;s!==null;)s.childLanes|=l,f=s.alternate,f!==null&&(f.childLanes|=l),f=s,s=s.return;return f.tag===3?f.stateNode:null}var pa=!1;function gh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ib(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Rn(s,l){return{eventTime:s,lane:l,tag:0,payload:null,callback:null,next:null}}function ma(s,l,f){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(Ie&2)!==0){var b=g.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),g.pending=l,Tn(s,f)}return b=g.interleaved,b===null?(l.next=l,mh(g)):(l.next=b.next,b.next=l),g.interleaved=l,Tn(s,f)}function gc(s,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194240)!==0)){var g=l.lanes;g&=s.pendingLanes,f|=g,l.lanes=f,Af(s,f)}}function sb(s,l){var f=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var b=null,k=null;if(f=f.firstBaseUpdate,f!==null){do{var O={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};k===null?b=k=O:k=k.next=O,f=f.next}while(f!==null);k===null?b=k=l:k=k.next=l}else b=k=l;f={baseState:g.baseState,firstBaseUpdate:b,lastBaseUpdate:k,shared:g.shared,effects:g.effects},s.updateQueue=f;return}s=f.lastBaseUpdate,s===null?f.firstBaseUpdate=l:s.next=l,f.lastBaseUpdate=l}function vc(s,l,f,g){var b=s.updateQueue;pa=!1;var k=b.firstBaseUpdate,O=b.lastBaseUpdate,R=b.shared.pending;if(R!==null){b.shared.pending=null;var D=R,q=D.next;D.next=null,O===null?k=q:O.next=q,O=D;var J=s.alternate;J!==null&&(J=J.updateQueue,R=J.lastBaseUpdate,R!==O&&(R===null?J.firstBaseUpdate=q:R.next=q,J.lastBaseUpdate=D))}if(k!==null){var Q=b.baseState;O=0,J=q=D=null,R=k;do{var X=R.lane,oe=R.eventTime;if((g&X)===X){J!==null&&(J=J.next={eventTime:oe,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var de=s,pe=R;switch(X=l,oe=f,pe.tag){case 1:if(de=pe.payload,typeof de=="function"){Q=de.call(oe,Q,X);break e}Q=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=pe.payload,X=typeof de=="function"?de.call(oe,Q,X):de,X==null)break e;Q=ae({},Q,X);break e;case 2:pa=!0}}R.callback!==null&&R.lane!==0&&(s.flags|=64,X=b.effects,X===null?b.effects=[R]:X.push(R))}else oe={eventTime:oe,lane:X,tag:R.tag,payload:R.payload,callback:R.callback,next:null},J===null?(q=J=oe,D=Q):J=J.next=oe,O|=X;if(R=R.next,R===null){if(R=b.shared.pending,R===null)break;X=R,R=X.next,X.next=null,b.lastBaseUpdate=X,b.shared.pending=null}}while(!0);if(J===null&&(D=Q),b.baseState=D,b.firstBaseUpdate=q,b.lastBaseUpdate=J,l=b.shared.interleaved,l!==null){b=l;do O|=b.lane,b=b.next;while(b!==l)}else k===null&&(b.shared.lanes=0);Ya|=O,s.lanes=O,s.memoizedState=Q}}function ob(s,l,f){if(s=l.effects,l.effects=null,s!==null)for(l=0;l<s.length;l++){var g=s[l],b=g.callback;if(b!==null){if(g.callback=null,g=f,typeof b!="function")throw Error(r(191,b));b.call(g)}}}var bo={},pn=da(bo),wo=da(bo),jo=da(bo);function Ha(s){if(s===bo)throw Error(r(174));return s}function vh(s,l){switch(Ke(jo,l),Ke(wo,s),Ke(pn,bo),s=l.nodeType,s){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:yf(null,"");break;default:s=s===8?l.parentNode:l,l=s.namespaceURI||null,s=s.tagName,l=yf(l,s)}Ye(pn),Ke(pn,l)}function Gi(){Ye(pn),Ye(wo),Ye(jo)}function lb(s){Ha(jo.current);var l=Ha(pn.current),f=yf(l,s.type);l!==f&&(Ke(wo,s),Ke(pn,f))}function yh(s){wo.current===s&&(Ye(pn),Ye(wo))}var at=da(0);function yc(s){for(var l=s;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var xh=[];function bh(){for(var s=0;s<xh.length;s++)xh[s]._workInProgressVersionPrimary=null;xh.length=0}var xc=C.ReactCurrentDispatcher,wh=C.ReactCurrentBatchConfig,Ga=0,it=null,bt=null,Ot=null,bc=!1,_o=!1,ko=0,tT=0;function qt(){throw Error(r(321))}function jh(s,l){if(l===null)return!1;for(var f=0;f<l.length&&f<s.length;f++)if(!Yr(s[f],l[f]))return!1;return!0}function _h(s,l,f,g,b,k){if(Ga=k,it=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,xc.current=s===null||s.memoizedState===null?iT:sT,s=f(g,b),_o){k=0;do{if(_o=!1,ko=0,25<=k)throw Error(r(301));k+=1,Ot=bt=null,l.updateQueue=null,xc.current=oT,s=f(g,b)}while(_o)}if(xc.current=_c,l=bt!==null&&bt.next!==null,Ga=0,Ot=bt=it=null,bc=!1,l)throw Error(r(300));return s}function kh(){var s=ko!==0;return ko=0,s}function mn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?it.memoizedState=Ot=s:Ot=Ot.next=s,Ot}function Dr(){if(bt===null){var s=it.alternate;s=s!==null?s.memoizedState:null}else s=bt.next;var l=Ot===null?it.memoizedState:Ot.next;if(l!==null)Ot=l,bt=s;else{if(s===null)throw Error(r(310));bt=s,s={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Ot===null?it.memoizedState=Ot=s:Ot=Ot.next=s}return Ot}function So(s,l){return typeof l=="function"?l(s):l}function Sh(s){var l=Dr(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=s;var g=bt,b=g.baseQueue,k=f.pending;if(k!==null){if(b!==null){var O=b.next;b.next=k.next,k.next=O}g.baseQueue=b=k,f.pending=null}if(b!==null){k=b.next,g=g.baseState;var R=O=null,D=null,q=k;do{var J=q.lane;if((Ga&J)===J)D!==null&&(D=D.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),g=q.hasEagerState?q.eagerState:s(g,q.action);else{var Q={lane:J,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};D===null?(R=D=Q,O=g):D=D.next=Q,it.lanes|=J,Ya|=J}q=q.next}while(q!==null&&q!==k);D===null?O=g:D.next=R,Yr(g,l.memoizedState)||(or=!0),l.memoizedState=g,l.baseState=O,l.baseQueue=D,f.lastRenderedState=g}if(s=f.interleaved,s!==null){b=s;do k=b.lane,it.lanes|=k,Ya|=k,b=b.next;while(b!==s)}else b===null&&(f.lanes=0);return[l.memoizedState,f.dispatch]}function Nh(s){var l=Dr(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=s;var g=f.dispatch,b=f.pending,k=l.memoizedState;if(b!==null){f.pending=null;var O=b=b.next;do k=s(k,O.action),O=O.next;while(O!==b);Yr(k,l.memoizedState)||(or=!0),l.memoizedState=k,l.baseQueue===null&&(l.baseState=k),f.lastRenderedState=k}return[k,g]}function cb(){}function ub(s,l){var f=it,g=Dr(),b=l(),k=!Yr(g.memoizedState,b);if(k&&(g.memoizedState=b,or=!0),g=g.queue,Eh(hb.bind(null,f,g,s),[s]),g.getSnapshot!==l||k||Ot!==null&&Ot.memoizedState.tag&1){if(f.flags|=2048,No(9,fb.bind(null,f,g,b,l),void 0,null),At===null)throw Error(r(349));(Ga&30)!==0||db(f,l,b)}return b}function db(s,l,f){s.flags|=16384,s={getSnapshot:l,value:f},l=it.updateQueue,l===null?(l={lastEffect:null,stores:null},it.updateQueue=l,l.stores=[s]):(f=l.stores,f===null?l.stores=[s]:f.push(s))}function fb(s,l,f,g){l.value=f,l.getSnapshot=g,pb(l)&&mb(s)}function hb(s,l,f){return f(function(){pb(l)&&mb(s)})}function pb(s){var l=s.getSnapshot;s=s.value;try{var f=l();return!Yr(s,f)}catch{return!0}}function mb(s){var l=Tn(s,1);l!==null&&en(l,s,1,-1)}function gb(s){var l=mn();return typeof s=="function"&&(s=s()),l.memoizedState=l.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:So,lastRenderedState:s},l.queue=s,s=s.dispatch=aT.bind(null,it,s),[l.memoizedState,s]}function No(s,l,f,g){return s={tag:s,create:l,destroy:f,deps:g,next:null},l=it.updateQueue,l===null?(l={lastEffect:null,stores:null},it.updateQueue=l,l.lastEffect=s.next=s):(f=l.lastEffect,f===null?l.lastEffect=s.next=s:(g=f.next,f.next=s,s.next=g,l.lastEffect=s)),s}function vb(){return Dr().memoizedState}function wc(s,l,f,g){var b=mn();it.flags|=s,b.memoizedState=No(1|l,f,void 0,g===void 0?null:g)}function jc(s,l,f,g){var b=Dr();g=g===void 0?null:g;var k=void 0;if(bt!==null){var O=bt.memoizedState;if(k=O.destroy,g!==null&&jh(g,O.deps)){b.memoizedState=No(l,f,k,g);return}}it.flags|=s,b.memoizedState=No(1|l,f,k,g)}function yb(s,l){return wc(8390656,8,s,l)}function Eh(s,l){return jc(2048,8,s,l)}function xb(s,l){return jc(4,2,s,l)}function bb(s,l){return jc(4,4,s,l)}function wb(s,l){if(typeof l=="function")return s=s(),l(s),function(){l(null)};if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function jb(s,l,f){return f=f!=null?f.concat([s]):null,jc(4,4,wb.bind(null,l,s),f)}function Ph(){}function _b(s,l){var f=Dr();l=l===void 0?null:l;var g=f.memoizedState;return g!==null&&l!==null&&jh(l,g[1])?g[0]:(f.memoizedState=[s,l],s)}function kb(s,l){var f=Dr();l=l===void 0?null:l;var g=f.memoizedState;return g!==null&&l!==null&&jh(l,g[1])?g[0]:(s=s(),f.memoizedState=[s,l],s)}function Sb(s,l,f){return(Ga&21)===0?(s.baseState&&(s.baseState=!1,or=!0),s.memoizedState=f):(Yr(f,l)||(f=tx(),it.lanes|=f,Ya|=f,s.baseState=!0),l)}function rT(s,l){var f=Be;Be=f!==0&&4>f?f:4,s(!0);var g=wh.transition;wh.transition={};try{s(!1),l()}finally{Be=f,wh.transition=g}}function Nb(){return Dr().memoizedState}function nT(s,l,f){var g=xa(s);if(f={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null},Eb(s))Pb(l,f);else if(f=ab(s,l,f,g),f!==null){var b=Zt();en(f,s,g,b),Ob(f,l,g)}}function aT(s,l,f){var g=xa(s),b={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null};if(Eb(s))Pb(l,b);else{var k=s.alternate;if(s.lanes===0&&(k===null||k.lanes===0)&&(k=l.lastRenderedReducer,k!==null))try{var O=l.lastRenderedState,R=k(O,f);if(b.hasEagerState=!0,b.eagerState=R,Yr(R,O)){var D=l.interleaved;D===null?(b.next=b,mh(l)):(b.next=D.next,D.next=b),l.interleaved=b;return}}catch{}finally{}f=ab(s,l,b,g),f!==null&&(b=Zt(),en(f,s,g,b),Ob(f,l,g))}}function Eb(s){var l=s.alternate;return s===it||l!==null&&l===it}function Pb(s,l){_o=bc=!0;var f=s.pending;f===null?l.next=l:(l.next=f.next,f.next=l),s.pending=l}function Ob(s,l,f){if((f&4194240)!==0){var g=l.lanes;g&=s.pendingLanes,f|=g,l.lanes=f,Af(s,f)}}var _c={readContext:Ir,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},iT={readContext:Ir,useCallback:function(s,l){return mn().memoizedState=[s,l===void 0?null:l],s},useContext:Ir,useEffect:yb,useImperativeHandle:function(s,l,f){return f=f!=null?f.concat([s]):null,wc(4194308,4,wb.bind(null,l,s),f)},useLayoutEffect:function(s,l){return wc(4194308,4,s,l)},useInsertionEffect:function(s,l){return wc(4,2,s,l)},useMemo:function(s,l){var f=mn();return l=l===void 0?null:l,s=s(),f.memoizedState=[s,l],s},useReducer:function(s,l,f){var g=mn();return l=f!==void 0?f(l):l,g.memoizedState=g.baseState=l,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:l},g.queue=s,s=s.dispatch=nT.bind(null,it,s),[g.memoizedState,s]},useRef:function(s){var l=mn();return s={current:s},l.memoizedState=s},useState:gb,useDebugValue:Ph,useDeferredValue:function(s){return mn().memoizedState=s},useTransition:function(){var s=gb(!1),l=s[0];return s=rT.bind(null,s[1]),mn().memoizedState=s,[l,s]},useMutableSource:function(){},useSyncExternalStore:function(s,l,f){var g=it,b=mn();if(Qe){if(f===void 0)throw Error(r(407));f=f()}else{if(f=l(),At===null)throw Error(r(349));(Ga&30)!==0||db(g,l,f)}b.memoizedState=f;var k={value:f,getSnapshot:l};return b.queue=k,yb(hb.bind(null,g,k,s),[s]),g.flags|=2048,No(9,fb.bind(null,g,k,f,l),void 0,null),f},useId:function(){var s=mn(),l=At.identifierPrefix;if(Qe){var f=Cn,g=An;f=(g&~(1<<32-Gr(g)-1)).toString(32)+f,l=":"+l+"R"+f,f=ko++,0<f&&(l+="H"+f.toString(32)),l+=":"}else f=tT++,l=":"+l+"r"+f.toString(32)+":";return s.memoizedState=l},unstable_isNewReconciler:!1},sT={readContext:Ir,useCallback:_b,useContext:Ir,useEffect:Eh,useImperativeHandle:jb,useInsertionEffect:xb,useLayoutEffect:bb,useMemo:kb,useReducer:Sh,useRef:vb,useState:function(){return Sh(So)},useDebugValue:Ph,useDeferredValue:function(s){var l=Dr();return Sb(l,bt.memoizedState,s)},useTransition:function(){var s=Sh(So)[0],l=Dr().memoizedState;return[s,l]},useMutableSource:cb,useSyncExternalStore:ub,useId:Nb,unstable_isNewReconciler:!1},oT={readContext:Ir,useCallback:_b,useContext:Ir,useEffect:Eh,useImperativeHandle:jb,useInsertionEffect:xb,useLayoutEffect:bb,useMemo:kb,useReducer:Nh,useRef:vb,useState:function(){return Nh(So)},useDebugValue:Ph,useDeferredValue:function(s){var l=Dr();return bt===null?l.memoizedState=s:Sb(l,bt.memoizedState,s)},useTransition:function(){var s=Nh(So)[0],l=Dr().memoizedState;return[s,l]},useMutableSource:cb,useSyncExternalStore:ub,useId:Nb,unstable_isNewReconciler:!1};function Jr(s,l){if(s&&s.defaultProps){l=ae({},l),s=s.defaultProps;for(var f in s)l[f]===void 0&&(l[f]=s[f]);return l}return l}function Oh(s,l,f,g){l=s.memoizedState,f=f(g,l),f=f==null?l:ae({},l,f),s.memoizedState=f,s.lanes===0&&(s.updateQueue.baseState=f)}var kc={isMounted:function(s){return(s=s._reactInternals)?Ua(s)===s:!1},enqueueSetState:function(s,l,f){s=s._reactInternals;var g=Zt(),b=xa(s),k=Rn(g,b);k.payload=l,f!=null&&(k.callback=f),l=ma(s,k,b),l!==null&&(en(l,s,b,g),gc(l,s,b))},enqueueReplaceState:function(s,l,f){s=s._reactInternals;var g=Zt(),b=xa(s),k=Rn(g,b);k.tag=1,k.payload=l,f!=null&&(k.callback=f),l=ma(s,k,b),l!==null&&(en(l,s,b,g),gc(l,s,b))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var f=Zt(),g=xa(s),b=Rn(f,g);b.tag=2,l!=null&&(b.callback=l),l=ma(s,b,g),l!==null&&(en(l,s,g,f),gc(l,s,g))}};function Ab(s,l,f,g,b,k,O){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,k,O):l.prototype&&l.prototype.isPureReactComponent?!fo(f,g)||!fo(b,k):!0}function Cb(s,l,f){var g=!1,b=fa,k=l.contextType;return typeof k=="object"&&k!==null?k=Ir(k):(b=sr(l)?qa:zt.current,g=l.contextTypes,k=(g=g!=null)?Ui(s,b):fa),l=new l(f,k),s.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=kc,s.stateNode=l,l._reactInternals=s,g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=b,s.__reactInternalMemoizedMaskedChildContext=k),l}function Tb(s,l,f,g){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,g),l.state!==s&&kc.enqueueReplaceState(l,l.state,null)}function Ah(s,l,f,g){var b=s.stateNode;b.props=f,b.state=s.memoizedState,b.refs={},gh(s);var k=l.contextType;typeof k=="object"&&k!==null?b.context=Ir(k):(k=sr(l)?qa:zt.current,b.context=Ui(s,k)),b.state=s.memoizedState,k=l.getDerivedStateFromProps,typeof k=="function"&&(Oh(s,l,k,f),b.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(l=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),l!==b.state&&kc.enqueueReplaceState(b,b.state,null),vc(s,f,b,g),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308)}function Yi(s,l){try{var f="",g=l;do f+=je(g),g=g.return;while(g);var b=f}catch(k){b=`
Error generating stack: `+k.message+`
`+k.stack}return{value:s,source:l,stack:b,digest:null}}function Ch(s,l,f){return{value:s,source:null,stack:f??null,digest:l??null}}function Th(s,l){try{console.error(l.value)}catch(f){setTimeout(function(){throw f})}}var lT=typeof WeakMap=="function"?WeakMap:Map;function Rb(s,l,f){f=Rn(-1,f),f.tag=3,f.payload={element:null};var g=l.value;return f.callback=function(){Cc||(Cc=!0,Hh=g),Th(s,l)},f}function Ib(s,l,f){f=Rn(-1,f),f.tag=3;var g=s.type.getDerivedStateFromError;if(typeof g=="function"){var b=l.value;f.payload=function(){return g(b)},f.callback=function(){Th(s,l)}}var k=s.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(f.callback=function(){Th(s,l),typeof g!="function"&&(va===null?va=new Set([this]):va.add(this));var O=l.stack;this.componentDidCatch(l.value,{componentStack:O!==null?O:""})}),f}function Db(s,l,f){var g=s.pingCache;if(g===null){g=s.pingCache=new lT;var b=new Set;g.set(l,b)}else b=g.get(l),b===void 0&&(b=new Set,g.set(l,b));b.has(f)||(b.add(f),s=jT.bind(null,s,l,f),l.then(s,s))}function Mb(s){do{var l;if((l=s.tag===13)&&(l=s.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return s;s=s.return}while(s!==null);return null}function Lb(s,l,f,g,b){return(s.mode&1)===0?(s===l?s.flags|=65536:(s.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(l=Rn(-1,1),l.tag=2,ma(f,l,1))),f.lanes|=1),s):(s.flags|=65536,s.lanes=b,s)}var cT=C.ReactCurrentOwner,or=!1;function Qt(s,l,f,g){l.child=s===null?nb(l,null,f,g):Ki(l,s.child,f,g)}function $b(s,l,f,g,b){f=f.render;var k=l.ref;return Hi(l,b),g=_h(s,l,f,g,k,b),f=kh(),s!==null&&!or?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~b,In(s,l,b)):(Qe&&f&&sh(l),l.flags|=1,Qt(s,l,g,b),l.child)}function Bb(s,l,f,g,b){if(s===null){var k=f.type;return typeof k=="function"&&!ep(k)&&k.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(l.tag=15,l.type=k,Fb(s,l,k,g,b)):(s=Lc(f.type,null,g,l,l.mode,b),s.ref=l.ref,s.return=l,l.child=s)}if(k=s.child,(s.lanes&b)===0){var O=k.memoizedProps;if(f=f.compare,f=f!==null?f:fo,f(O,g)&&s.ref===l.ref)return In(s,l,b)}return l.flags|=1,s=wa(k,g),s.ref=l.ref,s.return=l,l.child=s}function Fb(s,l,f,g,b){if(s!==null){var k=s.memoizedProps;if(fo(k,g)&&s.ref===l.ref)if(or=!1,l.pendingProps=g=k,(s.lanes&b)!==0)(s.flags&131072)!==0&&(or=!0);else return l.lanes=s.lanes,In(s,l,b)}return Rh(s,l,f,g,b)}function Ub(s,l,f){var g=l.pendingProps,b=g.children,k=s!==null?s.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(Ji,br),br|=f;else{if((f&1073741824)===0)return s=k!==null?k.baseLanes|f:f,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:s,cachePool:null,transitions:null},l.updateQueue=null,Ke(Ji,br),br|=s,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=k!==null?k.baseLanes:f,Ke(Ji,br),br|=g}else k!==null?(g=k.baseLanes|f,l.memoizedState=null):g=f,Ke(Ji,br),br|=g;return Qt(s,l,b,f),l.child}function zb(s,l){var f=l.ref;(s===null&&f!==null||s!==null&&s.ref!==f)&&(l.flags|=512,l.flags|=2097152)}function Rh(s,l,f,g,b){var k=sr(f)?qa:zt.current;return k=Ui(l,k),Hi(l,b),f=_h(s,l,f,g,k,b),g=kh(),s!==null&&!or?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~b,In(s,l,b)):(Qe&&g&&sh(l),l.flags|=1,Qt(s,l,f,b),l.child)}function qb(s,l,f,g,b){if(sr(f)){var k=!0;lc(l)}else k=!1;if(Hi(l,b),l.stateNode===null)Nc(s,l),Cb(l,f,g),Ah(l,f,g,b),g=!0;else if(s===null){var O=l.stateNode,R=l.memoizedProps;O.props=R;var D=O.context,q=f.contextType;typeof q=="object"&&q!==null?q=Ir(q):(q=sr(f)?qa:zt.current,q=Ui(l,q));var J=f.getDerivedStateFromProps,Q=typeof J=="function"||typeof O.getSnapshotBeforeUpdate=="function";Q||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(R!==g||D!==q)&&Tb(l,O,g,q),pa=!1;var X=l.memoizedState;O.state=X,vc(l,g,O,b),D=l.memoizedState,R!==g||X!==D||ir.current||pa?(typeof J=="function"&&(Oh(l,f,J,g),D=l.memoizedState),(R=pa||Ab(l,f,R,g,X,D,q))?(Q||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(l.flags|=4194308)):(typeof O.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=D),O.props=g,O.state=D,O.context=q,g=R):(typeof O.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{O=l.stateNode,ib(s,l),R=l.memoizedProps,q=l.type===l.elementType?R:Jr(l.type,R),O.props=q,Q=l.pendingProps,X=O.context,D=f.contextType,typeof D=="object"&&D!==null?D=Ir(D):(D=sr(f)?qa:zt.current,D=Ui(l,D));var oe=f.getDerivedStateFromProps;(J=typeof oe=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(R!==Q||X!==D)&&Tb(l,O,g,D),pa=!1,X=l.memoizedState,O.state=X,vc(l,g,O,b);var de=l.memoizedState;R!==Q||X!==de||ir.current||pa?(typeof oe=="function"&&(Oh(l,f,oe,g),de=l.memoizedState),(q=pa||Ab(l,f,q,g,X,de,D)||!1)?(J||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(g,de,D),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(g,de,D)),typeof O.componentDidUpdate=="function"&&(l.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof O.componentDidUpdate!="function"||R===s.memoizedProps&&X===s.memoizedState||(l.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||R===s.memoizedProps&&X===s.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=de),O.props=g,O.state=de,O.context=D,g=q):(typeof O.componentDidUpdate!="function"||R===s.memoizedProps&&X===s.memoizedState||(l.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||R===s.memoizedProps&&X===s.memoizedState||(l.flags|=1024),g=!1)}return Ih(s,l,f,g,k,b)}function Ih(s,l,f,g,b,k){zb(s,l);var O=(l.flags&128)!==0;if(!g&&!O)return b&&Gx(l,f,!1),In(s,l,k);g=l.stateNode,cT.current=l;var R=O&&typeof f.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,s!==null&&O?(l.child=Ki(l,s.child,null,k),l.child=Ki(l,null,R,k)):Qt(s,l,R,k),l.memoizedState=g.state,b&&Gx(l,f,!0),l.child}function Wb(s){var l=s.stateNode;l.pendingContext?Vx(s,l.pendingContext,l.pendingContext!==l.context):l.context&&Vx(s,l.context,!1),vh(s,l.containerInfo)}function Kb(s,l,f,g,b){return Wi(),uh(b),l.flags|=256,Qt(s,l,f,g),l.child}var Dh={dehydrated:null,treeContext:null,retryLane:0};function Mh(s){return{baseLanes:s,cachePool:null,transitions:null}}function Vb(s,l,f){var g=l.pendingProps,b=at.current,k=!1,O=(l.flags&128)!==0,R;if((R=O)||(R=s!==null&&s.memoizedState===null?!1:(b&2)!==0),R?(k=!0,l.flags&=-129):(s===null||s.memoizedState!==null)&&(b|=1),Ke(at,b&1),s===null)return ch(l),s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((l.mode&1)===0?l.lanes=1:s.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(O=g.children,s=g.fallback,k?(g=l.mode,k=l.child,O={mode:"hidden",children:O},(g&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=O):k=$c(O,g,0,null),s=Za(s,g,f,null),k.return=l,s.return=l,k.sibling=s,l.child=k,l.child.memoizedState=Mh(f),l.memoizedState=Dh,s):Lh(l,O));if(b=s.memoizedState,b!==null&&(R=b.dehydrated,R!==null))return uT(s,l,O,g,R,b,f);if(k){k=g.fallback,O=l.mode,b=s.child,R=b.sibling;var D={mode:"hidden",children:g.children};return(O&1)===0&&l.child!==b?(g=l.child,g.childLanes=0,g.pendingProps=D,l.deletions=null):(g=wa(b,D),g.subtreeFlags=b.subtreeFlags&14680064),R!==null?k=wa(R,k):(k=Za(k,O,f,null),k.flags|=2),k.return=l,g.return=l,g.sibling=k,l.child=g,g=k,k=l.child,O=s.child.memoizedState,O=O===null?Mh(f):{baseLanes:O.baseLanes|f,cachePool:null,transitions:O.transitions},k.memoizedState=O,k.childLanes=s.childLanes&~f,l.memoizedState=Dh,g}return k=s.child,s=k.sibling,g=wa(k,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=f),g.return=l,g.sibling=null,s!==null&&(f=l.deletions,f===null?(l.deletions=[s],l.flags|=16):f.push(s)),l.child=g,l.memoizedState=null,g}function Lh(s,l){return l=$c({mode:"visible",children:l},s.mode,0,null),l.return=s,s.child=l}function Sc(s,l,f,g){return g!==null&&uh(g),Ki(l,s.child,null,f),s=Lh(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function uT(s,l,f,g,b,k,O){if(f)return l.flags&256?(l.flags&=-257,g=Ch(Error(r(422))),Sc(s,l,O,g)):l.memoizedState!==null?(l.child=s.child,l.flags|=128,null):(k=g.fallback,b=l.mode,g=$c({mode:"visible",children:g.children},b,0,null),k=Za(k,b,O,null),k.flags|=2,g.return=l,k.return=l,g.sibling=k,l.child=g,(l.mode&1)!==0&&Ki(l,s.child,null,O),l.child.memoizedState=Mh(O),l.memoizedState=Dh,k);if((l.mode&1)===0)return Sc(s,l,O,null);if(b.data==="$!"){if(g=b.nextSibling&&b.nextSibling.dataset,g)var R=g.dgst;return g=R,k=Error(r(419)),g=Ch(k,g,void 0),Sc(s,l,O,g)}if(R=(O&s.childLanes)!==0,or||R){if(g=At,g!==null){switch(O&-O){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(g.suspendedLanes|O))!==0?0:b,b!==0&&b!==k.retryLane&&(k.retryLane=b,Tn(s,b),en(g,s,b,-1))}return Zh(),g=Ch(Error(r(421))),Sc(s,l,O,g)}return b.data==="$?"?(l.flags|=128,l.child=s.child,l=_T.bind(null,s),b._reactRetry=l,null):(s=k.treeContext,xr=ua(b.nextSibling),yr=l,Qe=!0,Xr=null,s!==null&&(Tr[Rr++]=An,Tr[Rr++]=Cn,Tr[Rr++]=Wa,An=s.id,Cn=s.overflow,Wa=l),l=Lh(l,g.children),l.flags|=4096,l)}function Hb(s,l,f){s.lanes|=l;var g=s.alternate;g!==null&&(g.lanes|=l),ph(s.return,l,f)}function $h(s,l,f,g,b){var k=s.memoizedState;k===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:b}:(k.isBackwards=l,k.rendering=null,k.renderingStartTime=0,k.last=g,k.tail=f,k.tailMode=b)}function Gb(s,l,f){var g=l.pendingProps,b=g.revealOrder,k=g.tail;if(Qt(s,l,g.children,f),g=at.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Hb(s,f,l);else if(s.tag===19)Hb(s,f,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}g&=1}if(Ke(at,g),(l.mode&1)===0)l.memoizedState=null;else switch(b){case"forwards":for(f=l.child,b=null;f!==null;)s=f.alternate,s!==null&&yc(s)===null&&(b=f),f=f.sibling;f=b,f===null?(b=l.child,l.child=null):(b=f.sibling,f.sibling=null),$h(l,!1,b,f,k);break;case"backwards":for(f=null,b=l.child,l.child=null;b!==null;){if(s=b.alternate,s!==null&&yc(s)===null){l.child=b;break}s=b.sibling,b.sibling=f,f=b,b=s}$h(l,!0,f,null,k);break;case"together":$h(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Nc(s,l){(l.mode&1)===0&&s!==null&&(s.alternate=null,l.alternate=null,l.flags|=2)}function In(s,l,f){if(s!==null&&(l.dependencies=s.dependencies),Ya|=l.lanes,(f&l.childLanes)===0)return null;if(s!==null&&l.child!==s.child)throw Error(r(153));if(l.child!==null){for(s=l.child,f=wa(s,s.pendingProps),l.child=f,f.return=l;s.sibling!==null;)s=s.sibling,f=f.sibling=wa(s,s.pendingProps),f.return=l;f.sibling=null}return l.child}function dT(s,l,f){switch(l.tag){case 3:Wb(l),Wi();break;case 5:lb(l);break;case 1:sr(l.type)&&lc(l);break;case 4:vh(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,b=l.memoizedProps.value;Ke(pc,g._currentValue),g._currentValue=b;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(Ke(at,at.current&1),l.flags|=128,null):(f&l.child.childLanes)!==0?Vb(s,l,f):(Ke(at,at.current&1),s=In(s,l,f),s!==null?s.sibling:null);Ke(at,at.current&1);break;case 19:if(g=(f&l.childLanes)!==0,(s.flags&128)!==0){if(g)return Gb(s,l,f);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Ke(at,at.current),g)break;return null;case 22:case 23:return l.lanes=0,Ub(s,l,f)}return In(s,l,f)}var Yb,Bh,Xb,Jb;Yb=function(s,l){for(var f=l.child;f!==null;){if(f.tag===5||f.tag===6)s.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Bh=function(){},Xb=function(s,l,f,g){var b=s.memoizedProps;if(b!==g){s=l.stateNode,Ha(pn.current);var k=null;switch(f){case"input":b=$e(s,b),g=$e(s,g),k=[];break;case"select":b=ae({},b,{value:void 0}),g=ae({},g,{value:void 0}),k=[];break;case"textarea":b=vf(s,b),g=vf(s,g),k=[];break;default:typeof b.onClick!="function"&&typeof g.onClick=="function"&&(s.onclick=ic)}xf(f,g);var O;f=null;for(q in b)if(!g.hasOwnProperty(q)&&b.hasOwnProperty(q)&&b[q]!=null)if(q==="style"){var R=b[q];for(O in R)R.hasOwnProperty(O)&&(f||(f={}),f[O]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(a.hasOwnProperty(q)?k||(k=[]):(k=k||[]).push(q,null));for(q in g){var D=g[q];if(R=b?.[q],g.hasOwnProperty(q)&&D!==R&&(D!=null||R!=null))if(q==="style")if(R){for(O in R)!R.hasOwnProperty(O)||D&&D.hasOwnProperty(O)||(f||(f={}),f[O]="");for(O in D)D.hasOwnProperty(O)&&R[O]!==D[O]&&(f||(f={}),f[O]=D[O])}else f||(k||(k=[]),k.push(q,f)),f=D;else q==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,R=R?R.__html:void 0,D!=null&&R!==D&&(k=k||[]).push(q,D)):q==="children"?typeof D!="string"&&typeof D!="number"||(k=k||[]).push(q,""+D):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(a.hasOwnProperty(q)?(D!=null&&q==="onScroll"&&Ge("scroll",s),k||R===D||(k=[])):(k=k||[]).push(q,D))}f&&(k=k||[]).push("style",f);var q=k;(l.updateQueue=q)&&(l.flags|=4)}},Jb=function(s,l,f,g){f!==g&&(l.flags|=4)};function Eo(s,l){if(!Qe)switch(s.tailMode){case"hidden":l=s.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?s.tail=null:f.sibling=null;break;case"collapsed":f=s.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function Wt(s){var l=s.alternate!==null&&s.alternate.child===s.child,f=0,g=0;if(l)for(var b=s.child;b!==null;)f|=b.lanes|b.childLanes,g|=b.subtreeFlags&14680064,g|=b.flags&14680064,b.return=s,b=b.sibling;else for(b=s.child;b!==null;)f|=b.lanes|b.childLanes,g|=b.subtreeFlags,g|=b.flags,b.return=s,b=b.sibling;return s.subtreeFlags|=g,s.childLanes=f,l}function fT(s,l,f){var g=l.pendingProps;switch(oh(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(l),null;case 1:return sr(l.type)&&oc(),Wt(l),null;case 3:return g=l.stateNode,Gi(),Ye(ir),Ye(zt),bh(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(s===null||s.child===null)&&(fc(l)?l.flags|=4:s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Xr!==null&&(Xh(Xr),Xr=null))),Bh(s,l),Wt(l),null;case 5:yh(l);var b=Ha(jo.current);if(f=l.type,s!==null&&l.stateNode!=null)Xb(s,l,f,g,b),s.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(r(166));return Wt(l),null}if(s=Ha(pn.current),fc(l)){g=l.stateNode,f=l.type;var k=l.memoizedProps;switch(g[hn]=l,g[vo]=k,s=(l.mode&1)!==0,f){case"dialog":Ge("cancel",g),Ge("close",g);break;case"iframe":case"object":case"embed":Ge("load",g);break;case"video":case"audio":for(b=0;b<po.length;b++)Ge(po[b],g);break;case"source":Ge("error",g);break;case"img":case"image":case"link":Ge("error",g),Ge("load",g);break;case"details":Ge("toggle",g);break;case"input":Ft(g,k),Ge("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!k.multiple},Ge("invalid",g);break;case"textarea":I0(g,k),Ge("invalid",g)}xf(f,k),b=null;for(var O in k)if(k.hasOwnProperty(O)){var R=k[O];O==="children"?typeof R=="string"?g.textContent!==R&&(k.suppressHydrationWarning!==!0&&ac(g.textContent,R,s),b=["children",R]):typeof R=="number"&&g.textContent!==""+R&&(k.suppressHydrationWarning!==!0&&ac(g.textContent,R,s),b=["children",""+R]):a.hasOwnProperty(O)&&R!=null&&O==="onScroll"&&Ge("scroll",g)}switch(f){case"input":Oe(g),Vs(g,k,!0);break;case"textarea":Oe(g),M0(g);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(g.onclick=ic)}g=b,l.updateQueue=g,g!==null&&(l.flags|=4)}else{O=b.nodeType===9?b:b.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=L0(f)),s==="http://www.w3.org/1999/xhtml"?f==="script"?(s=O.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof g.is=="string"?s=O.createElement(f,{is:g.is}):(s=O.createElement(f),f==="select"&&(O=s,g.multiple?O.multiple=!0:g.size&&(O.size=g.size))):s=O.createElementNS(s,f),s[hn]=l,s[vo]=g,Yb(s,l,!1,!1),l.stateNode=s;e:{switch(O=bf(f,g),f){case"dialog":Ge("cancel",s),Ge("close",s),b=g;break;case"iframe":case"object":case"embed":Ge("load",s),b=g;break;case"video":case"audio":for(b=0;b<po.length;b++)Ge(po[b],s);b=g;break;case"source":Ge("error",s),b=g;break;case"img":case"image":case"link":Ge("error",s),Ge("load",s),b=g;break;case"details":Ge("toggle",s),b=g;break;case"input":Ft(s,g),b=$e(s,g),Ge("invalid",s);break;case"option":b=g;break;case"select":s._wrapperState={wasMultiple:!!g.multiple},b=ae({},g,{value:void 0}),Ge("invalid",s);break;case"textarea":I0(s,g),b=vf(s,g),Ge("invalid",s);break;default:b=g}xf(f,b),R=b;for(k in R)if(R.hasOwnProperty(k)){var D=R[k];k==="style"?F0(s,D):k==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&$0(s,D)):k==="children"?typeof D=="string"?(f!=="textarea"||D!=="")&&Gs(s,D):typeof D=="number"&&Gs(s,""+D):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(a.hasOwnProperty(k)?D!=null&&k==="onScroll"&&Ge("scroll",s):D!=null&&E(s,k,D,O))}switch(f){case"input":Oe(s),Vs(s,g,!1);break;case"textarea":Oe(s),M0(s);break;case"option":g.value!=null&&s.setAttribute("value",""+Re(g.value));break;case"select":s.multiple=!!g.multiple,k=g.value,k!=null?Oi(s,!!g.multiple,k,!1):g.defaultValue!=null&&Oi(s,!!g.multiple,g.defaultValue,!0);break;default:typeof b.onClick=="function"&&(s.onclick=ic)}switch(f){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Wt(l),null;case 6:if(s&&l.stateNode!=null)Jb(s,l,s.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(r(166));if(f=Ha(jo.current),Ha(pn.current),fc(l)){if(g=l.stateNode,f=l.memoizedProps,g[hn]=l,(k=g.nodeValue!==f)&&(s=yr,s!==null))switch(s.tag){case 3:ac(g.nodeValue,f,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&ac(g.nodeValue,f,(s.mode&1)!==0)}k&&(l.flags|=4)}else g=(f.nodeType===9?f:f.ownerDocument).createTextNode(g),g[hn]=l,l.stateNode=g}return Wt(l),null;case 13:if(Ye(at),g=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Qe&&xr!==null&&(l.mode&1)!==0&&(l.flags&128)===0)eb(),Wi(),l.flags|=98560,k=!1;else if(k=fc(l),g!==null&&g.dehydrated!==null){if(s===null){if(!k)throw Error(r(318));if(k=l.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(r(317));k[hn]=l}else Wi(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Wt(l),k=!1}else Xr!==null&&(Xh(Xr),Xr=null),k=!0;if(!k)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=f,l):(g=g!==null,g!==(s!==null&&s.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(s===null||(at.current&1)!==0?wt===0&&(wt=3):Zh())),l.updateQueue!==null&&(l.flags|=4),Wt(l),null);case 4:return Gi(),Bh(s,l),s===null&&mo(l.stateNode.containerInfo),Wt(l),null;case 10:return hh(l.type._context),Wt(l),null;case 17:return sr(l.type)&&oc(),Wt(l),null;case 19:if(Ye(at),k=l.memoizedState,k===null)return Wt(l),null;if(g=(l.flags&128)!==0,O=k.rendering,O===null)if(g)Eo(k,!1);else{if(wt!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(O=yc(s),O!==null){for(l.flags|=128,Eo(k,!1),g=O.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=f,f=l.child;f!==null;)k=f,s=g,k.flags&=14680066,O=k.alternate,O===null?(k.childLanes=0,k.lanes=s,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=O.childLanes,k.lanes=O.lanes,k.child=O.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=O.memoizedProps,k.memoizedState=O.memoizedState,k.updateQueue=O.updateQueue,k.type=O.type,s=O.dependencies,k.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),f=f.sibling;return Ke(at,at.current&1|2),l.child}s=s.sibling}k.tail!==null&&ut()>Qi&&(l.flags|=128,g=!0,Eo(k,!1),l.lanes=4194304)}else{if(!g)if(s=yc(O),s!==null){if(l.flags|=128,g=!0,f=s.updateQueue,f!==null&&(l.updateQueue=f,l.flags|=4),Eo(k,!0),k.tail===null&&k.tailMode==="hidden"&&!O.alternate&&!Qe)return Wt(l),null}else 2*ut()-k.renderingStartTime>Qi&&f!==1073741824&&(l.flags|=128,g=!0,Eo(k,!1),l.lanes=4194304);k.isBackwards?(O.sibling=l.child,l.child=O):(f=k.last,f!==null?f.sibling=O:l.child=O,k.last=O)}return k.tail!==null?(l=k.tail,k.rendering=l,k.tail=l.sibling,k.renderingStartTime=ut(),l.sibling=null,f=at.current,Ke(at,g?f&1|2:f&1),l):(Wt(l),null);case 22:case 23:return Qh(),g=l.memoizedState!==null,s!==null&&s.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(br&1073741824)!==0&&(Wt(l),l.subtreeFlags&6&&(l.flags|=8192)):Wt(l),null;case 24:return null;case 25:return null}throw Error(r(156,l.tag))}function hT(s,l){switch(oh(l),l.tag){case 1:return sr(l.type)&&oc(),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return Gi(),Ye(ir),Ye(zt),bh(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 5:return yh(l),null;case 13:if(Ye(at),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Wi()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return Ye(at),null;case 4:return Gi(),null;case 10:return hh(l.type._context),null;case 22:case 23:return Qh(),null;case 24:return null;default:return null}}var Ec=!1,Kt=!1,pT=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Xi(s,l){var f=s.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(g){lt(s,l,g)}else f.current=null}function Fh(s,l,f){try{f()}catch(g){lt(s,l,g)}}var Qb=!1;function mT(s,l){if(Qf=Hl,s=Ax(),Wf(s)){if("selectionStart"in s)var f={start:s.selectionStart,end:s.selectionEnd};else e:{f=(f=s.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var b=g.anchorOffset,k=g.focusNode;g=g.focusOffset;try{f.nodeType,k.nodeType}catch{f=null;break e}var O=0,R=-1,D=-1,q=0,J=0,Q=s,X=null;t:for(;;){for(var oe;Q!==f||b!==0&&Q.nodeType!==3||(R=O+b),Q!==k||g!==0&&Q.nodeType!==3||(D=O+g),Q.nodeType===3&&(O+=Q.nodeValue.length),(oe=Q.firstChild)!==null;)X=Q,Q=oe;for(;;){if(Q===s)break t;if(X===f&&++q===b&&(R=O),X===k&&++J===g&&(D=O),(oe=Q.nextSibling)!==null)break;Q=X,X=Q.parentNode}Q=oe}f=R===-1||D===-1?null:{start:R,end:D}}else f=null}f=f||{start:0,end:0}}else f=null;for(Zf={focusedElem:s,selectionRange:f},Hl=!1,ce=l;ce!==null;)if(l=ce,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,ce=s;else for(;ce!==null;){l=ce;try{var de=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var pe=de.memoizedProps,dt=de.memoizedState,B=l.stateNode,L=B.getSnapshotBeforeUpdate(l.elementType===l.type?pe:Jr(l.type,pe),dt);B.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var U=l.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(te){lt(l,l.return,te)}if(s=l.sibling,s!==null){s.return=l.return,ce=s;break}ce=l.return}return de=Qb,Qb=!1,de}function Po(s,l,f){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var b=g=g.next;do{if((b.tag&s)===s){var k=b.destroy;b.destroy=void 0,k!==void 0&&Fh(l,f,k)}b=b.next}while(b!==g)}}function Pc(s,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var f=l=l.next;do{if((f.tag&s)===s){var g=f.create;f.destroy=g()}f=f.next}while(f!==l)}}function Uh(s){var l=s.ref;if(l!==null){var f=s.stateNode;switch(s.tag){case 5:s=f;break;default:s=f}typeof l=="function"?l(s):l.current=s}}function Zb(s){var l=s.alternate;l!==null&&(s.alternate=null,Zb(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&(delete l[hn],delete l[vo],delete l[nh],delete l[J2],delete l[Q2])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function ew(s){return s.tag===5||s.tag===3||s.tag===4}function tw(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||ew(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function zh(s,l,f){var g=s.tag;if(g===5||g===6)s=s.stateNode,l?f.nodeType===8?f.parentNode.insertBefore(s,l):f.insertBefore(s,l):(f.nodeType===8?(l=f.parentNode,l.insertBefore(s,f)):(l=f,l.appendChild(s)),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=ic));else if(g!==4&&(s=s.child,s!==null))for(zh(s,l,f),s=s.sibling;s!==null;)zh(s,l,f),s=s.sibling}function qh(s,l,f){var g=s.tag;if(g===5||g===6)s=s.stateNode,l?f.insertBefore(s,l):f.appendChild(s);else if(g!==4&&(s=s.child,s!==null))for(qh(s,l,f),s=s.sibling;s!==null;)qh(s,l,f),s=s.sibling}var Dt=null,Qr=!1;function ga(s,l,f){for(f=f.child;f!==null;)rw(s,l,f),f=f.sibling}function rw(s,l,f){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(Ul,f)}catch{}switch(f.tag){case 5:Kt||Xi(f,l);case 6:var g=Dt,b=Qr;Dt=null,ga(s,l,f),Dt=g,Qr=b,Dt!==null&&(Qr?(s=Dt,f=f.stateNode,s.nodeType===8?s.parentNode.removeChild(f):s.removeChild(f)):Dt.removeChild(f.stateNode));break;case 18:Dt!==null&&(Qr?(s=Dt,f=f.stateNode,s.nodeType===8?rh(s.parentNode,f):s.nodeType===1&&rh(s,f),io(s)):rh(Dt,f.stateNode));break;case 4:g=Dt,b=Qr,Dt=f.stateNode.containerInfo,Qr=!0,ga(s,l,f),Dt=g,Qr=b;break;case 0:case 11:case 14:case 15:if(!Kt&&(g=f.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){b=g=g.next;do{var k=b,O=k.destroy;k=k.tag,O!==void 0&&((k&2)!==0||(k&4)!==0)&&Fh(f,l,O),b=b.next}while(b!==g)}ga(s,l,f);break;case 1:if(!Kt&&(Xi(f,l),g=f.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=f.memoizedProps,g.state=f.memoizedState,g.componentWillUnmount()}catch(R){lt(f,l,R)}ga(s,l,f);break;case 21:ga(s,l,f);break;case 22:f.mode&1?(Kt=(g=Kt)||f.memoizedState!==null,ga(s,l,f),Kt=g):ga(s,l,f);break;default:ga(s,l,f)}}function nw(s){var l=s.updateQueue;if(l!==null){s.updateQueue=null;var f=s.stateNode;f===null&&(f=s.stateNode=new pT),l.forEach(function(g){var b=kT.bind(null,s,g);f.has(g)||(f.add(g),g.then(b,b))})}}function Zr(s,l){var f=l.deletions;if(f!==null)for(var g=0;g<f.length;g++){var b=f[g];try{var k=s,O=l,R=O;e:for(;R!==null;){switch(R.tag){case 5:Dt=R.stateNode,Qr=!1;break e;case 3:Dt=R.stateNode.containerInfo,Qr=!0;break e;case 4:Dt=R.stateNode.containerInfo,Qr=!0;break e}R=R.return}if(Dt===null)throw Error(r(160));rw(k,O,b),Dt=null,Qr=!1;var D=b.alternate;D!==null&&(D.return=null),b.return=null}catch(q){lt(b,l,q)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)aw(l,s),l=l.sibling}function aw(s,l){var f=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Zr(l,s),gn(s),g&4){try{Po(3,s,s.return),Pc(3,s)}catch(pe){lt(s,s.return,pe)}try{Po(5,s,s.return)}catch(pe){lt(s,s.return,pe)}}break;case 1:Zr(l,s),gn(s),g&512&&f!==null&&Xi(f,f.return);break;case 5:if(Zr(l,s),gn(s),g&512&&f!==null&&Xi(f,f.return),s.flags&32){var b=s.stateNode;try{Gs(b,"")}catch(pe){lt(s,s.return,pe)}}if(g&4&&(b=s.stateNode,b!=null)){var k=s.memoizedProps,O=f!==null?f.memoizedProps:k,R=s.type,D=s.updateQueue;if(s.updateQueue=null,D!==null)try{R==="input"&&k.type==="radio"&&k.name!=null&&Ut(b,k),bf(R,O);var q=bf(R,k);for(O=0;O<D.length;O+=2){var J=D[O],Q=D[O+1];J==="style"?F0(b,Q):J==="dangerouslySetInnerHTML"?$0(b,Q):J==="children"?Gs(b,Q):E(b,J,Q,q)}switch(R){case"input":Hr(b,k);break;case"textarea":D0(b,k);break;case"select":var X=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!k.multiple;var oe=k.value;oe!=null?Oi(b,!!k.multiple,oe,!1):X!==!!k.multiple&&(k.defaultValue!=null?Oi(b,!!k.multiple,k.defaultValue,!0):Oi(b,!!k.multiple,k.multiple?[]:"",!1))}b[vo]=k}catch(pe){lt(s,s.return,pe)}}break;case 6:if(Zr(l,s),gn(s),g&4){if(s.stateNode===null)throw Error(r(162));b=s.stateNode,k=s.memoizedProps;try{b.nodeValue=k}catch(pe){lt(s,s.return,pe)}}break;case 3:if(Zr(l,s),gn(s),g&4&&f!==null&&f.memoizedState.isDehydrated)try{io(l.containerInfo)}catch(pe){lt(s,s.return,pe)}break;case 4:Zr(l,s),gn(s);break;case 13:Zr(l,s),gn(s),b=s.child,b.flags&8192&&(k=b.memoizedState!==null,b.stateNode.isHidden=k,!k||b.alternate!==null&&b.alternate.memoizedState!==null||(Vh=ut())),g&4&&nw(s);break;case 22:if(J=f!==null&&f.memoizedState!==null,s.mode&1?(Kt=(q=Kt)||J,Zr(l,s),Kt=q):Zr(l,s),gn(s),g&8192){if(q=s.memoizedState!==null,(s.stateNode.isHidden=q)&&!J&&(s.mode&1)!==0)for(ce=s,J=s.child;J!==null;){for(Q=ce=J;ce!==null;){switch(X=ce,oe=X.child,X.tag){case 0:case 11:case 14:case 15:Po(4,X,X.return);break;case 1:Xi(X,X.return);var de=X.stateNode;if(typeof de.componentWillUnmount=="function"){g=X,f=X.return;try{l=g,de.props=l.memoizedProps,de.state=l.memoizedState,de.componentWillUnmount()}catch(pe){lt(g,f,pe)}}break;case 5:Xi(X,X.return);break;case 22:if(X.memoizedState!==null){ow(Q);continue}}oe!==null?(oe.return=X,ce=oe):ow(Q)}J=J.sibling}e:for(J=null,Q=s;;){if(Q.tag===5){if(J===null){J=Q;try{b=Q.stateNode,q?(k=b.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(R=Q.stateNode,D=Q.memoizedProps.style,O=D!=null&&D.hasOwnProperty("display")?D.display:null,R.style.display=B0("display",O))}catch(pe){lt(s,s.return,pe)}}}else if(Q.tag===6){if(J===null)try{Q.stateNode.nodeValue=q?"":Q.memoizedProps}catch(pe){lt(s,s.return,pe)}}else if((Q.tag!==22&&Q.tag!==23||Q.memoizedState===null||Q===s)&&Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===s)break e;for(;Q.sibling===null;){if(Q.return===null||Q.return===s)break e;J===Q&&(J=null),Q=Q.return}J===Q&&(J=null),Q.sibling.return=Q.return,Q=Q.sibling}}break;case 19:Zr(l,s),gn(s),g&4&&nw(s);break;case 21:break;default:Zr(l,s),gn(s)}}function gn(s){var l=s.flags;if(l&2){try{e:{for(var f=s.return;f!==null;){if(ew(f)){var g=f;break e}f=f.return}throw Error(r(160))}switch(g.tag){case 5:var b=g.stateNode;g.flags&32&&(Gs(b,""),g.flags&=-33);var k=tw(s);qh(s,k,b);break;case 3:case 4:var O=g.stateNode.containerInfo,R=tw(s);zh(s,R,O);break;default:throw Error(r(161))}}catch(D){lt(s,s.return,D)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function gT(s,l,f){ce=s,iw(s)}function iw(s,l,f){for(var g=(s.mode&1)!==0;ce!==null;){var b=ce,k=b.child;if(b.tag===22&&g){var O=b.memoizedState!==null||Ec;if(!O){var R=b.alternate,D=R!==null&&R.memoizedState!==null||Kt;R=Ec;var q=Kt;if(Ec=O,(Kt=D)&&!q)for(ce=b;ce!==null;)O=ce,D=O.child,O.tag===22&&O.memoizedState!==null?lw(b):D!==null?(D.return=O,ce=D):lw(b);for(;k!==null;)ce=k,iw(k),k=k.sibling;ce=b,Ec=R,Kt=q}sw(s)}else(b.subtreeFlags&8772)!==0&&k!==null?(k.return=b,ce=k):sw(s)}}function sw(s){for(;ce!==null;){var l=ce;if((l.flags&8772)!==0){var f=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Kt||Pc(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!Kt)if(f===null)g.componentDidMount();else{var b=l.elementType===l.type?f.memoizedProps:Jr(l.type,f.memoizedProps);g.componentDidUpdate(b,f.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var k=l.updateQueue;k!==null&&ob(l,k,g);break;case 3:var O=l.updateQueue;if(O!==null){if(f=null,l.child!==null)switch(l.child.tag){case 5:f=l.child.stateNode;break;case 1:f=l.child.stateNode}ob(l,O,f)}break;case 5:var R=l.stateNode;if(f===null&&l.flags&4){f=R;var D=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&f.focus();break;case"img":D.src&&(f.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var q=l.alternate;if(q!==null){var J=q.memoizedState;if(J!==null){var Q=J.dehydrated;Q!==null&&io(Q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Kt||l.flags&512&&Uh(l)}catch(X){lt(l,l.return,X)}}if(l===s){ce=null;break}if(f=l.sibling,f!==null){f.return=l.return,ce=f;break}ce=l.return}}function ow(s){for(;ce!==null;){var l=ce;if(l===s){ce=null;break}var f=l.sibling;if(f!==null){f.return=l.return,ce=f;break}ce=l.return}}function lw(s){for(;ce!==null;){var l=ce;try{switch(l.tag){case 0:case 11:case 15:var f=l.return;try{Pc(4,l)}catch(D){lt(l,f,D)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var b=l.return;try{g.componentDidMount()}catch(D){lt(l,b,D)}}var k=l.return;try{Uh(l)}catch(D){lt(l,k,D)}break;case 5:var O=l.return;try{Uh(l)}catch(D){lt(l,O,D)}}}catch(D){lt(l,l.return,D)}if(l===s){ce=null;break}var R=l.sibling;if(R!==null){R.return=l.return,ce=R;break}ce=l.return}}var vT=Math.ceil,Oc=C.ReactCurrentDispatcher,Wh=C.ReactCurrentOwner,Mr=C.ReactCurrentBatchConfig,Ie=0,At=null,pt=null,Mt=0,br=0,Ji=da(0),wt=0,Oo=null,Ya=0,Ac=0,Kh=0,Ao=null,lr=null,Vh=0,Qi=1/0,Dn=null,Cc=!1,Hh=null,va=null,Tc=!1,ya=null,Rc=0,Co=0,Gh=null,Ic=-1,Dc=0;function Zt(){return(Ie&6)!==0?ut():Ic!==-1?Ic:Ic=ut()}function xa(s){return(s.mode&1)===0?1:(Ie&2)!==0&&Mt!==0?Mt&-Mt:eT.transition!==null?(Dc===0&&(Dc=tx()),Dc):(s=Be,s!==0||(s=window.event,s=s===void 0?16:ux(s.type)),s)}function en(s,l,f,g){if(50<Co)throw Co=0,Gh=null,Error(r(185));eo(s,f,g),((Ie&2)===0||s!==At)&&(s===At&&((Ie&2)===0&&(Ac|=f),wt===4&&ba(s,Mt)),cr(s,g),f===1&&Ie===0&&(l.mode&1)===0&&(Qi=ut()+500,cc&&ha()))}function cr(s,l){var f=s.callbackNode;e2(s,l);var g=Wl(s,s===At?Mt:0);if(g===0)f!==null&&Q0(f),s.callbackNode=null,s.callbackPriority=0;else if(l=g&-g,s.callbackPriority!==l){if(f!=null&&Q0(f),l===1)s.tag===0?Z2(uw.bind(null,s)):Yx(uw.bind(null,s)),Y2(function(){(Ie&6)===0&&ha()}),f=null;else{switch(rx(g)){case 1:f=Ef;break;case 4:f=Z0;break;case 16:f=Fl;break;case 536870912:f=ex;break;default:f=Fl}f=yw(f,cw.bind(null,s))}s.callbackPriority=l,s.callbackNode=f}}function cw(s,l){if(Ic=-1,Dc=0,(Ie&6)!==0)throw Error(r(327));var f=s.callbackNode;if(Zi()&&s.callbackNode!==f)return null;var g=Wl(s,s===At?Mt:0);if(g===0)return null;if((g&30)!==0||(g&s.expiredLanes)!==0||l)l=Mc(s,g);else{l=g;var b=Ie;Ie|=2;var k=fw();(At!==s||Mt!==l)&&(Dn=null,Qi=ut()+500,Ja(s,l));do try{bT();break}catch(R){dw(s,R)}while(!0);fh(),Oc.current=k,Ie=b,pt!==null?l=0:(At=null,Mt=0,l=wt)}if(l!==0){if(l===2&&(b=Pf(s),b!==0&&(g=b,l=Yh(s,b))),l===1)throw f=Oo,Ja(s,0),ba(s,g),cr(s,ut()),f;if(l===6)ba(s,g);else{if(b=s.current.alternate,(g&30)===0&&!yT(b)&&(l=Mc(s,g),l===2&&(k=Pf(s),k!==0&&(g=k,l=Yh(s,k))),l===1))throw f=Oo,Ja(s,0),ba(s,g),cr(s,ut()),f;switch(s.finishedWork=b,s.finishedLanes=g,l){case 0:case 1:throw Error(r(345));case 2:Qa(s,lr,Dn);break;case 3:if(ba(s,g),(g&130023424)===g&&(l=Vh+500-ut(),10<l)){if(Wl(s,0)!==0)break;if(b=s.suspendedLanes,(b&g)!==g){Zt(),s.pingedLanes|=s.suspendedLanes&b;break}s.timeoutHandle=th(Qa.bind(null,s,lr,Dn),l);break}Qa(s,lr,Dn);break;case 4:if(ba(s,g),(g&4194240)===g)break;for(l=s.eventTimes,b=-1;0<g;){var O=31-Gr(g);k=1<<O,O=l[O],O>b&&(b=O),g&=~k}if(g=b,g=ut()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*vT(g/1960))-g,10<g){s.timeoutHandle=th(Qa.bind(null,s,lr,Dn),g);break}Qa(s,lr,Dn);break;case 5:Qa(s,lr,Dn);break;default:throw Error(r(329))}}}return cr(s,ut()),s.callbackNode===f?cw.bind(null,s):null}function Yh(s,l){var f=Ao;return s.current.memoizedState.isDehydrated&&(Ja(s,l).flags|=256),s=Mc(s,l),s!==2&&(l=lr,lr=f,l!==null&&Xh(l)),s}function Xh(s){lr===null?lr=s:lr.push.apply(lr,s)}function yT(s){for(var l=s;;){if(l.flags&16384){var f=l.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var g=0;g<f.length;g++){var b=f[g],k=b.getSnapshot;b=b.value;try{if(!Yr(k(),b))return!1}catch{return!1}}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ba(s,l){for(l&=~Kh,l&=~Ac,s.suspendedLanes|=l,s.pingedLanes&=~l,s=s.expirationTimes;0<l;){var f=31-Gr(l),g=1<<f;s[f]=-1,l&=~g}}function uw(s){if((Ie&6)!==0)throw Error(r(327));Zi();var l=Wl(s,0);if((l&1)===0)return cr(s,ut()),null;var f=Mc(s,l);if(s.tag!==0&&f===2){var g=Pf(s);g!==0&&(l=g,f=Yh(s,g))}if(f===1)throw f=Oo,Ja(s,0),ba(s,l),cr(s,ut()),f;if(f===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=l,Qa(s,lr,Dn),cr(s,ut()),null}function Jh(s,l){var f=Ie;Ie|=1;try{return s(l)}finally{Ie=f,Ie===0&&(Qi=ut()+500,cc&&ha())}}function Xa(s){ya!==null&&ya.tag===0&&(Ie&6)===0&&Zi();var l=Ie;Ie|=1;var f=Mr.transition,g=Be;try{if(Mr.transition=null,Be=1,s)return s()}finally{Be=g,Mr.transition=f,Ie=l,(Ie&6)===0&&ha()}}function Qh(){br=Ji.current,Ye(Ji)}function Ja(s,l){s.finishedWork=null,s.finishedLanes=0;var f=s.timeoutHandle;if(f!==-1&&(s.timeoutHandle=-1,G2(f)),pt!==null)for(f=pt.return;f!==null;){var g=f;switch(oh(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&oc();break;case 3:Gi(),Ye(ir),Ye(zt),bh();break;case 5:yh(g);break;case 4:Gi();break;case 13:Ye(at);break;case 19:Ye(at);break;case 10:hh(g.type._context);break;case 22:case 23:Qh()}f=f.return}if(At=s,pt=s=wa(s.current,null),Mt=br=l,wt=0,Oo=null,Kh=Ac=Ya=0,lr=Ao=null,Va!==null){for(l=0;l<Va.length;l++)if(f=Va[l],g=f.interleaved,g!==null){f.interleaved=null;var b=g.next,k=f.pending;if(k!==null){var O=k.next;k.next=b,g.next=O}f.pending=g}Va=null}return s}function dw(s,l){do{var f=pt;try{if(fh(),xc.current=_c,bc){for(var g=it.memoizedState;g!==null;){var b=g.queue;b!==null&&(b.pending=null),g=g.next}bc=!1}if(Ga=0,Ot=bt=it=null,_o=!1,ko=0,Wh.current=null,f===null||f.return===null){wt=1,Oo=l,pt=null;break}e:{var k=s,O=f.return,R=f,D=l;if(l=Mt,R.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var q=D,J=R,Q=J.tag;if((J.mode&1)===0&&(Q===0||Q===11||Q===15)){var X=J.alternate;X?(J.updateQueue=X.updateQueue,J.memoizedState=X.memoizedState,J.lanes=X.lanes):(J.updateQueue=null,J.memoizedState=null)}var oe=Mb(O);if(oe!==null){oe.flags&=-257,Lb(oe,O,R,k,l),oe.mode&1&&Db(k,q,l),l=oe,D=q;var de=l.updateQueue;if(de===null){var pe=new Set;pe.add(D),l.updateQueue=pe}else de.add(D);break e}else{if((l&1)===0){Db(k,q,l),Zh();break e}D=Error(r(426))}}else if(Qe&&R.mode&1){var dt=Mb(O);if(dt!==null){(dt.flags&65536)===0&&(dt.flags|=256),Lb(dt,O,R,k,l),uh(Yi(D,R));break e}}k=D=Yi(D,R),wt!==4&&(wt=2),Ao===null?Ao=[k]:Ao.push(k),k=O;do{switch(k.tag){case 3:k.flags|=65536,l&=-l,k.lanes|=l;var B=Rb(k,D,l);sb(k,B);break e;case 1:R=D;var L=k.type,U=k.stateNode;if((k.flags&128)===0&&(typeof L.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(va===null||!va.has(U)))){k.flags|=65536,l&=-l,k.lanes|=l;var te=Ib(k,R,l);sb(k,te);break e}}k=k.return}while(k!==null)}pw(f)}catch(me){l=me,pt===f&&f!==null&&(pt=f=f.return);continue}break}while(!0)}function fw(){var s=Oc.current;return Oc.current=_c,s===null?_c:s}function Zh(){(wt===0||wt===3||wt===2)&&(wt=4),At===null||(Ya&268435455)===0&&(Ac&268435455)===0||ba(At,Mt)}function Mc(s,l){var f=Ie;Ie|=2;var g=fw();(At!==s||Mt!==l)&&(Dn=null,Ja(s,l));do try{xT();break}catch(b){dw(s,b)}while(!0);if(fh(),Ie=f,Oc.current=g,pt!==null)throw Error(r(261));return At=null,Mt=0,wt}function xT(){for(;pt!==null;)hw(pt)}function bT(){for(;pt!==null&&!KC();)hw(pt)}function hw(s){var l=vw(s.alternate,s,br);s.memoizedProps=s.pendingProps,l===null?pw(s):pt=l,Wh.current=null}function pw(s){var l=s;do{var f=l.alternate;if(s=l.return,(l.flags&32768)===0){if(f=fT(f,l,br),f!==null){pt=f;return}}else{if(f=hT(f,l),f!==null){f.flags&=32767,pt=f;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{wt=6,pt=null;return}}if(l=l.sibling,l!==null){pt=l;return}pt=l=s}while(l!==null);wt===0&&(wt=5)}function Qa(s,l,f){var g=Be,b=Mr.transition;try{Mr.transition=null,Be=1,wT(s,l,f,g)}finally{Mr.transition=b,Be=g}return null}function wT(s,l,f,g){do Zi();while(ya!==null);if((Ie&6)!==0)throw Error(r(327));f=s.finishedWork;var b=s.finishedLanes;if(f===null)return null;if(s.finishedWork=null,s.finishedLanes=0,f===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var k=f.lanes|f.childLanes;if(t2(s,k),s===At&&(pt=At=null,Mt=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Tc||(Tc=!0,yw(Fl,function(){return Zi(),null})),k=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||k){k=Mr.transition,Mr.transition=null;var O=Be;Be=1;var R=Ie;Ie|=4,Wh.current=null,mT(s,f),aw(f,s),U2(Zf),Hl=!!Qf,Zf=Qf=null,s.current=f,gT(f),VC(),Ie=R,Be=O,Mr.transition=k}else s.current=f;if(Tc&&(Tc=!1,ya=s,Rc=b),k=s.pendingLanes,k===0&&(va=null),YC(f.stateNode),cr(s,ut()),l!==null)for(g=s.onRecoverableError,f=0;f<l.length;f++)b=l[f],g(b.value,{componentStack:b.stack,digest:b.digest});if(Cc)throw Cc=!1,s=Hh,Hh=null,s;return(Rc&1)!==0&&s.tag!==0&&Zi(),k=s.pendingLanes,(k&1)!==0?s===Gh?Co++:(Co=0,Gh=s):Co=0,ha(),null}function Zi(){if(ya!==null){var s=rx(Rc),l=Mr.transition,f=Be;try{if(Mr.transition=null,Be=16>s?16:s,ya===null)var g=!1;else{if(s=ya,ya=null,Rc=0,(Ie&6)!==0)throw Error(r(331));var b=Ie;for(Ie|=4,ce=s.current;ce!==null;){var k=ce,O=k.child;if((ce.flags&16)!==0){var R=k.deletions;if(R!==null){for(var D=0;D<R.length;D++){var q=R[D];for(ce=q;ce!==null;){var J=ce;switch(J.tag){case 0:case 11:case 15:Po(8,J,k)}var Q=J.child;if(Q!==null)Q.return=J,ce=Q;else for(;ce!==null;){J=ce;var X=J.sibling,oe=J.return;if(Zb(J),J===q){ce=null;break}if(X!==null){X.return=oe,ce=X;break}ce=oe}}}var de=k.alternate;if(de!==null){var pe=de.child;if(pe!==null){de.child=null;do{var dt=pe.sibling;pe.sibling=null,pe=dt}while(pe!==null)}}ce=k}}if((k.subtreeFlags&2064)!==0&&O!==null)O.return=k,ce=O;else e:for(;ce!==null;){if(k=ce,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:Po(9,k,k.return)}var B=k.sibling;if(B!==null){B.return=k.return,ce=B;break e}ce=k.return}}var L=s.current;for(ce=L;ce!==null;){O=ce;var U=O.child;if((O.subtreeFlags&2064)!==0&&U!==null)U.return=O,ce=U;else e:for(O=L;ce!==null;){if(R=ce,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:Pc(9,R)}}catch(me){lt(R,R.return,me)}if(R===O){ce=null;break e}var te=R.sibling;if(te!==null){te.return=R.return,ce=te;break e}ce=R.return}}if(Ie=b,ha(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(Ul,s)}catch{}g=!0}return g}finally{Be=f,Mr.transition=l}}return!1}function mw(s,l,f){l=Yi(f,l),l=Rb(s,l,1),s=ma(s,l,1),l=Zt(),s!==null&&(eo(s,1,l),cr(s,l))}function lt(s,l,f){if(s.tag===3)mw(s,s,f);else for(;l!==null;){if(l.tag===3){mw(l,s,f);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(va===null||!va.has(g))){s=Yi(f,s),s=Ib(l,s,1),l=ma(l,s,1),s=Zt(),l!==null&&(eo(l,1,s),cr(l,s));break}}l=l.return}}function jT(s,l,f){var g=s.pingCache;g!==null&&g.delete(l),l=Zt(),s.pingedLanes|=s.suspendedLanes&f,At===s&&(Mt&f)===f&&(wt===4||wt===3&&(Mt&130023424)===Mt&&500>ut()-Vh?Ja(s,0):Kh|=f),cr(s,l)}function gw(s,l){l===0&&((s.mode&1)===0?l=1:(l=ql,ql<<=1,(ql&130023424)===0&&(ql=4194304)));var f=Zt();s=Tn(s,l),s!==null&&(eo(s,l,f),cr(s,f))}function _T(s){var l=s.memoizedState,f=0;l!==null&&(f=l.retryLane),gw(s,f)}function kT(s,l){var f=0;switch(s.tag){case 13:var g=s.stateNode,b=s.memoizedState;b!==null&&(f=b.retryLane);break;case 19:g=s.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(l),gw(s,f)}var vw;vw=function(s,l,f){if(s!==null)if(s.memoizedProps!==l.pendingProps||ir.current)or=!0;else{if((s.lanes&f)===0&&(l.flags&128)===0)return or=!1,dT(s,l,f);or=(s.flags&131072)!==0}else or=!1,Qe&&(l.flags&1048576)!==0&&Xx(l,dc,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;Nc(s,l),s=l.pendingProps;var b=Ui(l,zt.current);Hi(l,f),b=_h(null,l,g,s,b,f);var k=kh();return l.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,sr(g)?(k=!0,lc(l)):k=!1,l.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,gh(l),b.updater=kc,l.stateNode=b,b._reactInternals=l,Ah(l,g,s,f),l=Ih(null,l,g,!0,k,f)):(l.tag=0,Qe&&k&&sh(l),Qt(null,l,b,f),l=l.child),l;case 16:g=l.elementType;e:{switch(Nc(s,l),s=l.pendingProps,b=g._init,g=b(g._payload),l.type=g,b=l.tag=NT(g),s=Jr(g,s),b){case 0:l=Rh(null,l,g,s,f);break e;case 1:l=qb(null,l,g,s,f);break e;case 11:l=$b(null,l,g,s,f);break e;case 14:l=Bb(null,l,g,Jr(g.type,s),f);break e}throw Error(r(306,g,""))}return l;case 0:return g=l.type,b=l.pendingProps,b=l.elementType===g?b:Jr(g,b),Rh(s,l,g,b,f);case 1:return g=l.type,b=l.pendingProps,b=l.elementType===g?b:Jr(g,b),qb(s,l,g,b,f);case 3:e:{if(Wb(l),s===null)throw Error(r(387));g=l.pendingProps,k=l.memoizedState,b=k.element,ib(s,l),vc(l,g,null,f);var O=l.memoizedState;if(g=O.element,k.isDehydrated)if(k={element:g,isDehydrated:!1,cache:O.cache,pendingSuspenseBoundaries:O.pendingSuspenseBoundaries,transitions:O.transitions},l.updateQueue.baseState=k,l.memoizedState=k,l.flags&256){b=Yi(Error(r(423)),l),l=Kb(s,l,g,f,b);break e}else if(g!==b){b=Yi(Error(r(424)),l),l=Kb(s,l,g,f,b);break e}else for(xr=ua(l.stateNode.containerInfo.firstChild),yr=l,Qe=!0,Xr=null,f=nb(l,null,g,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Wi(),g===b){l=In(s,l,f);break e}Qt(s,l,g,f)}l=l.child}return l;case 5:return lb(l),s===null&&ch(l),g=l.type,b=l.pendingProps,k=s!==null?s.memoizedProps:null,O=b.children,eh(g,b)?O=null:k!==null&&eh(g,k)&&(l.flags|=32),zb(s,l),Qt(s,l,O,f),l.child;case 6:return s===null&&ch(l),null;case 13:return Vb(s,l,f);case 4:return vh(l,l.stateNode.containerInfo),g=l.pendingProps,s===null?l.child=Ki(l,null,g,f):Qt(s,l,g,f),l.child;case 11:return g=l.type,b=l.pendingProps,b=l.elementType===g?b:Jr(g,b),$b(s,l,g,b,f);case 7:return Qt(s,l,l.pendingProps,f),l.child;case 8:return Qt(s,l,l.pendingProps.children,f),l.child;case 12:return Qt(s,l,l.pendingProps.children,f),l.child;case 10:e:{if(g=l.type._context,b=l.pendingProps,k=l.memoizedProps,O=b.value,Ke(pc,g._currentValue),g._currentValue=O,k!==null)if(Yr(k.value,O)){if(k.children===b.children&&!ir.current){l=In(s,l,f);break e}}else for(k=l.child,k!==null&&(k.return=l);k!==null;){var R=k.dependencies;if(R!==null){O=k.child;for(var D=R.firstContext;D!==null;){if(D.context===g){if(k.tag===1){D=Rn(-1,f&-f),D.tag=2;var q=k.updateQueue;if(q!==null){q=q.shared;var J=q.pending;J===null?D.next=D:(D.next=J.next,J.next=D),q.pending=D}}k.lanes|=f,D=k.alternate,D!==null&&(D.lanes|=f),ph(k.return,f,l),R.lanes|=f;break}D=D.next}}else if(k.tag===10)O=k.type===l.type?null:k.child;else if(k.tag===18){if(O=k.return,O===null)throw Error(r(341));O.lanes|=f,R=O.alternate,R!==null&&(R.lanes|=f),ph(O,f,l),O=k.sibling}else O=k.child;if(O!==null)O.return=k;else for(O=k;O!==null;){if(O===l){O=null;break}if(k=O.sibling,k!==null){k.return=O.return,O=k;break}O=O.return}k=O}Qt(s,l,b.children,f),l=l.child}return l;case 9:return b=l.type,g=l.pendingProps.children,Hi(l,f),b=Ir(b),g=g(b),l.flags|=1,Qt(s,l,g,f),l.child;case 14:return g=l.type,b=Jr(g,l.pendingProps),b=Jr(g.type,b),Bb(s,l,g,b,f);case 15:return Fb(s,l,l.type,l.pendingProps,f);case 17:return g=l.type,b=l.pendingProps,b=l.elementType===g?b:Jr(g,b),Nc(s,l),l.tag=1,sr(g)?(s=!0,lc(l)):s=!1,Hi(l,f),Cb(l,g,b),Ah(l,g,b,f),Ih(null,l,g,!0,s,f);case 19:return Gb(s,l,f);case 22:return Ub(s,l,f)}throw Error(r(156,l.tag))};function yw(s,l){return J0(s,l)}function ST(s,l,f,g){this.tag=s,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(s,l,f,g){return new ST(s,l,f,g)}function ep(s){return s=s.prototype,!(!s||!s.isReactComponent)}function NT(s){if(typeof s=="function")return ep(s)?1:0;if(s!=null){if(s=s.$$typeof,s===H)return 11;if(s===Y)return 14}return 2}function wa(s,l){var f=s.alternate;return f===null?(f=Lr(s.tag,l,s.key,s.mode),f.elementType=s.elementType,f.type=s.type,f.stateNode=s.stateNode,f.alternate=s,s.alternate=f):(f.pendingProps=l,f.type=s.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=s.flags&14680064,f.childLanes=s.childLanes,f.lanes=s.lanes,f.child=s.child,f.memoizedProps=s.memoizedProps,f.memoizedState=s.memoizedState,f.updateQueue=s.updateQueue,l=s.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=s.sibling,f.index=s.index,f.ref=s.ref,f}function Lc(s,l,f,g,b,k){var O=2;if(g=s,typeof s=="function")ep(s)&&(O=1);else if(typeof s=="string")O=5;else e:switch(s){case T:return Za(f.children,b,k,l);case I:O=8,b|=8;break;case M:return s=Lr(12,f,l,b|2),s.elementType=M,s.lanes=k,s;case Z:return s=Lr(13,f,l,b),s.elementType=Z,s.lanes=k,s;case se:return s=Lr(19,f,l,b),s.elementType=se,s.lanes=k,s;case re:return $c(f,b,k,l);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case z:O=10;break e;case W:O=9;break e;case H:O=11;break e;case Y:O=14;break e;case le:O=16,g=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return l=Lr(O,f,l,b),l.elementType=s,l.type=g,l.lanes=k,l}function Za(s,l,f,g){return s=Lr(7,s,g,l),s.lanes=f,s}function $c(s,l,f,g){return s=Lr(22,s,g,l),s.elementType=re,s.lanes=f,s.stateNode={isHidden:!1},s}function tp(s,l,f){return s=Lr(6,s,null,l),s.lanes=f,s}function rp(s,l,f){return l=Lr(4,s.children!==null?s.children:[],s.key,l),l.lanes=f,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}function ET(s,l,f,g,b){this.tag=l,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Of(0),this.expirationTimes=Of(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Of(0),this.identifierPrefix=g,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function np(s,l,f,g,b,k,O,R,D){return s=new ET(s,l,f,R,D),l===1?(l=1,k===!0&&(l|=8)):l=0,k=Lr(3,null,null,l),s.current=k,k.stateNode=s,k.memoizedState={element:g,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},gh(k),s}function PT(s,l,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:S,key:g==null?null:""+g,children:s,containerInfo:l,implementation:f}}function xw(s){if(!s)return fa;s=s._reactInternals;e:{if(Ua(s)!==s||s.tag!==1)throw Error(r(170));var l=s;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(sr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(r(171))}if(s.tag===1){var f=s.type;if(sr(f))return Hx(s,f,l)}return l}function bw(s,l,f,g,b,k,O,R,D){return s=np(f,g,!0,s,b,k,O,R,D),s.context=xw(null),f=s.current,g=Zt(),b=xa(f),k=Rn(g,b),k.callback=l??null,ma(f,k,b),s.current.lanes=b,eo(s,b,g),cr(s,g),s}function Bc(s,l,f,g){var b=l.current,k=Zt(),O=xa(b);return f=xw(f),l.context===null?l.context=f:l.pendingContext=f,l=Rn(k,O),l.payload={element:s},g=g===void 0?null:g,g!==null&&(l.callback=g),s=ma(b,l,O),s!==null&&(en(s,b,O,k),gc(s,b,O)),O}function Fc(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function ww(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var f=s.retryLane;s.retryLane=f!==0&&f<l?f:l}}function ap(s,l){ww(s,l),(s=s.alternate)&&ww(s,l)}function OT(){return null}var jw=typeof reportError=="function"?reportError:function(s){console.error(s)};function ip(s){this._internalRoot=s}Uc.prototype.render=ip.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(r(409));Bc(s,l,null,null)},Uc.prototype.unmount=ip.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;Xa(function(){Bc(null,s,null,null)}),l[Pn]=null}};function Uc(s){this._internalRoot=s}Uc.prototype.unstable_scheduleHydration=function(s){if(s){var l=ix();s={blockedOn:null,target:s,priority:l};for(var f=0;f<oa.length&&l!==0&&l<oa[f].priority;f++);oa.splice(f,0,s),f===0&&lx(s)}};function sp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function zc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function _w(){}function AT(s,l,f,g,b){if(b){if(typeof g=="function"){var k=g;g=function(){var q=Fc(O);k.call(q)}}var O=bw(l,g,s,0,null,!1,!1,"",_w);return s._reactRootContainer=O,s[Pn]=O.current,mo(s.nodeType===8?s.parentNode:s),Xa(),O}for(;b=s.lastChild;)s.removeChild(b);if(typeof g=="function"){var R=g;g=function(){var q=Fc(D);R.call(q)}}var D=np(s,0,!1,null,null,!1,!1,"",_w);return s._reactRootContainer=D,s[Pn]=D.current,mo(s.nodeType===8?s.parentNode:s),Xa(function(){Bc(l,D,f,g)}),D}function qc(s,l,f,g,b){var k=f._reactRootContainer;if(k){var O=k;if(typeof b=="function"){var R=b;b=function(){var D=Fc(O);R.call(D)}}Bc(l,O,s,b)}else O=AT(f,l,s,b,g);return Fc(O)}nx=function(s){switch(s.tag){case 3:var l=s.stateNode;if(l.current.memoizedState.isDehydrated){var f=Zs(l.pendingLanes);f!==0&&(Af(l,f|1),cr(l,ut()),(Ie&6)===0&&(Qi=ut()+500,ha()))}break;case 13:Xa(function(){var g=Tn(s,1);if(g!==null){var b=Zt();en(g,s,1,b)}}),ap(s,1)}},Cf=function(s){if(s.tag===13){var l=Tn(s,134217728);if(l!==null){var f=Zt();en(l,s,134217728,f)}ap(s,134217728)}},ax=function(s){if(s.tag===13){var l=xa(s),f=Tn(s,l);if(f!==null){var g=Zt();en(f,s,l,g)}ap(s,l)}},ix=function(){return Be},sx=function(s,l){var f=Be;try{return Be=s,l()}finally{Be=f}},_f=function(s,l,f){switch(l){case"input":if(Hr(s,f),l=f.name,f.type==="radio"&&l!=null){for(f=s;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<f.length;l++){var g=f[l];if(g!==s&&g.form===s.form){var b=sc(g);if(!b)throw Error(r(90));ee(g),Hr(g,b)}}}break;case"textarea":D0(s,f);break;case"select":l=f.value,l!=null&&Oi(s,!!f.multiple,l,!1)}},W0=Jh,K0=Xa;var CT={usingClientEntryPoint:!1,Events:[yo,Bi,sc,z0,q0,Jh]},To={findFiberByHostInstance:za,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TT={bundleType:To.bundleType,version:To.version,rendererPackageName:To.rendererPackageName,rendererConfig:To.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Y0(s),s===null?null:s.stateNode},findFiberByHostInstance:To.findFiberByHostInstance||OT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wc.isDisabled&&Wc.supportsFiber)try{Ul=Wc.inject(TT),fn=Wc}catch{}}return ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CT,ur.createPortal=function(s,l){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sp(l))throw Error(r(200));return PT(s,l,null,f)},ur.createRoot=function(s,l){if(!sp(s))throw Error(r(299));var f=!1,g="",b=jw;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(b=l.onRecoverableError)),l=np(s,1,!1,null,null,f,!1,g,b),s[Pn]=l.current,mo(s.nodeType===8?s.parentNode:s),new ip(l)},ur.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=Y0(l),s=s===null?null:s.stateNode,s},ur.flushSync=function(s){return Xa(s)},ur.hydrate=function(s,l,f){if(!zc(l))throw Error(r(200));return qc(null,s,l,!0,f)},ur.hydrateRoot=function(s,l,f){if(!sp(s))throw Error(r(405));var g=f!=null&&f.hydratedSources||null,b=!1,k="",O=jw;if(f!=null&&(f.unstable_strictMode===!0&&(b=!0),f.identifierPrefix!==void 0&&(k=f.identifierPrefix),f.onRecoverableError!==void 0&&(O=f.onRecoverableError)),l=bw(l,null,s,1,f??null,b,!1,k,O),s[Pn]=l.current,mo(s),g)for(s=0;s<g.length;s++)f=g[s],b=f._getVersion,b=b(f._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[f,b]:l.mutableSourceEagerHydrationData.push(f,b);return new Uc(l)},ur.render=function(s,l,f){if(!zc(l))throw Error(r(200));return qc(null,s,l,!1,f)},ur.unmountComponentAtNode=function(s){if(!zc(s))throw Error(r(40));return s._reactRootContainer?(Xa(function(){qc(null,null,s,!1,function(){s._reactRootContainer=null,s[Pn]=null})}),!0):!1},ur.unstable_batchedUpdates=Jh,ur.unstable_renderSubtreeIntoContainer=function(s,l,f,g){if(!zc(f))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return qc(s,l,f,!1,g)},ur.version="18.3.1-next-f1338f8080-20240426",ur}var Cw;function PS(){if(Cw)return cp.exports;Cw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),cp.exports=FT(),cp.exports}var Tw;function UT(){if(Tw)return Kc;Tw=1;var e=PS();return Kc.createRoot=e.createRoot,Kc.hydrateRoot=e.hydrateRoot,Kc}var zT=UT();const qT=un(zT);var OS=PS();function Xo(){return Xo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xo.apply(this,arguments)}var Pa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Pa||(Pa={}));const Rw="popstate";function WT(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:u}=n.location;return Qm("",{pathname:i,search:o,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:bu(a)}return VT(t,r,null,e)}function ht(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function AS(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function KT(){return Math.random().toString(36).substr(2,8)}function Iw(e,t){return{usr:e.state,key:e.key,idx:t}}function Qm(e,t,r,n){return r===void 0&&(r=null),Xo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Es(t):t,{state:r,key:t&&t.key||n||KT()})}function bu(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Es(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function VT(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,u=Pa.Pop,d=null,h=p();h==null&&(h=0,o.replaceState(Xo({},o.state,{idx:h}),""));function p(){return(o.state||{idx:null}).idx}function m(){u=Pa.Pop;let _=p(),N=_==null?null:_-h;h=_,d&&d({action:u,location:w.location,delta:N})}function y(_,N){u=Pa.Push;let A=Qm(w.location,_,N);h=p()+1;let E=Iw(A,h),C=w.createHref(A);try{o.pushState(E,"",C)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;a.location.assign(C)}i&&d&&d({action:u,location:w.location,delta:1})}function v(_,N){u=Pa.Replace;let A=Qm(w.location,_,N);h=p();let E=Iw(A,h),C=w.createHref(A);o.replaceState(E,"",C),i&&d&&d({action:u,location:w.location,delta:0})}function j(_){let N=a.location.origin!=="null"?a.location.origin:a.location.href,A=typeof _=="string"?_:bu(_);return A=A.replace(/ $/,"%20"),ht(N,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,N)}let w={get action(){return u},get location(){return e(a,o)},listen(_){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(Rw,m),d=_,()=>{a.removeEventListener(Rw,m),d=null}},createHref(_){return t(a,_)},createURL:j,encodeLocation(_){let N=j(_);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:y,replace:v,go(_){return o.go(_)}};return w}var Dw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Dw||(Dw={}));function HT(e,t,r){return r===void 0&&(r="/"),GT(e,t,r)}function GT(e,t,r,n){let a=typeof t=="string"?Es(t):t,i=mv(a.pathname||"/",r);if(i==null)return null;let o=CS(e);YT(o);let u=null;for(let d=0;u==null&&d<o.length;++d){let h=oR(i);u=aR(o[d],h)}return u}function CS(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,u)=>{let d={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};d.relativePath.startsWith("/")&&(ht(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let h=Oa([n,d.relativePath]),p=r.concat(d);i.children&&i.children.length>0&&(ht(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),CS(i.children,t,p,h)),!(i.path==null&&!i.index)&&t.push({path:h,score:rR(h,i.index),routesMeta:p})};return e.forEach((i,o)=>{var u;if(i.path===""||!((u=i.path)!=null&&u.includes("?")))a(i,o);else for(let d of TS(i.path))a(i,o,d)}),t}function TS(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=TS(n.join("/")),u=[];return u.push(...o.map(d=>d===""?i:[i,d].join("/"))),a&&u.push(...o),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function YT(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:nR(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const XT=/^:[\w-]+$/,JT=3,QT=2,ZT=1,eR=10,tR=-2,Mw=e=>e==="*";function rR(e,t){let r=e.split("/"),n=r.length;return r.some(Mw)&&(n+=tR),t&&(n+=QT),r.filter(a=>!Mw(a)).reduce((a,i)=>a+(XT.test(i)?JT:i===""?ZT:eR),n)}function nR(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function aR(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let u=0;u<n.length;++u){let d=n[u],h=u===n.length-1,p=i==="/"?t:t.slice(i.length)||"/",m=iR({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},p),y=d.route;if(!m)return null;Object.assign(a,m.params),o.push({params:a,pathname:Oa([i,m.pathname]),pathnameBase:dR(Oa([i,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(i=Oa([i,m.pathnameBase]))}return o}function iR(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=sR(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:n.reduce((h,p,m)=>{let{paramName:y,isOptional:v}=p;if(y==="*"){let w=u[m]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const j=u[m];return v&&!j?h[y]=void 0:h[y]=(j||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:o,pattern:e}}function sR(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),AS(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,d)=>(n.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function oR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return AS(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function mv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function lR(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Es(e):e;return{pathname:r?r.startsWith("/")?r:cR(r,t):t,search:fR(n),hash:hR(a)}}function cR(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function fp(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uR(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function gv(e,t){let r=uR(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function vv(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Es(e):(a=Xo({},e),ht(!a.pathname||!a.pathname.includes("?"),fp("?","pathname","search",a)),ht(!a.pathname||!a.pathname.includes("#"),fp("#","pathname","hash",a)),ht(!a.search||!a.search.includes("#"),fp("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,u;if(o==null)u=r;else{let m=t.length-1;if(!n&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),m-=1;a.pathname=y.join("/")}u=m>=0?t[m]:"/"}let d=lR(a,u),h=o&&o!=="/"&&o.endsWith("/"),p=(i||o===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(h||p)&&(d.pathname+="/"),d}const Oa=e=>e.join("/").replace(/\/\/+/g,"/"),dR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),fR=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,hR=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function pR(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const RS=["post","put","patch","delete"];new Set(RS);const mR=["get",...RS];new Set(mR);function Jo(){return Jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jo.apply(this,arguments)}const yv=x.createContext(null),gR=x.createContext(null),Da=x.createContext(null),md=x.createContext(null),Sn=x.createContext({outlet:null,matches:[],isDataRoute:!1}),IS=x.createContext(null);function vR(e,t){let{relative:r}=t===void 0?{}:t;Ps()||ht(!1);let{basename:n,navigator:a}=x.useContext(Da),{hash:i,pathname:o,search:u}=MS(e,{relative:r}),d=o;return n!=="/"&&(d=o==="/"?n:Oa([n,o])),a.createHref({pathname:d,search:u,hash:i})}function Ps(){return x.useContext(md)!=null}function Ni(){return Ps()||ht(!1),x.useContext(md).location}function DS(e){x.useContext(Da).static||x.useLayoutEffect(e)}function Nn(){let{isDataRoute:e}=x.useContext(Sn);return e?TR():yR()}function yR(){Ps()||ht(!1);let e=x.useContext(yv),{basename:t,future:r,navigator:n}=x.useContext(Da),{matches:a}=x.useContext(Sn),{pathname:i}=Ni(),o=JSON.stringify(gv(a,r.v7_relativeSplatPath)),u=x.useRef(!1);return DS(()=>{u.current=!0}),x.useCallback(function(h,p){if(p===void 0&&(p={}),!u.current)return;if(typeof h=="number"){n.go(h);return}let m=vv(h,JSON.parse(o),i,p.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Oa([t,m.pathname])),(p.replace?n.replace:n.push)(m,p.state,p)},[t,n,o,i,e])}const xR=x.createContext(null);function bR(e){let t=x.useContext(Sn).outlet;return t&&x.createElement(xR.Provider,{value:e},t)}function gd(){let{matches:e}=x.useContext(Sn),t=e[e.length-1];return t?t.params:{}}function MS(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=x.useContext(Da),{matches:a}=x.useContext(Sn),{pathname:i}=Ni(),o=JSON.stringify(gv(a,n.v7_relativeSplatPath));return x.useMemo(()=>vv(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function wR(e,t){return jR(e,t)}function jR(e,t,r,n){Ps()||ht(!1);let{navigator:a}=x.useContext(Da),{matches:i}=x.useContext(Sn),o=i[i.length-1],u=o?o.params:{};o&&o.pathname;let d=o?o.pathnameBase:"/";o&&o.route;let h=Ni(),p;if(t){var m;let _=typeof t=="string"?Es(t):t;d==="/"||(m=_.pathname)!=null&&m.startsWith(d)||ht(!1),p=_}else p=h;let y=p.pathname||"/",v=y;if(d!=="/"){let _=d.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(_.length).join("/")}let j=HT(e,{pathname:v}),w=ER(j&&j.map(_=>Object.assign({},_,{params:Object.assign({},u,_.params),pathname:Oa([d,a.encodeLocation?a.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?d:Oa([d,a.encodeLocation?a.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,r,n);return t&&w?x.createElement(md.Provider,{value:{location:Jo({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Pa.Pop}},w):w}function _R(){let e=CR(),t=pR(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:a},r):null,null)}const kR=x.createElement(_R,null);class SR extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(Sn.Provider,{value:this.props.routeContext},x.createElement(IS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function NR(e){let{routeContext:t,match:r,children:n}=e,a=x.useContext(yv);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(Sn.Provider,{value:t},n)}function ER(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,u=(a=r)==null?void 0:a.errors;if(u!=null){let p=o.findIndex(m=>m.route.id&&u?.[m.route.id]!==void 0);p>=0||ht(!1),o=o.slice(0,Math.min(o.length,p+1))}let d=!1,h=-1;if(r&&n&&n.v7_partialHydration)for(let p=0;p<o.length;p++){let m=o[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:y,errors:v}=r,j=m.route.loader&&y[m.route.id]===void 0&&(!v||v[m.route.id]===void 0);if(m.route.lazy||j){d=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((p,m,y)=>{let v,j=!1,w=null,_=null;r&&(v=u&&m.route.id?u[m.route.id]:void 0,w=m.route.errorElement||kR,d&&(h<0&&y===0?(RR("route-fallback"),j=!0,_=null):h===y&&(j=!0,_=m.route.hydrateFallbackElement||null)));let N=t.concat(o.slice(0,y+1)),A=()=>{let E;return v?E=w:j?E=_:m.route.Component?E=x.createElement(m.route.Component,null):m.route.element?E=m.route.element:E=p,x.createElement(NR,{match:m,routeContext:{outlet:p,matches:N,isDataRoute:r!=null},children:E})};return r&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?x.createElement(SR,{location:r.location,revalidation:r.revalidation,component:w,error:v,children:A(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):A()},null)}var LS=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(LS||{}),$S=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})($S||{});function PR(e){let t=x.useContext(yv);return t||ht(!1),t}function OR(e){let t=x.useContext(gR);return t||ht(!1),t}function AR(e){let t=x.useContext(Sn);return t||ht(!1),t}function BS(e){let t=AR(),r=t.matches[t.matches.length-1];return r.route.id||ht(!1),r.route.id}function CR(){var e;let t=x.useContext(IS),r=OR(),n=BS();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function TR(){let{router:e}=PR(LS.UseNavigateStable),t=BS($S.UseNavigateStable),r=x.useRef(!1);return DS(()=>{r.current=!0}),x.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Jo({fromRouteId:t},i)))},[e,t])}const Lw={};function RR(e,t,r){Lw[e]||(Lw[e]=!0)}function IR(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath}function Qo(e){let{to:t,replace:r,state:n,relative:a}=e;Ps()||ht(!1);let{future:i,static:o}=x.useContext(Da),{matches:u}=x.useContext(Sn),{pathname:d}=Ni(),h=Nn(),p=vv(t,gv(u,i.v7_relativeSplatPath),d,a==="path"),m=JSON.stringify(p);return x.useEffect(()=>h(JSON.parse(m),{replace:r,state:n,relative:a}),[h,m,a,r,n]),null}function DR(e){return bR(e.context)}function Ze(e){ht(!1)}function MR(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Pa.Pop,navigator:i,static:o=!1,future:u}=e;Ps()&&ht(!1);let d=t.replace(/^\/*/,"/"),h=x.useMemo(()=>({basename:d,navigator:i,static:o,future:Jo({v7_relativeSplatPath:!1},u)}),[d,u,i,o]);typeof n=="string"&&(n=Es(n));let{pathname:p="/",search:m="",hash:y="",state:v=null,key:j="default"}=n,w=x.useMemo(()=>{let _=mv(p,d);return _==null?null:{location:{pathname:_,search:m,hash:y,state:v,key:j},navigationType:a}},[d,p,m,y,v,j,a]);return w==null?null:x.createElement(Da.Provider,{value:h},x.createElement(md.Provider,{children:r,value:w}))}function LR(e){let{children:t,location:r}=e;return wR(Zm(t),r)}new Promise(()=>{});function Zm(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,a)=>{if(!x.isValidElement(n))return;let i=[...t,a];if(n.type===x.Fragment){r.push.apply(r,Zm(n.props.children,i));return}n.type!==Ze&&ht(!1),!n.props.index||!n.props.children||ht(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Zm(n.props.children,i)),r.push(o)}),r}function eg(){return eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eg.apply(this,arguments)}function $R(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function BR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function FR(e,t){return e.button===0&&(!t||t==="_self")&&!BR(e)}function tg(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function UR(e,t){let r=tg(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const zR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],qR="6";try{window.__reactRouterVersion=qR}catch{}const WR="startTransition",$w=ES[WR];function KR(e){let{basename:t,children:r,future:n,window:a}=e,i=x.useRef();i.current==null&&(i.current=WT({window:a,v5Compat:!0}));let o=i.current,[u,d]=x.useState({action:o.action,location:o.location}),{v7_startTransition:h}=n||{},p=x.useCallback(m=>{h&&$w?$w(()=>d(m)):d(m)},[d,h]);return x.useLayoutEffect(()=>o.listen(p),[o,p]),x.useEffect(()=>IR(n),[n]),x.createElement(MR,{basename:t,children:r,location:u.location,navigationType:u.action,navigator:o,future:n})}const VR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_e=x.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:u,target:d,to:h,preventScrollReset:p,viewTransition:m}=t,y=$R(t,zR),{basename:v}=x.useContext(Da),j,w=!1;if(typeof h=="string"&&HR.test(h)&&(j=h,VR))try{let E=new URL(window.location.href),C=h.startsWith("//")?new URL(E.protocol+h):new URL(h),P=mv(C.pathname,v);C.origin===E.origin&&P!=null?h=P+C.search+C.hash:w=!0}catch{}let _=vR(h,{relative:a}),N=GR(h,{replace:o,state:u,target:d,preventScrollReset:p,relative:a,viewTransition:m});function A(E){n&&n(E),E.defaultPrevented||N(E)}return x.createElement("a",eg({},y,{href:j||_,onClick:w||i?n:A,ref:r,target:d}))});var Bw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Bw||(Bw={}));var Fw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Fw||(Fw={}));function GR(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:u}=t===void 0?{}:t,d=Nn(),h=Ni(),p=MS(e,{relative:o});return x.useCallback(m=>{if(FR(m,r)){m.preventDefault();let y=n!==void 0?n:bu(h)===bu(p);d(e,{replace:y,state:a,preventScrollReset:i,relative:o,viewTransition:u})}},[h,d,p,n,a,r,e,i,o,u])}function FS(e){let t=x.useRef(tg(e)),r=x.useRef(!1),n=Ni(),a=x.useMemo(()=>UR(n.search,r.current?null:t.current),[n.search]),i=Nn(),o=x.useCallback((u,d)=>{const h=tg(typeof u=="function"?u(a):u);r.current=!0,i("?"+h,d)},[i,a]);return[a,o]}var rg=function(e,t){return rg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},rg(e,t)};function US(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");rg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var wu=function(){return wu=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},wu.apply(this,arguments)};function Os(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function zS(e,t,r,n){var a=arguments.length,i=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function qS(e,t){return function(r,n){t(r,n,e)}}function WS(e,t,r,n,a,i){function o(N){if(N!==void 0&&typeof N!="function")throw new TypeError("Function expected");return N}for(var u=n.kind,d=u==="getter"?"get":u==="setter"?"set":"value",h=!t&&e?n.static?e:e.prototype:null,p=t||(h?Object.getOwnPropertyDescriptor(h,n.name):{}),m,y=!1,v=r.length-1;v>=0;v--){var j={};for(var w in n)j[w]=w==="access"?{}:n[w];for(var w in n.access)j.access[w]=n.access[w];j.addInitializer=function(N){if(y)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(N||null))};var _=(0,r[v])(u==="accessor"?{get:p.get,set:p.set}:p[d],j);if(u==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(m=o(_.get))&&(p.get=m),(m=o(_.set))&&(p.set=m),(m=o(_.init))&&a.unshift(m)}else(m=o(_))&&(u==="field"?a.unshift(m):p[d]=m)}h&&Object.defineProperty(h,n.name,p),y=!0}function KS(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function VS(e){return typeof e=="symbol"?e:"".concat(e)}function HS(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function GS(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ge(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function u(p){try{h(n.next(p))}catch(m){o(m)}}function d(p){try{h(n.throw(p))}catch(m){o(m)}}function h(p){p.done?i(p.value):a(p.value).then(u,d)}h((n=n.apply(e,t||[])).next())})}function YS(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=u(0),o.throw=u(1),o.return=u(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(h){return function(p){return d([h,p])}}function d(h){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,h[0]&&(r=0)),r;)try{if(n=1,a&&(i=h[0]&2?a.return:h[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,h[1])).done)return i;switch(a=0,i&&(h=[h[0]&2,i.value]),h[0]){case 0:case 1:i=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,a=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!i||h[1]>i[0]&&h[1]<i[3])){r.label=h[1];break}if(h[0]===6&&r.label<i[1]){r.label=i[1],i=h;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(h);break}i[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(p){h=[6,p],a=0}finally{n=i=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var vd=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});function XS(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&vd(t,e,r)}function ju(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function xv(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(u){o={error:u}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function JS(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(xv(arguments[t]));return e}function QS(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var i=arguments[t],o=0,u=i.length;o<u;o++,a++)n[a]=i[o];return n}function ZS(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function gs(e){return this instanceof gs?(this.v=e,this):new gs(e)}function eN(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",o),a[Symbol.asyncIterator]=function(){return this},a;function o(v){return function(j){return Promise.resolve(j).then(v,m)}}function u(v,j){n[v]&&(a[v]=function(w){return new Promise(function(_,N){i.push([v,w,_,N])>1||d(v,w)})},j&&(a[v]=j(a[v])))}function d(v,j){try{h(n[v](j))}catch(w){y(i[0][3],w)}}function h(v){v.value instanceof gs?Promise.resolve(v.value.v).then(p,m):y(i[0][2],v)}function p(v){d("next",v)}function m(v){d("throw",v)}function y(v,j){v(j),i.shift(),i.length&&d(i[0][0],i[0][1])}}function tN(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,i){t[a]=e[a]?function(o){return(r=!r)?{value:gs(e[a](o)),done:!1}:i?i(o):o}:i}}function rN(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof ju=="function"?ju(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(u,d){o=e[i](o),a(u,d,o.done,o.value)})}}function a(i,o,u,d){Promise.resolve(d).then(function(h){i({value:h,done:u})},o)}}function nN(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var YR=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},ng=function(e){return ng=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},ng(e)};function aN(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=ng(e),n=0;n<r.length;n++)r[n]!=="default"&&vd(t,e,r[n]);return YR(t,e),t}function iN(e){return e&&e.__esModule?e:{default:e}}function sN(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function oN(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function lN(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function cN(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var XR=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function uN(e){function t(i){e.error=e.hasError?new XR(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(a,function(o){return t(o),a()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function dN(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,i,o){return n?t?".jsx":".js":a&&(!i||!o)?r:a+i+"."+o.toLowerCase()+"js"}):e}const JR={__extends:US,__assign:wu,__rest:Os,__decorate:zS,__param:qS,__esDecorate:WS,__runInitializers:KS,__propKey:VS,__setFunctionName:HS,__metadata:GS,__awaiter:ge,__generator:YS,__createBinding:vd,__exportStar:XS,__values:ju,__read:xv,__spread:JS,__spreadArrays:QS,__spreadArray:ZS,__await:gs,__asyncGenerator:eN,__asyncDelegator:tN,__asyncValues:rN,__makeTemplateObject:nN,__importStar:aN,__importDefault:iN,__classPrivateFieldGet:sN,__classPrivateFieldSet:oN,__classPrivateFieldIn:lN,__addDisposableResource:cN,__disposeResources:uN,__rewriteRelativeImportExtension:dN},QR=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:cN,get __assign(){return wu},__asyncDelegator:tN,__asyncGenerator:eN,__asyncValues:rN,__await:gs,__awaiter:ge,__classPrivateFieldGet:sN,__classPrivateFieldIn:lN,__classPrivateFieldSet:oN,__createBinding:vd,__decorate:zS,__disposeResources:uN,__esDecorate:WS,__exportStar:XS,__extends:US,__generator:YS,__importDefault:iN,__importStar:aN,__makeTemplateObject:nN,__metadata:GS,__param:qS,__propKey:VS,__read:xv,__rest:Os,__rewriteRelativeImportExtension:dN,__runInitializers:KS,__setFunctionName:HS,__spread:JS,__spreadArray:ZS,__spreadArrays:QS,__values:ju,default:JR},Symbol.toStringTag,{value:"Module"})),ZR=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class bv extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Uw extends bv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class zw extends bv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class qw extends bv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ag;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ag||(ag={}));class eI{constructor(t,{headers:r={},customFetch:n,region:a=ag.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=ZR(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ge(this,arguments,void 0,function*(r,n={}){var a;try{const{headers:i,method:o,body:u,signal:d}=n;let h={},{region:p}=n;p||(p=this.region);const m=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,m.searchParams.set("forceFunctionRegion",p));let y;u&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(h["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(h["Content-Type"]="application/json",y=JSON.stringify(u)):y=u;const v=yield this.fetch(m.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),i),body:y,signal:d}).catch(N=>{throw N.name==="AbortError"?N:new Uw(N)}),j=v.headers.get("x-relay-error");if(j&&j==="true")throw new zw(v);if(!v.ok)throw new qw(v);let w=((a=v.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),_;return w==="application/json"?_=yield v.json():w==="application/octet-stream"||w==="application/pdf"?_=yield v.blob():w==="text/event-stream"?_=v:w==="multipart/form-data"?_=yield v.formData():_=yield v.text(),{data:_,error:null,response:v}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new Uw(i)}:{data:null,error:i,response:i instanceof qw||i instanceof zw?i.context:void 0}}})}}var Vt={};const As=IT(QR);var Vc={},Hc={},Gc={},Yc={},Xc={},Jc={},Ww;function fN(){if(Ww)return Jc;Ww=1,Object.defineProperty(Jc,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Jc.default=e,Jc}var Kw;function hN(){if(Kw)return Xc;Kw=1,Object.defineProperty(Xc,"__esModule",{value:!0});const t=As.__importDefault(fN());class r{constructor(a){var i,o;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(i=a.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=a.signal,this.isMaybeSingle=(o=a.isMaybeSingle)!==null&&o!==void 0?o:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,i){return this.headers=new Headers(this.headers),this.headers.set(a,i),this}then(a,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let u=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var h,p,m,y;let v=null,j=null,w=null,_=d.status,N=d.statusText;if(d.ok){if(this.method!=="HEAD"){const P=await d.text();P===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?j=P:j=JSON.parse(P))}const E=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),C=(m=d.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");E&&C&&C.length>1&&(w=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(v={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,w=null,_=406,N="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const E=await d.text();try{v=JSON.parse(E),Array.isArray(v)&&d.status===404&&(j=[],v=null,_=200,N="OK")}catch{d.status===404&&E===""?(_=204,N="No Content"):v={message:E}}if(v&&this.isMaybeSingle&&(!((y=v?.details)===null||y===void 0)&&y.includes("0 rows"))&&(v=null,_=200,N="OK"),v&&this.shouldThrowOnError)throw new t.default(v)}return{error:v,data:j,count:w,status:_,statusText:N}});return this.shouldThrowOnError||(u=u.catch(d=>{var h,p,m;return{error:{message:`${(h=d?.name)!==null&&h!==void 0?h:"FetchError"}: ${d?.message}`,details:`${(p=d?.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(m=d?.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),u.then(a,i)}returns(){return this}overrideTypes(){return this}}return Xc.default=r,Xc}var Vw;function pN(){if(Vw)return Yc;Vw=1,Object.defineProperty(Yc,"__esModule",{value:!0});const t=As.__importDefault(hN());class r extends t.default{select(a){let i=!1;const o=(a??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:o,foreignTable:u,referencedTable:d=u}={}){const h=d?`${d}.order`:"order",p=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${p?`${p},`:""}${a}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:o=i}={}){const u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(u,`${a}`),this}range(a,i,{foreignTable:o,referencedTable:u=o}={}){const d=typeof u>"u"?"offset":`${u}.offset`,h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${a}`),this.url.searchParams.set(h,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:o=!1,buffers:u=!1,wal:d=!1,format:h="text"}={}){var p;const m=[a?"analyze":null,i?"verbose":null,o?"settings":null,u?"buffers":null,d?"wal":null].filter(Boolean).join("|"),y=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${y}"; options=${m};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Yc.default=r,Yc}var Hw;function wv(){if(Hw)return Gc;Hw=1,Object.defineProperty(Gc,"__esModule",{value:!0});const t=As.__importDefault(pN()),r=new RegExp("[,()]");class n extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const u=Array.from(new Set(o)).map(d=>typeof d=="string"&&r.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(i,`in.(${u})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:u,type:d}={}){let h="";d==="plain"?h="pl":d==="phrase"?h="ph":d==="websearch"&&(h="w");const p=u===void 0?"":`(${u})`;return this.url.searchParams.append(i,`${h}fts${p}.${o}`),this}match(i){return Object.entries(i).forEach(([o,u])=>{this.url.searchParams.append(o,`eq.${u}`)}),this}not(i,o,u){return this.url.searchParams.append(i,`not.${o}.${u}`),this}or(i,{foreignTable:o,referencedTable:u=o}={}){const d=u?`${u}.or`:"or";return this.url.searchParams.append(d,`(${i})`),this}filter(i,o,u){return this.url.searchParams.append(i,`${o}.${u}`),this}}return Gc.default=n,Gc}var Gw;function mN(){if(Gw)return Hc;Gw=1,Object.defineProperty(Hc,"__esModule",{value:!0});const t=As.__importDefault(wv());class r{constructor(a,{headers:i={},schema:o,fetch:u}){this.url=a,this.headers=new Headers(i),this.schema=o,this.fetch=u}select(a,i){const{head:o=!1,count:u}=i??{},d=o?"HEAD":"GET";let h=!1;const p=(a??"*").split("").map(m=>/\s/.test(m)&&!h?"":(m==='"'&&(h=!h),m)).join("");return this.url.searchParams.set("select",p),u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:o=!0}={}){var u;const d="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const h=a.reduce((p,m)=>p.concat(Object.keys(m)),[]);if(h.length>0){const p=[...new Set(h)].map(m=>`"${m}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:o=!1,count:u,defaultToNull:d=!0}={}){var h;const p="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const m=a.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(m.length>0){const y=[...new Set(m)].map(v=>`"${v}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(a,{count:i}={}){var o;const u="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:a}={}){var i;const o="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Hc.default=r,Hc}var Yw;function tI(){if(Yw)return Vc;Yw=1,Object.defineProperty(Vc,"__esModule",{value:!0});const e=As,t=e.__importDefault(mN()),r=e.__importDefault(wv());class n{constructor(i,{headers:o={},schema:u,fetch:d}={}){this.url=i,this.headers=new Headers(o),this.schemaName=u,this.fetch=d}from(i){const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:u=!1,get:d=!1,count:h}={}){var p;let m;const y=new URL(`${this.url}/rpc/${i}`);let v;u||d?(m=u?"HEAD":"GET",Object.entries(o).filter(([w,_])=>_!==void 0).map(([w,_])=>[w,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([w,_])=>{y.searchParams.append(w,_)})):(m="POST",v=o);const j=new Headers(this.headers);return h&&j.set("Prefer",`count=${h}`),new r.default({method:m,url:y,headers:j,schema:this.schemaName,body:v,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return Vc.default=n,Vc}var Xw;function rI(){if(Xw)return Vt;Xw=1,Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.PostgrestError=Vt.PostgrestBuilder=Vt.PostgrestTransformBuilder=Vt.PostgrestFilterBuilder=Vt.PostgrestQueryBuilder=Vt.PostgrestClient=void 0;const e=As,t=e.__importDefault(tI());Vt.PostgrestClient=t.default;const r=e.__importDefault(mN());Vt.PostgrestQueryBuilder=r.default;const n=e.__importDefault(wv());Vt.PostgrestFilterBuilder=n.default;const a=e.__importDefault(pN());Vt.PostgrestTransformBuilder=a.default;const i=e.__importDefault(hN());Vt.PostgrestBuilder=i.default;const o=e.__importDefault(fN());return Vt.PostgrestError=o.default,Vt.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:i.default,PostgrestError:o.default},Vt}var gN=rI();const vN=un(gN),nI=SS({__proto__:null,default:vN},[gN]),{PostgrestClient:aI,PostgrestQueryBuilder:CG,PostgrestFilterBuilder:TG,PostgrestTransformBuilder:RG,PostgrestBuilder:IG,PostgrestError:DG}=vN||nI;class iI{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const sI="2.80.0",oI=`realtime-js/${sI}`,lI="1.0.0",ig=1e4,cI=1e3,uI=100;var Vo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Vo||(Vo={}));var jt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(jt||(jt={}));var an;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(an||(an={}));var sg;(function(e){e.websocket="websocket"})(sg||(sg={}));var si;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(si||(si={}));class dI{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const u=n.decode(t.slice(o,o+a));o=o+a;const d=n.decode(t.slice(o,o+i));o=o+i;const h=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:u,event:d,payload:h}}}class yN{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ve;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ve||(Ve={}));const Jw=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=fI(o,e,t,a),i),{}):{}},fI=(e,t,r,n)=>{const a=t.find(u=>u.name===e),i=a?.type,o=r[e];return i&&!n.includes(i)?xN(i,o):og(o)},xN=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return gI(t,r)}switch(e){case Ve.bool:return hI(t);case Ve.float4:case Ve.float8:case Ve.int2:case Ve.int4:case Ve.int8:case Ve.numeric:case Ve.oid:return pI(t);case Ve.json:case Ve.jsonb:return mI(t);case Ve.timestamp:return vI(t);case Ve.abstime:case Ve.date:case Ve.daterange:case Ve.int4range:case Ve.int8range:case Ve.money:case Ve.reltime:case Ve.text:case Ve.time:case Ve.timestamptz:case Ve.timetz:case Ve.tsrange:case Ve.tstzrange:return og(t);default:return og(t)}},og=e=>e,hI=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},pI=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},mI=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},gI=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(u=>xN(t,u))}return e},vI=e=>typeof e=="string"?e.replace(" ","T"):e,bN=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class hp{constructor(t,r,n={},a=ig){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Qw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Qw||(Qw={}));class Ho{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ho.syncState(this.state,a,i,o),this.pendingDiffs.forEach(d=>{this.state=Ho.syncDiff(this.state,d,i,o)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Ho.syncDiff(this.state,a,i,o),u())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),u={},d={};return this.map(i,(h,p)=>{o[h]||(d[h]=p)}),this.map(o,(h,p)=>{const m=i[h];if(m){const y=p.map(_=>_.presence_ref),v=m.map(_=>_.presence_ref),j=p.filter(_=>v.indexOf(_.presence_ref)<0),w=m.filter(_=>y.indexOf(_.presence_ref)<0);j.length>0&&(u[h]=j),w.length>0&&(d[h]=w)}else u[h]=p}),this.syncDiff(i,{joins:u,leaves:d},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(u,d)=>{var h;const p=(h=t[u])!==null&&h!==void 0?h:[];if(t[u]=this.cloneDeep(d),p.length>0){const m=t[u].map(v=>v.presence_ref),y=p.filter(v=>m.indexOf(v.presence_ref)<0);t[u].unshift(...y)}n(u,p,d)}),this.map(o,(u,d)=>{let h=t[u];if(!h)return;const p=d.map(m=>m.presence_ref);h=h.filter(m=>p.indexOf(m.presence_ref)<0),t[u]=h,a(u,h,d),h.length===0&&delete t[u]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Zw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Zw||(Zw={}));var Go;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Go||(Go={}));var Mn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Mn||(Mn={}));class jv{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=jt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new hp(this,an.join,this.params,this.timeout),this.rejoinTimer=new yN(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=jt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=jt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(an.reply,{},(o,u)=>{this._trigger(this._replyEventName(u),o)}),this.presence=new Ho(this),this.broadcastEndpointURL=bN(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==jt.closed){const{config:{broadcast:o,presence:u,private:d}}=this.params,h=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&a!==void 0?a:[],p=!!this.bindings[Go.PRESENCE]&&this.bindings[Go.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,m={},y={broadcast:o,presence:Object.assign(Object.assign({},u),{enabled:p}),postgres_changes:h,private:d};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(v=>t?.(Mn.CHANNEL_ERROR,v)),this._onClose(()=>t?.(Mn.CLOSED)),this.updateJoinPayload(Object.assign({config:y},m)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var j;if(this.socket.setAuth(),v===void 0){t?.(Mn.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,_=(j=w?.length)!==null&&j!==void 0?j:0,N=[];for(let A=0;A<_;A++){const E=w[A],{filter:{event:C,schema:P,table:S,filter:T}}=E,I=v&&v[A];if(I&&I.event===C&&I.schema===P&&I.table===S&&I.filter===T)N.push(Object.assign(Object.assign({},E),{id:I.id}));else{this.unsubscribe(),this.state=jt.errored,t?.(Mn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(Mn.SUBSCRIBED);return}}).receive("error",v=>{this.state=jt.errored,t?.(Mn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t?.(Mn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===jt.joined&&t===Go.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const h=await u.json();d=h.error||h.message||d}catch{}return Promise.reject(new Error(d))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=h.body)===null||a===void 0?void 0:a.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,u,d;const h=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(u=(o=this.params)===null||o===void 0?void 0:o.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&i("ok"),h.receive("ok",()=>i("ok")),h.receive("error",()=>i("error")),h.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=jt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(an.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new hp(this,an.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=jt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new hp(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>uI){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:u,error:d,leave:h,join:p}=an;if(n&&[u,d,h,p].indexOf(o)>=0&&n!==this._joinRef())return;let y=this._onMessage(o,r,n);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(v=>{var j,w,_;return((j=v.filter)===null||j===void 0?void 0:j.event)==="*"||((_=(w=v.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(v=>v.callback(y,n)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var j,w,_,N,A,E;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const C=v.id,P=(j=v.filter)===null||j===void 0?void 0:j.event;return C&&((w=r.ids)===null||w===void 0?void 0:w.includes(C))&&(P==="*"||P?.toLocaleLowerCase()===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const C=(A=(N=v?.filter)===null||N===void 0?void 0:N.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return C==="*"||C===((E=r?.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof y=="object"&&"ids"in y){const j=y.data,{schema:w,table:_,commit_timestamp:N,type:A,errors:E}=j;y=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:N,eventType:A,new:{},old:{},errors:E}),this._getPayloadRecords(j))}v.callback(y,n)})}_isClosed(){return this.state===jt.closed}_isJoined(){return this.state===jt.joined}_isJoining(){return this.state===jt.joining}_isLeaving(){return this.state===jt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&jv.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(an.close,{},t)}_onError(t){this._on(an.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=jt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Jw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Jw(t.columns,t.old_record)),r}}const pp=()=>{},Qc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},yI=[1e3,2e3,5e3,1e4],xI=1e4,bI=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class wI{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ig,this.transport=null,this.heartbeatIntervalMs=Qc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=pp,this.ref=0,this.reconnectTimer=null,this.logger=pp,this.conn=null,this.sendBuffer=[],this.serializer=new dI,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${sg.websocket}`,this.httpEndpoint=bN(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=iI.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:lI}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Vo.connecting:return si.Connecting;case Vo.open:return si.Open;case Vo.closing:return si.Closing;default:return si.Closed}}isConnected(){return this.connectionState()===si.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new jv(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(cI,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Qc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,u=o?`(${o})`:"",d=i.status||"";this.log("receive",`${d} ${n} ${a} ${u}`.trim(),i),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(an.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([bI],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:oI};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(an.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new yN(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Qc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,u,d,h,p;if(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:ig,this.heartbeatIntervalMs=(a=t?.heartbeatIntervalMs)!==null&&a!==void 0?a:Qc.HEARTBEAT_INTERVAL,this.worker=(i=t?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(u=t?.heartbeatCallback)!==null&&u!==void 0?u:pp,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t?.reconnectAfterMs)!==null&&d!==void 0?d:(m=>yI[m-1]||xI),this.encode=(h=t?.encode)!==null&&h!==void 0?h:((m,y)=>y(JSON.stringify(m))),this.decode=(p=t?.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class _v extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function st(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class jI extends _v{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class lg extends _v{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const kv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),_I=()=>Response,cg=e=>{if(Array.isArray(e))return e.map(r=>cg(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=cg(n)}),t},kI=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},mp=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},SI=(e,t,r)=>ge(void 0,void 0,void 0,function*(){const n=yield _I();e instanceof n&&!r?.noResolveJson?e.json().then(a=>{const i=e.status||500,o=a?.statusCode||i+"";t(new jI(mp(a),i,o))}).catch(a=>{t(new lg(mp(a),a))}):t(new lg(mp(e),e))}),NI=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"||!n?a:(kI(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,t?.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function ml(e,t,r,n,a,i){return ge(this,void 0,void 0,function*(){return new Promise((o,u)=>{e(r,NI(t,n,a,i)).then(d=>{if(!d.ok)throw d;return n?.noResolveJson?d:d.json()}).then(d=>o(d)).catch(d=>SI(d,u,n))})})}function Zo(e,t,r,n){return ge(this,void 0,void 0,function*(){return ml(e,"GET",t,r,n)})}function nn(e,t,r,n,a){return ge(this,void 0,void 0,function*(){return ml(e,"POST",t,n,a,r)})}function ug(e,t,r,n,a){return ge(this,void 0,void 0,function*(){return ml(e,"PUT",t,n,a,r)})}function EI(e,t,r,n){return ge(this,void 0,void 0,function*(){return ml(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Sv(e,t,r,n,a){return ge(this,void 0,void 0,function*(){return ml(e,"DELETE",t,n,a,r)})}class PI{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return ge(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(st(t))return{data:null,error:t};throw t}})}}var wN;class OI{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[wN]="BlobDownloadBuilder",this.promise=null}asStream(){return new PI(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ge(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(st(t))return{data:null,error:t};throw t}})}}wN=Symbol.toStringTag;const AI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ej={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class CI{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=kv(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return ge(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},ej),a);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const d=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),d&&i.append("metadata",this.encodeMetadata(d)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),d&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(d))):(i=n,u["cache-control"]=`max-age=${o.cacheControl}`,u["content-type"]=o.contentType,d&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(d))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),a?.headers&&(u=Object.assign(Object.assign({},u),a.headers));const h=this._removeEmptyFolders(r),p=this._getFinalPath(h),m=yield(t=="PUT"?ug:nn)(this.fetch,`${this.url}/object/${p}`,i,Object.assign({headers:u},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:h,id:m.Id,fullPath:m.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}upload(t,r,n){return ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return ge(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),u=new URL(this.url+`/object/upload/sign/${o}`);u.searchParams.set("token",r);try{let d;const h=Object.assign({upsert:ej.upsert},a),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",h.cacheControl)):(d=n,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType);const m=yield ug(this.fetch,u.toString(),d,{headers:p});return{data:{path:i,fullPath:m.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(st(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,r){return ge(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r?.upsert&&(a["x-upsert"]="true");const i=yield nn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),u=o.searchParams.get("token");if(!u)throw new _v("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:u},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}update(t,r,n){return ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return ge(this,void 0,void 0,function*(){try{return{data:yield nn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a))return{data:null,error:a};throw a}})}copy(t,r,n){return ge(this,void 0,void 0,function*(){try{return{data:{path:(yield nn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return ge(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield nn(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return ge(this,void 0,void 0,function*(){try{const a=yield nn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof r?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(r?.transform||{}),o=i?`?${i}`:"",u=this._getFinalPath(t),d=()=>Zo(this.fetch,`${this.url}/${a}/${u}${o}`,{headers:this.headers,noResolveJson:!0});return new OI(d,this.shouldThrowOnError)}info(t){return ge(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Zo(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:cg(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}exists(t){return ge(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield EI(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n)&&n instanceof lg){const a=n.originalError;if([400,404].includes(a?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r?.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const u=typeof r?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(r?.transform||{});d!==""&&a.push(d);let h=a.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${n}${h}`)}}}remove(t){return ge(this,void 0,void 0,function*(){try{return{data:yield Sv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}list(t,r,n){return ge(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},AI),r),{prefix:t||""});return{data:yield nn(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a))return{data:null,error:a};throw a}})}listV2(t,r){return ge(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield nn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const jN="2.80.0",_N={"X-Client-Info":`storage-js/${jN}`};class TI{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},_N),r),this.fetch=kv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return ge(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Zo(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}getBucket(t){return ge(this,void 0,void 0,function*(){try{return{data:yield Zo(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}createBucket(t){return ge(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield nn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return ge(this,void 0,void 0,function*(){try{return{data:yield ug(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ge(this,void 0,void 0,function*(){try{return{data:yield nn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ge(this,void 0,void 0,function*(){try{return{data:yield Sv(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class RI{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},_N),r),this.fetch=kv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ge(this,void 0,void 0,function*(){try{return{data:yield nn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}listBuckets(t){return ge(this,void 0,void 0,function*(){try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Zo(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ge(this,void 0,void 0,function*(){try{return{data:yield Sv(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}}const Nv={"X-Client-Info":`storage-js/${jN}`,"Content-Type":"application/json"};class kN extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Sr(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class gp extends kN{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class II extends kN{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var tj;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(tj||(tj={}));const Ev=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),DI=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},rj=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),MI=(e,t,r)=>ge(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!r?.noResolveJson){const a=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const u=o?.statusCode||o?.code||a+"";t(new gp(rj(o),a,u))}).catch(()=>{const o=a+"",u=i.statusText||`HTTP ${a} error`;t(new gp(u,a,o))});else{const o=a+"",u=i.statusText||`HTTP ${a} error`;t(new gp(u,a,o))}}else t(new II(rj(e),e))}),LI=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return n?(DI(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function $I(e,t,r,n,a,i){return ge(this,void 0,void 0,function*(){return new Promise((o,u)=>{e(r,LI(t,n,a,i)).then(d=>{if(!d.ok)throw d;if(n?.noResolveJson)return d;const h=d.headers.get("content-type");return!h||!h.includes("application/json")?{}:d.json()}).then(d=>o(d)).catch(d=>MI(d,u,n))})})}function Nr(e,t,r,n,a){return ge(this,void 0,void 0,function*(){return $I(e,"POST",t,n,a,r)})}class BI{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Nv),r),this.fetch=Ev(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return ge(this,void 0,void 0,function*(){try{return{data:(yield Nr(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}})}getIndex(t,r){return ge(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Sr(n))return{data:null,error:n};throw n}})}listIndexes(t){return ge(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return ge(this,void 0,void 0,function*(){try{return{data:(yield Nr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Sr(n))return{data:null,error:n};throw n}})}}class FI{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Nv),r),this.fetch=Ev(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return ge(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Nr(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}})}getVectors(t){return ge(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}})}listVectors(t){return ge(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Nr(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}})}queryVectors(t){return ge(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}})}deleteVectors(t){return ge(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Nr(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}})}}class UI{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Nv),r),this.fetch=Ev(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ge(this,void 0,void 0,function*(){try{return{data:(yield Nr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}})}getBucket(t){return ge(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}})}listBuckets(){return ge(this,arguments,void 0,function*(t={}){try{return{data:yield Nr(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ge(this,void 0,void 0,function*(){try{return{data:(yield Nr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}})}}class zI extends UI{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new qI(this.url,this.headers,t,this.fetch)}}class qI extends BI{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ge(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ge(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ge(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ge(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new WI(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class WI extends FI{constructor(t,r,n,a,i){super(t,r,i),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ge(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ge(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ge(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ge(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ge(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class KI extends TI{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new CI(this.url,this.headers,t,this.fetch)}get vectors(){return new zI(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new RI(this.url+"/iceberg",this.headers,this.fetch)}}const VI="2.80.0";let qo="";typeof Deno<"u"?qo="deno":typeof document<"u"?qo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qo="react-native":qo="node";const HI={"X-Client-Info":`supabase-js-${qo}/${VI}`},GI={headers:HI},YI={schema:"public"},XI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},JI={},QI=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ZI=()=>Headers,eD=(e,t,r)=>{const n=QI(r),a=ZI();return async(i,o)=>{var u;const d=(u=await t())!==null&&u!==void 0?u:e;let h=new a(o?.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${d}`),n(i,Object.assign(Object.assign({},o),{headers:h}))}};function tD(e){return e.endsWith("/")?e:e+"/"}function rD(e,t){var r,n;const{db:a,auth:i,realtime:o,global:u}=e,{db:d,auth:h,realtime:p,global:m}=t,y={db:Object.assign(Object.assign({},d),a),auth:Object.assign(Object.assign({},h),i),realtime:Object.assign(Object.assign({},p),o),storage:{},global:Object.assign(Object.assign(Object.assign({},m),u),{headers:Object.assign(Object.assign({},(r=m?.headers)!==null&&r!==void 0?r:{}),(n=u?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}function nD(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(tD(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const SN="2.80.0",ls=30*1e3,dg=3,vp=dg*ls,aD="http://localhost:9999",iD="supabase.auth.token",sD={"X-Client-Info":`gotrue-js/${SN}`},fg="X-Supabase-Api-Version",NN={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},oD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,lD=600*1e3;class el extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ve(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class cD extends el{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function uD(e){return ve(e)&&e.name==="AuthApiError"}class oi extends el{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ma extends el{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class tn extends Ma{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function dD(e){return ve(e)&&e.name==="AuthSessionMissingError"}class es extends Ma{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Zc extends Ma{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class eu extends Ma{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function fD(e){return ve(e)&&e.name==="AuthImplicitGrantRedirectError"}class nj extends Ma{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hg extends Ma{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function yp(e){return ve(e)&&e.name==="AuthRetryableFetchError"}class aj extends Ma{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class pg extends Ma{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const _u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ij=` 	
\r=`.split(""),hD=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ij.length;t+=1)e[ij[t].charCodeAt(0)]=-2;for(let t=0;t<_u.length;t+=1)e[_u[t].charCodeAt(0)]=t;return e})();function sj(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(_u[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(_u[n]),t.queuedBits-=6}}function EN(e,t,r){const n=hD[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function oj(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{gD(o,n,r)};for(let o=0;o<e.length;o+=1)EN(e.charCodeAt(o),a,i);return t.join("")}function pD(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function mD(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}pD(n,t)}}function gD(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function ds(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)EN(e.charCodeAt(a),r,n);return new Uint8Array(t)}function vD(e){const t=[];return mD(e,r=>t.push(r)),new Uint8Array(t)}function li(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>sj(a,r,n)),sj(null,r,n),t.join("")}function yD(e){return Math.round(Date.now()/1e3)+e}function xD(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ht=()=>typeof window<"u"&&typeof document<"u",ei={tested:!1,writable:!1},PN=()=>{if(!Ht())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ei.tested)return ei.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ei.tested=!0,ei.writable=!0}catch{ei.tested=!0,ei.writable=!1}return ei.writable};function bD(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const ON=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),wD=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",cs=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ti=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},_a=async(e,t)=>{await e.removeItem(t)};class yd{constructor(){this.promise=new yd.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}yd.promiseConstructor=Promise;function xp(e){const t=e.split(".");if(t.length!==3)throw new pg("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!oD.test(t[n]))throw new pg("JWT not in base64url format");return{header:JSON.parse(oj(t[0])),payload:JSON.parse(oj(t[1])),signature:ds(t[2]),raw:{header:t[0],payload:t[1]}}}async function jD(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function _D(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function kD(e){return("0"+e.toString(16)).substr(-2)}function SD(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,kD).join("")}async function ND(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function ED(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await ND(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ts(e,t,r=!1){const n=SD();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await cs(e,`${t}-code-verifier`,a);const i=await ED(n);return[i,n===i?"plain":"s256"]}const PD=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function OD(e){const t=e.headers.get(fg);if(!t||!t.match(PD))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function AD(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function CD(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const TD=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function rs(e){if(!TD.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function bp(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function RD(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function lj(e){return JSON.parse(JSON.stringify(e))}const ri=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ID=[502,503,504];async function cj(e){var t;if(!wD(e))throw new hg(ri(e),0);if(ID.includes(e.status))throw new hg(ri(e),e.status);let r;try{r=await e.json()}catch(i){throw new oi(ri(i),i)}let n;const a=OD(e);if(a&&a.getTime()>=NN["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new aj(ri(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new tn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new aj(ri(r),e.status,r.weak_password.reasons);throw new cD(ri(r),e.status||500,n)}const DD=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function ke(e,t,r,n){var a;const i=Object.assign({},n?.headers);i[fg]||(i[fg]=NN["2024-01-01"].name),n?.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n?.query)!==null&&a!==void 0?a:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const u=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",d=await MD(e,t,r+u,{headers:i,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(d):{data:Object.assign({},d),error:null}}async function MD(e,t,r,n,a,i){const o=DD(t,n,a,i);let u;try{u=await e(r,Object.assign({},o))}catch(d){throw console.error(d),new hg(ri(d),0)}if(u.ok||await cj(u),n?.noResolveJson)return u;try{return await u.json()}catch(d){await cj(d)}}function rn(e){var t;let r=null;BD(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=yD(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function uj(e){const t=rn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Na(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function LD(e){return{data:e,error:null}}function $D(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=Os(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},d=Object.assign({},o);return{data:{properties:u,user:d},error:null}}function dj(e){return e}function BD(e){return e.access_token&&e.refresh_token&&e.expires_in}const wp=["global","local","others"];class FD{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=ON(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=wp[0]){if(wp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${wp.join(", ")}`);try{return await ke(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Na})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Os(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n?.newEmail,delete a.newEmail),await ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:$D,redirectTo:r?.redirectTo})}catch(r){if(ve(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ke(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Na})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,u,d;try{const h={nextPage:null,lastPage:0,total:0},p=await ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:dj});if(p.error)throw p.error;const m=await p.json(),y=(o=p.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(j=>{const w=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(j.split(";")[1].split("=")[1]);h[`${_}Page`]=w}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},m),h),error:null}}catch(h){if(ve(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){rs(t);try{return await ke(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Na})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){rs(t);try{return await ke(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Na})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){rs(t);try{return await ke(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Na})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){rs(t.userId);try{const{data:r,error:n}=await ke(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _deleteFactor(t){rs(t.userId),rs(t.id);try{return{data:await ke(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,u,d;try{const h={nextPage:null,lastPage:0,total:0},p=await ke(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:dj});if(p.error)throw p.error;const m=await p.json(),y=(o=p.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(j=>{const w=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(j.split(";")[1].split("=")[1]);h[`${_}Page`]=w}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},m),h),error:null}}catch(h){if(ve(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(t){try{return await ke(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await ke(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await ke(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ve(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await ke(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await ke(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}}function fj(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const ns={debug:!!(globalThis&&PN()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class AN extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class UD extends AN{}async function zD(e,t,r){ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ns.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new UD(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ns.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function qD(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function CN(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function WD(e){return parseInt(e,16)}function KD(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function VD(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:u,requestId:d,resources:h,scheme:p,uri:m,version:y}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const v=CN(e.address),j=p?`${p}://${n}`:n,w=e.statement?`${e.statement}
`:"",_=`${j} wants you to sign in with your Ethereum account:
${v}

${w}`;let N=`URI: ${m}
Version: ${y}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(N+=`
Expiration Time: ${a.toISOString()}`),u&&(N+=`
Not Before: ${u.toISOString()}`),d&&(N+=`
Request ID: ${d}`),h){let A=`
Resources:`;for(const E of h){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);A+=`
- ${E}`}N+=A}return`${_}
${N}`}class mt extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class ku extends mt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function HD({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new mt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new mt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new mt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new mt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new mt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new mt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new mt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new mt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(TN(o)){if(i.rp.id!==o)return new mt({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new mt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new mt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function GD({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new mt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new mt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(TN(n)){if(r.rpId!==n)return new mt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new mt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class YD{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const XD=new YD;function JD(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=Os(e,["challenge","user","excludeCredentials"]),i=ds(t).buffer,o=Object.assign(Object.assign({},r),{id:ds(r.id).buffer}),u=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const h=n[d];u.excludeCredentials[d]=Object.assign(Object.assign({},h),{id:ds(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return u}function QD(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Os(e,["challenge","allowCredentials"]),a=ds(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const u=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},u),{id:ds(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return i}function ZD(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:li(new Uint8Array(e.response.attestationObject)),clientDataJSON:li(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function eM(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:li(new Uint8Array(a.authenticatorData)),clientDataJSON:li(new Uint8Array(a.clientDataJSON)),signature:li(new Uint8Array(a.signature)),userHandle:a.userHandle?li(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function TN(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function hj(){var e,t;return!!(Ht()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function tM(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ku("Browser returned unexpected credential type",t)}:{data:null,error:new ku("Empty credential response",t)}}catch(t){return{data:null,error:HD({error:t,options:e})}}}async function rM(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ku("Browser returned unexpected credential type",t)}:{data:null,error:new ku("Empty credential response",t)}}catch(t){return{data:null,error:GD({error:t,options:e})}}}const nM={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},aM={userVerification:"preferred",hints:["security-key"]};function Su(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const u=n[i];t(u)?n[i]=Su(u,o):n[i]=Su(o)}else n[i]=o}return n}function iM(e,t){return Su(nM,e,t||{})}function sM(e,t){return Su(aM,e,t||{})}class oM{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:u};const d=a??XD.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:h}=o.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${n}`),h.displayName||(h.displayName=h.name)}switch(o.webauthn.type){case"create":{const h=iM(o.webauthn.credential_options.publicKey,i?.create),{data:p,error:m}=await tM({publicKey:h,signal:d});return p?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}case"request":{const h=sM(o.webauthn.credential_options.publicKey,i?.request),{data:p,error:m}=await rM(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:h,signal:d}));return p?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}}}catch(o){return ve(o)?{data:null,error:o}:{data:null,error:new oi("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}},i){if(!r)return{data:null,error:new el("rpId is required for WebAuthn authentication")};try{if(!hj())return{data:null,error:new oi("Browser does not support WebAuthn",null)};const{data:o,error:u}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:u};const{webauthn:d}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:n,credential_response:d.credential_response}})}catch(o){return ve(o)?{data:null,error:o}:{data:null,error:new oi("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a},i){if(!r)return{data:null,error:new el("rpId is required for WebAuthn registration")};try{if(!hj())return{data:null,error:new oi("Browser does not support WebAuthn",null)};const{data:o,error:u}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(p=>{var m;return(m=p.data)===null||m===void 0?void 0:m.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:u};const{data:d,error:h}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return d?this._verify({factorId:o.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:h}}catch(o){return ve(o)?{data:null,error:o}:{data:null,error:new oi("Unexpected error in register",o)}}}}qD();const lM={url:aD,storageKey:iD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:sD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function pj(e,t,r){return await r()}const as={};class tl{get jwks(){var t,r;return(r=(t=as[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){as[this.storageKey]=Object.assign(Object.assign({},as[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=as[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){as[this.storageKey]=Object.assign(Object.assign({},as[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},lM),t);if(this.storageKey=i.storageKey,this.instanceID=(r=tl.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,tl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Ht()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new FD({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=ON(i.fetch),this.lock=i.lock||pj,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:Ht()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=zD:this.lock=pj,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new oM(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:PN()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=fj(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=fj(this.memoryStorage)),Ht()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${SN}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Ht()&&(r=bD(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Ht()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),fD(i)){const d=(t=i.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:u}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",u),await this._saveSession(o),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ve(r)?this._returnResult({error:r}):this._returnResult({error:new oi("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:rn}),{data:o,error:u}=i;if(u||!o)return this._returnResult({data:{user:null,session:null},error:u});const d=o.session,h=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(i){if(ve(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:p,password:m,options:y}=t;let v=null,j=null;this.flowType==="pkce"&&([v,j]=await ts(this.storage,this.storageKey)),i=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:p,password:m,data:(r=y?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:v,code_challenge_method:j},xform:rn})}else if("phone"in t){const{phone:p,password:m,options:y}=t;i=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:m,data:(n=y?.data)!==null&&n!==void 0?n:{},channel:(a=y?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:rn})}else throw new Zc("You must provide either an email or phone number and a password");const{data:o,error:u}=i;if(u||!o)return this._returnResult({data:{user:null,session:null},error:u});const d=o.session,h=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(i){if(ve(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:u}=t;r=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:uj})}else if("phone"in t){const{phone:i,password:o,options:u}=t;r=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:uj})}else throw new Zc("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new es;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(ve(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,u,d,h,p,m,y;let v,j;if("message"in t)v=t.message,j=t.signature;else{const{chain:w,wallet:_,statement:N,options:A}=t;let E;if(Ht())if(typeof _=="object")E=_;else{const M=window;if("ethereum"in M&&typeof M.ethereum=="object"&&"request"in M.ethereum&&typeof M.ethereum.request=="function")E=M.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=_}const C=new URL((r=A?.url)!==null&&r!==void 0?r:window.location.href),P=await E.request({method:"eth_requestAccounts"}).then(M=>M).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!P||P.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=CN(P[0]);let T=(n=A?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!T){const M=await E.request({method:"eth_chainId"});T=WD(M)}const I={domain:C.host,address:S,statement:N,uri:C.href,version:"1",chainId:T,nonce:(a=A?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=A?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(u=A?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=A?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(h=A?.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(p=A?.signInWithEthereum)===null||p===void 0?void 0:p.resources};v=VD(I),j=await E.request({method:"personal_sign",params:[KD(v),S]})}try{const{data:w,error:_}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:j},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:rn});if(_)throw _;if(!w||!w.session||!w.user){const N=new es;return this._returnResult({data:{user:null,session:null},error:N})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:_})}catch(w){if(ve(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(t){var r,n,a,i,o,u,d,h,p,m,y,v;let j,w;if("message"in t)j=t.message,w=t.signature;else{const{chain:_,wallet:N,statement:A,options:E}=t;let C;if(Ht())if(typeof N=="object")C=N;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))C=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=N}const P=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in C&&C.signIn){const S=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),A?{statement:A}:null));let T;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")T=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)T=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)j=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),w=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${P.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(a=(n=E?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=E?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((o=E?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((u=E?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((d=E?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((h=E?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((m=(p=E?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||m===void 0)&&m.length?["Resources",...E.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const S=await C.signMessage(new TextEncoder().encode(j),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=S}}try{const{data:_,error:N}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:li(w)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:rn});if(N)throw N;if(!_||!_.session||!_.user){const A=new es;return this._returnResult({data:{user:null,session:null},error:A})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:N})}catch(_){if(ve(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const r=await ti(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:rn});if(await _a(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const u=new es;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(ve(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,u=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:rn}),{data:d,error:h}=u;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d||!d.session||!d.user){const p=new es;return this._returnResult({data:{user:null,session:null},error:p})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:h})}catch(r){if(ve(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:u,options:d}=t;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await ts(this.storage,this.storageKey));const{error:m}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=d?.data)!==null&&r!==void 0?r:{},create_user:(n=d?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in t){const{phone:u,options:d}=t,{data:h,error:p}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(a=d?.data)!==null&&a!==void 0?a:{},create_user:(i=d?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(o=d?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:p})}throw new Zc("You must provide either an email or phone number.")}catch(u){if(ve(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:u}=await ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:rn});if(u)throw u;if(!o)throw new Error("An error occurred on token verification.");const d=o.session,h=o.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(a){if(ve(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;this.flowType==="pkce"&&([i,o]=await ts(this.storage,this.storageKey));const u=await ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:LD});return this._returnResult(u)}catch(i){if(ve(i))return this._returnResult({data:null,error:i});throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new tn;const{error:a}=await ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(ve(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await ke(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:u}=await ke(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:u})}throw new Zc("You must provide either an email or phone number and a type")}catch(r){if(ve(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ti(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<vp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await ti(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=bp()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=RD(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Na}):await this._useSession(async r=>{var n,a,i;const{data:o,error:u}=r;if(u)throw u;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new tn}:await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Na})})}catch(r){if(ve(r))return dD(r)&&(await this._removeSession(),await _a(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new tn;const o=a.session;let u=null,d=null;this.flowType==="pkce"&&t.email!=null&&([u,d]=await ts(this.storage,this.storageKey));const{data:h,error:p}=await ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:d}),jwt:o.access_token,xform:Na});if(p)throw p;return o.user=h.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(ve(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new tn;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=xp(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:u,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u)return{data:{user:null,session:null},error:null};i=u}else{const{data:u,error:d}=await this._getUser(t.access_token);if(d)throw d;i={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(ve(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:u}=r;if(u)throw u;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new tn;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ve(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Ht())throw new eu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new eu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new nj("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new eu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new nj("No code detected.");const{data:A,error:E}=await this._exchangeCodeForSession(t.code);if(E)throw E;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:u,expires_at:d,token_type:h}=t;if(!i||!u||!o||!h)throw new eu("No session defined in URL");const p=Math.round(Date.now()/1e3),m=parseInt(u);let y=p+m;d&&(y=parseInt(d));const v=y-p;v*1e3<=ls&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${m}s`);const j=y-m;p-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,y,p):p-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,y,p);const{data:w,error:_}=await this._getUser(i);if(_)throw _;const N={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:m,expires_at:y,refresh_token:o,token_type:h,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:t.type},error:null})}catch(n){if(ve(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ti(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:u}=await this.admin.signOut(o,t);if(u&&!(uD(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return t!=="others"&&(await this._removeSession(),await _a(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=xD(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await ts(this.storage,this.storageKey,!0));try{return await ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(ve(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(ve(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,u,d,h,p;const{data:m,error:y}=i;if(y)throw y;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await ke(this.fetch,"GET",v,{headers:this.headers,jwt:(p=(h=m.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(a)throw a;return Ht()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:t.provider,url:n?.url},error:null})}catch(n){if(ve(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:u,token:d,access_token:h,nonce:p}=t,m=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:d,access_token:h,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:rn}),{data:y,error:v}=m;return v?this._returnResult({data:{user:null,session:null},error:v}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new es}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:v}))}catch(a){if(ve(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await ke(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(ve(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await _D(async a=>(a>0&&await jD(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:rn})),(a,i)=>{const o=200*Math.pow(2,a);return i&&yp(i)&&Date.now()+o-n<ls})}catch(n){if(this._debug(r,"error",n),ve(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ht()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await ti(this.storage,this.storageKey);if(a&&this.userStorage){let o=await ti(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await cs(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o?.user)!==null&&t!==void 0?t:bp()}else if(a&&!a.user&&!a.user){const o=await ti(this.storage,this.storageKey+"-user");o&&o?.user?(a.user=o.user,await _a(this.storage,this.storageKey+"-user"),await cs(this.storage,this.storageKey,a)):a.user=bp()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<vp;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${vp}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),yp(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:u}=await this._getUser(a.access_token);!u&&o?.user?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new tn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new yd;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new tn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const u={data:i.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(i){if(this._debug(a,"error",i),ve(i)){const o={data:null,error:i};return yp(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,r)}catch(d){i.push(d)}});if(await Promise.all(o),i.length>0){for(let u=0;u<i.length;u+=1)console.error(i[u]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await cs(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=lj(a);await cs(this.storage,this.storageKey,i)}else{const a=lj(r);await cs(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await _a(this.storage,this.storageKey),await _a(this.storage,this.storageKey+"-code-verifier"),await _a(this.storage,this.storageKey+"-user"),this.userStorage&&await _a(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ht()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ls);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/ls);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${ls}ms, refresh threshold is ${dg} ticks`),a<=dg&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof AN)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ht()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await ts(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(u.toString())}if(n?.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n?.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await ke(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ve(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:h}=await ke(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(t.factorType==="totp"&&d.type==="totp"&&(!((a=d?.totp)===null||a===void 0)&&a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(r){if(ve(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?ZD(t.webauthn.credential_response):eM(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:d}=await ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:d}))})}catch(r){if(ve(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:u}=o;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:JD(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:QD(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ve(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r?.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=xp(n.access_token);let o=null;i.aal&&(o=i.aal);let u=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const h=i.amr||[];return{data:{currentLevel:o,nextLevel:u,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await ke(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new tn})})}catch(r){if(ve(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new tn});const o=await ke(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return o.data&&o.data.redirect_url&&Ht()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(ve(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new tn});const o=await ke(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return o.data&&o.data.redirect_url&&Ht()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(ve(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(u=>u.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(u=>u.kid===t),n&&this.jwks_cached_at+lD>a)return n;const{data:i,error:o}=await ke(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(u=>u.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:v,error:j}=await this.getSession();if(j||!v.session)return this._returnResult({data:null,error:j});n=v.session.access_token}const{header:a,payload:i,signature:o,raw:{header:u,payload:d}}=xp(n);r?.allowExpired||AD(i.exp);const h=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!h){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:a,signature:o},error:null}}const p=CD(a.alg),m=await crypto.subtle.importKey("jwk",h,p,!0,["verify"]);if(!await crypto.subtle.verify(p,m,o,vD(`${u}.${d}`)))throw new pg("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(ve(n))return this._returnResult({data:null,error:n});throw n}}}tl.nextInstanceID={};const cM=tl;class uM extends cM{constructor(t){super(t)}}class dM{constructor(t,r,n){var a,i,o;this.supabaseUrl=t,this.supabaseKey=r;const u=nD(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const d=`sb-${u.hostname.split(".")[0]}-auth-token`,h={db:YI,realtime:JI,auth:Object.assign(Object.assign({},XI),{storageKey:d}),global:GI},p=rD(n??{},h);this.storageKey=(a=p.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=p.global.headers)!==null&&i!==void 0?i:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(m,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=p.auth)!==null&&o!==void 0?o:{},this.headers,p.global.fetch),this.fetch=eD(r,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new aI(new URL("rest/v1",u).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new KI(this.storageUrl.href,this.headers,this.fetch,n?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new eI(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:u,lock:d,debug:h,throwOnError:p},m,y){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new uM({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),m),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:u,lock:d,debug:h,throwOnError:p,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(j=>j.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new wI(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const fM=(e,t,r)=>new dM(e,t,r);function hM(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}hM()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const pM="https://aztjjcxaoqtchvvzgbpd.supabase.co",mM="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF6dGpqY3hhb3F0Y2h2dnpnYnBkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE4MjI4ODAsImV4cCI6MjA3NzM5ODg4MH0.3qZBjYJKfpx9_3BoawBMs0948sfh-5ca2_XnOGxEMco",ne=fM(pM,mM,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),RN=x.createContext({session:null,loading:!0,signOut:async()=>{}});function gM({children:e}){const[t,r]=x.useState(null),[n,a]=x.useState(!0);x.useEffect(()=>{ne.auth.getSession().then(({data:{session:u}})=>{r(u),a(!1)});const{data:{subscription:o}}=ne.auth.onAuthStateChange((u,d)=>{r(d),a(!1)});return()=>o.unsubscribe()},[]);const i=async()=>{await ne.auth.signOut()};return c.jsx(RN.Provider,{value:{session:t,loading:n,signOut:i},children:e})}function Jt(){const e=x.useContext(RN);if(e===void 0)throw new Error("useSession must be used within a SessionProvider");return e}const IN=x.createContext({isDark:!1,toggleTheme:()=>{}});function vM({children:e}){const[t,r]=x.useState(()=>{const a=localStorage.getItem("theme");return a?a==="dark":!1});x.useEffect(()=>{const a=window.document.documentElement;t?(a.classList.add("dark"),localStorage.setItem("theme","dark")):(a.classList.remove("dark"),localStorage.setItem("theme","light"))},[t]);const n=()=>{r(!t)};return c.jsx(IN.Provider,{value:{isDark:t,toggleTheme:n},children:e})}function yM(){const e=x.useContext(IN);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}var xM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const bM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Ne=(e,t)=>{const r=x.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:u="",children:d,...h},p)=>x.createElement("svg",{ref:p,...xM,width:a,height:a,stroke:n,strokeWidth:o?Number(i)*24/Number(a):i,className:["lucide",`lucide-${bM(e)}`,u].join(" "),...h},[...t.map(([m,y])=>x.createElement(m,y)),...Array.isArray(d)?d:[d]]));return r.displayName=`${e}`,r};const wM=Ne("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);const xd=Ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const jM=Ne("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);const Kn=Ne("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const pr=Ne("Bus",[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]]);const Nu=Ne("CalendarRange",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]]);const xn=Ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const mj=Ne("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const gj=Ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const vj=Ne("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const mr=Ne("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const fr=Ne("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const bn=Ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const rl=Ne("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const DN=Ne("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const MN=Ne("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);const LN=Ne("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const $N=Ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const bd=Ne("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);const _M=Ne("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);const BN=Ne("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);const mg=Ne("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const kM=Ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const Cs=Ne("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const gr=Ne("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const SM=Ne("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const yj=Ne("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const xj=Ne("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const wd=Ne("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);const NM=Ne("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const jd=Ne("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const _d=Ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const EM=Ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const PM=Ne("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const cn=Ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const fs=Ne("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const OM=Ne("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);const Aa=Ne("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);const bj=Ne("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const AM=Ne("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);const gl=Ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const CM=Ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const ln=Ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const vs=Ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const ys=Ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function TM(){const[e,t]=x.useState(!1),[r,n]=x.useState(!1),[a,i]=x.useState(!1),[o,u]=x.useState(!1),{session:d,signOut:h}=Jt(),{isDark:p,toggleTheme:m}=yM(),y=Nn();x.useEffect(()=>{v()},[d]);const v=async()=>{if(!d?.user?.id){i(!1),u(!1);return}const{data:w}=await ne.from("profiles").select("admin, compagnie_id").eq("id",d.user.id).single();i(w?.admin===!0),u(w?.compagnie_id!==null)},j=async()=>{await h(),y("/login")};return c.jsx("nav",{className:"bg-white dark:bg-gray-800 shadow-md sticky top-0 z-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"flex justify-between items-center h-16",children:[c.jsxs(_e,{to:"/",className:"flex items-center space-x-2",children:[c.jsx("div",{className:"bg-primary p-2 rounded-lg",children:c.jsx(pr,{className:"h-6 w-6 text-white"})}),c.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Bus Bnin"})]}),c.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[c.jsx(_e,{to:"/",className:"text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-primary transition-colors font-medium",children:"Accueil"}),c.jsx(_e,{to:"/trajets",className:"text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-primary transition-colors font-medium",children:"Trajets"}),c.jsx(_e,{to:"/compagnies",className:"text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-primary transition-colors font-medium",children:"Compagnies"}),c.jsx("button",{onClick:m,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Toggle theme",children:p?c.jsx(bj,{className:"h-5 w-5 text-gray-300"}):c.jsx(xj,{className:"h-5 w-5 text-gray-700"})}),d?c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>n(!r),className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[c.jsx(ln,{className:"h-5 w-5 text-gray-700 dark:text-gray-300"}),c.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Mon compte"})]}),r&&c.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg py-2 border border-gray-200 dark:border-gray-700",children:[c.jsxs(_e,{to:"/profile",className:"flex items-center space-x-2 px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>n(!1),children:[c.jsx(ln,{className:"h-4 w-4"}),c.jsx("span",{className:"text-sm",children:"Profil"})]}),c.jsxs(_e,{to:"/reservations",className:"flex items-center space-x-2 px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>n(!1),children:[c.jsx(xn,{className:"h-4 w-4"}),c.jsx("span",{className:"text-sm",children:"Mes rservations"})]}),c.jsxs(_e,{to:"/favorites",className:"flex items-center space-x-2 px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>n(!1),children:[c.jsx(bd,{className:"h-4 w-4"}),c.jsx("span",{className:"text-sm",children:"Favoris"})]}),(a||o)&&c.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-2"}),a&&c.jsxs(_e,{to:"/admin",className:"flex items-center space-x-2 px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-error",onClick:()=>n(!1),children:[c.jsx(fs,{className:"h-4 w-4"}),c.jsx("span",{className:"text-sm font-semibold",children:"Admin"})]}),o&&c.jsxs(_e,{to:"/compagnie",className:"flex items-center space-x-2 px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-warning",onClick:()=>n(!1),children:[c.jsx(Kn,{className:"h-4 w-4"}),c.jsx("span",{className:"text-sm font-semibold",children:"Ma Compagnie"})]}),c.jsxs("button",{onClick:j,className:"flex items-center space-x-2 px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 w-full text-left text-red-600",children:[c.jsx(kM,{className:"h-4 w-4"}),c.jsx("span",{className:"text-sm",children:"Dconnexion"})]})]})]}):c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(_e,{to:"/login",className:"text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-primary transition-colors font-medium",children:"Connexion"}),c.jsx(_e,{to:"/register",className:"btn-primary",children:"S'inscrire"})]})]}),c.jsx("button",{onClick:()=>t(!e),className:"md:hidden p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:e?c.jsx(ys,{className:"h-6 w-6 text-gray-700 dark:text-gray-300"}):c.jsx(SM,{className:"h-6 w-6 text-gray-700 dark:text-gray-300"})})]}),e&&c.jsx("div",{className:"md:hidden py-4 border-t border-gray-200 dark:border-gray-700",children:c.jsxs("div",{className:"flex flex-col space-y-3",children:[c.jsx(_e,{to:"/",className:"text-gray-700 dark:text-gray-300 hover:text-primary px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>t(!1),children:"Accueil"}),c.jsx(_e,{to:"/trajets",className:"text-gray-700 dark:text-gray-300 hover:text-primary px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>t(!1),children:"Trajets"}),c.jsx(_e,{to:"/compagnies",className:"text-gray-700 dark:text-gray-300 hover:text-primary px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>t(!1),children:"Compagnies"}),c.jsxs("div",{className:"flex items-center justify-between px-3 py-2",children:[c.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Thme"}),c.jsx("button",{onClick:m,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:p?c.jsx(bj,{className:"h-5 w-5"}):c.jsx(xj,{className:"h-5 w-5"})})]}),d?c.jsxs(c.Fragment,{children:[c.jsx(_e,{to:"/profile",className:"text-gray-700 dark:text-gray-300 hover:text-primary px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>t(!1),children:"Mon profil"}),c.jsx(_e,{to:"/reservations",className:"text-gray-700 dark:text-gray-300 hover:text-primary px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>t(!1),children:"Mes rservations"}),c.jsx(_e,{to:"/favorites",className:"text-gray-700 dark:text-gray-300 hover:text-primary px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>t(!1),children:"Favoris"}),a&&c.jsx(_e,{to:"/admin",className:"text-error hover:text-error-dark px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 font-semibold",onClick:()=>t(!1),children:"Admin"}),o&&c.jsx(_e,{to:"/compagnie",className:"text-warning hover:text-warning-dark px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 font-semibold",onClick:()=>t(!1),children:"Ma Compagnie"}),c.jsx("button",{onClick:j,className:"text-red-600 hover:text-red-700 px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-left",children:"Dconnexion"})]}):c.jsxs(c.Fragment,{children:[c.jsx(_e,{to:"/login",className:"text-gray-700 dark:text-gray-300 hover:text-primary px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>t(!1),children:"Connexion"}),c.jsx(_e,{to:"/register",className:"btn-primary",onClick:()=>t(!1),children:"S'inscrire"})]})]})})]})})}function RM(){return c.jsx("footer",{className:"bg-gray-900 text-gray-300",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[c.jsx("div",{className:"bg-primary p-2 rounded-lg",children:c.jsx(pr,{className:"h-5 w-5 text-white"})}),c.jsx("span",{className:"text-xl font-bold text-white",children:"Bus Bnin"})]}),c.jsx("p",{className:"text-sm text-gray-400",children:"Votre compagnon de voyage pour tous vos dplacements en bus  travers le Bnin."})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-white font-semibold mb-4",children:"Liens rapides"}),c.jsxs("ul",{className:"space-y-2 text-sm",children:[c.jsx("li",{children:c.jsx(_e,{to:"/",className:"hover:text-primary transition-colors",children:"Accueil"})}),c.jsx("li",{children:c.jsx(_e,{to:"/trajets",className:"hover:text-primary transition-colors",children:"Trajets"})}),c.jsx("li",{children:c.jsx(_e,{to:"/login",className:"hover:text-primary transition-colors",children:"Connexion"})}),c.jsx("li",{children:c.jsx(_e,{to:"/register",className:"hover:text-primary transition-colors",children:"S'inscrire"})})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-white font-semibold mb-4",children:"Support"}),c.jsxs("ul",{className:"space-y-2 text-sm",children:[c.jsx("li",{children:c.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:"Centre d'aide"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:"Conditions gnrales"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:"Politique de confidentialit"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:"FAQ"})})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-white font-semibold mb-4",children:"Contact"}),c.jsxs("ul",{className:"space-y-3 text-sm",children:[c.jsxs("li",{className:"flex items-center space-x-2",children:[c.jsx(Cs,{className:"h-4 w-4"}),c.jsx("span",{children:"contact@busbenin.com"})]}),c.jsxs("li",{className:"flex items-center space-x-2",children:[c.jsx(jd,{className:"h-4 w-4"}),c.jsx("span",{children:"+229 XX XX XX XX"})]}),c.jsxs("li",{className:"flex items-center space-x-2",children:[c.jsx(gr,{className:"h-4 w-4"}),c.jsx("span",{children:"Cotonou, Bnin"})]})]})]})]}),c.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-sm text-center text-gray-400",children:c.jsxs("p",{children:[" ",new Date().getFullYear()," Bus Bnin. Tous droits rservs."]})})]})})}function IM(){return c.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col",children:[c.jsx(TM,{}),c.jsx("main",{className:"flex-1",children:c.jsx(DR,{})}),c.jsx(RM,{})]})}function is({children:e}){const{session:t,loading:r}=Jt(),[n,a]=x.useState(!1),[i,o]=x.useState(!0);x.useEffect(()=>{u()},[t]);const u=async()=>{if(!t?.user?.id){o(!1);return}try{const{data:d,error:h}=await ne.from("profiles").select("admin").eq("id",t.user.id).single();if(h)throw h;a(d?.admin===!0)}catch(d){console.error("Error checking admin status:",d),a(!1)}finally{o(!1)}};return r||i?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t?n?e:c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Accs refus"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Vous n'avez pas les permissions ncessaires pour accder  cette page."}),c.jsx(Qo,{to:"/",replace:!0})]})}):c.jsx(Qo,{to:"/login",replace:!0})}function jp({children:e}){const{session:t,loading:r}=Jt(),[n,a]=x.useState(!1),[i,o]=x.useState(!0);x.useEffect(()=>{u()},[t]);const u=async()=>{if(!t?.user?.id){o(!1);return}try{const{data:d,error:h}=await ne.from("profiles").select("compagnie_id, admin").eq("id",t.user.id).single();if(h)throw h;a(d?.admin===!0||d?.compagnie_id!==null)}catch(d){console.error("Error checking compagnie status:",d),a(!1)}finally{o(!1)}};return r||i?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t?n?e:c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Accs refus"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Vous devez tre assign  une compagnie pour accder  cette page."}),c.jsx(Qo,{to:"/",replace:!0})]})}):c.jsx(Qo,{to:"/login",replace:!0})}function Pv({trajet:e,isFavorite:t,onFavoriteToggle:r}){const{session:n}=Jt(),[a,i]=x.useState(!1),o=async u=>{if(u.preventDefault(),u.stopPropagation(),!!n){i(!0);try{t?await ne.from("favoris").delete().eq("user_id",n.user.id).eq("trajet_id",e.id):await ne.from("favoris").insert({user_id:n.user.id,trajet_id:e.id}),r?.()}catch(d){console.error("Error toggling favorite:",d)}finally{i(!1)}}};return c.jsxs("div",{className:"card hover:shadow-xl transition-shadow duration-200",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("h3",{className:"text-base sm:text-lg font-bold text-gray-900 dark:text-white mb-2",children:[e.depart,"  ",e.arrivee]}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.compagnie}),c.jsxs("div",{className:"flex items-center space-x-1 mt-2",children:[c.jsx(Aa,{className:"h-4 w-4 text-warning fill-warning"}),c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.note||"N/A"}),e.nb_avis>0&&c.jsxs("span",{className:"text-xs text-gray-500",children:["(",e.nb_avis," avis)"]})]})]}),c.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[n&&c.jsx("button",{onClick:o,disabled:a,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:c.jsx(bd,{className:`h-5 w-5 ${t?"text-red-500 fill-red-500":"text-gray-400"}`})}),c.jsxs("div",{className:"text-right",children:[c.jsx("span",{className:"text-xl sm:text-2xl font-bold text-primary",children:e.prix}),c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 ml-1",children:"FCFA"})]})]})]}),c.jsxs("div",{className:"flex items-center space-x-2 mb-4 text-sm text-gray-600 dark:text-gray-400",children:[c.jsx(bn,{className:"h-4 w-4"}),c.jsx("span",{children:e.horaires?.join(", ")||"Horaires non disponibles"})]}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsx(_e,{to:`/trajet/${e.id}`,className:"flex-1 btn-outline text-center",children:"Voir dtails"}),c.jsxs(_e,{to:`/reservation/${e.id}`,className:"flex-1 btn-primary flex items-center justify-center space-x-2",children:[c.jsx("span",{children:"Rserver"}),c.jsx(xd,{className:"h-4 w-4"})]})]})]})}function DM(){const e=Nn(),{session:t}=Jt(),[r,n]=x.useState(""),[a,i]=x.useState(""),[o,u]=x.useState([]),[d,h]=x.useState([]),[p,m]=x.useState([]),[y,v]=x.useState([]),[j,w]=x.useState(new Set),[_,N]=x.useState(!0),[A,E]=x.useState(0),[C,P]=x.useState(0);x.useEffect(()=>{S()},[t]);const S=async()=>{N(!0);try{await Promise.all([T(),I(),M(),z(),t&&W()])}finally{N(!1)}},T=async()=>{const{data:Y}=await ne.from("destinations").select("id, nom").order("nom",{ascending:!0});u(Y||[])},I=async()=>{const{data:Y}=await ne.from("trajets").select("id, depart, arrivee, prix, note, nb_avis, horaires, compagnies:compagnie_id(nom)").order("note",{ascending:!1}).order("nb_avis",{ascending:!1}).limit(3),le=(Y||[]).map(re=>({...re,compagnie:re?.compagnies?.nom}));h(le)},M=async()=>{const{data:Y}=await ne.from("compagnies").select("id, nom, logo_url, trajets(note, nb_avis)").order("nom",{ascending:!0}).limit(10),le=(Y||[]).map(G=>{const ie=G.trajets||[];let ae=0,$=0;ie.forEach(ye=>{ye.note&&ye.nb_avis&&(ae+=ye.note*ye.nb_avis,$+=ye.nb_avis)});const V=$>0?(ae/$).toFixed(1):null;return{id:G.id,nom:G.nom,logo_url:G.logo_url,note:V}}),re=le.filter(G=>G.note!==null).sort((G,ie)=>parseFloat(ie.note)-parseFloat(G.note)).slice(0,5);if(re.length<5){const G=le.filter(ie=>ie.note===null).slice(0,5-re.length);re.push(...G)}m(re)},z=async()=>{const{data:Y}=await ne.from("trajets").select("id, depart, arrivee, prix, note, compagnies:compagnie_id(nom)").order("prix",{ascending:!0}).limit(3),le=(Y||[]).map(re=>({...re,compagnie:re?.compagnies?.nom}));v(le)},W=async()=>{if(!t?.user?.id)return;const{data:Y}=await ne.from("favoris").select("trajet_id").eq("user_id",t.user.id);w(new Set((Y||[]).map(le=>le.trajet_id)))},H=()=>{const Y=new URLSearchParams;r&&Y.set("depart",r),a&&Y.set("arrivee",a),e(`/trajets${Y.toString()?"?"+Y.toString():""}`)},Z=Y=>{const le=document.getElementById("destinations-container");if(!le)return;const re=300,G=Y==="left"?Math.max(0,A-re):Math.min(le.scrollWidth-le.clientWidth,A+re);le.scrollTo({left:G,behavior:"smooth"}),E(G)},se=Y=>{const le=document.getElementById("companies-container");if(!le)return;const re=300,G=Y==="left"?Math.max(0,C-re):Math.min(le.scrollWidth-le.clientWidth,C+re);le.scrollTo({left:G,behavior:"smooth"}),P(G)};return c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900",children:[c.jsx("section",{className:"bg-gradient-to-br from-primary to-blue-700 text-white py-20",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold mb-4",children:"Bus Bnin"}),c.jsx("p",{className:"text-base sm:text-lg md:text-xl text-blue-100",children:"Trouvez et rservez facilement vos trajets en bus  travers le Bnin"})]}),c.jsxs("div",{className:"max-w-3xl mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-8",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[c.jsx("div",{className:"p-2 bg-primary-light rounded-lg",children:c.jsx(cn,{className:"h-6 w-6 text-primary"})}),c.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:"Rechercher un trajet"})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Dpart"}),c.jsxs("div",{className:"relative",children:[c.jsx(gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",value:r,onChange:Y=>n(Y.target.value),placeholder:"Ville de dpart",className:"text-gray-400 input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Arrive"}),c.jsxs("div",{className:"relative",children:[c.jsx(gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{id:"arrivee",type:"text",value:a,onChange:Y=>i(Y.target.value),placeholder:"Ville d'arrive",className:"text-gray-400 input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]})]}),c.jsxs("button",{onClick:H,className:"w-full btn-primary flex items-center justify-center space-x-2",children:[c.jsx(cn,{className:"h-5 w-5"}),c.jsx("span",{children:"Rechercher des trajets"}),c.jsx(xd,{className:"h-5 w-5"})]})]})]})}),c.jsxs("section",{className:"page-container",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[c.jsx("div",{className:"p-2 bg-secondary-light rounded-lg",children:c.jsx(CM,{className:"h-6 w-6 text-primary"})}),c.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:"Destinations populaires"})]}),c.jsxs("div",{className:"relative group",children:[c.jsx("button",{onClick:()=>Z("left"),className:"hidden md:block absolute left-0 top-1/2 -translate-y-1/2 z-10 p-2 bg-white dark:bg-gray-800 rounded-full shadow-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-all opacity-0 group-hover:opacity-100","aria-label":"Dfiler  gauche",children:c.jsx(mj,{className:"h-6 w-6 text-gray-700 dark:text-gray-300"})}),c.jsx("div",{id:"destinations-container",className:"flex overflow-x-auto gap-3 pb-4 scroll-smooth scrollbar-hide touch-pan-x",style:{WebkitOverflowScrolling:"touch",scrollbarWidth:"none",msOverflowStyle:"none"},children:o.map(Y=>c.jsx("button",{onClick:()=>{r?!a&&Y.nom!==r&&i(Y.nom):n(Y.nom)},className:`px-4 sm:px-6 py-2 sm:py-3 text-sm sm:text-base rounded-full font-semibold whitespace-nowrap transition-all ${r===Y.nom||a===Y.nom?"bg-primary text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"} border-2 ${r===Y.nom||a===Y.nom?"border-primary":"border-gray-200 dark:border-gray-700"}`,children:Y.nom},Y.id))}),c.jsx("button",{onClick:()=>Z("right"),className:"hidden md:block absolute right-0 top-1/2 -translate-y-1/2 z-10 p-2 bg-white dark:bg-gray-800 rounded-full shadow-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-all opacity-0 group-hover:opacity-100","aria-label":"Dfiler  droite",children:c.jsx(gj,{className:"h-6 w-6 text-gray-700 dark:text-gray-300"})})]})]}),c.jsxs("section",{className:"page-container",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-2 bg-warning-light rounded-lg",children:c.jsx(Aa,{className:"h-6 w-6 text-warning fill-warning"})}),c.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:"Trajets populaires"})]}),c.jsxs("span",{className:"px-4 py-1.5 bg-primary-light text-primary rounded-full text-sm font-semibold",children:["Top ",d.length]})]}),_?c.jsx("div",{className:"text-center py-12",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"})}):c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(Y=>c.jsx(Pv,{trajet:Y,isFavorite:j.has(Y.id),onFavoriteToggle:W},Y.id))})]}),c.jsxs("section",{className:"page-container",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[c.jsx("div",{className:"p-2 bg-secondary-light rounded-lg",children:c.jsx(jM,{className:"h-6 w-6 text-primary"})}),c.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:"Compagnies recommandes"})]}),c.jsxs("div",{className:"relative group",children:[c.jsx("button",{onClick:()=>se("left"),className:"hidden md:block absolute left-0 top-1/2 -translate-y-1/2 z-10 p-2 bg-white dark:bg-gray-800 rounded-full shadow-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-all opacity-0 group-hover:opacity-100","aria-label":"Dfiler  gauche",children:c.jsx(mj,{className:"h-6 w-6 text-gray-700 dark:text-gray-300"})}),c.jsx("div",{id:"companies-container",className:"flex overflow-x-auto gap-4 pb-4 scroll-smooth scrollbar-hide touch-pan-x",style:{WebkitOverflowScrolling:"touch",scrollbarWidth:"none",msOverflowStyle:"none"},children:p.map(Y=>c.jsxs("button",{onClick:()=>e(`/trajets?compagnie=${Y.nom}`),className:"card hover:shadow-lg transition-shadow text-center flex-shrink-0 w-36 sm:w-40",children:[c.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-primary-light rounded-xl flex items-center justify-center overflow-hidden",children:Y.logo_url?c.jsx("img",{src:Y.logo_url,alt:Y.nom,className:"w-full h-full object-cover"}):c.jsx(Kn,{className:"h-8 w-8 text-primary"})}),c.jsx("h3",{className:"text-sm sm:text-base font-bold text-gray-900 dark:text-white mb-2 truncate",children:Y.nom}),Y.note&&c.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[c.jsx(Aa,{className:"h-4 w-4 text-warning fill-warning"}),c.jsx("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:Y.note})]})]},Y.id))}),c.jsx("button",{onClick:()=>se("right"),className:"hidden md:block absolute right-0 top-1/2 -translate-y-1/2 z-10 p-2 bg-white dark:bg-gray-800 rounded-full shadow-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-all opacity-0 group-hover:opacity-100","aria-label":"Dfiler  droite",children:c.jsx(gj,{className:"h-6 w-6 text-gray-700 dark:text-gray-300"})})]})]}),c.jsxs("section",{className:"page-container pb-16",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-2 bg-success-light rounded-lg",children:c.jsx(AM,{className:"h-6 w-6 text-success"})}),c.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:"Offres spciales"})]}),c.jsx("span",{className:"px-4 py-1.5 bg-success-light text-success rounded-full text-sm font-semibold",children:"Prix bas"})]}),c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map(Y=>c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute -top-2 -right-2 z-10 bg-success text-white px-3 py-1 rounded-full text-xs font-bold shadow-lg",children:"PROMO"}),c.jsxs("div",{className:"card border-2 border-success hover:shadow-xl transition-shadow",children:[c.jsxs("div",{className:"mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:[Y.depart,"  ",Y.arrivee]}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:Y.compagnie}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(Aa,{className:"h-4 w-4 text-warning fill-warning"}),c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:Y.note||"N/A"})]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-xl sm:text-2xl font-bold text-success",children:Y.prix}),c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 ml-1",children:"FCFA"})]}),c.jsx("button",{onClick:()=>e(`/trajet/${Y.id}`),className:"btn-primary",children:"Voir"})]})]})]},Y.id))})]})]})}function MM(){const[e,t]=FS(),{session:r}=Jt(),[n,a]=x.useState([]),[i,o]=x.useState(new Set),[u,d]=x.useState(!0),[h,p]=x.useState(!1),[m,y]=x.useState({depart:e.get("depart")||"",arrivee:e.get("arrivee")||"",compagnie:e.get("compagnie")||"",prixMax:""});x.useEffect(()=>{v(),r&&j()},[m,r]);const v=async()=>{d(!0);try{let N=ne.from("trajets").select("id, depart, arrivee, prix, note, nb_avis, horaires, compagnies:compagnie_id(nom)").order("note",{ascending:!1});m.depart&&(N=N.ilike("depart",`%${m.depart}%`)),m.arrivee&&(N=N.ilike("arrivee",`%${m.arrivee}%`)),m.prixMax&&(N=N.lte("prix",parseFloat(m.prixMax)));const{data:A,error:E}=await N;if(E)throw E;let C=(A||[]).map(P=>({...P,compagnie:P?.compagnies?.nom}));m.compagnie&&(C=C.filter(P=>P.compagnie?.toLowerCase().includes(m.compagnie.toLowerCase()))),a(C)}catch(N){console.error("Error loading trajets:",N),a([])}finally{d(!1)}},j=async()=>{if(!r?.user?.id)return;const{data:N}=await ne.from("favoris").select("trajet_id").eq("user_id",r.user.id);o(new Set((N||[]).map(A=>A.trajet_id)))},w=(N,A)=>{const E={...m,[N]:A};y(E);const C=new URLSearchParams;Object.entries(E).forEach(([P,S])=>{S&&C.set(P,S)}),t(C)},_=()=>{y({depart:"",arrivee:"",compagnie:"",prixMax:""}),t(new URLSearchParams)};return c.jsxs("div",{className:"page-container min-h-screen",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Rechercher des trajets"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Trouvez le trajet parfait pour votre voyage"})]}),c.jsxs("div",{className:"card mb-8",children:[c.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Dpart"}),c.jsxs("div",{className:"relative",children:[c.jsx(gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",value:m.depart,onChange:N=>w("depart",N.target.value),placeholder:"Ville de dpart",className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Arrive"}),c.jsxs("div",{className:"relative",children:[c.jsx(gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",value:m.arrivee,onChange:N=>w("arrivee",N.target.value),placeholder:"Ville d'arrive",className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Compagnie"}),c.jsx("input",{type:"text",value:m.compagnie,onChange:N=>w("compagnie",N.target.value),placeholder:"Nom de la compagnie",className:"input-field dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Prix maximum"}),c.jsx("input",{type:"number",value:m.prixMax,onChange:N=>w("prixMax",N.target.value),placeholder:"Prix max (FCFA)",className:"input-field dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("button",{onClick:_,className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:[c.jsx(ys,{className:"h-4 w-4"}),c.jsx("span",{children:"Effacer les filtres"})]}),c.jsxs("div",{className:"text-sm font-semibold text-primary",children:[n.length," rsultat",n.length>1?"s":""]})]})]}),u?c.jsxs("div",{className:"text-center py-20",children:[c.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary mx-auto"}),c.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Chargement des trajets..."})]}):n.length===0?c.jsxs("div",{className:"text-center py-20",children:[c.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center",children:c.jsx(cn,{className:"h-12 w-12 text-gray-400"})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Aucun trajet trouv"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Essayez de modifier vos critres de recherche"}),c.jsx("button",{onClick:_,className:"btn-primary",children:"Rinitialiser la recherche"})]}):c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(N=>c.jsx(Pv,{trajet:N,isFavorite:i.has(N.id),onFavoriteToggle:j},N.id))})]})}function LM(){const{id:e}=gd(),t=Nn(),{session:r}=Jt(),[n,a]=x.useState(null),[i,o]=x.useState([]),[u,d]=x.useState(!1),[h,p]=x.useState(!0),[m,y]=x.useState(!1),[v,j]=x.useState({note:5,commentaire:""}),[w,_]=x.useState(!1);x.useEffect(()=>{N(),A(),r&&E()},[e,r]);const N=async()=>{try{const{data:S,error:T}=await ne.from("trajets").select("*, compagnies:compagnie_id(id, nom, telephone, logo_url)").eq("id",e).single();if(T)throw T;console.log(" Trajet loaded:",S),console.log(" Compagnie data:",S?.compagnies),a(S)}catch(S){console.error("Error loading trajet:",S)}finally{p(!1)}},A=async()=>{try{console.log(" Loading avis for trajet:",e);const{data:S,error:T}=await ne.from("avis").select("*").eq("trajet_id",e).order("created_at",{ascending:!1});if(T)throw console.error(" Error loading avis:",T),console.error(" Error details:",{message:T.message,details:T.details,hint:T.hint,code:T.code}),T;console.log(" Avis loaded:",S?.length||0),console.log(" Sample avis:",S?.[0]),o(S||[])}catch(S){console.error(" Exception loading avis:",S),o([])}},E=async()=>{if(!r?.user?.id)return;const{data:S}=await ne.from("favoris").select("id").eq("user_id",r.user.id).eq("trajet_id",e).single();d(!!S)},C=async()=>{if(!r){t("/login");return}try{u?await ne.from("favoris").delete().eq("user_id",r.user.id).eq("trajet_id",e):await ne.from("favoris").insert({user_id:r.user.id,trajet_id:e}),d(!u)}catch(S){console.error("Error toggling favorite:",S)}},P=async S=>{if(S.preventDefault(),!r){t("/login");return}_(!0);try{const{error:T}=await ne.from("avis").insert({user_id:r.user.id,trajet_id:e,note:v.note,commentaire:v.commentaire});if(T)throw T;alert(" Avis ajout avec succs !"),j({note:5,commentaire:""}),y(!1),await A(),await N()}catch(T){console.error("Error submitting review:",T),alert(" Erreur lors de l'ajout de l'avis")}finally{_(!1)}};return h?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n?c.jsx("div",{className:"page-container",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"card mb-6",children:[c.jsxs("div",{className:"flex justify-between items-start mb-6",children:[c.jsxs("div",{children:[c.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:[n.depart,"  ",n.arrivee]}),c.jsx("div",{className:"flex items-center space-x-2",children:c.jsxs(_e,{to:`/compagnies/${n.compagnies?.id}`,className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-primary transition-colors",children:[c.jsx(Kn,{className:"h-5 w-5"}),c.jsx("span",{className:"font-medium",children:n.compagnies?.nom})]})})]}),c.jsx("button",{onClick:C,className:"p-3 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:c.jsx(bd,{className:`h-6 w-6 ${u?"text-red-500 fill-red-500":"text-gray-400"}`})})]}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-6",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-3 bg-primary-light rounded-lg",children:c.jsx(Aa,{className:"h-6 w-6 text-warning fill-warning"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Note"}),c.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:n.note||"N/A"})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-3 bg-primary-light rounded-lg",children:c.jsx(yj,{className:"h-6 w-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avis"}),c.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:n.nb_avis||0})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-3 bg-success-light rounded-lg",children:c.jsx(gr,{className:"h-6 w-6 text-success"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Gare"}),c.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:n.gare||"N/A"})]})]})]}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-6",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx(bn,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"}),c.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:"Horaires disponibles"})]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:n.horaires?.map((S,T)=>c.jsx("span",{className:"px-4 py-2 bg-white dark:bg-gray-800 rounded-lg font-medium text-gray-900 dark:text-white border border-gray-200 dark:border-gray-600",children:S},T))||c.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Horaires non disponibles"})})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Prix du billet"}),c.jsxs("div",{children:[c.jsx("span",{className:"text-4xl font-bold text-primary",children:n.prix}),c.jsx("span",{className:"text-lg text-gray-600 dark:text-gray-400 ml-2",children:"FCFA"})]})]}),c.jsxs(_e,{to:`/reservation/${n.id}`,className:"btn-primary flex items-center space-x-2 text-lg px-8",children:[c.jsx("span",{children:"Rserver"}),c.jsx(xd,{className:"h-5 w-5"})]})]})]}),c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["Avis des voyageurs (",i.length,")"]}),r&&c.jsx("button",{onClick:()=>y(!m),className:"btn-primary text-sm",children:m?"Annuler":"Laisser un avis"})]}),m&&c.jsxs("form",{onSubmit:P,className:"mb-8 p-6 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Partagez votre exprience"}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Note *"}),c.jsxs("div",{className:"flex items-center space-x-2",children:[[1,2,3,4,5].map(S=>c.jsx("button",{type:"button",onClick:()=>j({...v,note:S}),className:"focus:outline-none",children:c.jsx(Aa,{className:`h-8 w-8 ${S<=v.note?"text-warning fill-warning":"text-gray-300 dark:text-gray-600"}`})},S)),c.jsxs("span",{className:"text-gray-600 dark:text-gray-400 ml-2",children:[v.note,"/5"]})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Commentaire *"}),c.jsx("textarea",{value:v.commentaire,onChange:S=>j({...v,commentaire:S.target.value}),placeholder:"Partagez votre exprience avec ce trajet...",rows:"4",required:!0,className:"input-field dark:bg-gray-800 dark:text-white dark:border-gray-600 resize-none"})]}),c.jsxs("div",{className:"flex justify-end space-x-3",children:[c.jsx("button",{type:"button",onClick:()=>y(!1),className:"btn-secondary",children:"Annuler"}),c.jsx("button",{type:"submit",disabled:w||!v.commentaire.trim(),className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:w?"Publication...":"Publier l'avis"})]})]}),i.length===0?c.jsxs("div",{className:"text-center py-12 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[c.jsx(yj,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Aucun avis pour le moment"})]}):c.jsx("div",{className:"space-y-6",children:i.map(S=>c.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 last:border-0 pb-6 last:pb-0",children:c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"w-10 h-10 bg-primary-light rounded-full flex items-center justify-center",children:c.jsx(ln,{className:"h-5 w-5 text-primary"})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:"Voyageur"}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(Aa,{className:"h-4 w-4 text-warning fill-warning"}),c.jsxs("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:[S.note,"/5"]})]})]}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:S.commentaire}),c.jsx("p",{className:"text-xs text-gray-500",children:new Date(S.created_at).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})})]})]})},S.id))})]})]})}):c.jsxs("div",{className:"page-container text-center py-20",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Trajet non trouv"}),c.jsx(_e,{to:"/trajets",className:"btn-primary",children:"Retour aux trajets"})]})}function $M(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,i]=x.useState("");x.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:d,error:h}=await ne.from("compagnies").select("*, trajets(count)").order("nom");if(h)throw h;t(d||[])}catch(d){console.error("Error loading compagnies:",d)}finally{n(!1)}},u=e.filter(d=>d.nom?.toLowerCase().includes(a.toLowerCase())||d.adresse?.toLowerCase().includes(a.toLowerCase()));return r?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):c.jsxs("div",{className:"page-container",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Compagnies de transport"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Dcouvrez nos partenaires de transport au Bnin"})]}),c.jsx("div",{className:"card mb-6",children:c.jsxs("div",{className:"relative",children:[c.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",value:a,onChange:d=>i(d.target.value),placeholder:"Rechercher une compagnie...",className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})}),u.length===0?c.jsxs("div",{className:"card text-center py-12",children:[c.jsx(Kn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Aucune compagnie trouve"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:a?"Essayez avec un autre terme de recherche":"Aucune compagnie disponible"})]}):c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(d=>c.jsxs(_e,{to:`/compagnies/${d.id}`,className:"card hover:shadow-xl transition-shadow",children:[c.jsx("div",{className:"flex items-center justify-center h-32 bg-gray-50 dark:bg-gray-700 rounded-lg mb-4",children:d.logo_url?c.jsx("img",{src:d.logo_url,alt:d.nom,className:"h-20 w-auto object-contain"}):c.jsx(Kn,{className:"h-16 w-16 text-gray-400"})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3",children:d.nom}),c.jsxs("div",{className:"space-y-2 text-sm",children:[d.telephone&&c.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400",children:[c.jsx(jd,{className:"h-4 w-4"}),c.jsx("span",{children:d.telephone})]}),d.adresse&&c.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400",children:[c.jsx(gr,{className:"h-4 w-4"}),c.jsx("span",{className:"line-clamp-1",children:d.adresse})]}),c.jsxs("div",{className:"flex items-center space-x-2 text-primary font-semibold",children:[c.jsx(pr,{className:"h-4 w-4"}),c.jsxs("span",{children:[d.trajets?.[0]?.count||0," trajet",(d.trajets?.[0]?.count||0)>1?"s":""]})]})]}),c.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:c.jsx("span",{className:"text-primary hover:underline text-sm font-medium",children:"Voir les dtails "})})]},d.id))})]})}function BM(){const{id:e}=gd(),[t,r]=x.useState(null),[n,a]=x.useState([]),[i,o]=x.useState(!0);x.useEffect(()=>{u(),d()},[e]);const u=async()=>{try{console.log(" Loading compagnie with ID:",e);const{data:h,error:p}=await ne.from("compagnies").select("*").eq("id",e).single();if(p)throw console.error(" Error loading compagnie:",p),console.error(" Error details:",{message:p.message,details:p.details,hint:p.hint,code:p.code}),p;console.log(" Compagnie loaded:",h),r(h)}catch(h){console.error(" Exception loading compagnie:",h),r(null)}finally{o(!1)}},d=async()=>{try{const{data:h,error:p}=await ne.from("trajets").select("*").eq("compagnie_id",e).order("depart");if(p)throw p;a(h||[])}catch(h){console.error("Error loading trajets:",h)}};return i?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t?c.jsx("div",{className:"page-container",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsx("div",{className:"card mb-6",children:c.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center space-y-6 md:space-y-0 md:space-x-6 mb-6",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("div",{className:"flex items-center justify-center h-32 w-32 bg-gray-50 dark:bg-gray-700 rounded-lg",children:t.logo_url?c.jsx("img",{src:t.logo_url,alt:t.nom,className:"h-24 w-auto object-contain"}):c.jsx(Kn,{className:"h-16 w-16 text-gray-400"})})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:t.nom}),c.jsxs("div",{className:"space-y-3",children:[t.telephone&&c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"flex items-center justify-center h-10 w-10 bg-primary-light rounded-lg",children:c.jsx(jd,{className:"h-5 w-5 text-primary"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Tlphone"}),c.jsx("a",{href:`tel:${t.telephone}`,className:"font-medium text-gray-900 dark:text-white hover:text-primary",children:t.telephone})]})]}),t.adresse&&c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"flex items-center justify-center h-10 w-10 bg-primary-light rounded-lg",children:c.jsx(gr,{className:"h-5 w-5 text-primary"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Adresse"}),c.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t.adresse})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"flex items-center justify-center h-10 w-10 bg-success-light rounded-lg",children:c.jsx(pr,{className:"h-5 w-5 text-success"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Trajets disponibles"}),c.jsx("p",{className:"font-bold text-xl text-gray-900 dark:text-white",children:n.length})]})]})]})]})]})}),c.jsxs("div",{className:"card",children:[c.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:["Trajets proposs (",n.length,")"]}),n.length===0?c.jsxs("div",{className:"text-center py-12 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[c.jsx(pr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Aucun trajet disponible pour le moment"})]}):c.jsx("div",{className:"space-y-4",children:n.map(h=>c.jsx(_e,{to:`/trajet/${h.id}`,className:"block p-4 bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-lg transition-colors",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[c.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:h.depart}),c.jsx(xd,{className:"h-5 w-5 text-gray-400"}),c.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:h.arrivee})]}),c.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:[h.gare&&c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(gr,{className:"h-4 w-4"}),c.jsx("span",{children:h.gare})]}),h.note>0&&c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(Aa,{className:"h-4 w-4 text-warning fill-warning"}),c.jsxs("span",{children:[h.note,"/5"]})]}),h.nb_avis>0&&c.jsxs("span",{children:["(",h.nb_avis," avis)"]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-2xl font-bold text-primary mb-1",children:[h.prix," FCFA"]}),c.jsx("span",{className:"text-sm text-primary hover:underline font-medium",children:"Voir le trajet "})]})]})},h.id))})]})]})}):c.jsxs("div",{className:"page-container text-center py-20",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Compagnie non trouve"}),c.jsx(_e,{to:"/compagnies",className:"btn-primary",children:"Retour aux compagnies"})]})}const FM="pk_sandbox_hlyarJ3xqqFPJeqE8uDx_6E7",gg="sk_sandbox_OIfKTKIT8pi0y5R25aXcTp_W",FN="sandbox";console.log(" FedaPay Configuration:",{hasPublicKey:!0,hasSecretKey:!0,publicKeyPrefix:FM?.substring(0,20),mode:FN});const vg=()=>"https://sandbox-api.fedapay.com/v1",UN=()=>({Authorization:`Bearer ${gg}`,"Content-Type":"application/json"}),zN=async({amount:e,description:t,customerId:r,customerEmail:n,customerName:a,customerPhone:i,callbackUrl:o,mobileMoneyOperator:u,onSuccess:d,onError:h,onClose:p})=>{try{if(!gg||gg.length<20)throw new Error("Cl API FedaPay non configure. Veuillez vrifier votre fichier .env");console.log(" Creating FedaPay transaction...");const m={description:t||"Rservation Bus Bnin",amount:e,currency:{iso:"XOF"},customer:{firstname:a?.split(" ")[0]||"Client",lastname:a?.split(" ").slice(1).join(" ")||"BusBenin",email:n,phone_number:{number:i?.replace(/\s+/g,""),country:"BJ"}}};o&&(o.startsWith("http://")||o.startsWith("https://"))&&(m.callback_url=o),u&&(m.mode=u),console.log(" FedaPay Request:",{url:`${vg()}/transactions`,environment:FN,amount:m.amount,customer:m.customer});const y=await fetch(`${vg()}/transactions`,{method:"POST",headers:UN(),body:JSON.stringify(m)}),v=await y.json();if(console.log(" FedaPay Response:",{status:y.status,ok:y.ok,data:v}),!y.ok){const _=v.message||v.error||v.v1?.message||"Erreur lors de la cration de la transaction";throw new Error(`${_} (Status: ${y.status})`)}const j=v["v1/transaction"]||v.transaction||v.v1?.transaction;if(!j)throw new Error("Transaction non retourne par FedaPay");console.log(" Transaction created:",{id:j.id,status:j.status,hasToken:!!j.payment_token,hasUrl:!!j.payment_url});const w=UM(j.payment_url||j.payment_token);return{success:!0,transaction:j,transactionId:j.id,token:j.payment_token,paymentUrl:w,onSuccess:d,onError:h,onClose:p}}catch(m){return console.error(" Error creating transaction:",m),{success:!1,error:m.message||"Erreur lors de la cration de la transaction"}}},qN=(e,t=!0)=>{if(!e){console.error(" No payment URL provided");return}if(console.log(" Opening payment URL:",e),t){const a=(window.screen.width-600)/2,i=(window.screen.height-800)/2;window.open(e,"FedaPayPayment",`width=600,height=800,left=${a},top=${i},resizable=yes,scrollbars=yes`)}else window.location.href=e},UM=e=>e?.startsWith("http://")||e?.startsWith("https://")?e:`https://sandbox-process.fedapay.com/${e}`,Ov=async e=>{try{if(!e)throw new Error("Transaction ID requis");console.log(" Checking transaction status:",e);const t=await fetch(`${vg()}/transactions/${e}`,{method:"GET",headers:UN()}),r=await t.json();if(!t.ok)throw new Error(r.message||"Erreur lors de la vrification de la transaction");const n=r["v1/transaction"]||r.transaction||r.v1?.transaction;return console.log(" Transaction status:",{id:n?.id,status:n?.status,approved:n?.status==="approved"}),{success:!0,status:n?.status,transaction:n}}catch(t){return console.error(" Error checking transaction:",t),{success:!1,error:t.message}}},WN=e=>Math.round(e);function zM(){const{id:e}=gd(),t=Nn(),{session:r}=Jt(),[n,a]=x.useState(null),[i,o]=x.useState(!0),[u,d]=x.useState(!1),[h,p]=x.useState(!1),[m,y]=x.useState(""),[v,j]=x.useState(null),[w,_]=x.useState({nb_places:1,horaire:"",nom_passager:"",telephone_passager:"",email_passager:r?.user?.email||""});x.useEffect(()=>{N()},[e]);const N=async()=>{try{const{data:S,error:T}=await ne.from("trajets").select("*, compagnies:compagnie_id(nom)").eq("id",e).single();if(T)throw T;a(S)}catch(S){console.error("Error loading trajet:",S),t("/trajets")}finally{o(!1)}},A=async S=>{if(S.preventDefault(),!m){alert(" Veuillez slectionner votre oprateur Mobile Money");return}if(!w.telephone_passager.match(/^\+229\d{8,10}$/)){alert(" Le numro de tlphone doit tre au format +229XXXXXXXX");return}d(!0);try{const T=n.prix*w.nb_places,{data:I,error:M}=await ne.from("reservations").insert({user_id:r.user.id,trajet_id:n.id,nb_places:w.nb_places,horaire:w.horaire,nom_passager:w.nom_passager,telephone_passager:w.telephone_passager,email_passager:w.email_passager,montant_total:T,statut:"en_attente",statut_paiement:"pending"}).select().single();if(M)throw M;j(I),await E(I,T)}catch(T){console.error("Error creating reservation:",T),alert("Une erreur est survenue lors de la rservation"),d(!1)}},E=async(S,T)=>{p(!0);try{console.log(" Starting payment process...");const I=await zN({amount:WN(T),description:`Rservation ${n.depart}  ${n.arrivee} - ${w.nb_places} place(s)`,customerId:r.user.id,customerEmail:w.email_passager||r.user.email,customerName:w.nom_passager,customerPhone:w.telephone_passager,mobileMoneyOperator:m});if(!I.success)throw new Error(I.error||"Erreur lors de la cration de la transaction");if(console.log(" Transaction created:",I.transactionId),await ne.from("reservations").update({fedapay_transaction_id:I.transactionId}).eq("id",S.id),qN(I.paymentUrl,!0),confirm(` Une fentre de paiement FedaPay s'est ouverte.

Veuillez complter votre paiement dans cette fentre.

 Aprs avoir pay, cliquez sur "OK" pour vrifier votre paiement.
 Si vous n'avez pas pay, cliquez sur "Annuler".`)){console.log(" Vrification du paiement..."),await new Promise(W=>setTimeout(W,2e3));const z=await Ov(I.transactionId);console.log(" Statut reu:",z),z.success?z.status==="approved"?(await C(S.id,"approved",I.transactionId),alert(` Paiement confirm !

Votre rservation est valide.`),t("/reservations")):z.status==="pending"?(alert(` Paiement en cours de traitement...

Nous vrifions votre paiement. Cela peut prendre quelques minutes.

Vous pouvez vrifier le statut dans "Mes rservations".`),t("/reservations")):(alert(` Paiement non confirm.

Statut: ${z.status}

Vous pouvez ressayer depuis "Mes rservations".`),t("/reservations")):(alert(` Impossible de vrifier le paiement pour le moment.

Veuillez vrifier le statut dans "Mes rservations" dans quelques instants.`),t("/reservations"))}else alert(` Paiement non effectu.

Votre rservation est sauvegarde.
Vous pouvez la payer plus tard depuis "Mes rservations".`),t("/reservations")}catch(I){console.error(" Payment error:",I),alert(` Erreur : ${I.message}

La rservation est sauvegarde, vous pouvez payer plus tard depuis "Mes rservations".`),t("/reservations")}finally{p(!1),d(!1)}},C=async(S,T,I)=>{try{await ne.from("reservations").update({statut_paiement:T,statut:T==="approved"?"confirmee":"annulee",fedapay_transaction_id:I,updated_at:new Date().toISOString()}).eq("id",S)}catch(M){console.error("Error updating reservation:",M)}};if(i)return c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});if(!n)return null;const P=n.prix*w.nb_places;return c.jsx("div",{className:"page-container",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-8",children:"Rservation de billet"}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[c.jsx("div",{className:"md:col-span-2",children:c.jsxs("form",{onSubmit:A,className:"card space-y-6",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Dtails du trajet"}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 space-y-2",children:[c.jsxs("p",{className:"text-gray-900 dark:text-white font-semibold",children:[n.depart,"  ",n.arrivee]}),c.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Compagnie: ",n.compagnies?.nom]}),c.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Prix unitaire: ",n.prix," FCFA"]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Nombre de places"}),c.jsxs("div",{className:"relative",children:[c.jsx(vs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"number",min:"1",max:"10",value:w.nb_places,onChange:S=>_({...w,nb_places:parseInt(S.target.value)}),required:!0,className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Horaire"}),c.jsxs("div",{className:"relative",children:[c.jsx(bn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsxs("select",{value:w.horaire,onChange:S=>_({...w,horaire:S.target.value}),required:!0,className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600",children:[c.jsx("option",{value:"",children:"Slectionner un horaire"}),n.horaires?.map((S,T)=>c.jsx("option",{value:S,children:S},T))]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Informations du passager"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Nom complet"}),c.jsxs("div",{className:"relative",children:[c.jsx(ln,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",value:w.nom_passager,onChange:S=>_({...w,nom_passager:S.target.value}),placeholder:"Jean Dupont",required:!0,className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Tlphone (Mobile Money) *"}),c.jsxs("div",{className:"relative",children:[c.jsx(jd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"tel",value:w.telephone_passager,onChange:S=>_({...w,telephone_passager:S.target.value}),placeholder:"+22997123456",required:!0,className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),c.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"Format: +229XXXXXXXX (ce numro sera utilis pour le paiement Mobile Money)"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),c.jsxs("div",{className:"relative",children:[c.jsx(Cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"email",value:w.email_passager,onChange:S=>_({...w,email_passager:S.target.value}),placeholder:"email@example.com",className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]})]})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[c.jsx(rl,{className:"h-5 w-5 text-primary"}),c.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Oprateur Mobile Money"}),c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[c.jsx("button",{type:"button",onClick:()=>y("mtn"),className:`p-4 rounded-xl border-2 transition-all ${m==="mtn"?"border-[#FFCC00] bg-[#FFF9E6]":"border-gray-200 dark:border-gray-700 hover:border-[#FFCC00]"}`,children:c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("div",{className:`w-12 h-12 rounded-full bg-[#FFCC00] flex items-center justify-center mb-2 ${m==="mtn"?"ring-4 ring-[#FFCC00]/30":""}`,children:c.jsx("span",{className:"text-lg font-bold text-black",children:"MTN"})}),c.jsx("p",{className:`text-sm font-semibold text-center ${m==="mtn"?"text-gray-900 dark:text-gray-900":"text-gray-600"}`,children:"MTN Mobile Money"}),m==="mtn"&&c.jsx(mr,{className:"h-5 w-5 text-[#FFCC00] mt-2"})]})}),c.jsx("button",{type:"button",onClick:()=>y("moov"),className:`p-4 rounded-xl border-2 transition-all ${m==="moov"?"border-[#009CDE] bg-[#E6F7FF]":"border-gray-200 dark:border-gray-700 hover:border-[#009CDE]"}`,children:c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("div",{className:`w-12 h-12 rounded-full bg-[#009CDE] flex items-center justify-center mb-2 ${m==="moov"?"ring-4 ring-[#009CDE]/30":""}`,children:c.jsx("span",{className:"text-base font-bold text-white",children:"moov"})}),c.jsx("p",{className:`text-sm font-semibold text-center ${m==="moov"?"text-gray-900 dark:text-gray-900":"text-gray-600"}`,children:"Moov Money"}),m==="moov"&&c.jsx(mr,{className:"h-5 w-5 text-[#009CDE] mt-2"})]})}),c.jsx("button",{type:"button",onClick:()=>y("celtiis"),className:`p-4 rounded-xl border-2 transition-all ${m==="celtiis"?"border-[#FF6B00] bg-[#FFF3E6]":"border-gray-200 dark:border-gray-700 hover:border-[#FF6B00]"}`,children:c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("div",{className:`w-12 h-12 rounded-full bg-[#FF6B00] flex items-center justify-center mb-2 ${m==="celtiis"?"ring-4 ring-[#FF6B00]/30":""}`,children:c.jsx("span",{className:"text-sm font-bold text-white",children:"Celtiis"})}),c.jsx("p",{className:`text-sm font-semibold text-center ${m==="celtiis"?"text-gray-900 dark:text-gray-900":"text-gray-600"}`,children:"Celtiis Cash"}),m==="celtiis"&&c.jsx(mr,{className:"h-5 w-5 text-[#FF6B00] mt-2"})]})})]}),c.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-3",children:"Le numro de tlphone doit correspondre  votre compte Mobile Money"})]}),c.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx(fs,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),c.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-300",children:[c.jsx("p",{className:"font-semibold mb-1",children:"Paiement 100% scuris"}),c.jsx("p",{className:"text-xs",children:"Vos donnes bancaires sont cryptes et scurises par FedaPay. Nous ne stockons jamais vos informations de paiement."})]})]})}),c.jsx("button",{type:"submit",disabled:u||h||!m,className:"w-full btn-primary py-4 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:u||h?c.jsxs(c.Fragment,{children:[c.jsx(BN,{className:"h-5 w-5 animate-spin"}),c.jsx("span",{children:h?"Paiement en cours...":"Rservation en cours..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(rl,{className:"h-5 w-5"}),c.jsxs("span",{children:["Payer ",P," FCFA"]})]})}),c.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 text-center mt-2",children:"Paiement scuris par FedaPay (Mobile Money)"})]})}),c.jsx("div",{className:"md:col-span-1",children:c.jsxs("div",{className:"card sticky top-24",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Rcapitulatif"}),c.jsxs("div",{className:"space-y-3 mb-6",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Prix unitaire"}),c.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[n.prix," FCFA"]})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Nombre de places"}),c.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:w.nb_places})]}),c.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-3",children:c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:"Total"}),c.jsxs("span",{className:"font-bold text-2xl text-primary",children:[P," FCFA"]})]})})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:c.jsxs("p",{className:"text-xs text-blue-800 dark:text-blue-300",children:[c.jsx("strong",{children:" Note:"})," Une fentre de paiement scurise s'ouvrira aprs validation."]})}),c.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-3 border border-green-200 dark:border-green-800",children:c.jsxs("p",{className:"text-xs text-green-800 dark:text-green-300",children:[c.jsx("strong",{children:" Paiement Mobile Money uniquement"})," - Votre rservation sera confirme aprs le paiement russi."]})})]})]})})]})]})})}function qM(){const{id:e}=gd();FS();const t=Nn(),{session:r}=Jt(),[n,a]=x.useState(null),[i,o]=x.useState(!0),[u,d]=x.useState(!1),[h,p]=x.useState(null),[m,y]=x.useState("mobile_money");x.useEffect(()=>{v()},[e]);const v=async()=>{try{const{data:_,error:N}=await ne.from("reservations").select("*, trajets(*, compagnies:compagnie_id(nom))").eq("id",e).eq("user_id",r?.user?.id).single();if(N)throw N;if(_.statut_paiement!=="pending"){t("/reservations");return}a(_)}catch(_){console.error("Error loading reservation:",_),t("/reservations")}finally{o(!1)}},j=async()=>{d(!0),p(null);try{const _=WN(n.montant_total);console.log(" Starting payment process...");const N=await zN({amount:_,description:`Rservation ${n.trajets.depart}  ${n.trajets.arrivee}`,customerId:r.user.id,customerEmail:n.email_passager,customerName:n.nom_passager,customerPhone:n.telephone_passager,mobileMoneyOperator:m==="mobile_money"?"mtn":void 0});if(!N.success)throw new Error(N.error||"Erreur lors de la cration de la transaction");console.log(" Transaction created:",N.transactionId),await ne.from("reservations").update({fedapay_transaction_id:N.transactionId}).eq("id",e),qN(N.paymentUrl,!0),alert(` Une fentre de paiement s'est ouverte.

Aprs avoir pay, revenez sur cette page.`),setTimeout(async()=>{const A=await Ov(N.transactionId);A.success&&A.status==="approved"?(await w("approved",N.transactionId),p("success"),setTimeout(()=>t("/reservations"),2e3)):(p("error"),alert(" Paiement en attente ou chou. Vrifiez votre transaction.")),d(!1)},3e3)}catch(_){console.error(" Payment error:",_),p("error"),alert(` Erreur : ${_.message}`),d(!1)}},w=async(_,N)=>{try{await ne.from("reservations").update({statut_paiement:_,statut:_==="approved"?"confirmee":"annulee",fedapay_transaction_id:N,updated_at:new Date().toISOString()}).eq("id",e)}catch(A){console.error("Error updating reservation:",A)}};return i?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n?c.jsx("div",{className:"page-container",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Paiement scuris"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Compltez votre rservation en effectuant le paiement"})]}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"md:col-span-2 space-y-6",children:[h==="success"&&c.jsx("div",{className:"card bg-success-light border-2 border-success",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(mr,{className:"h-8 w-8 text-success"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-success",children:"Paiement russi !"}),c.jsx("p",{className:"text-sm text-gray-700",children:"Votre rservation a t confirme. Vous allez tre redirig..."})]})]})}),h==="error"&&c.jsx("div",{className:"card bg-error-light border-2 border-error",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(fr,{className:"h-8 w-8 text-error"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-error",children:"chec du paiement"}),c.jsx("p",{className:"text-sm text-gray-700",children:"Une erreur est survenue. Veuillez ressayer."})]})]})}),c.jsxs("div",{className:"card",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Mthode de paiement"}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("button",{onClick:()=>y("mobile_money"),className:`w-full p-4 rounded-lg border-2 transition-all ${m==="mobile_money"?"border-primary bg-primary-light":"border-gray-200 dark:border-gray-700 hover:border-primary"}`,children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(OM,{className:"h-6 w-6 text-primary"}),c.jsxs("div",{className:"text-left flex-1",children:[c.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:"Mobile Money"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"MTN Mobile Money, Moov Money"})]}),m==="mobile_money"&&c.jsx(mr,{className:"h-5 w-5 text-primary"})]})}),c.jsx("button",{onClick:()=>y("card"),className:`w-full p-4 rounded-lg border-2 transition-all ${m==="card"?"border-primary bg-primary-light":"border-gray-200 dark:border-gray-700 hover:border-primary"}`,children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(rl,{className:"h-6 w-6 text-primary"}),c.jsxs("div",{className:"text-left flex-1",children:[c.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:"Carte bancaire"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Visa, Mastercard"})]}),m==="card"&&c.jsx(mr,{className:"h-5 w-5 text-primary"})]})})]})]}),c.jsx("div",{className:"card bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800",children:c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx(fs,{className:"h-6 w-6 text-blue-600 flex-shrink-0 mt-1"}),c.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-300",children:[c.jsx("p",{className:"font-semibold mb-1",children:"Paiement 100% scuris"}),c.jsx("p",{children:"Vos donnes bancaires sont cryptes et scurises par FedaPay. Nous ne stockons jamais vos informations de paiement."})]})]})}),c.jsx("button",{onClick:j,disabled:u||h==="success",className:"w-full btn-primary py-4 text-lg disabled:opacity-50 disabled:cursor-not-allowed",children:u?c.jsxs("span",{className:"flex items-center justify-center space-x-2",children:[c.jsx(BN,{className:"h-5 w-5 animate-spin"}),c.jsx("span",{children:"Traitement en cours..."})]}):`Payer ${n.montant_total} FCFA`}),!1,c.jsxs("p",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:['En cliquant sur "Payer", vous acceptez nos'," ",c.jsx("a",{href:"#",className:"text-primary hover:underline",children:"conditions gnrales"})]})]}),c.jsx("div",{className:"md:col-span-1",children:c.jsxs("div",{className:"card sticky top-24",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Rcapitulatif"}),c.jsxs("div",{className:"space-y-3 mb-6",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Trajet"}),c.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[n.trajets.depart,"  ",n.trajets.arrivee]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Compagnie"}),c.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:n.trajets.compagnies?.nom})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Horaire"}),c.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:n.horaire})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Passager"}),c.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:n.nom_passager})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Places"}),c.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:n.nb_places})]})]}),c.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sous-total"}),c.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[n.montant_total," FCFA"]})]}),c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Frais de service"}),c.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:"0 FCFA"})]}),c.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:"Total  payer"}),c.jsxs("span",{className:"font-bold text-2xl text-primary",children:[n.montant_total," FCFA"]})]})})]})]})})]})]})}):null}function WM(){const e=Nn(),[t,r]=x.useState({email:"",password:""}),[n,a]=x.useState(!1),[i,o]=x.useState(!1),[u,d]=x.useState(""),h=async p=>{p.preventDefault(),d(""),o(!0);try{const{error:m}=await ne.auth.signInWithPassword({email:t.email,password:t.password});if(m)throw m;e("/")}catch(m){d(m.message||"Une erreur est survenue lors de la connexion")}finally{o(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-primary to-blue-700",children:c.jsx("div",{className:"max-w-md w-full",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary rounded-2xl mb-4",children:c.jsx(pr,{className:"h-8 w-8 text-white"})}),c.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Connexion"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Connectez-vous  votre compte Bus Bnin"})]}),u&&c.jsx("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:c.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:u})}),c.jsxs("form",{onSubmit:h,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),c.jsxs("div",{className:"relative",children:[c.jsx(Cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"email",value:t.email,onChange:p=>r({...t,email:p.target.value}),placeholder:"votre@email.com",required:!0,className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Mot de passe"}),c.jsxs("div",{className:"relative",children:[c.jsx(mg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:n?"text":"password",value:t.password,onChange:p=>r({...t,password:p.target.value}),placeholder:"",required:!0,className:"input-field pl-10 pr-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"}),c.jsx("button",{type:"button",onClick:()=>a(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n?c.jsx(MN,{className:"h-5 w-5"}):c.jsx(LN,{className:"h-5 w-5"})})]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary"}),c.jsx("span",{className:"ml-2 text-sm text-gray-600 dark:text-gray-400",children:"Se souvenir de moi"})]}),c.jsx(_e,{to:"/forgot-password",className:"text-sm font-medium text-primary hover:text-primary-dark",children:"Mot de passe oubli ?"})]}),c.jsx("button",{type:"submit",disabled:i,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Connexion en cours...":"Se connecter"})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Vous n'avez pas de compte ?"," ",c.jsx(_e,{to:"/register",className:"font-medium text-primary hover:text-primary-dark",children:"S'inscrire"})]})})]})})})}function KM(){const e=Nn(),[t,r]=x.useState({email:"",password:"",confirmPassword:"",username:"",fullName:""}),[n,a]=x.useState(!1),[i,o]=x.useState(!1),[u,d]=x.useState(""),h=async p=>{if(p.preventDefault(),d(""),t.password!==t.confirmPassword){d("Les mots de passe ne correspondent pas");return}if(t.password.length<6){d("Le mot de passe doit contenir au moins 6 caractres");return}o(!0);try{const{data:m,error:y}=await ne.auth.signUp({email:t.email,password:t.password,options:{data:{username:t.username,full_name:t.fullName}}});if(y)throw y;if(m.user){const{error:v}=await ne.from("profiles").insert({id:m.user.id,username:t.username,full_name:t.fullName,email:t.email});v&&v.code!=="23505"&&console.error("Error creating profile:",v)}e("/")}catch(m){d(m.message||"Une erreur est survenue lors de l'inscription")}finally{o(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-primary to-blue-700",children:c.jsx("div",{className:"max-w-md w-full",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary rounded-2xl mb-4",children:c.jsx(pr,{className:"h-8 w-8 text-white"})}),c.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Inscription"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Crez votre compte Bus Bnin"})]}),u&&c.jsx("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:c.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:u})}),c.jsxs("form",{onSubmit:h,className:"space-y-5",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Nom complet"}),c.jsxs("div",{className:"relative",children:[c.jsx(ln,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",value:t.fullName,onChange:p=>r({...t,fullName:p.target.value}),placeholder:"Jean Dupont",required:!0,className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Nom d'utilisateur"}),c.jsxs("div",{className:"relative",children:[c.jsx(ln,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",value:t.username,onChange:p=>r({...t,username:p.target.value}),placeholder:"jeandupont",required:!0,minLength:3,className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),c.jsxs("div",{className:"relative",children:[c.jsx(Cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"email",value:t.email,onChange:p=>r({...t,email:p.target.value}),placeholder:"votre@email.com",required:!0,className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Mot de passe"}),c.jsxs("div",{className:"relative",children:[c.jsx(mg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:n?"text":"password",value:t.password,onChange:p=>r({...t,password:p.target.value}),placeholder:"",required:!0,minLength:6,className:"input-field pl-10 pr-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"}),c.jsx("button",{type:"button",onClick:()=>a(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n?c.jsx(MN,{className:"h-5 w-5"}):c.jsx(LN,{className:"h-5 w-5"})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Confirmer le mot de passe"}),c.jsxs("div",{className:"relative",children:[c.jsx(mg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:n?"text":"password",value:t.confirmPassword,onChange:p=>r({...t,confirmPassword:p.target.value}),placeholder:"",required:!0,minLength:6,className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]}),c.jsx("button",{type:"submit",disabled:i,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Inscription en cours...":"S'inscrire"})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Vous avez dj un compte ?"," ",c.jsx(_e,{to:"/login",className:"font-medium text-primary hover:text-primary-dark",children:"Se connecter"})]})})]})})})}function VM(){const{session:e}=Jt(),[t,r]=x.useState(null),[n,a]=x.useState(!1),[i,o]=x.useState(!0),[u,d]=x.useState(!1),[h,p]=x.useState({username:"",full_name:"",email:""});x.useEffect(()=>{m()},[e]);const m=async()=>{if(e?.user?.id)try{const{data:v,error:j}=await ne.from("profiles").select("*").eq("id",e.user.id).single();if(j)throw j;r(v),p({username:v.username||"",full_name:v.full_name||"",email:v.email||e.user.email})}catch(v){console.error("Error loading profile:",v)}finally{o(!1)}},y=async()=>{d(!0);try{const{error:v}=await ne.from("profiles").update({username:h.username,full_name:h.full_name,email:h.email,updated_at:new Date().toISOString()}).eq("id",e.user.id);if(v)throw v;await m(),a(!1)}catch(v){console.error("Error updating profile:",v),alert("Une erreur est survenue lors de la mise  jour")}finally{d(!1)}};return i?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):c.jsx("div",{className:"page-container",children:c.jsxs("div",{className:"max-w-3xl mx-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Mon profil"}),n?c.jsxs("div",{className:"flex space-x-2",children:[c.jsxs("button",{onClick:()=>{a(!1),p({username:t.username||"",full_name:t.full_name||"",email:t.email||""})},className:"btn-secondary flex items-center space-x-2",children:[c.jsx(ys,{className:"h-4 w-4"}),c.jsx("span",{children:"Annuler"})]}),c.jsxs("button",{onClick:y,disabled:u,className:"btn-primary flex items-center space-x-2 disabled:opacity-50",children:[c.jsx(PM,{className:"h-4 w-4"}),c.jsx("span",{children:u?"Enregistrement...":"Enregistrer"})]})]}):c.jsxs("button",{onClick:()=>a(!0),className:"btn-primary flex items-center space-x-2",children:[c.jsx(wd,{className:"h-4 w-4"}),c.jsx("span",{children:"Modifier"})]})]}),c.jsxs("div",{className:"card",children:[c.jsx("div",{className:"flex justify-center mb-8",children:c.jsx("div",{className:"w-32 h-32 bg-primary-light rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-5xl font-bold text-primary",children:h.username?.[0]?.toUpperCase()||h.full_name?.[0]?.toUpperCase()||"U"})})}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Nom complet"}),c.jsxs("div",{className:"relative",children:[c.jsx(ln,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",value:h.full_name,onChange:v=>p({...h,full_name:v.target.value}),disabled:!n,className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600 disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:cursor-not-allowed"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Nom d'utilisateur"}),c.jsxs("div",{className:"relative",children:[c.jsx(ln,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",value:h.username,onChange:v=>p({...h,username:v.target.value}),disabled:!n,minLength:3,className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600 disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:cursor-not-allowed"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),c.jsxs("div",{className:"relative",children:[c.jsx(Cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"email",value:h.email,onChange:v=>p({...h,email:v.target.value}),disabled:!n,className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600 disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:cursor-not-allowed"})]})]}),t&&c.jsx("div",{className:"pt-6 border-t border-gray-200 dark:border-gray-700",children:c.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Compte cr:"})," ",new Date(e.user.created_at).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})]}),t.updated_at&&c.jsxs("p",{children:[c.jsx("strong",{children:"Dernire modification:"})," ",new Date(t.updated_at).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})]})]})})]})]})]})})}function HM(){const{session:e}=Jt(),[t,r]=x.useState([]),[n,a]=x.useState(!0),[i,o]=x.useState(null);x.useEffect(()=>{u()},[e]);const u=async()=>{if(e?.user?.id)try{const{data:y,error:v}=await ne.from("reservations").select(`
          id,
          nb_places,
          horaire,
          montant_total,
          nom_passager,
          telephone_passager,
          email_passager,
          statut,
          statut_paiement,
          fedapay_transaction_id,
          created_at,
          trajets:trajet_id (
            id,
            depart,
            arrivee,
            compagnies:compagnie_id (nom)
          )
        `).eq("user_id",e.user.id).order("created_at",{ascending:!1});if(v)throw v;r(y||[])}catch(y){console.error("Error loading reservations:",y)}finally{a(!1)}},d=async y=>{if(!y.fedapay_transaction_id){alert(" Aucune transaction de paiement trouve");return}try{o(y.id),console.log(" Vrification du statut pour:",y.fedapay_transaction_id);const v=await Ov(y.fedapay_transaction_id);if(v.success){console.log(" Statut rcupr:",v.status);const{error:j}=await ne.from("reservations").update({statut_paiement:v.status,statut:v.status==="approved"?"confirmee":"en_attente"}).eq("id",y.id);if(j)throw console.error("Erreur mise  jour:",j),j;alert({approved:" Paiement confirm ! Votre rservation est valide.",pending:" Paiement en attente. Veuillez complter le paiement.",declined:" Paiement refus. Veuillez ressayer.",canceled:" Paiement annul."}[v.status]||`Statut: ${v.status}`),await u()}else alert(" Impossible de vrifier le statut du paiement")}catch(v){console.error(" Erreur vrification:",v),alert(`Erreur: ${v.message}`)}finally{o(null)}},h=async y=>{if(confirm("tes-vous sr de vouloir annuler cette rservation ?"))try{const{error:v}=await ne.from("reservations").update({statut:"annulee",statut_paiement:"canceled"}).eq("id",y).eq("statut","en_attente");if(v)throw v;alert(" Rservation annule"),await u()}catch(v){console.error(" Erreur annulation:",v),alert(`Erreur: ${v.message}`)}},p=y=>{const v={en_attente:{color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300",icon:vj,label:"En attente"},confirmee:{color:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",icon:mr,label:"Confirme"},annulee:{color:"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400",icon:fr,label:"Annule"},expiree:{color:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",icon:fr,label:"Expire"}},j=v[y]||v.en_attente,w=j.icon;return c.jsxs("span",{className:`inline-flex items-center space-x-1 px-3 py-1 rounded-full text-xs font-semibold ${j.color}`,children:[c.jsx(w,{className:"h-3 w-3"}),c.jsx("span",{children:j.label})]})},m=y=>{const v={pending:{color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300",label:"En attente",icon:vj},approved:{color:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",label:"Pay",icon:mr},declined:{color:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",label:"Refus",icon:fr},canceled:{color:"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400",label:"Annul",icon:fr}},j=v[y]||v.pending,w=j.icon;return c.jsxs("span",{className:`inline-flex items-center space-x-1 px-2 py-1 rounded text-xs font-semibold ${j.color}`,children:[c.jsx(w,{className:"h-3 w-3"}),c.jsx("span",{children:j.label})]})};return n?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):c.jsxs("div",{className:"page-container",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Mes rservations"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Consultez l'historique de vos rservations"})]}),t.length===0?c.jsxs("div",{className:"text-center py-20",children:[c.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center",children:c.jsx(xn,{className:"h-12 w-12 text-gray-400"})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Aucune rservation"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Vous n'avez pas encore effectu de rservation"}),c.jsx(_e,{to:"/trajets",className:"btn-primary",children:"Rechercher des trajets"})]}):c.jsx("div",{className:"space-y-4",children:t.map(y=>c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:[y.trajets.depart,"  ",y.trajets.arrivee]}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:y.trajets.compagnies?.nom})]}),p(y.statut)]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400",children:[c.jsx(xn,{className:"h-4 w-4"}),c.jsx("span",{children:new Date(y.created_at).toLocaleDateString("fr-FR")})]}),c.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400",children:[c.jsx(bn,{className:"h-4 w-4"}),c.jsx("span",{children:y.horaire})]}),c.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400",children:[c.jsx(vs,{className:"h-4 w-4"}),c.jsxs("span",{children:[y.nb_places," place",y.nb_places>1?"s":""]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(rl,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"}),m(y.statut_paiement)]})]}),c.jsxs("div",{className:"flex gap-2 mt-3",children:[y.statut_paiement==="pending"&&y.fedapay_transaction_id&&c.jsxs("button",{onClick:()=>d(y),disabled:i===y.id,className:"flex items-center space-x-1 px-3 py-2 rounded-lg bg-blue-50 hover:bg-blue-100 dark:bg-blue-900/30 dark:hover:bg-blue-900/50 text-blue-700 dark:text-blue-300 text-xs font-semibold transition-colors disabled:opacity-50",children:[c.jsx(EM,{className:`h-3 w-3 ${i===y.id?"animate-spin":""}`}),c.jsx("span",{children:i===y.id?"Vrification...":"Vrifier"})]}),y.statut==="en_attente"&&y.statut_paiement==="pending"&&c.jsxs(_e,{to:`/payment/${y.id}`,className:"flex items-center space-x-1 px-3 py-2 rounded-lg bg-primary hover:bg-primary/90 text-white text-xs font-semibold transition-colors",children:[c.jsx(rl,{className:"h-3 w-3"}),c.jsxs("span",{children:["Payer ",y.montant_total," FCFA"]})]}),y.statut==="en_attente"&&c.jsxs("button",{onClick:()=>h(y.id),className:"flex items-center space-x-1 px-3 py-2 rounded-lg bg-red-50 hover:bg-red-100 dark:bg-red-900/30 dark:hover:bg-red-900/50 text-red-700 dark:text-red-300 text-xs font-semibold transition-colors",children:[c.jsx(fr,{className:"h-3 w-3"}),c.jsx("span",{children:"Annuler"})]})]})]}),c.jsx("div",{className:"flex flex-col items-end justify-center",children:c.jsxs("div",{className:"text-right",children:[c.jsx("span",{className:"text-2xl font-bold text-primary",children:y.montant_total}),c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 ml-1",children:"FCFA"})]})})]}),c.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 text-sm text-gray-600 dark:text-gray-400",children:[c.jsxs("div",{children:[c.jsx("strong",{children:"Passager:"})," ",y.nom_passager]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Tlphone:"})," ",y.telephone_passager]}),y.email_passager&&c.jsxs("div",{children:[c.jsx("strong",{children:"Email:"})," ",y.email_passager]})]})})]},y.id))})]})}function GM(){const{session:e}=Jt(),[t,r]=x.useState([]),[n,a]=x.useState(!0);x.useEffect(()=>{i()},[e]);const i=async()=>{if(e?.user?.id)try{const{data:o,error:u}=await ne.from("favoris").select("*, trajets(*, compagnies:compagnie_id(nom))").eq("user_id",e.user.id).order("created_at",{ascending:!1});if(u)throw u;const d=(o||[]).map(h=>({...h.trajets,compagnie:h.trajets?.compagnies?.nom}));r(d)}catch(o){console.error("Error loading favorites:",o)}finally{a(!1)}};return n?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):c.jsxs("div",{className:"page-container",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Mes favoris"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Retrouvez vos trajets prfrs"})]}),t.length===0?c.jsxs("div",{className:"text-center py-20",children:[c.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center",children:c.jsx(bd,{className:"h-12 w-12 text-gray-400"})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Aucun favori"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Ajoutez des trajets  vos favoris pour les retrouver facilement"}),c.jsx(_e,{to:"/trajets",className:"btn-primary",children:"Explorer les trajets"})]}):c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(o=>c.jsx(Pv,{trajet:o,isFavorite:!0,onFavoriteToggle:i},o.id))})]})}function KN(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=KN(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Te(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=KN(e))&&(n&&(n+=" "),n+=t);return n}var YM=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Av(e){if(typeof e!="string")return!1;var t=YM;return t.includes(e)}var XM=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function VN(e){if(typeof e!="string")return!1;var t=XM;return t.includes(e)}function HN(e){return typeof e=="string"&&e.startsWith("data-")}function nr(e){var t=Object.entries(e).filter(r=>{var[n]=r;return VN(n)||HN(n)});return Object.fromEntries(t)}function gi(e){if(e==null)return null;if(x.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return nr(t)}return typeof e=="object"&&!Array.isArray(e)?nr(e):null}function ar(e){var t=Object.entries(e).filter(r=>{var[n]=r;return VN(n)||HN(n)||Av(n)});return Object.fromEntries(t)}function GN(e){return e==null?null:x.isValidElement(e)?ar(e.props):typeof e=="object"&&!Array.isArray(e)?ar(e):null}var JM=["children","width","height","viewBox","className","style","title","desc"];function yg(){return yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yg.apply(null,arguments)}function QM(e,t){if(e==null)return{};var r,n,a=ZM(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ZM(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Cv=x.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:o,style:u,title:d,desc:h}=e,p=QM(e,JM),m=i||{width:n,height:a,x:0,y:0},y=Te("recharts-surface",o);return x.createElement("svg",yg({},ar(p),{className:y,width:n,height:a,style:u,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),x.createElement("title",null,d),x.createElement("desc",null,h),r)}),e4=["children","className"];function xg(){return xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xg.apply(null,arguments)}function t4(e,t){if(e==null)return{};var r,n,a=r4(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function r4(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ct=x.forwardRef((e,t)=>{var{children:r,className:n}=e,a=t4(e,e4),i=Te("recharts-layer",n);return x.createElement("g",xg({className:i},ar(a),{ref:t}),r)}),YN=x.createContext(null),n4=()=>x.useContext(YN);function He(e){return function(){return e}}const XN=Math.cos,Eu=Math.sin,dn=Math.sqrt,Pu=Math.PI,kd=2*Pu,bg=Math.PI,wg=2*bg,ni=1e-6,a4=wg-ni;function JN(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function i4(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return JN;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class s4{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?JN:i4(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,u=this._y1,d=n-t,h=a-r,p=o-t,m=u-r,y=p*p+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(y>ni)if(!(Math.abs(m*d-h*p)>ni)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let v=n-o,j=a-u,w=d*d+h*h,_=v*v+j*j,N=Math.sqrt(w),A=Math.sqrt(y),E=i*Math.tan((bg-Math.acos((w+y-_)/(2*N*A)))/2),C=E/A,P=E/N;Math.abs(C-1)>ni&&this._append`L${t+C*p},${r+C*m}`,this._append`A${i},${i},0,0,${+(m*v>p*j)},${this._x1=t+P*d},${this._y1=r+P*h}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(a),d=n*Math.sin(a),h=t+u,p=r+d,m=1^o,y=o?a-i:i-a;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>ni||Math.abs(this._y1-p)>ni)&&this._append`L${h},${p}`,n&&(y<0&&(y=y%wg+wg),y>a4?this._append`A${n},${n},0,1,${m},${t-u},${r-d}A${n},${n},0,1,${m},${this._x1=h},${this._y1=p}`:y>ni&&this._append`A${n},${n},0,${+(y>=bg)},${m},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Tv(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new s4(t)}function Rv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function QN(e){this._context=e}QN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Sd(e){return new QN(e)}function ZN(e){return e[0]}function eE(e){return e[1]}function tE(e,t){var r=He(!0),n=null,a=Sd,i=null,o=Tv(u);e=typeof e=="function"?e:e===void 0?ZN:He(e),t=typeof t=="function"?t:t===void 0?eE:He(t);function u(d){var h,p=(d=Rv(d)).length,m,y=!1,v;for(n==null&&(i=a(v=o())),h=0;h<=p;++h)!(h<p&&r(m=d[h],h,d))===y&&((y=!y)?i.lineStart():i.lineEnd()),y&&i.point(+e(m,h,d),+t(m,h,d));if(v)return i=null,v+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:He(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:He(+d),u):t},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:He(!!d),u):r},u.curve=function(d){return arguments.length?(a=d,n!=null&&(i=a(n)),u):a},u.context=function(d){return arguments.length?(d==null?n=i=null:i=a(n=d),u):n},u}function tu(e,t,r){var n=null,a=He(!0),i=null,o=Sd,u=null,d=Tv(h);e=typeof e=="function"?e:e===void 0?ZN:He(+e),t=typeof t=="function"?t:He(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?eE:He(+r);function h(m){var y,v,j,w=(m=Rv(m)).length,_,N=!1,A,E=new Array(w),C=new Array(w);for(i==null&&(u=o(A=d())),y=0;y<=w;++y){if(!(y<w&&a(_=m[y],y,m))===N)if(N=!N)v=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),j=y-1;j>=v;--j)u.point(E[j],C[j]);u.lineEnd(),u.areaEnd()}N&&(E[y]=+e(_,y,m),C[y]=+t(_,y,m),u.point(n?+n(_,y,m):E[y],r?+r(_,y,m):C[y]))}if(A)return u=null,A+""||null}function p(){return tE().defined(a).curve(o).context(i)}return h.x=function(m){return arguments.length?(e=typeof m=="function"?m:He(+m),n=null,h):e},h.x0=function(m){return arguments.length?(e=typeof m=="function"?m:He(+m),h):e},h.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:He(+m),h):n},h.y=function(m){return arguments.length?(t=typeof m=="function"?m:He(+m),r=null,h):t},h.y0=function(m){return arguments.length?(t=typeof m=="function"?m:He(+m),h):t},h.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:He(+m),h):r},h.lineX0=h.lineY0=function(){return p().x(e).y(t)},h.lineY1=function(){return p().x(e).y(r)},h.lineX1=function(){return p().x(n).y(t)},h.defined=function(m){return arguments.length?(a=typeof m=="function"?m:He(!!m),h):a},h.curve=function(m){return arguments.length?(o=m,i!=null&&(u=o(i)),h):o},h.context=function(m){return arguments.length?(m==null?i=u=null:u=o(i=m),h):i},h}class rE{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function o4(e){return new rE(e,!0)}function l4(e){return new rE(e,!1)}const Iv={draw(e,t){const r=dn(t/Pu);e.moveTo(r,0),e.arc(0,0,r,0,kd)}},c4={draw(e,t){const r=dn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},nE=dn(1/3),u4=nE*2,d4={draw(e,t){const r=dn(t/u4),n=r*nE;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},f4={draw(e,t){const r=dn(t),n=-r/2;e.rect(n,n,r,r)}},h4=.8908130915292852,aE=Eu(Pu/10)/Eu(7*Pu/10),p4=Eu(kd/10)*aE,m4=-XN(kd/10)*aE,g4={draw(e,t){const r=dn(t*h4),n=p4*r,a=m4*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=kd*i/5,u=XN(o),d=Eu(o);e.lineTo(d*r,-u*r),e.lineTo(u*n-d*a,d*n+u*a)}e.closePath()}},_p=dn(3),v4={draw(e,t){const r=-dn(t/(_p*3));e.moveTo(0,r*2),e.lineTo(-_p*r,-r),e.lineTo(_p*r,-r),e.closePath()}},$r=-.5,Br=dn(3)/2,jg=1/dn(12),y4=(jg/2+1)*3,x4={draw(e,t){const r=dn(t/y4),n=r/2,a=r*jg,i=n,o=r*jg+r,u=-i,d=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(u,d),e.lineTo($r*n-Br*a,Br*n+$r*a),e.lineTo($r*i-Br*o,Br*i+$r*o),e.lineTo($r*u-Br*d,Br*u+$r*d),e.lineTo($r*n+Br*a,$r*a-Br*n),e.lineTo($r*i+Br*o,$r*o-Br*i),e.lineTo($r*u+Br*d,$r*d-Br*u),e.closePath()}};function b4(e,t){let r=null,n=Tv(a);e=typeof e=="function"?e:He(e||Iv),t=typeof t=="function"?t:He(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:He(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:He(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Ou(){}function Au(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function iE(e){this._context=e}iE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Au(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Au(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function w4(e){return new iE(e)}function sE(e){this._context=e}sE.prototype={areaStart:Ou,areaEnd:Ou,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Au(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function j4(e){return new sE(e)}function oE(e){this._context=e}oE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Au(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _4(e){return new oE(e)}function lE(e){this._context=e}lE.prototype={areaStart:Ou,areaEnd:Ou,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function k4(e){return new lE(e)}function wj(e){return e<0?-1:1}function jj(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),u=(i*a+o*n)/(n+a);return(wj(i)+wj(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(u))||0}function _j(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function kp(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,u=(i-n)/3;e._context.bezierCurveTo(n+u,a+u*t,i-u,o-u*r,i,o)}function Cu(e){this._context=e}Cu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:kp(this,this._t0,_j(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,kp(this,_j(this,r=jj(this,e,t)),r);break;default:kp(this,this._t0,r=jj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function cE(e){this._context=new uE(e)}(cE.prototype=Object.create(Cu.prototype)).point=function(e,t){Cu.prototype.point.call(this,t,e)};function uE(e){this._context=e}uE.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function S4(e){return new Cu(e)}function N4(e){return new cE(e)}function dE(e){this._context=e}dE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=kj(e),a=kj(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function kj(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function E4(e){return new dE(e)}function Nd(e,t){this._context=e,this._t=t}Nd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function P4(e){return new Nd(e,.5)}function O4(e){return new Nd(e,0)}function A4(e){return new Nd(e,1)}function xs(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,u=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<u;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function _g(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function C4(e,t){return e[t]}function T4(e){const t=[];return t.key=e,t}function R4(){var e=He([]),t=_g,r=xs,n=C4;function a(i){var o=Array.from(e.apply(this,arguments),T4),u,d=o.length,h=-1,p;for(const m of i)for(u=0,++h;u<d;++u)(o[u][h]=[0,+n(m,o[u].key,h,i)]).data=m;for(u=0,p=Rv(t(o));u<d;++u)o[p[u]].index=u;return r(o,p),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:He(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:He(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?_g:typeof i=="function"?i:He(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??xs,a):r},a}function I4(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}xs(e,t)}}function D4(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,u=0;o<a;++o)u+=e[o][r][1]||0;n[r][1]+=n[r][0]=-u/2}xs(e,t)}}function M4(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var u=0,d=0,h=0;u<o;++u){for(var p=e[t[u]],m=p[n][1]||0,y=p[n-1][1]||0,v=(m-y)/2,j=0;j<u;++j){var w=e[t[j]],_=w[n][1]||0,N=w[n-1][1]||0;v+=_-N}d+=m,h+=v*m}a[n-1][1]+=a[n-1][0]=r,d&&(r-=h/d)}a[n-1][1]+=a[n-1][0]=r,xs(e,t)}}var Sp={},Np={},Sj;function L4(){return Sj||(Sj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Np)),Np}var Ep={},Nj;function fE(){return Nj||(Nj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Ep)),Ep}var Pp={},Ej;function Dv(){return Ej||(Ej=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(Pp)),Pp}var Op={},Ap={},Pj;function $4(){return Pj||(Pj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(Ap)),Ap}var Oj;function Mv(){return Oj||(Oj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$4(),r=Dv();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],o=a.length;if(o===0)return i;let u=0,d="",h="",p=!1;for(a.charCodeAt(0)===46&&(i.push(""),u++);u<o;){const m=a[u];h?m==="\\"&&u+1<o?(u++,d+=a[u]):m===h?h="":d+=m:p?m==='"'||m==="'"?h=m:m==="]"?(p=!1,i.push(d),d=""):d+=m:m==="["?(p=!0,d&&(i.push(d),d="")):m==="."?d&&(i.push(d),d=""):d+=m,u++}return d&&i.push(d),i}e.toPath=n})(Op)),Op}var Aj;function Lv(){return Aj||(Aj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L4(),r=fE(),n=Dv(),a=Mv();function i(u,d,h){if(u==null)return h;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return h;const p=u[d];return p===void 0?r.isDeepKey(d)?i(u,a.toPath(d),h):h:p}case"number":case"symbol":{typeof d=="number"&&(d=n.toKey(d));const p=u[d];return p===void 0?h:p}default:{if(Array.isArray(d))return o(u,d,h);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return h;const p=u[d];return p===void 0?h:p}}}function o(u,d,h){if(d.length===0)return h;let p=u;for(let m=0;m<d.length;m++){if(p==null||t.isUnsafeProperty(d[m]))return h;p=p[d[m]]}return p===void 0?h:p}e.get=i})(Sp)),Sp}var Cp,Cj;function B4(){return Cj||(Cj=1,Cp=Lv().get),Cp}var F4=B4();const vi=un(F4);var Rt=e=>e===0?0:e>0?1:-1,Or=e=>typeof e=="number"&&e!=+e,Vn=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,fe=e=>(typeof e=="number"||e instanceof Number)&&!Or(e),wn=e=>fe(e)||typeof e=="string",U4=0,nl=e=>{var t=++U4;return"".concat(e||"").concat(t)},Xt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!fe(t)&&typeof t!="string")return n;var i;if(Vn(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Or(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},hE=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function ze(e,t,r){return fe(e)&&fe(t)?e+r*(t-e):t}function pE(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):vi(n,t))===r)}var Je=e=>e===null||typeof e>"u",vl=e=>Je(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),z4=["type","size","sizeType"];function kg(){return kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kg.apply(null,arguments)}function Tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tj(Object(r),!0).forEach(function(n){q4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q4(e,t,r){return(t=W4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W4(e){var t=K4(e,"string");return typeof t=="symbol"?t:t+""}function K4(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V4(e,t){if(e==null)return{};var r,n,a=H4(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function H4(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var mE={symbolCircle:Iv,symbolCross:c4,symbolDiamond:d4,symbolSquare:f4,symbolStar:g4,symbolTriangle:v4,symbolWye:x4},G4=Math.PI/180,Y4=e=>{var t="symbol".concat(vl(e));return mE[t]||Iv},X4=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*G4;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},J4=(e,t)=>{mE["symbol".concat(vl(e))]=t},$v=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=V4(e,z4),i=Rj(Rj({},a),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var u=()=>{var y=Y4(o),v=b4().type(y).size(X4(r,n,o)),j=v();if(j!==null)return j},{className:d,cx:h,cy:p}=i,m=ar(i);return h===+h&&p===+p&&r===+r?x.createElement("path",kg({},m,{className:Te("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};$v.registerSymbol=J4;var Bv=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(x.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{Av(a)&&(n[a]=(i=>r[a](r,i)))}),n},Q4=(e,t,r)=>n=>(e(t,r,n),null),yl=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];Av(a)&&typeof i=="function"&&(n||(n={}),n[a]=Q4(i,t,r))}),n};function Sg(){return Sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sg.apply(null,arguments)}function Ij(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Z4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ij(Object(r),!0).forEach(function(n){Fv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ij(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fv(e,t,r){return(t=eL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eL(e){var t=tL(e,"string");return typeof t=="symbol"?t:t+""}function tL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fr=32;class Uv extends x.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,a=Fr/2,i=Fr/6,o=Fr/3,u=t.inactive?n:t.color,d=r??t.type;if(d==="none")return null;if(d==="plainline")return x.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:a,x2:Fr,y2:a,className:"recharts-legend-icon"});if(d==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(Fr,"M").concat(2*o,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(d==="rect")return x.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Fr/8,"h").concat(Fr,"v").concat(Fr*3/4,"h").concat(-Fr,"z"),className:"recharts-legend-icon"});if(x.isValidElement(t.legendIcon)){var h=Z4({},t);return delete h.legendIcon,x.cloneElement(t.legendIcon,h)}return x.createElement($v,{fill:u,cx:a,cy:a,size:Fr,sizeType:"diameter",type:d})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:o}=this.props,u={x:0,y:0,width:Fr,height:Fr},d={display:n==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((p,m)=>{var y=p.formatter||a,v=Te({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:p.inactive});if(p.type==="none")return null;var j=p.inactive?i:p.color,w=y?y(p.value,p,m):p.value;return x.createElement("li",Sg({className:v,style:d,key:"legend-item-".concat(m)},yl(this.props,p,m)),x.createElement(Cv,{width:r,height:r,viewBox:u,style:h,"aria-label":"".concat(w," legend icon")},this.renderIcon(p,o)),x.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},w))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}Fv(Uv,"displayName","Legend");Fv(Uv,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Tp={},Rp={},Dj;function rL(){return Dj||(Dj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const o=r[i],u=n(o);a.has(u)||a.set(u,o)}return Array.from(a.values())}e.uniqBy=t})(Rp)),Rp}var Ip={},Mj;function gE(){return Mj||(Mj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Ip)),Ip}var Dp={},Mp={},Lp={},Lj;function nL(){return Lj||(Lj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(Lp)),Lp}var $j;function zv(){return $j||($j=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nL();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Mp)),Mp}var $p={},Bj;function aL(){return Bj||(Bj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})($p)),$p}var Fj;function iL(){return Fj||(Fj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zv(),r=aL();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(Dp)),Dp}var Bp={},Fp={},Uj;function sL(){return Uj||(Uj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lv();function r(n){return function(a){return t.get(a,n)}}e.property=r})(Fp)),Fp}var Up={},zp={},qp={},Wp={},zj;function vE(){return zj||(zj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Wp)),Wp}var Kp={},qj;function yE(){return qj||(qj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Kp)),Kp}var Vp={},Wj;function xE(){return Wj||(Wj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Vp)),Vp}var Kj;function oL(){return Kj||(Kj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vE(),r=yE(),n=xE();function a(p,m,y){return typeof y!="function"?a(p,m,()=>{}):i(p,m,function v(j,w,_,N,A,E){const C=y(j,w,_,N,A,E);return C!==void 0?!!C:i(j,w,v,E)},new Map)}function i(p,m,y,v){if(m===p)return!0;switch(typeof m){case"object":return o(p,m,y,v);case"function":return Object.keys(m).length>0?i(p,{...m},y,v):n.eq(p,m);default:return t.isObject(p)?typeof m=="string"?m==="":!0:n.eq(p,m)}}function o(p,m,y,v){if(m==null)return!0;if(Array.isArray(m))return d(p,m,y,v);if(m instanceof Map)return u(p,m,y,v);if(m instanceof Set)return h(p,m,y,v);const j=Object.keys(m);if(p==null)return j.length===0;if(j.length===0)return!0;if(v?.has(m))return v.get(m)===p;v?.set(m,p);try{for(let w=0;w<j.length;w++){const _=j[w];if(!r.isPrimitive(p)&&!(_ in p)||m[_]===void 0&&p[_]!==void 0||m[_]===null&&p[_]!==null||!y(p[_],m[_],_,p,m,v))return!1}return!0}finally{v?.delete(m)}}function u(p,m,y,v){if(m.size===0)return!0;if(!(p instanceof Map))return!1;for(const[j,w]of m.entries()){const _=p.get(j);if(y(_,w,j,p,m,v)===!1)return!1}return!0}function d(p,m,y,v){if(m.length===0)return!0;if(!Array.isArray(p))return!1;const j=new Set;for(let w=0;w<m.length;w++){const _=m[w];let N=!1;for(let A=0;A<p.length;A++){if(j.has(A))continue;const E=p[A];let C=!1;if(y(E,_,w,p,m,v)&&(C=!0),C){j.add(A),N=!0;break}}if(!N)return!1}return!0}function h(p,m,y,v){return m.size===0?!0:p instanceof Set?d([...p],[...m],y,v):!1}e.isMatchWith=a,e.isSetMatch=h})(qp)),qp}var Vj;function bE(){return Vj||(Vj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oL();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(zp)),zp}var Hp={},Gp={},Yp={},Hj;function lL(){return Hj||(Hj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Yp)),Yp}var Xp={},Gj;function wE(){return Gj||(Gj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Xp)),Xp}var Jp={},Yj;function jE(){return Yj||(Yj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",u="[object Date]",d="[object Map]",h="[object Set]",p="[object Array]",m="[object Function]",y="[object ArrayBuffer]",v="[object Object]",j="[object Error]",w="[object DataView]",_="[object Uint8Array]",N="[object Uint8ClampedArray]",A="[object Uint16Array]",E="[object Uint32Array]",C="[object BigUint64Array]",P="[object Int8Array]",S="[object Int16Array]",T="[object Int32Array]",I="[object BigInt64Array]",M="[object Float32Array]",z="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=y,e.arrayTag=p,e.bigInt64ArrayTag=I,e.bigUint64ArrayTag=C,e.booleanTag=a,e.dataViewTag=w,e.dateTag=u,e.errorTag=j,e.float32ArrayTag=M,e.float64ArrayTag=z,e.functionTag=m,e.int16ArrayTag=S,e.int32ArrayTag=T,e.int8ArrayTag=P,e.mapTag=d,e.numberTag=n,e.objectTag=v,e.regexpTag=t,e.setTag=h,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=A,e.uint32ArrayTag=E,e.uint8ArrayTag=_,e.uint8ClampedArrayTag=N})(Jp)),Jp}var Qp={},Xj;function cL(){return Xj||(Xj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Qp)),Qp}var Jj;function _E(){return Jj||(Jj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lL(),r=wE(),n=jE(),a=yE(),i=cL();function o(p,m){return u(p,void 0,p,new Map,m)}function u(p,m,y,v=new Map,j=void 0){const w=j?.(p,m,y,v);if(w!==void 0)return w;if(a.isPrimitive(p))return p;if(v.has(p))return v.get(p);if(Array.isArray(p)){const _=new Array(p.length);v.set(p,_);for(let N=0;N<p.length;N++)_[N]=u(p[N],N,y,v,j);return Object.hasOwn(p,"index")&&(_.index=p.index),Object.hasOwn(p,"input")&&(_.input=p.input),_}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const _=new RegExp(p.source,p.flags);return _.lastIndex=p.lastIndex,_}if(p instanceof Map){const _=new Map;v.set(p,_);for(const[N,A]of p)_.set(N,u(A,N,y,v,j));return _}if(p instanceof Set){const _=new Set;v.set(p,_);for(const N of p)_.add(u(N,void 0,y,v,j));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(i.isTypedArray(p)){const _=new(Object.getPrototypeOf(p)).constructor(p.length);v.set(p,_);for(let N=0;N<p.length;N++)_[N]=u(p[N],N,y,v,j);return _}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const _=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return v.set(p,_),d(_,p,y,v,j),_}if(typeof File<"u"&&p instanceof File){const _=new File([p],p.name,{type:p.type});return v.set(p,_),d(_,p,y,v,j),_}if(typeof Blob<"u"&&p instanceof Blob){const _=new Blob([p],{type:p.type});return v.set(p,_),d(_,p,y,v,j),_}if(p instanceof Error){const _=new p.constructor;return v.set(p,_),_.message=p.message,_.name=p.name,_.stack=p.stack,_.cause=p.cause,d(_,p,y,v,j),_}if(p instanceof Boolean){const _=new Boolean(p.valueOf());return v.set(p,_),d(_,p,y,v,j),_}if(p instanceof Number){const _=new Number(p.valueOf());return v.set(p,_),d(_,p,y,v,j),_}if(p instanceof String){const _=new String(p.valueOf());return v.set(p,_),d(_,p,y,v,j),_}if(typeof p=="object"&&h(p)){const _=Object.create(Object.getPrototypeOf(p));return v.set(p,_),d(_,p,y,v,j),_}return p}function d(p,m,y=p,v,j){const w=[...Object.keys(m),...t.getSymbols(m)];for(let _=0;_<w.length;_++){const N=w[_],A=Object.getOwnPropertyDescriptor(p,N);(A==null||A.writable)&&(p[N]=u(m[N],N,y,v,j))}}function h(p){switch(r.getTag(p)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=u,e.copyProperties=d})(Gp)),Gp}var Qj;function uL(){return Qj||(Qj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_E();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(Hp)),Hp}var Zj;function dL(){return Zj||(Zj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bE(),r=uL();function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(Up)),Up}var Zp={},em={},tm={},e1;function fL(){return e1||(e1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_E(),r=jE();function n(a,i){return t.cloneDeepWith(a,(o,u,d,h)=>{const p=i?.(o,u,d,h);if(p!==void 0)return p;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const m=new a.constructor(a?.valueOf());return t.copyProperties(m,a),m}case r.argumentsTag:{const m={};return t.copyProperties(m,a),m.length=a.length,m[Symbol.iterator]=a[Symbol.iterator],m}default:return}})}e.cloneDeepWith=n})(tm)),tm}var t1;function hL(){return t1||(t1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fL();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(em)),em}var rm={},nm={},r1;function kE(){return r1||(r1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(nm)),nm}var am={},n1;function pL(){return n1||(n1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wE();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(am)),am}var a1;function mL(){return a1||(a1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fE(),r=kE(),n=pL(),a=Mv();function i(o,u){let d;if(Array.isArray(u)?d=u:typeof u=="string"&&t.isDeepKey(u)&&o?.[u]==null?d=a.toPath(u):d=[u],d.length===0)return!1;let h=o;for(let p=0;p<d.length;p++){const m=d[p];if((h==null||!Object.hasOwn(h,m))&&!((Array.isArray(h)||n.isArguments(h))&&r.isIndex(m)&&m<h.length))return!1;h=h[m]}return!0}e.has=i})(rm)),rm}var i1;function gL(){return i1||(i1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bE(),r=Dv(),n=hL(),a=Lv(),i=mL();function o(u,d){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=r.toKey(u);break}}return d=n.cloneDeep(d),function(h){const p=a.get(h,u);return p===void 0?i.has(h,u):d===void 0?p===void 0:t.isMatch(p,d)}}e.matchesProperty=o})(Zp)),Zp}var s1;function vL(){return s1||(s1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gE(),r=sL(),n=dL(),a=gL();function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(Bp)),Bp}var o1;function yL(){return o1||(o1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rL(),r=gE(),n=iL(),a=vL();function i(o,u=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),a.iteratee(u)):[]}e.uniqBy=i})(Tp)),Tp}var im,l1;function xL(){return l1||(l1=1,im=yL().uniqBy),im}var bL=xL();const c1=un(bL);function SE(e,t,r){return t===!0?c1(e,r):typeof t=="function"?c1(e,t):e}var sm={exports:{}},om={},lm={exports:{}},cm={};var u1;function wL(){if(u1)return cm;u1=1;var e=Ns();function t(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function u(m,y){var v=y(),j=n({inst:{value:v,getSnapshot:y}}),w=j[0].inst,_=j[1];return i(function(){w.value=v,w.getSnapshot=y,d(w)&&_({inst:w})},[m,v,y]),a(function(){return d(w)&&_({inst:w}),m(function(){d(w)&&_({inst:w})})},[m]),o(v),v}function d(m){var y=m.getSnapshot;m=m.value;try{var v=y();return!r(m,v)}catch{return!0}}function h(m,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return cm.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,cm}var d1;function jL(){return d1||(d1=1,lm.exports=wL()),lm.exports}var f1;function _L(){if(f1)return om;f1=1;var e=Ns(),t=jL();function r(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,i=e.useRef,o=e.useEffect,u=e.useMemo,d=e.useDebugValue;return om.useSyncExternalStoreWithSelector=function(h,p,m,y,v){var j=i(null);if(j.current===null){var w={hasValue:!1,value:null};j.current=w}else w=j.current;j=u(function(){function N(S){if(!A){if(A=!0,E=S,S=y(S),v!==void 0&&w.hasValue){var T=w.value;if(v(T,S))return C=T}return C=S}if(T=C,n(E,S))return T;var I=y(S);return v!==void 0&&v(T,I)?(E=S,T):(E=S,C=I)}var A=!1,E,C,P=m===void 0?null:m;return[function(){return N(p())},P===null?void 0:function(){return N(P())}]},[p,m,y,v]);var _=a(h,j[0],j[1]);return o(function(){w.hasValue=!0,w.value=_},[_]),d(_),_},om}var h1;function kL(){return h1||(h1=1,sm.exports=_L()),sm.exports}var SL=kL(),qv=x.createContext(null),NL=e=>e,rt=()=>{var e=x.useContext(qv);return e?e.store.dispatch:NL},vu=()=>{},EL=()=>vu,PL=(e,t)=>e===t;function he(e){var t=x.useContext(qv);return SL.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:EL,t?t.store.getState:vu,t?t.store.getState:vu,t?e:vu,PL)}function OL(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function AL(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function CL(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var p1=e=>Array.isArray(e)?e:[e];function TL(e){const t=Array.isArray(e[0])?e[0]:e;return CL(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function RL(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var IL=class{constructor(e){this.value=e}deref(){return this.value}},DL=typeof WeakRef<"u"?WeakRef:IL,ML=0,m1=1;function ru(){return{s:ML,v:void 0,o:null,p:null}}function NE(e,t={}){let r=ru();const{resultEqualityCheck:n}=t;let a,i=0;function o(){let u=r;const{length:d}=arguments;for(let m=0,y=d;m<y;m++){const v=arguments[m];if(typeof v=="function"||typeof v=="object"&&v!==null){let j=u.o;j===null&&(u.o=j=new WeakMap);const w=j.get(v);w===void 0?(u=ru(),j.set(v,u)):u=w}else{let j=u.p;j===null&&(u.p=j=new Map);const w=j.get(v);w===void 0?(u=ru(),j.set(v,u)):u=w}}const h=u;let p;if(u.s===m1)p=u.v;else if(p=e.apply(null,arguments),i++,n){const m=a?.deref?.()??a;m!=null&&n(m,p)&&(p=m,i!==0&&i--),a=typeof p=="object"&&p!==null||typeof p=="function"?new DL(p):p}return h.s=m1,h.v=p,p}return o.clearCache=()=>{r=ru(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function LL(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,o=0,u,d={},h=a.pop();typeof h=="object"&&(d=h,h=a.pop()),OL(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...r,...d},{memoize:m,memoizeOptions:y=[],argsMemoize:v=NE,argsMemoizeOptions:j=[]}=p,w=p1(y),_=p1(j),N=TL(a),A=m(function(){return i++,h.apply(null,arguments)},...w),E=v(function(){o++;const P=RL(N,arguments);return u=A.apply(null,P),u},..._);return Object.assign(E,{resultFunc:h,memoizedResultFunc:A,dependencies:N,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>u,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:m,argsMemoize:v})};return Object.assign(n,{withTypes:()=>n}),n}var F=LL(NE),$L=Object.assign((e,t=F)=>{AL(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,u,d)=>(o[r[d]]=u,o),{}))},{withTypes:()=>$L}),um={},dm={},fm={},g1;function BL(){return g1||(g1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const o=t(n),u=t(a);if(o===u&&o===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?u-o:o-u}return 0};e.compareValues=r})(fm)),fm}var hm={},pm={},v1;function EE(){return v1||(v1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(pm)),pm}var y1;function FL(){return y1||(y1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EE(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(hm)),hm}var x1;function UL(){return x1||(x1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BL(),r=FL(),n=Mv();function a(i,o,u,d){if(i==null)return[];u=d?void 0:u,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(v=>String(v));const h=(v,j)=>{let w=v;for(let _=0;_<j.length&&w!=null;++_)w=w[j[_]];return w},p=(v,j)=>j==null||v==null?j:typeof v=="object"&&"key"in v?Object.hasOwn(j,v.key)?j[v.key]:h(j,v.path):typeof v=="function"?v(j):Array.isArray(v)?h(j,v):typeof j=="object"?j[v]:j,m=o.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||r.isKey(v)?v:{key:v,path:n.toPath(v)}));return i.map(v=>({original:v,criteria:m.map(j=>p(j,v))})).slice().sort((v,j)=>{for(let w=0;w<m.length;w++){const _=t.compareValues(v.criteria[w],j.criteria[w],u[w]);if(_!==0)return _}return 0}).map(v=>v.original)}e.orderBy=a})(dm)),dm}var mm={},b1;function zL(){return b1||(b1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),o=(u,d)=>{for(let h=0;h<u.length;h++){const p=u[h];Array.isArray(p)&&d<i?o(p,d+1):a.push(p)}};return o(r,0),a}e.flatten=t})(mm)),mm}var gm={},w1;function PE(){return w1||(w1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kE(),r=zv(),n=vE(),a=xE();function i(o,u,d){return n.isObject(d)&&(typeof u=="number"&&r.isArrayLike(d)&&t.isIndex(u)&&u<d.length||typeof u=="string"&&u in d)?a.eq(d[u],o):!1}e.isIterateeCall=i})(gm)),gm}var j1;function qL(){return j1||(j1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UL(),r=zL(),n=PE();function a(i,...o){const u=o.length;return u>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:u>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=a})(um)),um}var vm,_1;function WL(){return _1||(_1=1,vm=qL().sortBy),vm}var KL=WL();const Ed=un(KL);var OE=e=>e.legend.settings,VL=e=>e.legend.size,HL=e=>e.legend.payload,GL=F([HL,OE],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Ed(n,r):n});function YL(){return he(GL)}var nu=1;function AE(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=x.useState({height:0,left:0,top:0,width:0}),n=x.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>nu||Math.abs(o.left-t.left)>nu||Math.abs(o.top-t.top)>nu||Math.abs(o.width-t.width)>nu)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Lt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var XL=typeof Symbol=="function"&&Symbol.observable||"@@observable",k1=XL,ym=()=>Math.random().toString(36).substring(7).split("").join("."),JL={INIT:`@@redux/INIT${ym()}`,REPLACE:`@@redux/REPLACE${ym()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ym()}`},Tu=JL;function Wv(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function CE(e,t,r){if(typeof e!="function")throw new Error(Lt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Lt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Lt(1));return r(CE)(e,t)}let n=e,a=t,i=new Map,o=i,u=0,d=!1;function h(){o===i&&(o=new Map,i.forEach((_,N)=>{o.set(N,_)}))}function p(){if(d)throw new Error(Lt(3));return a}function m(_){if(typeof _!="function")throw new Error(Lt(4));if(d)throw new Error(Lt(5));let N=!0;h();const A=u++;return o.set(A,_),function(){if(N){if(d)throw new Error(Lt(6));N=!1,h(),o.delete(A),i=null}}}function y(_){if(!Wv(_))throw new Error(Lt(7));if(typeof _.type>"u")throw new Error(Lt(8));if(typeof _.type!="string")throw new Error(Lt(17));if(d)throw new Error(Lt(9));try{d=!0,a=n(a,_)}finally{d=!1}return(i=o).forEach(A=>{A()}),_}function v(_){if(typeof _!="function")throw new Error(Lt(10));n=_,y({type:Tu.REPLACE})}function j(){const _=m;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(Lt(11));function A(){const C=N;C.next&&C.next(p())}return A(),{unsubscribe:_(A)}},[k1](){return this}}}return y({type:Tu.INIT}),{dispatch:y,subscribe:m,getState:p,replaceReducer:v,[k1]:j}}function QL(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Tu.INIT})>"u")throw new Error(Lt(12));if(typeof r(void 0,{type:Tu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Lt(13))})}function TE(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let a;try{QL(r)}catch(i){a=i}return function(o={},u){if(a)throw a;let d=!1;const h={};for(let p=0;p<n.length;p++){const m=n[p],y=r[m],v=o[m],j=y(v,u);if(typeof j>"u")throw u&&u.type,new Error(Lt(14));h[m]=j,d=d||j!==v}return d=d||n.length!==Object.keys(o).length,d?h:o}}function Ru(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function ZL(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(Lt(15))};const o={getState:a.getState,dispatch:(d,...h)=>i(d,...h)},u=e.map(d=>d(o));return i=Ru(...u)(a.dispatch),{...a,dispatch:i}}}function RE(e){return Wv(e)&&"type"in e&&typeof e.type=="string"}var IE=Symbol.for("immer-nothing"),S1=Symbol.for("immer-draftable"),Ar=Symbol.for("immer-state");function sn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var al=Object.getPrototypeOf;function yi(e){return!!e&&!!e[Ar]}function Hn(e){return e?DE(e)||Array.isArray(e)||!!e[S1]||!!e.constructor?.[S1]||xl(e)||Od(e):!1}var e3=Object.prototype.constructor.toString(),N1=new WeakMap;function DE(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=N1.get(r);return n===void 0&&(n=Function.toString.call(r),N1.set(r,n)),n===e3}function Iu(e,t,r=!0){Pd(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Pd(e){const t=e[Ar];return t?t.type_:Array.isArray(e)?1:xl(e)?2:Od(e)?3:0}function Ng(e,t){return Pd(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ME(e,t,r){const n=Pd(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function t3(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function xl(e){return e instanceof Map}function Od(e){return e instanceof Set}function ai(e){return e.copy_||e.base_}function Eg(e,t){if(xl(e))return new Map(e);if(Od(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=DE(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Ar];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],u=n[o];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[o]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[o]})}return Object.create(al(e),n)}else{const n=al(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function Kv(e,t=!1){return Ad(e)||yi(e)||!Hn(e)||(Pd(e)>1&&Object.defineProperties(e,{set:au,add:au,clear:au,delete:au}),Object.freeze(e),t&&Object.values(e).forEach(r=>Kv(r,!0))),e}function r3(){sn(2)}var au={value:r3};function Ad(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var n3={};function xi(e){const t=n3[e];return t||sn(0,e),t}var il;function LE(){return il}function a3(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function E1(e,t){t&&(xi("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Pg(e){Og(e),e.drafts_.forEach(i3),e.drafts_=null}function Og(e){e===il&&(il=e.parent_)}function P1(e){return il=a3(il,e)}function i3(e){const t=e[Ar];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function O1(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Ar].modified_&&(Pg(t),sn(4)),Hn(e)&&(e=Du(t,e),t.parent_||Mu(t,e)),t.patches_&&xi("Patches").generateReplacementPatches_(r[Ar].base_,e,t.patches_,t.inversePatches_)):e=Du(t,r,[]),Pg(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==IE?e:void 0}function Du(e,t,r){if(Ad(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[Ar];if(!a)return Iu(t,(i,o)=>A1(e,a,t,i,o,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return Mu(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let o=i,u=!1;a.type_===3&&(o=new Set(i),i.clear(),u=!0),Iu(o,(d,h)=>A1(e,a,i,d,h,r,u),n),Mu(e,i,!1),r&&e.patches_&&xi("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function A1(e,t,r,n,a,i,o){if(a==null||typeof a!="object"&&!o)return;const u=Ad(a);if(!(u&&!o)){if(yi(a)){const d=i&&t&&t.type_!==3&&!Ng(t.assigned_,n)?i.concat(n):void 0,h=Du(e,a,d);if(ME(r,n,h),yi(h))e.canAutoFreeze_=!1;else return}else o&&r.add(a);if(Hn(a)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&u)return;Du(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(xl(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Mu(e,a)}}}function Mu(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Kv(t,r)}function s3(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:LE(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=Vv;r&&(a=[n],i=sl);const{revoke:o,proxy:u}=Proxy.revocable(a,i);return n.draft_=u,n.revoke_=o,u}var Vv={get(e,t){if(t===Ar)return e;const r=ai(e);if(!Ng(r,t))return o3(e,r,t);const n=r[t];return e.finalized_||!Hn(n)?n:n===xm(e.base_,t)?(bm(e),e.copy_[t]=Cg(n,e)):n},has(e,t){return t in ai(e)},ownKeys(e){return Reflect.ownKeys(ai(e))},set(e,t,r){const n=$E(ai(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=xm(ai(e),t),i=a?.[Ar];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(t3(r,a)&&(r!==void 0||Ng(e.base_,t)))return!0;bm(e),Ag(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return xm(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,bm(e),Ag(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ai(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){sn(11)},getPrototypeOf(e){return al(e.base_)},setPrototypeOf(){sn(12)}},sl={};Iu(Vv,(e,t)=>{sl[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});sl.deleteProperty=function(e,t){return sl.set.call(this,e,t,void 0)};sl.set=function(e,t,r){return Vv.set.call(this,e[0],t,r,e[0])};function xm(e,t){const r=e[Ar];return(r?ai(r):e)[t]}function o3(e,t,r){const n=$E(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function $E(e,t){if(!(t in e))return;let r=al(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=al(r)}}function Ag(e){e.modified_||(e.modified_=!0,e.parent_&&Ag(e.parent_))}function bm(e){e.copy_||(e.copy_=Eg(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var l3=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(d=i,...h){return o.produce(d,p=>r.call(this,p,...h))}}typeof r!="function"&&sn(6),n!==void 0&&typeof n!="function"&&sn(7);let a;if(Hn(t)){const i=P1(this),o=Cg(t,void 0);let u=!0;try{a=r(o),u=!1}finally{u?Pg(i):Og(i)}return E1(i,n),O1(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===IE&&(a=void 0),this.autoFreeze_&&Kv(a,!0),n){const i=[],o=[];xi("Patches").generateReplacementPatches_(t,a,i,o),n(i,o)}return a}else sn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...u)=>this.produceWithPatches(o,d=>t(d,...u));let n,a;return[this.produce(t,r,(o,u)=>{n=o,a=u}),n,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Hn(e)||sn(8),yi(e)&&(e=zn(e));const t=P1(this),r=Cg(e,void 0);return r[Ar].isManual_=!0,Og(t),r}finishDraft(e,t){const r=e&&e[Ar];(!r||!r.isManual_)&&sn(9);const{scope_:n}=r;return E1(n,t),O1(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=xi("Patches").applyPatches_;return yi(e)?n(e,t):this.produce(e,a=>n(a,t))}};function Cg(e,t){const r=xl(e)?xi("MapSet").proxyMap_(e,t):Od(e)?xi("MapSet").proxySet_(e,t):s3(e,t);return(t?t.scope_:LE()).drafts_.push(r),r}function zn(e){return yi(e)||sn(10,e),BE(e)}function BE(e){if(!Hn(e)||Ad(e))return e;const t=e[Ar];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Eg(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Eg(e,!0);return Iu(r,(a,i)=>{ME(r,a,BE(i))},n),t&&(t.finalized_=!1),r}var Tg=new l3,FE=Tg.produce,c3=Tg.setUseStrictIteration.bind(Tg);function UE(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var u3=UE(),d3=UE,f3=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ru:Ru.apply(null,arguments)};function Wr(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Pr(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>RE(n)&&n.type===e,r}var zE=class Wo extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Wo.prototype)}static get[Symbol.species](){return Wo}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Wo(...t[0].concat(this)):new Wo(...t.concat(this))}};function C1(e){return Hn(e)?FE(e,()=>{}):e}function iu(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function h3(e){return typeof e=="boolean"}var p3=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let o=new zE;return r&&(h3(r)?o.push(u3):o.push(d3(r.extraArgument))),o},qE="RTK_autoBatch",er=()=>e=>({payload:e,meta:{[qE]:!0}}),T1=e=>t=>{setTimeout(t,e)},WE=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,o=!1;const u=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:T1(10):e.type==="callback"?e.queueNotification:T1(e.timeout),h=()=>{o=!1,i&&(i=!1,u.forEach(p=>p()))};return Object.assign({},n,{subscribe(p){const m=()=>a&&p(),y=n.subscribe(m);return u.add(p),()=>{y(),u.delete(p)}},dispatch(p){try{return a=!p?.meta?.[qE],i=!a,i&&(o||(o=!0,d(h))),n.dispatch(p)}finally{a=!0}}})},m3=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new zE(e);return n&&a.push(WE(typeof n=="object"?n:void 0)),a};function g3(e){const t=p3(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let u;if(typeof r=="function")u=r;else if(Wv(r))u=TE(r);else throw new Error(Pr(1));let d;typeof n=="function"?d=n(t):d=t();let h=Ru;a&&(h=f3({trace:!1,...typeof a=="object"&&a}));const p=ZL(...d),m=m3(p);let y=typeof o=="function"?o(m):m();const v=h(...y);return CE(u,i,v)}function KE(e){const t={},r=[];let n;const a={addCase(i,o){const u=typeof i=="string"?i:i.type;if(!u)throw new Error(Pr(28));if(u in t)throw new Error(Pr(29));return t[u]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return r.push({matcher:i,reducer:o}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}c3(!1);function v3(e){return typeof e=="function"}function y3(e,t){let[r,n,a]=KE(t),i;if(v3(e))i=()=>C1(e());else{const u=C1(e);i=()=>u}function o(u=i(),d){let h=[r[d.type],...n.filter(({matcher:p})=>p(d)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[a]),h.reduce((p,m)=>{if(m)if(yi(p)){const v=m(p,d);return v===void 0?p:v}else{if(Hn(p))return FE(p,y=>m(y,d));{const y=m(p,d);if(y===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return p},u)}return o.getInitialState=i,o}var x3="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",b3=(e=21)=>{let t="",r=e;for(;r--;)t+=x3[Math.random()*64|0];return t},w3=Symbol.for("rtk-slice-createasyncthunk");function j3(e,t){return`${e}/${t}`}function _3({creators:e}={}){const t=e?.asyncThunk?.[w3];return function(n){const{name:a,reducerPath:i=a}=n;if(!a)throw new Error(Pr(11));const o=(typeof n.reducers=="function"?n.reducers(S3()):n.reducers)||{},u=Object.keys(o),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(E,C){const P=typeof E=="string"?E:E.type;if(!P)throw new Error(Pr(12));if(P in d.sliceCaseReducersByType)throw new Error(Pr(13));return d.sliceCaseReducersByType[P]=C,h},addMatcher(E,C){return d.sliceMatchers.push({matcher:E,reducer:C}),h},exposeAction(E,C){return d.actionCreators[E]=C,h},exposeCaseReducer(E,C){return d.sliceCaseReducersByName[E]=C,h}};u.forEach(E=>{const C=o[E],P={reducerName:E,type:j3(a,E),createNotation:typeof n.reducers=="function"};E3(C)?O3(P,C,h,t):N3(P,C,h)});function p(){const[E={},C=[],P=void 0]=typeof n.extraReducers=="function"?KE(n.extraReducers):[n.extraReducers],S={...E,...d.sliceCaseReducersByType};return y3(n.initialState,T=>{for(let I in S)T.addCase(I,S[I]);for(let I of d.sliceMatchers)T.addMatcher(I.matcher,I.reducer);for(let I of C)T.addMatcher(I.matcher,I.reducer);P&&T.addDefaultCase(P)})}const m=E=>E,y=new Map,v=new WeakMap;let j;function w(E,C){return j||(j=p()),j(E,C)}function _(){return j||(j=p()),j.getInitialState()}function N(E,C=!1){function P(T){let I=T[E];return typeof I>"u"&&C&&(I=iu(v,P,_)),I}function S(T=m){const I=iu(y,C,()=>new WeakMap);return iu(I,T,()=>{const M={};for(const[z,W]of Object.entries(n.selectors??{}))M[z]=k3(W,T,()=>iu(v,T,_),C);return M})}return{reducerPath:E,getSelectors:S,get selectors(){return S(P)},selectSlice:P}}const A={name:a,reducer:w,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:_,...N(i),injectInto(E,{reducerPath:C,...P}={}){const S=C??i;return E.inject({reducerPath:S,reducer:w},P),{...A,...N(S,!0)}}};return A}}function k3(e,t,r,n){function a(i,...o){let u=t(i);return typeof u>"u"&&n&&(u=r()),e(u,...o)}return a.unwrapped=e,a}var Cr=_3();function S3(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function N3({type:e,reducerName:t,createNotation:r},n,a){let i,o;if("reducer"in n){if(r&&!P3(n))throw new Error(Pr(17));i=n.reducer,o=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?Wr(e,o):Wr(e))}function E3(e){return e._reducerDefinitionType==="asyncThunk"}function P3(e){return e._reducerDefinitionType==="reducerWithPrepare"}function O3({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Pr(18));const{payloadCreator:i,fulfilled:o,pending:u,rejected:d,settled:h,options:p}=r,m=a(e,i,p);n.exposeAction(t,m),o&&n.addCase(m.fulfilled,o),u&&n.addCase(m.pending,u),d&&n.addCase(m.rejected,d),h&&n.addMatcher(m.settled,h),n.exposeCaseReducer(t,{fulfilled:o||su,pending:u||su,rejected:d||su,settled:h||su})}function su(){}var A3="task",VE="listener",HE="completed",Hv="cancelled",C3=`task-${Hv}`,T3=`task-${HE}`,Rg=`${VE}-${Hv}`,R3=`${VE}-${HE}`,Cd=class{constructor(e){this.code=e,this.message=`${A3} ${Hv} (reason: ${e})`}name="TaskAbortError";message},Gv=(e,t)=>{if(typeof e!="function")throw new TypeError(Pr(32))},Lu=()=>{},GE=(e,t=Lu)=>(e.catch(t),e),YE=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),fi=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},hi=e=>{if(e.aborted){const{reason:t}=e;throw new Cd(t)}};function XE(e,t){let r=Lu;return new Promise((n,a)=>{const i=()=>a(new Cd(e.reason));if(e.aborted){i();return}r=YE(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Lu})}var I3=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Cd?"cancelled":"rejected",error:r}}finally{t?.()}},$u=e=>t=>GE(XE(e,t).then(r=>(hi(e),r))),JE=e=>{const t=$u(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:hs}=Object,R1={},Td="listenerMiddleware",D3=(e,t)=>{const r=n=>YE(e,()=>fi(n,e.reason));return(n,a)=>{Gv(n);const i=new AbortController;r(i);const o=I3(async()=>{hi(e),hi(i.signal);const u=await n({pause:$u(i.signal),delay:JE(i.signal),signal:i.signal});return hi(i.signal),u},()=>fi(i,T3));return a?.autoJoin&&t.push(o.catch(Lu)),{result:$u(e)(o),cancel(){fi(i,C3)}}}},M3=(e,t)=>{const r=async(n,a)=>{hi(t);let i=()=>{};const u=[new Promise((d,h)=>{let p=e({predicate:n,effect:(m,y)=>{y.unsubscribe(),d([m,y.getState(),y.getOriginalState()])}});i=()=>{p(),h()}})];a!=null&&u.push(new Promise(d=>setTimeout(d,a,null)));try{const d=await XE(t,Promise.race(u));return hi(t),d}finally{i()}};return(n,a)=>GE(r(n,a))},QE=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=Wr(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Pr(21));return Gv(i),{predicate:a,type:t,effect:i}},ZE=hs(e=>{const{type:t,predicate:r,effect:n}=QE(e);return{id:b3(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Pr(22))}}},{withTypes:()=>ZE}),I1=(e,t)=>{const{type:r,effect:n,predicate:a}=QE(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},Ig=e=>{e.pending.forEach(t=>{fi(t,Rg)})},L3=(e,t)=>()=>{for(const r of t.keys())Ig(r);e.clear()},D1=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},eP=hs(Wr(`${Td}/add`),{withTypes:()=>eP}),$3=Wr(`${Td}/removeAll`),tP=hs(Wr(`${Td}/remove`),{withTypes:()=>tP}),B3=(...e)=>{console.error(`${Td}/error`,...e)},bl=(e={})=>{const t=new Map,r=new Map,n=v=>{const j=r.get(v)??0;r.set(v,j+1)},a=v=>{const j=r.get(v)??1;j===1?r.delete(v):r.set(v,j-1)},{extra:i,onError:o=B3}=e;Gv(o);const u=v=>(v.unsubscribe=()=>t.delete(v.id),t.set(v.id,v),j=>{v.unsubscribe(),j?.cancelActive&&Ig(v)}),d=v=>{const j=I1(t,v)??ZE(v);return u(j)};hs(d,{withTypes:()=>d});const h=v=>{const j=I1(t,v);return j&&(j.unsubscribe(),v.cancelActive&&Ig(j)),!!j};hs(h,{withTypes:()=>h});const p=async(v,j,w,_)=>{const N=new AbortController,A=M3(d,N.signal),E=[];try{v.pending.add(N),n(v),await Promise.resolve(v.effect(j,hs({},w,{getOriginalState:_,condition:(C,P)=>A(C,P).then(Boolean),take:A,delay:JE(N.signal),pause:$u(N.signal),extra:i,signal:N.signal,fork:D3(N.signal,E),unsubscribe:v.unsubscribe,subscribe:()=>{t.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((C,P,S)=>{C!==N&&(fi(C,Rg),S.delete(C))})},cancel:()=>{fi(N,Rg),v.pending.delete(N)},throwIfCancelled:()=>{hi(N.signal)}})))}catch(C){C instanceof Cd||D1(o,C,{raisedBy:"effect"})}finally{await Promise.all(E),fi(N,R3),a(v),v.pending.delete(N)}},m=L3(t,r);return{middleware:v=>j=>w=>{if(!RE(w))return j(w);if(eP.match(w))return d(w.payload);if($3.match(w)){m();return}if(tP.match(w))return h(w.payload);let _=v.getState();const N=()=>{if(_===R1)throw new Error(Pr(23));return _};let A;try{if(A=j(w),t.size>0){const E=v.getState(),C=Array.from(t.values());for(const P of C){let S=!1;try{S=P.predicate(w,E,_)}catch(T){S=!1,D1(o,T,{raisedBy:"predicate"})}S&&p(P,w,v,N)}}}finally{_=R1}return A},startListening:d,stopListening:h,clearListeners:m}};function Pr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var F3={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},rP=Cr({name:"chartLayout",initialState:F3,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:U3,setLayout:z3,setChartSize:q3,setScale:W3}=rP.actions,K3=rP.reducer;function M1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function L1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M1(Object(r),!0).forEach(function(n){V3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V3(e,t,r){return(t=H3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H3(e){var t=G3(e,"string");return typeof t=="symbol"?t:t+""}function G3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bu=Math.PI/180,Y3=e=>e*180/Math.PI,gt=(e,t,r,n)=>({x:e+Math.cos(-Bu*n)*r,y:t+Math.sin(-Bu*n)*r}),nP=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},X3=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},J3=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,o=X3({x:r,y:n},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var u=(r-a)/o,d=Math.acos(u);return n>i&&(d=2*Math.PI-d),{radius:o,angle:Y3(d),angleInRadian:d}},Q3=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},Z3=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return e+o*360},e$=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:i}=J3({x:r,y:n},t),{innerRadius:o,outerRadius:u}=t;if(a<o||a>u||a===0)return null;var{startAngle:d,endAngle:h}=Q3(t),p=i,m;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;m=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=d}return m?L1(L1({},t),{},{radius:a,angle:Z3(p,t)}):null};function aP(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function $1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$1(Object(r),!0).forEach(function(n){t$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t$(e,t,r){return(t=r$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r$(e){var t=n$(e,"string");return typeof t=="symbol"?t:t+""}function n$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qe(e,t,r){return Je(e)||Je(t)?r:wn(t)?vi(e,t,r):typeof t=="function"?t(e):r}var a$=(e,t,r,n,a)=>{var i,o=-1,u=(i=t?.length)!==null&&i!==void 0?i:0;if(u<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var d=0;d<u;d++){var h=d>0?r[d-1].coordinate:r[u-1].coordinate,p=r[d].coordinate,m=d>=u-1?r[0].coordinate:r[d+1].coordinate,y=void 0;if(Rt(p-h)!==Rt(m-p)){var v=[];if(Rt(m-p)===Rt(a[1]-a[0])){y=m;var j=p+a[1]-a[0];v[0]=Math.min(j,(j+h)/2),v[1]=Math.max(j,(j+h)/2)}else{y=h;var w=m+a[1]-a[0];v[0]=Math.min(p,(w+p)/2),v[1]=Math.max(p,(w+p)/2)}var _=[Math.min(p,(y+p)/2),Math.max(p,(y+p)/2)];if(e>_[0]&&e<=_[1]||e>=v[0]&&e<=v[1]){({index:o}=r[d]);break}}else{var N=Math.min(h,m),A=Math.max(h,m);if(e>(N+p)/2&&e<=(A+p)/2){({index:o}=r[d]);break}}}else if(t){for(var E=0;E<u;E++)if(E===0&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E>0&&E<u-1&&e>(t[E].coordinate+t[E-1].coordinate)/2&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E===u-1&&e>(t[E].coordinate+t[E-1].coordinate)/2){({index:o}=t[E]);break}}return o},i$=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:o,layout:u}=t;if((u==="vertical"||u==="horizontal"&&o==="middle")&&i!=="center"&&fe(e[i]))return zr(zr({},e),{},{[i]:e[i]+(n||0)});if((u==="horizontal"||u==="vertical"&&i==="center")&&o!=="middle"&&fe(e[o]))return zr(zr({},e),{},{[o]:e[o]+(a||0)})}return e},En=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",iP=(e,t,r,n)=>{if(n)return e.map(u=>u.coordinate);var a,i,o=e.map(u=>(u.coordinate===t&&(a=!0),u.coordinate===r&&(i=!0),u.coordinate));return a||o.push(t),i||o.push(r),o},sP=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:o,realScaleType:u,isCategorical:d,categoricalDomain:h,tickCount:p,ticks:m,niceTicks:y,axisType:v}=e;if(!o)return null;var j=u==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,w=a==="category"&&o.bandwidth?o.bandwidth()/j:0;if(w=v==="angleAxis"&&i&&i.length>=2?Rt(i[0]-i[1])*2*w:w,m||y){var _=(m||y||[]).map((N,A)=>{var E=n?n.indexOf(N):N;return{coordinate:o(E)+w,value:N,offset:w,index:A}});return _.filter(N=>!Or(N.coordinate))}return d&&h?h.map((N,A)=>({coordinate:o(N)+w,value:N,index:A,offset:w})):o.ticks&&p!=null?o.ticks(p).map((N,A)=>({coordinate:o(N)+w,value:N,offset:w,index:A})):o.domain().map((N,A)=>({coordinate:o(N)+w,value:n?n[N]:N,index:A,offset:w}))},B1=1e-4,s$=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-B1,i=Math.max(n[0],n[1])+B1,o=e(t[0]),u=e(t[r-1]);(o<a||o>i||u<a||u>i)&&e.domain([t[0],t[r-1]])}},o$=(e,t)=>{if(!t||t.length!==2||!fe(t[0])||!fe(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!fe(e[0])||e[0]<r)&&(a[0]=r),(!fe(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},l$=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,o=0;o<t;++o){var u=Or(e[o][r][1])?e[o][r][0]:e[o][r][1];u>=0?(e[o][r][0]=a,e[o][r][1]=a+u,a=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+u,i=e[o][r][1])}},c$=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var o=Or(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=a,e[i][r][1]=a+o,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},u$={sign:l$,expand:I4,none:xs,silhouette:D4,wiggle:M4,positive:c$},d$=(e,t,r)=>{var n=u$[r],a=R4().keys(t).value((i,o)=>+qe(i,o,0)).order(_g).offset(n);return a(e)};function oP(e){return e==null?void 0:String(e)}function Fu(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Je(a[t.dataKey])){var u=pE(r,"value",a[t.dataKey]);if(u)return u.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var d=qe(a,Je(o)?t.dataKey:o);return Je(d)?null:t.scale(d)}var F1=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var u=qe(i,t.dataKey,t.scale.domain()[o]);return Je(u)?null:t.scale(u)-a/2+n},f$=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},h$=e=>{var t=e.flat(2).filter(fe);return[Math.min(...t),Math.max(...t)]},p$=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],m$=(e,t,r)=>{if(e!=null)return p$(Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:o}=i,u=o.reduce((d,h)=>{var p=aP(h,t,r),m=h$(p);return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(u[0],n[0]),Math.max(u[1],n[1])]},[1/0,-1/0]))},U1=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,z1=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bi=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Ed(t,p=>p.coordinate),i=1/0,o=1,u=a.length;o<u;o++){var d=a[o],h=a[o-1];i=Math.min((d.coordinate||0)-(h.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function q1(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return zr(zr({},t),{},{dataKey:r,payload:n,value:a,name:i})}function La(e,t){if(e)return String(e);if(typeof t=="string")return t}function g$(e,t,r,n,a){if(r==="horizontal"||r==="vertical"){var i=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return i?{x:e,y:t}:null}return n?e$({x:e,y:t},n):null}var v$=(e,t,r,n)=>{var a=t.find(h=>h&&h.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,{radius:o}=n;return zr(zr(zr({},n),gt(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var u=a.coordinate,{angle:d}=n;return zr(zr(zr({},n),gt(n.cx,n.cy,u,d)),{},{angle:d,radius:u})}return{x:0,y:0}},y$=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Jn=e=>e.layout.width,Qn=e=>e.layout.height,x$=e=>e.layout.scale,lP=e=>e.layout.margin,Rd=F(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Id=F(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),cP="data-recharts-item-index",uP="data-recharts-item-data-key",wl=60;function W1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ou(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W1(Object(r),!0).forEach(function(n){b$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b$(e,t,r){return(t=w$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w$(e){var t=j$(e,"string");return typeof t=="symbol"?t:t+""}function j$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _$=e=>e.brush.height;function k$(e){var t=Id(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:wl;return r+a}return r},0)}function S$(e){var t=Id(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:wl;return r+a}return r},0)}function N$(e){var t=Rd(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function E$(e){var t=Rd(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var kt=F([Jn,Qn,lP,_$,k$,S$,N$,E$,OE,VL],(e,t,r,n,a,i,o,u,d,h)=>{var p={left:(r.left||0)+a,right:(r.right||0)+i},m={top:(r.top||0)+o,bottom:(r.bottom||0)+u},y=ou(ou({},m),p),v=y.bottom;y.bottom+=n,y=i$(y,d,h);var j=e-y.left-y.right,w=t-y.top-y.bottom;return ou(ou({brushBottom:v},y),{},{width:Math.max(j,0),height:Math.max(w,0)})}),P$=F(kt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Yv=F(Jn,Qn,(e,t)=>({x:0,y:0,width:e,height:t})),O$=x.createContext(null),Bt=()=>x.useContext(O$)!=null,Dd=e=>e.brush,Md=F([Dd,kt,lP],(e,t,r)=>({height:e.height,x:fe(e.x)?e.x:t.left,y:fe(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:fe(e.width)?e.width:t.width})),wm={},jm={},_m={},K1;function A$(){return K1||(K1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let o,u=null;const d=i!=null&&i.includes("leading"),h=i==null||i.includes("trailing"),p=()=>{u!==null&&(r.apply(o,u),o=void 0,u=null)},m=()=>{h&&p(),w()};let y=null;const v=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,m()},n)},j=()=>{y!==null&&(clearTimeout(y),y=null)},w=()=>{j(),o=void 0,u=null},_=()=>{p()},N=function(...A){if(a?.aborted)return;o=this,u=A;const E=y==null;v(),d&&E&&p()};return N.schedule=v,N.cancel=w,N.flush=_,a?.addEventListener("abort",w,{once:!0}),N}e.debounce=t})(_m)),_m}var V1;function C$(){return V1||(V1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A$();function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:u=!0,maxWait:d}=i,h=Array(2);o&&(h[0]="leading"),u&&(h[1]="trailing");let p,m=null;const y=t.debounce(function(...w){p=n.apply(this,w),m=null},a,{edges:h}),v=function(...w){return d!=null&&(m===null&&(m=Date.now()),Date.now()-m>=d)?(p=n.apply(this,w),m=Date.now(),y.cancel(),y.schedule(),p):(y.apply(this,w),p)},j=()=>(y.flush(),p);return v.cancel=y.cancel,v.flush=j,v}e.debounce=r})(jm)),jm}var H1;function T$(){return H1||(H1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C$();function r(n,a=0,i={}){const{leading:o=!0,trailing:u=!0}=i;return t.debounce(n,a,{leading:o,maxWait:a,trailing:u})}e.throttle=r})(wm)),wm}var km,G1;function R$(){return G1||(G1=1,km=T$().throttle),km}var I$=R$();const D$=un(I$);var Uu=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},dP=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:i,maxHeight:o}=r,u=Vn(n)?e:Number(n),d=Vn(a)?t:Number(a);return i&&i>0&&(u?d=u/i:d&&(u=d*i),o&&d>o&&(d=o)),{calculatedWidth:u,calculatedHeight:d}},M$={width:0,height:0,overflow:"visible"},L$={width:0,overflowX:"visible"},$$={height:0,overflowY:"visible"},B$={},F$=e=>{var{width:t,height:r}=e,n=Vn(t),a=Vn(r);return n&&a?M$:n?L$:a?$$:B$};function U$(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:a,height:i}}function yt(e){return Number.isFinite(e)}function bs(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Dg(){return Dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dg.apply(null,arguments)}function Y1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function X1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y1(Object(r),!0).forEach(function(n){z$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z$(e,t,r){return(t=q$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q$(e){var t=W$(e,"string");return typeof t=="symbol"?t:t+""}function W$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fP=x.createContext({width:-1,height:-1});function hP(e){var{children:t,width:r,height:n}=e,a=x.useMemo(()=>({width:r,height:n}),[r,n]);return r<=0||n<=0?null:x.createElement(fP.Provider,{value:a},t)}var Xv=()=>x.useContext(fP),K$=x.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:i,minWidth:o=0,minHeight:u,maxHeight:d,children:h,debounce:p=0,id:m,className:y,onResize:v,style:j={}}=e,w=x.useRef(null),_=x.useRef();_.current=v,x.useImperativeHandle(t,()=>w.current);var[N,A]=x.useState({containerWidth:n.width,containerHeight:n.height}),E=x.useCallback((I,M)=>{A(z=>{var W=Math.round(I),H=Math.round(M);return z.containerWidth===W&&z.containerHeight===H?z:{containerWidth:W,containerHeight:H}})},[]);x.useEffect(()=>{var I=H=>{var Z,{width:se,height:Y}=H[0].contentRect;E(se,Y),(Z=_.current)===null||Z===void 0||Z.call(_,se,Y)};p>0&&(I=D$(I,p,{trailing:!0,leading:!1}));var M=new ResizeObserver(I),{width:z,height:W}=w.current.getBoundingClientRect();return E(z,W),M.observe(w.current),()=>{M.disconnect()}},[E,p]);var{containerWidth:C,containerHeight:P}=N;Uu(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:S,calculatedHeight:T}=dP(C,P,{width:a,height:i,aspect:r,maxHeight:d});return Uu(S>0||T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,S,T,a,i,o,u,r),x.createElement("div",{id:m?"".concat(m):void 0,className:Te("recharts-responsive-container",y),style:X1(X1({},j),{},{width:a,height:i,minWidth:o,minHeight:u,maxHeight:d}),ref:w},x.createElement("div",{style:F$({width:a,height:i})},x.createElement(hP,{width:S,height:T},h)))}),Ld=x.forwardRef((e,t)=>{var r=Xv();if(bs(r.width)&&bs(r.height))return e.children;var{width:n,height:a}=U$({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=dP(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return fe(i)&&fe(o)?x.createElement(hP,{width:i,height:o},e.children):x.createElement(K$,Dg({},e,{width:n,height:a,ref:t}))}),$d=()=>{var e,t=Bt(),r=he(P$),n=he(Md),a=(e=he(Dd))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},V$={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},pP=()=>{var e;return(e=he(kt))!==null&&e!==void 0?e:V$},Jv=()=>he(Jn),Qv=()=>he(Qn),H$=()=>he(e=>e.layout.margin),Ae=e=>e.layout.layoutType,jl=()=>he(Ae),Bd=e=>{var t=rt(),r=Bt(),{width:n,height:a}=e,i=Xv(),o=n,u=a;return i&&(o=i.width>0?i.width:n,u=i.height>0?i.height:a),x.useEffect(()=>{!r&&bs(o)&&bs(u)&&t(q3({width:o,height:u}))},[t,r,o,u]),null},G$={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},mP=Cr({name:"legend",initialState:G$,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:er()},removeLegendPayload:{reducer(e,t){var r=zn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:er()}}}),{setLegendSize:J1,setLegendSettings:Y$,addLegendPayload:gP,removeLegendPayload:vP}=mP.actions,X$=mP.reducer,J$=["contextPayload"];function Mg(){return Mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mg.apply(null,arguments)}function Q1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ws(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q1(Object(r),!0).forEach(function(n){Zv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zv(e,t,r){return(t=Q$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q$(e){var t=Z$(e,"string");return typeof t=="symbol"?t:t+""}function Z$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e6(e,t){if(e==null)return{};var r,n,a=t6(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function t6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function r6(e){return e.value}function n6(e){var{contextPayload:t}=e,r=e6(e,J$),n=SE(t,e.payloadUniqBy,r6),a=ws(ws({},r),{},{payload:n});return x.isValidElement(e.content)?x.cloneElement(e.content,a):typeof e.content=="function"?x.createElement(e.content,a):x.createElement(Uv,a)}function a6(e,t,r,n,a,i){var{layout:o,align:u,verticalAlign:d}=t,h,p;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(u==="center"&&o==="vertical"?h={left:((n||0)-i.width)/2}:h=u==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(d==="middle"?p={top:((a||0)-i.height)/2}:p=d==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),ws(ws({},h),p)}function i6(e){var t=rt();return x.useEffect(()=>{t(Y$(e))},[t,e]),null}function s6(e){var t=rt();return x.useEffect(()=>(t(J1(e)),()=>{t(J1({width:0,height:0}))}),[t,e]),null}function o6(e){var t=YL(),r=n4(),n=H$(),{width:a,height:i,wrapperStyle:o,portal:u}=e,[d,h]=AE([t]),p=Jv(),m=Qv();if(p==null||m==null)return null;var y=p-(n.left||0)-(n.right||0),v=Ts.getWidthOrHeight(e.layout,i,a,y),j=u?o:ws(ws({position:"absolute",width:v?.width||a||"auto",height:v?.height||i||"auto"},a6(o,e,n,p,m,d)),o),w=u??r;if(w==null)return null;var _=x.createElement("div",{className:"recharts-legend-wrapper",style:j,ref:h},x.createElement(i6,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),x.createElement(s6,{width:d.width,height:d.height}),x.createElement(n6,Mg({},e,v,{margin:n,chartWidth:p,chartHeight:m,contextPayload:t})));return OS.createPortal(_,w)}class Ts extends x.PureComponent{static getWidthOrHeight(t,r,n,a){return t==="vertical"&&fe(r)?{height:r}:t==="horizontal"?{width:n||a}:null}render(){return x.createElement(o6,this.props)}}Zv(Ts,"displayName","Legend");Zv(Ts,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Lg(){return Lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lg.apply(null,arguments)}function Z1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z1(Object(r),!0).forEach(function(n){l6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l6(e,t,r){return(t=c6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c6(e){var t=u6(e,"string");return typeof t=="symbol"?t:t+""}function u6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d6(e){return Array.isArray(e)&&wn(e[0])&&wn(e[1])?e.join(" ~ "):e}var f6=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:o,itemSorter:u,wrapperClassName:d,labelClassName:h,label:p,labelFormatter:m,accessibilityLayer:y=!1}=e,v=()=>{if(i&&i.length){var P={padding:0,margin:0},S=(u?Ed(i,u):i).map((T,I)=>{if(T.type==="none")return null;var M=T.formatter||o||d6,{value:z,name:W}=T,H=z,Z=W;if(M){var se=M(z,W,T,I,i);if(Array.isArray(se))[H,Z]=se;else if(se!=null)H=se;else return null}var Y=Sm({display:"block",paddingTop:4,paddingBottom:4,color:T.color||"#000"},n);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:Y},wn(Z)?x.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,wn(Z)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},H),x.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:P},S)}return null},j=Sm({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),w=Sm({margin:0},a),_=!Je(p),N=_?p:"",A=Te("recharts-default-tooltip",d),E=Te("recharts-tooltip-label",h);_&&m&&i!==void 0&&i!==null&&(N=m(p,i));var C=y?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",Lg({className:A,style:j},C),x.createElement("p",{className:E,style:w},x.isValidElement(N)?N:"".concat(N)),v())},Io="recharts-tooltip-wrapper",h6={visibility:"hidden"};function p6(e){var{coordinate:t,translateX:r,translateY:n}=e;return Te(Io,{["".concat(Io,"-right")]:fe(r)&&t&&fe(t.x)&&r>=t.x,["".concat(Io,"-left")]:fe(r)&&t&&fe(t.x)&&r<t.x,["".concat(Io,"-bottom")]:fe(n)&&t&&fe(t.y)&&n>=t.y,["".concat(Io,"-top")]:fe(n)&&t&&fe(t.y)&&n<t.y})}function e_(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:u,viewBox:d,viewBoxDimension:h}=e;if(i&&fe(i[n]))return i[n];var p=r[n]-u-(a>0?a:0),m=r[n]+a;if(t[n])return o[n]?p:m;var y=d[n];if(y==null)return 0;if(o[n]){var v=p,j=y;return v<j?Math.max(m,y):Math.max(p,y)}if(h==null)return 0;var w=m+u,_=y+h;return w>_?Math.max(p,y):Math.max(m,y)}function m6(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function g6(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:u,viewBox:d}=e,h,p,m;return o.height>0&&o.width>0&&r?(p=e_({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),m=e_({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),h=m6({translateX:p,translateY:m,useTranslate3d:u})):h=h6,{cssProperties:h,cssClasses:p6({translateX:p,translateY:m,coordinate:r})}}function t_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t_(Object(r),!0).forEach(function(n){$g(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $g(e,t,r){return(t=v6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v6(e){var t=y6(e,"string");return typeof t=="symbol"?t:t+""}function y6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class x6 extends x.PureComponent{constructor(){super(...arguments),$g(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),$g(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:o,hasPayload:u,isAnimationActive:d,offset:h,position:p,reverseDirection:m,useTranslate3d:y,viewBox:v,wrapperStyle:j,lastBoundingBox:w,innerRef:_,hasPortalFromProps:N}=this.props,{cssClasses:A,cssProperties:E}=g6({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:h,position:p,reverseDirection:m,tooltipBox:{height:w.height,width:w.width},useTranslate3d:y,viewBox:v}),C=N?{}:lu(lu({transition:d&&t?"transform ".concat(n,"ms ").concat(a):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),P=lu(lu({},C),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},j);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:A,style:P,ref:_},i)}}var b6=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Zn={devToolsEnabled:!1,isSsr:b6()},yP=()=>he(e=>e.rootProps.accessibilityLayer);function Bg(){return Bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bg.apply(null,arguments)}function r_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function n_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r_(Object(r),!0).forEach(function(n){w6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w6(e,t,r){return(t=j6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j6(e){var t=_6(e,"string");return typeof t=="symbol"?t:t+""}function _6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var a_={curveBasisClosed:j4,curveBasisOpen:_4,curveBasis:w4,curveBumpX:o4,curveBumpY:l4,curveLinearClosed:k4,curveLinear:Sd,curveMonotoneX:S4,curveMonotoneY:N4,curveNatural:E4,curveStep:P4,curveStepAfter:A4,curveStepBefore:O4},cu=e=>yt(e.x)&&yt(e.y),Do=e=>e.x,Mo=e=>e.y,k6=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(vl(e));return(r==="curveMonotone"||r==="curveBump")&&t?a_["".concat(r).concat(t==="vertical"?"Y":"X")]:a_[r]||Sd},S6=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,o=k6(t,a),u=i?r.filter(cu):r,d;if(Array.isArray(n)){var h=i?n.filter(m=>cu(m)):n,p=u.map((m,y)=>n_(n_({},m),{},{base:h[y]}));return a==="vertical"?d=tu().y(Mo).x1(Do).x0(m=>m.base.x):d=tu().x(Do).y1(Mo).y0(m=>m.base.y),d.defined(cu).curve(o),d(p)}return a==="vertical"&&fe(n)?d=tu().y(Mo).x1(Do).x0(n):fe(n)?d=tu().x(Do).y1(Mo).y0(n):d=tE().x(Do).y(Mo),d.defined(cu).curve(o),d(u)},ps=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?S6(e):n;return x.createElement("path",Bg({},nr(e),Bv(e),{className:Te("recharts-curve",t),d:i===null?void 0:i,ref:a}))},N6=["x","y","top","left","width","height","className"];function Fg(){return Fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fg.apply(null,arguments)}function i_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function E6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i_(Object(r),!0).forEach(function(n){P6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P6(e,t,r){return(t=O6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O6(e){var t=A6(e,"string");return typeof t=="symbol"?t:t+""}function A6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C6(e,t){if(e==null)return{};var r,n,a=T6(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function T6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var R6=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),I6=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:o=0,className:u}=e,d=C6(e,N6),h=E6({x:t,y:r,top:n,left:a,width:i,height:o},d);return!fe(t)||!fe(r)||!fe(i)||!fe(o)||!fe(n)||!fe(a)?null:x.createElement("path",Fg({},ar(h),{className:Te("recharts-cross",u),d:R6(t,r,i,o,n,a)}))};function D6(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function s_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function M6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s_(Object(r),!0).forEach(function(n){L6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L6(e,t,r){return(t=$6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $6(e){var t=B6(e,"string");return typeof t=="symbol"?t:t+""}function B6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function St(e,t){var r=M6({},e),n=t,a=Object.keys(t),i=a.reduce((o,u)=>(o[u]===void 0&&n[u]!==void 0&&(o[u]=n[u]),o),r);return i}function F6(){}function U6(e){return e!=null}function o_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function l_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o_(Object(r),!0).forEach(function(n){z6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z6(e,t,r){return(t=q6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q6(e){var t=W6(e,"string");return typeof t=="symbol"?t:t+""}function W6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var K6=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),xP=(e,t,r)=>e.map(n=>"".concat(K6(n)," ").concat(t,"ms ").concat(r)).join(","),V6=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),ol=(e,t)=>Object.keys(t).reduce((r,n)=>l_(l_({},r),{},{[n]:e(n,t[n])}),{});function c_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c_(Object(r),!0).forEach(function(n){H6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H6(e,t,r){return(t=G6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G6(e){var t=Y6(e,"string");return typeof t=="symbol"?t:t+""}function Y6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zu=(e,t,r)=>e+(t-e)*r,Ug=e=>{var{from:t,to:r}=e;return t!==r},bP=(e,t,r)=>{var n=ol((a,i)=>{if(Ug(i)){var[o,u]=e(i.from,i.to,i.velocity);return $t($t({},i),{},{from:o,velocity:u})}return i},t);return r<1?ol((a,i)=>Ug(i)?$t($t({},i),{},{velocity:zu(i.velocity,n[a].velocity,r),from:zu(i.from,n[a].from,r)}):i,t):bP(e,n,r-1)};function X6(e,t,r,n,a,i){var o,u=n.reduce((y,v)=>$t($t({},y),{},{[v]:{from:e[v],velocity:0,to:t[v]}}),{}),d=()=>ol((y,v)=>v.from,u),h=()=>!Object.values(u).filter(Ug).length,p=null,m=y=>{o||(o=y);var v=y-o,j=v/r.dt;u=bP(r,u,j),a($t($t($t({},e),t),d())),o=y,h()||(p=i.setTimeout(m))};return()=>(p=i.setTimeout(m),()=>{p()})}function J6(e,t,r,n,a,i,o){var u=null,d=a.reduce((m,y)=>$t($t({},m),{},{[y]:[e[y],t[y]]}),{}),h,p=m=>{h||(h=m);var y=(m-h)/n,v=ol((w,_)=>zu(..._,r(y)),d);if(i($t($t($t({},e),t),v)),y<1)u=o.setTimeout(p);else{var j=ol((w,_)=>zu(..._,r(1)),d);i($t($t($t({},e),t),j))}};return()=>(u=o.setTimeout(p),()=>{u()})}const Q6=(e,t,r,n,a,i)=>{var o=V6(e,t);return r.isStepper===!0?X6(e,t,r,o,a,i):J6(e,t,r,n,o,a,i)};var qu=1e-4,wP=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],jP=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),u_=(e,t)=>r=>{var n=wP(e,t);return jP(n,r)},Z6=(e,t)=>r=>{var n=wP(e,t),a=[...n.map((i,o)=>i*o).slice(1),0];return jP(a,r)},d_=function(){for(var t,r,n,a,i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];if(o.length===1)switch(o[0]){case"linear":[t,n,r,a]=[0,0,1,1];break;case"ease":[t,n,r,a]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,a]=[.42,0,1,1];break;case"ease-out":[t,n,r,a]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,a]=[0,0,.58,1];break;default:{var d=o[0].split("(");d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4&&([t,n,r,a]=d[1].split(")")[0].split(",").map(j=>parseFloat(j)))}}else o.length===4&&([t,n,r,a]=o);var h=u_(t,r),p=u_(n,a),m=Z6(t,r),y=j=>j>1?1:j<0?0:j,v=j=>{for(var w=j>1?1:j,_=w,N=0;N<8;++N){var A=h(_)-w,E=m(_);if(Math.abs(A-w)<qu||E<qu)return p(_);_=y(_-A/E)}return p(_)};return v.isStepper=!1,v},e5=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(o,u,d)=>{var h=-(o-u)*r,p=d*n,m=d+(h-p)*a/1e3,y=d*a/1e3+o;return Math.abs(y-u)<qu&&Math.abs(m)<qu?[u,0]:[y,m]};return i.isStepper=!0,i.dt=a,i},t5=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return d_(e);case"spring":return e5();default:if(e.split("(")[0]==="cubic-bezier")return d_(e)}return typeof e=="function"?e:null};function r5(e){var t,r=()=>null,n=!1,a=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var u=o,[d,...h]=u;if(typeof d=="number"){a=e.setTimeout(i.bind(null,h),d);return}i(d),a=e.setTimeout(i.bind(null,h));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,a&&(a(),a=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class n5{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{cancelAnimationFrame(a)}}}function a5(){return r5(new n5)}var i5=x.createContext(a5);function s5(e,t){var r=x.useContext(i5);return x.useMemo(()=>t??r(e),[e,t,r])}var o5={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},f_={t:0},Nm={t:1};function Rs(e){var t=St(e,o5),{isActive:r,canBegin:n,duration:a,easing:i,begin:o,onAnimationEnd:u,onAnimationStart:d,children:h}=t,p=s5(t.animationId,t.animationManager),[m,y]=x.useState(r?f_:Nm),v=x.useRef(null);return x.useEffect(()=>{r||y(Nm)},[r]),x.useEffect(()=>{if(!r||!n)return F6;var j=Q6(f_,Nm,t5(i),a,y,p.getTimeoutController()),w=()=>{v.current=j()};return p.start([d,o,w,a,u]),()=>{p.stop(),v.current&&v.current(),u()}},[r,n,a,i,o,d,u,p]),h(m.t)}function Is(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=x.useRef(nl(t)),n=x.useRef(e);return n.current!==e&&(r.current=nl(t),n.current=e),r.current}var l5=["radius"],c5=["radius"];function h_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function p_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h_(Object(r),!0).forEach(function(n){u5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u5(e,t,r){return(t=d5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d5(e){var t=f5(e,"string");return typeof t=="symbol"?t:t+""}function f5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wu(){return Wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wu.apply(null,arguments)}function m_(e,t){if(e==null)return{};var r,n,a=h5(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function h5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var g_=(e,t,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,u=r>=0?1:-1,d=n>=0&&r>=0||n<0&&r<0?1:0,h;if(i>0&&a instanceof Array){for(var p=[0,0,0,0],m=0,y=4;m<y;m++)p[m]=a[m]>i?i:a[m];h="M".concat(e,",").concat(t+o*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(d,",").concat(e+u*p[0],",").concat(t)),h+="L ".concat(e+r-u*p[1],",").concat(t),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(d,`,
        `).concat(e+r,",").concat(t+o*p[1])),h+="L ".concat(e+r,",").concat(t+n-o*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(d,`,
        `).concat(e+r-u*p[2],",").concat(t+n)),h+="L ".concat(e+u*p[3],",").concat(t+n),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(t+n-o*p[3])),h+="Z"}else if(i>0&&a===+a&&a>0){var v=Math.min(i,a);h="M ".concat(e,",").concat(t+o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(e+u*v,",").concat(t,`
            L `).concat(e+r-u*v,",").concat(t,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(e+r,",").concat(t+o*v,`
            L `).concat(e+r,",").concat(t+n-o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(e+r-u*v,",").concat(t+n,`
            L `).concat(e+u*v,",").concat(t+n,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(e,",").concat(t+n-o*v," Z")}else h="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return h},p5={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_P=e=>{var t=St(e,p5),r=x.useRef(null),[n,a]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var re=r.current.getTotalLength();re&&a(re)}catch{}},[]);var{x:i,y:o,width:u,height:d,radius:h,className:p}=t,{animationEasing:m,animationDuration:y,animationBegin:v,isAnimationActive:j,isUpdateAnimationActive:w}=t,_=x.useRef(u),N=x.useRef(d),A=x.useRef(i),E=x.useRef(o),C=x.useMemo(()=>({x:i,y:o,width:u,height:d,radius:h}),[i,o,u,d,h]),P=Is(C,"rectangle-");if(i!==+i||o!==+o||u!==+u||d!==+d||u===0||d===0)return null;var S=Te("recharts-rectangle",p);if(!w){var T=ar(t),{radius:I}=T,M=m_(T,l5);return x.createElement("path",Wu({},M,{radius:typeof h=="number"?h:void 0,className:S,d:g_(i,o,u,d,h)}))}var z=_.current,W=N.current,H=A.current,Z=E.current,se="0px ".concat(n===-1?1:n,"px"),Y="".concat(n,"px 0px"),le=xP(["strokeDasharray"],y,typeof m=="string"?m:void 0);return x.createElement(Rs,{animationId:P,key:P,canBegin:n>0,duration:y,easing:m,isActive:w,begin:v},re=>{var G=ze(z,u,re),ie=ze(W,d,re),ae=ze(H,i,re),$=ze(Z,o,re);r.current&&(_.current=G,N.current=ie,A.current=ae,E.current=$);var V;j?re>0?V={transition:le,strokeDasharray:Y}:V={strokeDasharray:se}:V={strokeDasharray:Y};var ye=ar(t),{radius:Ee}=ye,je=m_(ye,c5);return x.createElement("path",Wu({},je,{radius:typeof h=="number"?h:void 0,className:S,d:g_(ae,$,G,ie,h),ref:r,style:p_(p_({},V),t.style)}))})};function kP(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,o=gt(t,r,n,a),u=gt(t,r,n,i);return{points:[o,u],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function zg(){return zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zg.apply(null,arguments)}var m5=(e,t)=>{var r=Rt(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},uu=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:o,cornerRadius:u,cornerIsExternal:d}=e,h=u*(o?1:-1)+n,p=Math.asin(u/h)/Bu,m=d?a:a+i*p,y=gt(t,r,h,m),v=gt(t,r,n,m),j=d?a-i*p:a,w=gt(t,r,h*Math.cos(p*Bu),j);return{center:y,circleTangency:v,lineTangency:w,theta:p}},SP=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:o}=e,u=m5(i,o),d=i+u,h=gt(t,r,a,i),p=gt(t,r,a,d),m="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(i>d),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(n>0){var y=gt(t,r,n,i),v=gt(t,r,n,d);m+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(i<=d),`,
            `).concat(y.x,",").concat(y.y," Z")}else m+="L ".concat(t,",").concat(r," Z");return m},g5=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:u,startAngle:d,endAngle:h}=e,p=Rt(h-d),{circleTangency:m,lineTangency:y,theta:v}=uu({cx:t,cy:r,radius:a,angle:d,sign:p,cornerRadius:i,cornerIsExternal:u}),{circleTangency:j,lineTangency:w,theta:_}=uu({cx:t,cy:r,radius:a,angle:h,sign:-p,cornerRadius:i,cornerIsExternal:u}),N=u?Math.abs(d-h):Math.abs(d-h)-v-_;if(N<0)return o?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):SP({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:d,endAngle:h});var A="M ".concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(p<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(N>180),",").concat(+(p<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(p<0),",").concat(w.x,",").concat(w.y,`
  `);if(n>0){var{circleTangency:E,lineTangency:C,theta:P}=uu({cx:t,cy:r,radius:n,angle:d,sign:p,isExternal:!0,cornerRadius:i,cornerIsExternal:u}),{circleTangency:S,lineTangency:T,theta:I}=uu({cx:t,cy:r,radius:n,angle:h,sign:-p,isExternal:!0,cornerRadius:i,cornerIsExternal:u}),M=u?Math.abs(d-h):Math.abs(d-h)-P-I;if(M<0&&i===0)return"".concat(A,"L").concat(t,",").concat(r,"Z");A+="L".concat(T.x,",").concat(T.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(p<0),",").concat(S.x,",").concat(S.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(M>180),",").concat(+(p>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(p<0),",").concat(C.x,",").concat(C.y,"Z")}else A+="L".concat(t,",").concat(r,"Z");return A},v5={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},NP=e=>{var t=St(e,v5),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:u,cornerIsExternal:d,startAngle:h,endAngle:p,className:m}=t;if(i<a||h===p)return null;var y=Te("recharts-sector",m),v=i-a,j=Xt(o,v,0,!0),w;return j>0&&Math.abs(h-p)<360?w=g5({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(j,v/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:h,endAngle:p}):w=SP({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:h,endAngle:p}),x.createElement("path",zg({},ar(t),{className:y,d:w}))};function y5(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:u,cy:d,innerRadius:h,outerRadius:p,angle:m}=t,y=gt(u,d,h,m),v=gt(u,d,p,m);n=y.x,a=y.y,i=v.x,o=v.y}else return kP(t);return[{x:n,y:a},{x:i,y:o}]}var Em={},Pm={},Om={},v_;function x5(){return v_||(v_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EE();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(Om)),Om}var y_;function b5(){return y_||(y_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x5();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(Pm)),Pm}var x_;function w5(){return x_||(x_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PE(),r=b5();function n(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),o=o===void 0?a<i?1:-1:r.toFinite(o);const u=Math.max(Math.ceil((i-a)/(o||1)),0),d=new Array(u);for(let h=0;h<u;h++)d[h]=a,a+=o;return d}e.range=n})(Em)),Em}var Am,b_;function j5(){return b_||(b_=1,Am=w5().range),Am}var _5=j5();const EP=un(_5);function Ca(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function k5(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ey(e){let t,r,n;e.length!==2?(t=Ca,r=(u,d)=>Ca(e(u),d),n=(u,d)=>e(u)-d):(t=e===Ca||e===k5?e:S5,r=e,n=e);function a(u,d,h=0,p=u.length){if(h<p){if(t(d,d)!==0)return p;do{const m=h+p>>>1;r(u[m],d)<0?h=m+1:p=m}while(h<p)}return h}function i(u,d,h=0,p=u.length){if(h<p){if(t(d,d)!==0)return p;do{const m=h+p>>>1;r(u[m],d)<=0?h=m+1:p=m}while(h<p)}return h}function o(u,d,h=0,p=u.length){const m=a(u,d,h,p-1);return m>h&&n(u[m-1],d)>-n(u[m],d)?m-1:m}return{left:a,center:o,right:i}}function S5(){return 0}function PP(e){return e===null?NaN:+e}function*N5(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const E5=ey(Ca),_l=E5.right;ey(PP).center;class w_ extends Map{constructor(t,r=A5){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(j_(this,t))}has(t){return super.has(j_(this,t))}set(t,r){return super.set(P5(this,t),r)}delete(t){return super.delete(O5(this,t))}}function j_({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function P5({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function O5({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function A5(e){return e!==null&&typeof e=="object"?e.valueOf():e}function C5(e=Ca){if(e===Ca)return OP;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function OP(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const T5=Math.sqrt(50),R5=Math.sqrt(10),I5=Math.sqrt(2);function Ku(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=T5?10:i>=R5?5:i>=I5?2:1;let u,d,h;return a<0?(h=Math.pow(10,-a)/o,u=Math.round(e*h),d=Math.round(t*h),u/h<e&&++u,d/h>t&&--d,h=-h):(h=Math.pow(10,a)*o,u=Math.round(e/h),d=Math.round(t/h),u*h<e&&++u,d*h>t&&--d),d<u&&.5<=r&&r<2?Ku(e,t,r*2):[u,d,h]}function qg(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?Ku(t,e,r):Ku(e,t,r);if(!(i>=a))return[];const u=i-a+1,d=new Array(u);if(n)if(o<0)for(let h=0;h<u;++h)d[h]=(i-h)/-o;else for(let h=0;h<u;++h)d[h]=(i-h)*o;else if(o<0)for(let h=0;h<u;++h)d[h]=(a+h)/-o;else for(let h=0;h<u;++h)d[h]=(a+h)*o;return d}function Wg(e,t,r){return t=+t,e=+e,r=+r,Ku(e,t,r)[2]}function Kg(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Wg(t,e,r):Wg(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function __(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function k_(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function AP(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?OP:C5(a);n>r;){if(n-r>600){const d=n-r+1,h=t-r+1,p=Math.log(d),m=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*m*(d-m)/d)*(h-d/2<0?-1:1),v=Math.max(r,Math.floor(t-h*m/d+y)),j=Math.min(n,Math.floor(t+(d-h)*m/d+y));AP(e,t,v,j,a)}const i=e[t];let o=r,u=n;for(Lo(e,r,t),a(e[n],i)>0&&Lo(e,r,n);o<u;){for(Lo(e,o,u),++o,--u;a(e[o],i)<0;)++o;for(;a(e[u],i)>0;)--u}a(e[r],i)===0?Lo(e,r,u):(++u,Lo(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function Lo(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function D5(e,t,r){if(e=Float64Array.from(N5(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return k_(e);if(t>=1)return __(e);var n,a=(n-1)*t,i=Math.floor(a),o=__(AP(e,i).subarray(0,i+1)),u=k_(e.subarray(i+1));return o+(u-o)*(a-i)}}function M5(e,t,r=PP){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),u=+r(e[i+1],i+1,e);return o+(u-o)*(a-i)}}function L5(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Vr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ea(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Vg=Symbol("implicit");function ty(){var e=new w_,t=[],r=[],n=Vg;function a(i){let o=e.get(i);if(o===void 0){if(n!==Vg)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new w_;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return ty(t,r).unknown(n)},Vr.apply(a,arguments),a}function ry(){var e=ty().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,u=!1,d=0,h=0,p=.5;delete e.unknown;function m(){var y=t().length,v=a<n,j=v?a:n,w=v?n:a;i=(w-j)/Math.max(1,y-d+h*2),u&&(i=Math.floor(i)),j+=(w-j-i*(y-d))*p,o=i*(1-d),u&&(j=Math.round(j),o=Math.round(o));var _=L5(y).map(function(N){return j+i*N});return r(v?_.reverse():_)}return e.domain=function(y){return arguments.length?(t(y),m()):t()},e.range=function(y){return arguments.length?([n,a]=y,n=+n,a=+a,m()):[n,a]},e.rangeRound=function(y){return[n,a]=y,n=+n,a=+a,u=!0,m()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(y){return arguments.length?(u=!!y,m()):u},e.padding=function(y){return arguments.length?(d=Math.min(1,h=+y),m()):d},e.paddingInner=function(y){return arguments.length?(d=Math.min(1,y),m()):d},e.paddingOuter=function(y){return arguments.length?(h=+y,m()):h},e.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),m()):p},e.copy=function(){return ry(t(),[n,a]).round(u).paddingInner(d).paddingOuter(h).align(p)},Vr.apply(m(),arguments)}function CP(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return CP(t())},e}function $5(){return CP(ry.apply(null,arguments).paddingInner(1))}function ny(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function TP(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function kl(){}var ll=.7,Vu=1/ll,ms="\\s*([+-]?\\d+)\\s*",cl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",B5=/^#([0-9a-f]{3,8})$/,F5=new RegExp(`^rgb\\(${ms},${ms},${ms}\\)$`),U5=new RegExp(`^rgb\\(${yn},${yn},${yn}\\)$`),z5=new RegExp(`^rgba\\(${ms},${ms},${ms},${cl}\\)$`),q5=new RegExp(`^rgba\\(${yn},${yn},${yn},${cl}\\)$`),W5=new RegExp(`^hsl\\(${cl},${yn},${yn}\\)$`),K5=new RegExp(`^hsla\\(${cl},${yn},${yn},${cl}\\)$`),S_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ny(kl,ul,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:N_,formatHex:N_,formatHex8:V5,formatHsl:H5,formatRgb:E_,toString:E_});function N_(){return this.rgb().formatHex()}function V5(){return this.rgb().formatHex8()}function H5(){return RP(this).formatHsl()}function E_(){return this.rgb().formatRgb()}function ul(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=B5.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?P_(t):r===3?new hr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?du(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?du(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=F5.exec(e))?new hr(t[1],t[2],t[3],1):(t=U5.exec(e))?new hr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=z5.exec(e))?du(t[1],t[2],t[3],t[4]):(t=q5.exec(e))?du(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=W5.exec(e))?C_(t[1],t[2]/100,t[3]/100,1):(t=K5.exec(e))?C_(t[1],t[2]/100,t[3]/100,t[4]):S_.hasOwnProperty(e)?P_(S_[e]):e==="transparent"?new hr(NaN,NaN,NaN,0):null}function P_(e){return new hr(e>>16&255,e>>8&255,e&255,1)}function du(e,t,r,n){return n<=0&&(e=t=r=NaN),new hr(e,t,r,n)}function G5(e){return e instanceof kl||(e=ul(e)),e?(e=e.rgb(),new hr(e.r,e.g,e.b,e.opacity)):new hr}function Hg(e,t,r,n){return arguments.length===1?G5(e):new hr(e,t,r,n??1)}function hr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}ny(hr,Hg,TP(kl,{brighter(e){return e=e==null?Vu:Math.pow(Vu,e),new hr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ll:Math.pow(ll,e),new hr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new hr(pi(this.r),pi(this.g),pi(this.b),Hu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:O_,formatHex:O_,formatHex8:Y5,formatRgb:A_,toString:A_}));function O_(){return`#${ci(this.r)}${ci(this.g)}${ci(this.b)}`}function Y5(){return`#${ci(this.r)}${ci(this.g)}${ci(this.b)}${ci((isNaN(this.opacity)?1:this.opacity)*255)}`}function A_(){const e=Hu(this.opacity);return`${e===1?"rgb(":"rgba("}${pi(this.r)}, ${pi(this.g)}, ${pi(this.b)}${e===1?")":`, ${e})`}`}function Hu(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function pi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ci(e){return e=pi(e),(e<16?"0":"")+e.toString(16)}function C_(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new on(e,t,r,n)}function RP(e){if(e instanceof on)return new on(e.h,e.s,e.l,e.opacity);if(e instanceof kl||(e=ul(e)),!e)return new on;if(e instanceof on)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,u=i-a,d=(i+a)/2;return u?(t===i?o=(r-n)/u+(r<n)*6:r===i?o=(n-t)/u+2:o=(t-r)/u+4,u/=d<.5?i+a:2-i-a,o*=60):u=d>0&&d<1?0:o,new on(o,u,d,e.opacity)}function X5(e,t,r,n){return arguments.length===1?RP(e):new on(e,t,r,n??1)}function on(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}ny(on,X5,TP(kl,{brighter(e){return e=e==null?Vu:Math.pow(Vu,e),new on(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ll:Math.pow(ll,e),new on(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new hr(Cm(e>=240?e-240:e+120,a,n),Cm(e,a,n),Cm(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new on(T_(this.h),fu(this.s),fu(this.l),Hu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Hu(this.opacity);return`${e===1?"hsl(":"hsla("}${T_(this.h)}, ${fu(this.s)*100}%, ${fu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function T_(e){return e=(e||0)%360,e<0?e+360:e}function fu(e){return Math.max(0,Math.min(1,e||0))}function Cm(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const ay=e=>()=>e;function J5(e,t){return function(r){return e+r*t}}function Q5(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Z5(e){return(e=+e)==1?IP:function(t,r){return r-t?Q5(t,r,e):ay(isNaN(t)?r:t)}}function IP(e,t){var r=t-e;return r?J5(e,r):ay(isNaN(e)?t:e)}const R_=(function e(t){var r=Z5(t);function n(a,i){var o=r((a=Hg(a)).r,(i=Hg(i)).r),u=r(a.g,i.g),d=r(a.b,i.b),h=IP(a.opacity,i.opacity);return function(p){return a.r=o(p),a.g=u(p),a.b=d(p),a.opacity=h(p),a+""}}return n.gamma=e,n})(1);function eB(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function tB(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function rB(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Ds(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(u){for(o=0;o<n;++o)i[o]=a[o](u);return i}}function nB(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Gu(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function aB(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Ds(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Gg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Tm=new RegExp(Gg.source,"g");function iB(e){return function(){return e}}function sB(e){return function(t){return e(t)+""}}function oB(e,t){var r=Gg.lastIndex=Tm.lastIndex=0,n,a,i,o=-1,u=[],d=[];for(e=e+"",t=t+"";(n=Gg.exec(e))&&(a=Tm.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),u[o]?u[o]+=i:u[++o]=i),(n=n[0])===(a=a[0])?u[o]?u[o]+=a:u[++o]=a:(u[++o]=null,d.push({i:o,x:Gu(n,a)})),r=Tm.lastIndex;return r<t.length&&(i=t.slice(r),u[o]?u[o]+=i:u[++o]=i),u.length<2?d[0]?sB(d[0].x):iB(t):(t=d.length,function(h){for(var p=0,m;p<t;++p)u[(m=d[p]).i]=m.x(h);return u.join("")})}function Ds(e,t){var r=typeof t,n;return t==null||r==="boolean"?ay(t):(r==="number"?Gu:r==="string"?(n=ul(t))?(t=n,R_):oB:t instanceof ul?R_:t instanceof Date?nB:tB(t)?eB:Array.isArray(t)?rB:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?aB:Gu)(e,t)}function iy(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function lB(e,t){t===void 0&&(t=e,e=Ds);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var u=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[u](o-u)}}function cB(e){return function(){return e}}function Yu(e){return+e}var I_=[0,1];function rr(e){return e}function Yg(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:cB(isNaN(t)?NaN:.5)}function uB(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function dB(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=Yg(a,n),i=r(o,i)):(n=Yg(n,a),i=r(i,o)),function(u){return i(n(u))}}function fB(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=Yg(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(u){var d=_l(e,u,1,n)-1;return i[d](a[d](u))}}function Sl(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Fd(){var e=I_,t=I_,r=Ds,n,a,i,o=rr,u,d,h;function p(){var y=Math.min(e.length,t.length);return o!==rr&&(o=uB(e[0],e[y-1])),u=y>2?fB:dB,d=h=null,m}function m(y){return y==null||isNaN(y=+y)?i:(d||(d=u(e.map(n),t,r)))(n(o(y)))}return m.invert=function(y){return o(a((h||(h=u(t,e.map(n),Gu)))(y)))},m.domain=function(y){return arguments.length?(e=Array.from(y,Yu),p()):e.slice()},m.range=function(y){return arguments.length?(t=Array.from(y),p()):t.slice()},m.rangeRound=function(y){return t=Array.from(y),r=iy,p()},m.clamp=function(y){return arguments.length?(o=y?!0:rr,p()):o!==rr},m.interpolate=function(y){return arguments.length?(r=y,p()):r},m.unknown=function(y){return arguments.length?(i=y,m):i},function(y,v){return n=y,a=v,p()}}function sy(){return Fd()(rr,rr)}function hB(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Xu(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function js(e){return e=Xu(Math.abs(e)),e?e[1]:NaN}function pB(e,t){return function(r,n){for(var a=r.length,i=[],o=0,u=e[0],d=0;a>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),i.push(r.substring(a-=u,a+u)),!((d+=u+1)>n));)u=e[o=(o+1)%e.length];return i.reverse().join(t)}}function mB(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var gB=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function dl(e){if(!(t=gB.exec(e)))throw new Error("invalid format: "+e);var t;return new oy({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}dl.prototype=oy.prototype;function oy(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}oy.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function vB(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var DP;function yB(e,t){var r=Xu(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(DP=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Xu(e,Math.max(0,t+i-1))[0]}function D_(e,t){var r=Xu(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const M_={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:hB,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>D_(e*100,t),r:D_,s:yB,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function L_(e){return e}var $_=Array.prototype.map,B_=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function xB(e){var t=e.grouping===void 0||e.thousands===void 0?L_:pB($_.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?L_:mB($_.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function h(m){m=dl(m);var y=m.fill,v=m.align,j=m.sign,w=m.symbol,_=m.zero,N=m.width,A=m.comma,E=m.precision,C=m.trim,P=m.type;P==="n"?(A=!0,P="g"):M_[P]||(E===void 0&&(E=12),C=!0,P="g"),(_||y==="0"&&v==="=")&&(_=!0,y="0",v="=");var S=w==="$"?r:w==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",T=w==="$"?n:/[%p]/.test(P)?o:"",I=M_[P],M=/[defgprs%]/.test(P);E=E===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function z(W){var H=S,Z=T,se,Y,le;if(P==="c")Z=I(W)+Z,W="";else{W=+W;var re=W<0||1/W<0;if(W=isNaN(W)?d:I(Math.abs(W),E),C&&(W=vB(W)),re&&+W==0&&j!=="+"&&(re=!1),H=(re?j==="("?j:u:j==="-"||j==="("?"":j)+H,Z=(P==="s"?B_[8+DP/3]:"")+Z+(re&&j==="("?")":""),M){for(se=-1,Y=W.length;++se<Y;)if(le=W.charCodeAt(se),48>le||le>57){Z=(le===46?a+W.slice(se+1):W.slice(se))+Z,W=W.slice(0,se);break}}}A&&!_&&(W=t(W,1/0));var G=H.length+W.length+Z.length,ie=G<N?new Array(N-G+1).join(y):"";switch(A&&_&&(W=t(ie+W,ie.length?N-Z.length:1/0),ie=""),v){case"<":W=H+W+Z+ie;break;case"=":W=H+ie+W+Z;break;case"^":W=ie.slice(0,G=ie.length>>1)+H+W+Z+ie.slice(G);break;default:W=ie+H+W+Z;break}return i(W)}return z.toString=function(){return m+""},z}function p(m,y){var v=h((m=dl(m),m.type="f",m)),j=Math.max(-8,Math.min(8,Math.floor(js(y)/3)))*3,w=Math.pow(10,-j),_=B_[8+j/3];return function(N){return v(w*N)+_}}return{format:h,formatPrefix:p}}var hu,ly,MP;bB({thousands:",",grouping:[3],currency:["$",""]});function bB(e){return hu=xB(e),ly=hu.format,MP=hu.formatPrefix,hu}function wB(e){return Math.max(0,-js(Math.abs(e)))}function jB(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(js(t)/3)))*3-js(Math.abs(e)))}function _B(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,js(t)-js(e))+1}function LP(e,t,r,n){var a=Kg(e,t,r),i;switch(n=dl(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=jB(a,o))&&(n.precision=i),MP(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=_B(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=wB(a))&&(n.precision=i-(n.type==="%")*2);break}}return ly(n)}function $a(e){var t=e.domain;return e.ticks=function(r){var n=t();return qg(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return LP(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],u=n[i],d,h,p=10;for(u<o&&(h=o,o=u,u=h,h=a,a=i,i=h);p-- >0;){if(h=Wg(o,u,r),h===d)return n[a]=o,n[i]=u,t(n);if(h>0)o=Math.floor(o/h)*h,u=Math.ceil(u/h)*h;else if(h<0)o=Math.ceil(o*h)/h,u=Math.floor(u*h)/h;else break;d=h}return e},e}function $P(){var e=sy();return e.copy=function(){return Sl(e,$P())},Vr.apply(e,arguments),$a(e)}function BP(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Yu),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return BP(e).unknown(t)},e=arguments.length?Array.from(e,Yu):[0,1],$a(r)}function FP(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function F_(e){return Math.log(e)}function U_(e){return Math.exp(e)}function kB(e){return-Math.log(-e)}function SB(e){return-Math.exp(-e)}function NB(e){return isFinite(e)?+("1e"+e):e<0?0:e}function EB(e){return e===10?NB:e===Math.E?Math.exp:t=>Math.pow(e,t)}function PB(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function z_(e){return(t,r)=>-e(-t,r)}function cy(e){const t=e(F_,U_),r=t.domain;let n=10,a,i;function o(){return a=PB(n),i=EB(n),r()[0]<0?(a=z_(a),i=z_(i),e(kB,SB)):e(F_,U_),t}return t.base=function(u){return arguments.length?(n=+u,o()):n},t.domain=function(u){return arguments.length?(r(u),o()):r()},t.ticks=u=>{const d=r();let h=d[0],p=d[d.length-1];const m=p<h;m&&([h,p]=[p,h]);let y=a(h),v=a(p),j,w;const _=u==null?10:+u;let N=[];if(!(n%1)&&v-y<_){if(y=Math.floor(y),v=Math.ceil(v),h>0){for(;y<=v;++y)for(j=1;j<n;++j)if(w=y<0?j/i(-y):j*i(y),!(w<h)){if(w>p)break;N.push(w)}}else for(;y<=v;++y)for(j=n-1;j>=1;--j)if(w=y>0?j/i(-y):j*i(y),!(w<h)){if(w>p)break;N.push(w)}N.length*2<_&&(N=qg(h,p,_))}else N=qg(y,v,Math.min(v-y,_)).map(i);return m?N.reverse():N},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=dl(d)).precision==null&&(d.trim=!0),d=ly(d)),u===1/0)return d;const h=Math.max(1,n*u/t.ticks().length);return p=>{let m=p/i(Math.round(a(p)));return m*n<n-.5&&(m*=n),m<=h?d(p):""}},t.nice=()=>r(FP(r(),{floor:u=>i(Math.floor(a(u))),ceil:u=>i(Math.ceil(a(u)))})),t}function UP(){const e=cy(Fd()).domain([1,10]);return e.copy=()=>Sl(e,UP()).base(e.base()),Vr.apply(e,arguments),e}function q_(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function W_(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function uy(e){var t=1,r=e(q_(t),W_(t));return r.constant=function(n){return arguments.length?e(q_(t=+n),W_(t)):t},$a(r)}function zP(){var e=uy(Fd());return e.copy=function(){return Sl(e,zP()).constant(e.constant())},Vr.apply(e,arguments)}function K_(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function OB(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function AB(e){return e<0?-e*e:e*e}function dy(e){var t=e(rr,rr),r=1;function n(){return r===1?e(rr,rr):r===.5?e(OB,AB):e(K_(r),K_(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},$a(t)}function fy(){var e=dy(Fd());return e.copy=function(){return Sl(e,fy()).exponent(e.exponent())},Vr.apply(e,arguments),e}function CB(){return fy.apply(null,arguments).exponent(.5)}function V_(e){return Math.sign(e)*e*e}function TB(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function qP(){var e=sy(),t=[0,1],r=!1,n;function a(i){var o=TB(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(V_(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Yu)).map(V_)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return qP(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Vr.apply(a,arguments),$a(a)}function WP(){var e=[],t=[],r=[],n;function a(){var o=0,u=Math.max(1,t.length);for(r=new Array(u-1);++o<u;)r[o-1]=M5(e,o/u);return i}function i(o){return o==null||isNaN(o=+o)?n:t[_l(r,o)]}return i.invertExtent=function(o){var u=t.indexOf(o);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let u of o)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Ca),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return WP().domain(e).range(t).unknown(n)},Vr.apply(i,arguments)}function KP(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(d){return d!=null&&d<=d?a[_l(n,d,0,r)]:i}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return o}return o.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},o.range=function(d){return arguments.length?(r=(a=Array.from(d)).length-1,u()):a.slice()},o.invertExtent=function(d){var h=a.indexOf(d);return h<0?[NaN,NaN]:h<1?[e,n[0]]:h>=r?[n[r-1],t]:[n[h-1],n[h]]},o.unknown=function(d){return arguments.length&&(i=d),o},o.thresholds=function(){return n.slice()},o.copy=function(){return KP().domain([e,t]).range(a).unknown(i)},Vr.apply($a(o),arguments)}function VP(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[_l(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return VP().domain(e).range(t).unknown(r)},Vr.apply(a,arguments)}const Rm=new Date,Im=new Date;function Nt(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),u=a.ceil(i);return i-o<u-i?o:u},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,u)=>{const d=[];if(i=a.ceil(i),u=u==null?1:Math.floor(u),!(i<o)||!(u>0))return d;let h;do d.push(h=new Date(+i)),t(i,u),e(i);while(h<i&&i<o);return d},a.filter=i=>Nt(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,u)=>{if(o>=o)if(u<0)for(;++u<=0;)for(;t(o,-1),!i(o););else for(;--u>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(Rm.setTime(+i),Im.setTime(+o),e(Rm),e(Im),Math.floor(r(Rm,Im))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Ju=Nt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ju.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Nt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Ju);Ju.range;const Bn=1e3,qr=Bn*60,Fn=qr*60,Gn=Fn*24,hy=Gn*7,H_=Gn*30,Dm=Gn*365,ui=Nt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Bn)},(e,t)=>(t-e)/Bn,e=>e.getUTCSeconds());ui.range;const py=Nt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Bn)},(e,t)=>{e.setTime(+e+t*qr)},(e,t)=>(t-e)/qr,e=>e.getMinutes());py.range;const my=Nt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*qr)},(e,t)=>(t-e)/qr,e=>e.getUTCMinutes());my.range;const gy=Nt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Bn-e.getMinutes()*qr)},(e,t)=>{e.setTime(+e+t*Fn)},(e,t)=>(t-e)/Fn,e=>e.getHours());gy.range;const vy=Nt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Fn)},(e,t)=>(t-e)/Fn,e=>e.getUTCHours());vy.range;const Nl=Nt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*qr)/Gn,e=>e.getDate()-1);Nl.range;const Ud=Nt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Gn,e=>e.getUTCDate()-1);Ud.range;const HP=Nt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Gn,e=>Math.floor(e/Gn));HP.range;function Ei(e){return Nt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*qr)/hy)}const zd=Ei(0),Qu=Ei(1),RB=Ei(2),IB=Ei(3),_s=Ei(4),DB=Ei(5),MB=Ei(6);zd.range;Qu.range;RB.range;IB.range;_s.range;DB.range;MB.range;function Pi(e){return Nt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/hy)}const qd=Pi(0),Zu=Pi(1),LB=Pi(2),$B=Pi(3),ks=Pi(4),BB=Pi(5),FB=Pi(6);qd.range;Zu.range;LB.range;$B.range;ks.range;BB.range;FB.range;const yy=Nt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());yy.range;const xy=Nt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());xy.range;const Yn=Nt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Yn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Nt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Yn.range;const Xn=Nt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Xn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Nt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Xn.range;function GP(e,t,r,n,a,i){const o=[[ui,1,Bn],[ui,5,5*Bn],[ui,15,15*Bn],[ui,30,30*Bn],[i,1,qr],[i,5,5*qr],[i,15,15*qr],[i,30,30*qr],[a,1,Fn],[a,3,3*Fn],[a,6,6*Fn],[a,12,12*Fn],[n,1,Gn],[n,2,2*Gn],[r,1,hy],[t,1,H_],[t,3,3*H_],[e,1,Dm]];function u(h,p,m){const y=p<h;y&&([h,p]=[p,h]);const v=m&&typeof m.range=="function"?m:d(h,p,m),j=v?v.range(h,+p+1):[];return y?j.reverse():j}function d(h,p,m){const y=Math.abs(p-h)/m,v=ey(([,,_])=>_).right(o,y);if(v===o.length)return e.every(Kg(h/Dm,p/Dm,m));if(v===0)return Ju.every(Math.max(Kg(h,p,m),1));const[j,w]=o[y/o[v-1][2]<o[v][2]/y?v-1:v];return j.every(w)}return[u,d]}const[UB,zB]=GP(Xn,xy,qd,HP,vy,my),[qB,WB]=GP(Yn,yy,zd,Nl,gy,py);function Mm(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Lm(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function $o(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function KB(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,u=e.months,d=e.shortMonths,h=Bo(a),p=Fo(a),m=Bo(i),y=Fo(i),v=Bo(o),j=Fo(o),w=Bo(u),_=Fo(u),N=Bo(d),A=Fo(d),E={a:re,A:G,b:ie,B:ae,c:null,d:Z_,e:Z_,f:pF,g:kF,G:NF,H:dF,I:fF,j:hF,L:YP,m:mF,M:gF,p:$,q:V,Q:rk,s:nk,S:vF,u:yF,U:xF,V:bF,w:wF,W:jF,x:null,X:null,y:_F,Y:SF,Z:EF,"%":tk},C={a:ye,A:Ee,b:je,B:Ce,c:null,d:ek,e:ek,f:CF,g:UF,G:qF,H:PF,I:OF,j:AF,L:JP,m:TF,M:RF,p:Le,q:Re,Q:rk,s:nk,S:IF,u:DF,U:MF,V:LF,w:$F,W:BF,x:null,X:null,y:FF,Y:zF,Z:WF,"%":tk},P={a:z,A:W,b:H,B:Z,c:se,d:J_,e:J_,f:oF,g:X_,G:Y_,H:Q_,I:Q_,j:nF,L:sF,m:rF,M:aF,p:M,q:tF,Q:cF,s:uF,S:iF,u:XB,U:JB,V:QB,w:YB,W:ZB,x:Y,X:le,y:X_,Y:Y_,Z:eF,"%":lF};E.x=S(r,E),E.X=S(n,E),E.c=S(t,E),C.x=S(r,C),C.X=S(n,C),C.c=S(t,C);function S(K,we){return function(Oe){var ee=[],xt=-1,$e=0,Ft=K.length,Ut,Hr,Vs;for(Oe instanceof Date||(Oe=new Date(+Oe));++xt<Ft;)K.charCodeAt(xt)===37&&(ee.push(K.slice($e,xt)),(Hr=G_[Ut=K.charAt(++xt)])!=null?Ut=K.charAt(++xt):Hr=Ut==="e"?" ":"0",(Vs=we[Ut])&&(Ut=Vs(Oe,Hr)),ee.push(Ut),$e=xt+1);return ee.push(K.slice($e,xt)),ee.join("")}}function T(K,we){return function(Oe){var ee=$o(1900,void 0,1),xt=I(ee,K,Oe+="",0),$e,Ft;if(xt!=Oe.length)return null;if("Q"in ee)return new Date(ee.Q);if("s"in ee)return new Date(ee.s*1e3+("L"in ee?ee.L:0));if(we&&!("Z"in ee)&&(ee.Z=0),"p"in ee&&(ee.H=ee.H%12+ee.p*12),ee.m===void 0&&(ee.m="q"in ee?ee.q:0),"V"in ee){if(ee.V<1||ee.V>53)return null;"w"in ee||(ee.w=1),"Z"in ee?($e=Lm($o(ee.y,0,1)),Ft=$e.getUTCDay(),$e=Ft>4||Ft===0?Zu.ceil($e):Zu($e),$e=Ud.offset($e,(ee.V-1)*7),ee.y=$e.getUTCFullYear(),ee.m=$e.getUTCMonth(),ee.d=$e.getUTCDate()+(ee.w+6)%7):($e=Mm($o(ee.y,0,1)),Ft=$e.getDay(),$e=Ft>4||Ft===0?Qu.ceil($e):Qu($e),$e=Nl.offset($e,(ee.V-1)*7),ee.y=$e.getFullYear(),ee.m=$e.getMonth(),ee.d=$e.getDate()+(ee.w+6)%7)}else("W"in ee||"U"in ee)&&("w"in ee||(ee.w="u"in ee?ee.u%7:"W"in ee?1:0),Ft="Z"in ee?Lm($o(ee.y,0,1)).getUTCDay():Mm($o(ee.y,0,1)).getDay(),ee.m=0,ee.d="W"in ee?(ee.w+6)%7+ee.W*7-(Ft+5)%7:ee.w+ee.U*7-(Ft+6)%7);return"Z"in ee?(ee.H+=ee.Z/100|0,ee.M+=ee.Z%100,Lm(ee)):Mm(ee)}}function I(K,we,Oe,ee){for(var xt=0,$e=we.length,Ft=Oe.length,Ut,Hr;xt<$e;){if(ee>=Ft)return-1;if(Ut=we.charCodeAt(xt++),Ut===37){if(Ut=we.charAt(xt++),Hr=P[Ut in G_?we.charAt(xt++):Ut],!Hr||(ee=Hr(K,Oe,ee))<0)return-1}else if(Ut!=Oe.charCodeAt(ee++))return-1}return ee}function M(K,we,Oe){var ee=h.exec(we.slice(Oe));return ee?(K.p=p.get(ee[0].toLowerCase()),Oe+ee[0].length):-1}function z(K,we,Oe){var ee=v.exec(we.slice(Oe));return ee?(K.w=j.get(ee[0].toLowerCase()),Oe+ee[0].length):-1}function W(K,we,Oe){var ee=m.exec(we.slice(Oe));return ee?(K.w=y.get(ee[0].toLowerCase()),Oe+ee[0].length):-1}function H(K,we,Oe){var ee=N.exec(we.slice(Oe));return ee?(K.m=A.get(ee[0].toLowerCase()),Oe+ee[0].length):-1}function Z(K,we,Oe){var ee=w.exec(we.slice(Oe));return ee?(K.m=_.get(ee[0].toLowerCase()),Oe+ee[0].length):-1}function se(K,we,Oe){return I(K,t,we,Oe)}function Y(K,we,Oe){return I(K,r,we,Oe)}function le(K,we,Oe){return I(K,n,we,Oe)}function re(K){return o[K.getDay()]}function G(K){return i[K.getDay()]}function ie(K){return d[K.getMonth()]}function ae(K){return u[K.getMonth()]}function $(K){return a[+(K.getHours()>=12)]}function V(K){return 1+~~(K.getMonth()/3)}function ye(K){return o[K.getUTCDay()]}function Ee(K){return i[K.getUTCDay()]}function je(K){return d[K.getUTCMonth()]}function Ce(K){return u[K.getUTCMonth()]}function Le(K){return a[+(K.getUTCHours()>=12)]}function Re(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var we=S(K+="",E);return we.toString=function(){return K},we},parse:function(K){var we=T(K+="",!1);return we.toString=function(){return K},we},utcFormat:function(K){var we=S(K+="",C);return we.toString=function(){return K},we},utcParse:function(K){var we=T(K+="",!0);return we.toString=function(){return K},we}}}var G_={"-":"",_:" ",0:"0"},It=/^\s*\d+/,VB=/^%/,HB=/[\\^$*+?|[\]().{}]/g;function Me(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function GB(e){return e.replace(HB,"\\$&")}function Bo(e){return new RegExp("^(?:"+e.map(GB).join("|")+")","i")}function Fo(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function YB(e,t,r){var n=It.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function XB(e,t,r){var n=It.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function JB(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function QB(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function ZB(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Y_(e,t,r){var n=It.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function X_(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function eF(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function tF(e,t,r){var n=It.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function rF(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function J_(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function nF(e,t,r){var n=It.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Q_(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function aF(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function iF(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function sF(e,t,r){var n=It.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function oF(e,t,r){var n=It.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function lF(e,t,r){var n=VB.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function cF(e,t,r){var n=It.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function uF(e,t,r){var n=It.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Z_(e,t){return Me(e.getDate(),t,2)}function dF(e,t){return Me(e.getHours(),t,2)}function fF(e,t){return Me(e.getHours()%12||12,t,2)}function hF(e,t){return Me(1+Nl.count(Yn(e),e),t,3)}function YP(e,t){return Me(e.getMilliseconds(),t,3)}function pF(e,t){return YP(e,t)+"000"}function mF(e,t){return Me(e.getMonth()+1,t,2)}function gF(e,t){return Me(e.getMinutes(),t,2)}function vF(e,t){return Me(e.getSeconds(),t,2)}function yF(e){var t=e.getDay();return t===0?7:t}function xF(e,t){return Me(zd.count(Yn(e)-1,e),t,2)}function XP(e){var t=e.getDay();return t>=4||t===0?_s(e):_s.ceil(e)}function bF(e,t){return e=XP(e),Me(_s.count(Yn(e),e)+(Yn(e).getDay()===4),t,2)}function wF(e){return e.getDay()}function jF(e,t){return Me(Qu.count(Yn(e)-1,e),t,2)}function _F(e,t){return Me(e.getFullYear()%100,t,2)}function kF(e,t){return e=XP(e),Me(e.getFullYear()%100,t,2)}function SF(e,t){return Me(e.getFullYear()%1e4,t,4)}function NF(e,t){var r=e.getDay();return e=r>=4||r===0?_s(e):_s.ceil(e),Me(e.getFullYear()%1e4,t,4)}function EF(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Me(t/60|0,"0",2)+Me(t%60,"0",2)}function ek(e,t){return Me(e.getUTCDate(),t,2)}function PF(e,t){return Me(e.getUTCHours(),t,2)}function OF(e,t){return Me(e.getUTCHours()%12||12,t,2)}function AF(e,t){return Me(1+Ud.count(Xn(e),e),t,3)}function JP(e,t){return Me(e.getUTCMilliseconds(),t,3)}function CF(e,t){return JP(e,t)+"000"}function TF(e,t){return Me(e.getUTCMonth()+1,t,2)}function RF(e,t){return Me(e.getUTCMinutes(),t,2)}function IF(e,t){return Me(e.getUTCSeconds(),t,2)}function DF(e){var t=e.getUTCDay();return t===0?7:t}function MF(e,t){return Me(qd.count(Xn(e)-1,e),t,2)}function QP(e){var t=e.getUTCDay();return t>=4||t===0?ks(e):ks.ceil(e)}function LF(e,t){return e=QP(e),Me(ks.count(Xn(e),e)+(Xn(e).getUTCDay()===4),t,2)}function $F(e){return e.getUTCDay()}function BF(e,t){return Me(Zu.count(Xn(e)-1,e),t,2)}function FF(e,t){return Me(e.getUTCFullYear()%100,t,2)}function UF(e,t){return e=QP(e),Me(e.getUTCFullYear()%100,t,2)}function zF(e,t){return Me(e.getUTCFullYear()%1e4,t,4)}function qF(e,t){var r=e.getUTCDay();return e=r>=4||r===0?ks(e):ks.ceil(e),Me(e.getUTCFullYear()%1e4,t,4)}function WF(){return"+0000"}function tk(){return"%"}function rk(e){return+e}function nk(e){return Math.floor(+e/1e3)}var ss,ZP,eO;KF({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function KF(e){return ss=KB(e),ZP=ss.format,ss.parse,eO=ss.utcFormat,ss.utcParse,ss}function VF(e){return new Date(e)}function HF(e){return e instanceof Date?+e:+new Date(+e)}function by(e,t,r,n,a,i,o,u,d,h){var p=sy(),m=p.invert,y=p.domain,v=h(".%L"),j=h(":%S"),w=h("%I:%M"),_=h("%I %p"),N=h("%a %d"),A=h("%b %d"),E=h("%B"),C=h("%Y");function P(S){return(d(S)<S?v:u(S)<S?j:o(S)<S?w:i(S)<S?_:n(S)<S?a(S)<S?N:A:r(S)<S?E:C)(S)}return p.invert=function(S){return new Date(m(S))},p.domain=function(S){return arguments.length?y(Array.from(S,HF)):y().map(VF)},p.ticks=function(S){var T=y();return e(T[0],T[T.length-1],S??10)},p.tickFormat=function(S,T){return T==null?P:h(T)},p.nice=function(S){var T=y();return(!S||typeof S.range!="function")&&(S=t(T[0],T[T.length-1],S??10)),S?y(FP(T,S)):p},p.copy=function(){return Sl(p,by(e,t,r,n,a,i,o,u,d,h))},p}function GF(){return Vr.apply(by(qB,WB,Yn,yy,zd,Nl,gy,py,ui,ZP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function YF(){return Vr.apply(by(UB,zB,Xn,xy,qd,Ud,vy,my,ui,eO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Wd(){var e=0,t=1,r,n,a,i,o=rr,u=!1,d;function h(m){return m==null||isNaN(m=+m)?d:o(a===0?.5:(m=(i(m)-r)*a,u?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([e,t]=m,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),h):[e,t]},h.clamp=function(m){return arguments.length?(u=!!m,h):u},h.interpolator=function(m){return arguments.length?(o=m,h):o};function p(m){return function(y){var v,j;return arguments.length?([v,j]=y,o=m(v,j),h):[o(0),o(1)]}}return h.range=p(Ds),h.rangeRound=p(iy),h.unknown=function(m){return arguments.length?(d=m,h):d},function(m){return i=m,r=m(e),n=m(t),a=r===n?0:1/(n-r),h}}function Ba(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function tO(){var e=$a(Wd()(rr));return e.copy=function(){return Ba(e,tO())},ea.apply(e,arguments)}function rO(){var e=cy(Wd()).domain([1,10]);return e.copy=function(){return Ba(e,rO()).base(e.base())},ea.apply(e,arguments)}function nO(){var e=uy(Wd());return e.copy=function(){return Ba(e,nO()).constant(e.constant())},ea.apply(e,arguments)}function wy(){var e=dy(Wd());return e.copy=function(){return Ba(e,wy()).exponent(e.exponent())},ea.apply(e,arguments)}function XF(){return wy.apply(null,arguments).exponent(.5)}function aO(){var e=[],t=rr;function r(n){if(n!=null&&!isNaN(n=+n))return t((_l(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ca),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>D5(e,i/n))},r.copy=function(){return aO(t).domain(e)},ea.apply(r,arguments)}function Kd(){var e=0,t=.5,r=1,n=1,a,i,o,u,d,h=rr,p,m=!1,y;function v(w){return isNaN(w=+w)?y:(w=.5+((w=+p(w))-i)*(n*w<n*i?u:d),h(m?Math.max(0,Math.min(1,w)):w))}v.domain=function(w){return arguments.length?([e,t,r]=w,a=p(e=+e),i=p(t=+t),o=p(r=+r),u=a===i?0:.5/(i-a),d=i===o?0:.5/(o-i),n=i<a?-1:1,v):[e,t,r]},v.clamp=function(w){return arguments.length?(m=!!w,v):m},v.interpolator=function(w){return arguments.length?(h=w,v):h};function j(w){return function(_){var N,A,E;return arguments.length?([N,A,E]=_,h=lB(w,[N,A,E]),v):[h(0),h(.5),h(1)]}}return v.range=j(Ds),v.rangeRound=j(iy),v.unknown=function(w){return arguments.length?(y=w,v):y},function(w){return p=w,a=w(e),i=w(t),o=w(r),u=a===i?0:.5/(i-a),d=i===o?0:.5/(o-i),n=i<a?-1:1,v}}function iO(){var e=$a(Kd()(rr));return e.copy=function(){return Ba(e,iO())},ea.apply(e,arguments)}function sO(){var e=cy(Kd()).domain([.1,1,10]);return e.copy=function(){return Ba(e,sO()).base(e.base())},ea.apply(e,arguments)}function oO(){var e=uy(Kd());return e.copy=function(){return Ba(e,oO()).constant(e.constant())},ea.apply(e,arguments)}function jy(){var e=dy(Kd());return e.copy=function(){return Ba(e,jy()).exponent(e.exponent())},ea.apply(e,arguments)}function JF(){return jy.apply(null,arguments).exponent(.5)}const Ko=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ry,scaleDiverging:iO,scaleDivergingLog:sO,scaleDivergingPow:jy,scaleDivergingSqrt:JF,scaleDivergingSymlog:oO,scaleIdentity:BP,scaleImplicit:Vg,scaleLinear:$P,scaleLog:UP,scaleOrdinal:ty,scalePoint:$5,scalePow:fy,scaleQuantile:WP,scaleQuantize:KP,scaleRadial:qP,scaleSequential:tO,scaleSequentialLog:rO,scaleSequentialPow:wy,scaleSequentialQuantile:aO,scaleSequentialSqrt:XF,scaleSequentialSymlog:nO,scaleSqrt:CB,scaleSymlog:zP,scaleThreshold:VP,scaleTime:GF,scaleUtc:YF,tickFormat:LP},Symbol.toStringTag,{value:"Module"}));var Fa=e=>e.chartData,_y=F([Fa],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),El=(e,t,r,n)=>n?_y(e):Fa(e);function wi(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(yt(t)&&yt(r))return!0}return!1}function ak(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function lO(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(yt(r))a=r;else if(typeof r=="function")return;if(yt(n))i=n;else if(typeof n=="function")return;var o=[a,i];if(wi(o))return o}}function QF(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(wi(n))return ak(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,u;if(a==="auto")t!=null&&(o=Math.min(...t));else if(fe(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t?.[0]))}catch{}else if(typeof a=="string"&&U1.test(a)){var d=U1.exec(a);if(d==null||t==null)o=void 0;else{var h=+d[1];o=t[0]-h}}else o=t?.[0];if(i==="auto")t!=null&&(u=Math.max(...t));else if(fe(i))u=i;else if(typeof i=="function")try{t!=null&&(u=i(t?.[1]))}catch{}else if(typeof i=="string"&&z1.test(i)){var p=z1.exec(i);if(p==null||t==null)u=void 0;else{var m=+p[1];u=t[1]+m}}else u=t?.[1];var y=[o,u];if(wi(y))return t==null?y:ak(y,t,r)}}}var Ms=1e9,ZF={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Sy,tt=!0,Kr="[DecimalError] ",mi=Kr+"Invalid argument: ",ky=Kr+"Exponent out of range: ",Ls=Math.floor,ii=Math.pow,eU=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Er,Tt=1e7,Xe=7,cO=9007199254740991,ed=Ls(cO/Xe),ue={};ue.absoluteValue=ue.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ue.comparedTo=ue.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};ue.decimalPlaces=ue.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Xe;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ue.dividedBy=ue.div=function(e){return qn(this,new this.constructor(e))};ue.dividedToIntegerBy=ue.idiv=function(e){var t=this,r=t.constructor;return We(qn(t,new r(e),0,1),r.precision)};ue.equals=ue.eq=function(e){return!this.cmp(e)};ue.exponent=function(){return vt(this)};ue.greaterThan=ue.gt=function(e){return this.cmp(e)>0};ue.greaterThanOrEqualTo=ue.gte=function(e){return this.cmp(e)>=0};ue.isInteger=ue.isint=function(){return this.e>this.d.length-2};ue.isNegative=ue.isneg=function(){return this.s<0};ue.isPositive=ue.ispos=function(){return this.s>0};ue.isZero=function(){return this.s===0};ue.lessThan=ue.lt=function(e){return this.cmp(e)<0};ue.lessThanOrEqualTo=ue.lte=function(e){return this.cmp(e)<1};ue.logarithm=ue.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Er))throw Error(Kr+"NaN");if(r.s<1)throw Error(Kr+(r.s?"NaN":"-Infinity"));return r.eq(Er)?new n(0):(tt=!1,t=qn(fl(r,i),fl(e,i),i),tt=!0,We(t,a))};ue.minus=ue.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?fO(t,e):uO(t,(e.s=-e.s,e))};ue.modulo=ue.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Kr+"NaN");return r.s?(tt=!1,t=qn(r,e,0,1).times(e),tt=!0,r.minus(t)):We(new n(r),a)};ue.naturalExponential=ue.exp=function(){return dO(this)};ue.naturalLogarithm=ue.ln=function(){return fl(this)};ue.negated=ue.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ue.plus=ue.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?uO(t,e):fO(t,(e.s=-e.s,e))};ue.precision=ue.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(mi+e);if(t=vt(a)+1,n=a.d.length-1,r=n*Xe+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ue.squareRoot=ue.sqrt=function(){var e,t,r,n,a,i,o,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Kr+"NaN")}for(e=vt(u),tt=!1,a=Math.sqrt(+u),a==0||a==1/0?(t=vn(u.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Ls((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(a.toString()),r=d.precision,a=o=r+3;;)if(i=n,n=i.plus(qn(u,i,o+2)).times(.5),vn(i.d).slice(0,o)===(t=vn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(We(i,r+1,0),i.times(i).eq(u)){n=i;break}}else if(t!="9999")break;o+=4}return tt=!0,We(n,r)};ue.times=ue.mul=function(e){var t,r,n,a,i,o,u,d,h,p=this,m=p.constructor,y=p.d,v=(e=new m(e)).d;if(!p.s||!e.s)return new m(0);for(e.s*=p.s,r=p.e+e.e,d=y.length,h=v.length,d<h&&(i=y,y=v,v=i,o=d,d=h,h=o),i=[],o=d+h,n=o;n--;)i.push(0);for(n=h;--n>=0;){for(t=0,a=d+n;a>n;)u=i[a]+v[n]*y[a-n-1]+t,i[a--]=u%Tt|0,t=u/Tt|0;i[a]=(i[a]+t)%Tt|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,tt?We(e,m.precision):e};ue.toDecimalPlaces=ue.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(jn(e,0,Ms),t===void 0?t=n.rounding:jn(t,0,8),We(r,e+vt(r)+1,t))};ue.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=ji(n,!0):(jn(e,0,Ms),t===void 0?t=a.rounding:jn(t,0,8),n=We(new a(n),e+1,t),r=ji(n,!0,e+1)),r};ue.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?ji(a):(jn(e,0,Ms),t===void 0?t=i.rounding:jn(t,0,8),n=We(new i(a),e+vt(a)+1,t),r=ji(n.abs(),!1,e+vt(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ue.toInteger=ue.toint=function(){var e=this,t=e.constructor;return We(new t(e),vt(e)+1,t.rounding)};ue.toNumber=function(){return+this};ue.toPower=ue.pow=function(e){var t,r,n,a,i,o,u=this,d=u.constructor,h=12,p=+(e=new d(e));if(!e.s)return new d(Er);if(u=new d(u),!u.s){if(e.s<1)throw Error(Kr+"Infinity");return u}if(u.eq(Er))return u;if(n=d.precision,e.eq(Er))return We(u,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=u.s,o){if((r=p<0?-p:p)<=cO){for(a=new d(Er),t=Math.ceil(n/Xe+4),tt=!1;r%2&&(a=a.times(u),sk(a.d,t)),r=Ls(r/2),r!==0;)u=u.times(u),sk(u.d,t);return tt=!0,e.s<0?new d(Er).div(a):We(a,n)}}else if(i<0)throw Error(Kr+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,tt=!1,a=e.times(fl(u,n+h)),tt=!0,a=dO(a),a.s=i,a};ue.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=vt(a),n=ji(a,r<=i.toExpNeg||r>=i.toExpPos)):(jn(e,1,Ms),t===void 0?t=i.rounding:jn(t,0,8),a=We(new i(a),e,t),r=vt(a),n=ji(a,e<=r||r<=i.toExpNeg,e)),n};ue.toSignificantDigits=ue.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(jn(e,1,Ms),t===void 0?t=n.rounding:jn(t,0,8)),We(new n(r),e,t)};ue.toString=ue.valueOf=ue.val=ue.toJSON=ue[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=vt(e),r=e.constructor;return ji(e,t<=r.toExpNeg||t>=r.toExpPos)};function uO(e,t){var r,n,a,i,o,u,d,h,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),tt?We(t,m):t;if(d=e.d,h=t.d,o=e.e,a=t.e,d=d.slice(),i=o-a,i){for(i<0?(n=d,i=-i,u=h.length):(n=h,a=o,u=d.length),o=Math.ceil(m/Xe),u=o>u?o+1:u+1,i>u&&(i=u,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(u=d.length,i=h.length,u-i<0&&(i=u,n=h,h=d,d=n),r=0;i;)r=(d[--i]=d[i]+h[i]+r)/Tt|0,d[i]%=Tt;for(r&&(d.unshift(r),++a),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=a,tt?We(t,m):t}function jn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(mi+e)}function vn(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Xe-n.length,r&&(i+=ka(r)),i+=n;o=e[t],n=o+"",r=Xe-n.length,r&&(i+=ka(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var qn=(function(){function e(n,a){var i,o=0,u=n.length;for(n=n.slice();u--;)i=n[u]*a+o,n[u]=i%Tt|0,o=i/Tt|0;return o&&n.unshift(o),n}function t(n,a,i,o){var u,d;if(i!=o)d=i>o?1:-1;else for(u=d=0;u<i;u++)if(n[u]!=a[u]){d=n[u]>a[u]?1:-1;break}return d}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*Tt+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var u,d,h,p,m,y,v,j,w,_,N,A,E,C,P,S,T,I,M=n.constructor,z=n.s==a.s?1:-1,W=n.d,H=a.d;if(!n.s)return new M(n);if(!a.s)throw Error(Kr+"Division by zero");for(d=n.e-a.e,T=H.length,P=W.length,v=new M(z),j=v.d=[],h=0;H[h]==(W[h]||0);)++h;if(H[h]>(W[h]||0)&&--d,i==null?A=i=M.precision:o?A=i+(vt(n)-vt(a))+1:A=i,A<0)return new M(0);if(A=A/Xe+2|0,h=0,T==1)for(p=0,H=H[0],A++;(h<P||p)&&A--;h++)E=p*Tt+(W[h]||0),j[h]=E/H|0,p=E%H|0;else{for(p=Tt/(H[0]+1)|0,p>1&&(H=e(H,p),W=e(W,p),T=H.length,P=W.length),C=T,w=W.slice(0,T),_=w.length;_<T;)w[_++]=0;I=H.slice(),I.unshift(0),S=H[0],H[1]>=Tt/2&&++S;do p=0,u=t(H,w,T,_),u<0?(N=w[0],T!=_&&(N=N*Tt+(w[1]||0)),p=N/S|0,p>1?(p>=Tt&&(p=Tt-1),m=e(H,p),y=m.length,_=w.length,u=t(m,w,y,_),u==1&&(p--,r(m,T<y?I:H,y))):(p==0&&(u=p=1),m=H.slice()),y=m.length,y<_&&m.unshift(0),r(w,m,_),u==-1&&(_=w.length,u=t(H,w,T,_),u<1&&(p++,r(w,T<_?I:H,_))),_=w.length):u===0&&(p++,w=[0]),j[h++]=p,u&&w[0]?w[_++]=W[C]||0:(w=[W[C]],_=1);while((C++<P||w[0]!==void 0)&&A--)}return j[0]||j.shift(),v.e=d,We(v,o?i+vt(v)+1:i)}})();function dO(e,t){var r,n,a,i,o,u,d=0,h=0,p=e.constructor,m=p.precision;if(vt(e)>16)throw Error(ky+vt(e));if(!e.s)return new p(Er);for(tt=!1,u=m,o=new p(.03125);e.abs().gte(.1);)e=e.times(o),h+=5;for(n=Math.log(ii(2,h))/Math.LN10*2+5|0,u+=n,r=a=i=new p(Er),p.precision=u;;){if(a=We(a.times(e),u),r=r.times(++d),o=i.plus(qn(a,r,u)),vn(o.d).slice(0,u)===vn(i.d).slice(0,u)){for(;h--;)i=We(i.times(i),u);return p.precision=m,t==null?(tt=!0,We(i,m)):i}i=o}}function vt(e){for(var t=e.e*Xe,r=e.d[0];r>=10;r/=10)t++;return t}function $m(e,t,r){if(t>e.LN10.sd())throw tt=!0,r&&(e.precision=r),Error(Kr+"LN10 precision limit exceeded");return We(new e(e.LN10),t)}function ka(e){for(var t="";e--;)t+="0";return t}function fl(e,t){var r,n,a,i,o,u,d,h,p,m=1,y=10,v=e,j=v.d,w=v.constructor,_=w.precision;if(v.s<1)throw Error(Kr+(v.s?"NaN":"-Infinity"));if(v.eq(Er))return new w(0);if(t==null?(tt=!1,h=_):h=t,v.eq(10))return t==null&&(tt=!0),$m(w,h);if(h+=y,w.precision=h,r=vn(j),n=r.charAt(0),i=vt(v),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(e),r=vn(v.d),n=r.charAt(0),m++;i=vt(v),n>1?(v=new w("0."+r),i++):v=new w(n+"."+r.slice(1))}else return d=$m(w,h+2,_).times(i+""),v=fl(new w(n+"."+r.slice(1)),h-y).plus(d),w.precision=_,t==null?(tt=!0,We(v,_)):v;for(u=o=v=qn(v.minus(Er),v.plus(Er),h),p=We(v.times(v),h),a=3;;){if(o=We(o.times(p),h),d=u.plus(qn(o,new w(a),h)),vn(d.d).slice(0,h)===vn(u.d).slice(0,h))return u=u.times(2),i!==0&&(u=u.plus($m(w,h+2,_).times(i+""))),u=qn(u,new w(m),h),w.precision=_,t==null?(tt=!0,We(u,_)):u;u=d,a+=2}}function ik(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Ls(r/Xe),e.d=[],n=(r+1)%Xe,r<0&&(n+=Xe),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Xe;n<a;)e.d.push(+t.slice(n,n+=Xe));t=t.slice(n),n=Xe-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),tt&&(e.e>ed||e.e<-ed))throw Error(ky+r)}else e.s=0,e.e=0,e.d=[0];return e}function We(e,t,r){var n,a,i,o,u,d,h,p,m=e.d;for(o=1,i=m[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Xe,a=t,h=m[p=0];else{if(p=Math.ceil((n+1)/Xe),i=m.length,p>=i)return e;for(h=i=m[p],o=1;i>=10;i/=10)o++;n%=Xe,a=n-Xe+o}if(r!==void 0&&(i=ii(10,o-a-1),u=h/i%10|0,d=t<0||m[p+1]!==void 0||h%i,d=r<4?(u||d)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?a>0?h/ii(10,o-a):0:m[p-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return d?(i=vt(e),m.length=1,t=t-i-1,m[0]=ii(10,(Xe-t%Xe)%Xe),e.e=Ls(-t/Xe)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=p,i=1,p--):(m.length=p+1,i=ii(10,Xe-n),m[p]=a>0?(h/ii(10,o-a)%ii(10,a)|0)*i:0),d)for(;;)if(p==0){(m[0]+=i)==Tt&&(m[0]=1,++e.e);break}else{if(m[p]+=i,m[p]!=Tt)break;m[p--]=0,i=1}for(n=m.length;m[--n]===0;)m.pop();if(tt&&(e.e>ed||e.e<-ed))throw Error(ky+vt(e));return e}function fO(e,t){var r,n,a,i,o,u,d,h,p,m,y=e.constructor,v=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),tt?We(t,v):t;if(d=e.d,m=t.d,n=t.e,h=e.e,d=d.slice(),o=h-n,o){for(p=o<0,p?(r=d,o=-o,u=m.length):(r=m,n=h,u=d.length),a=Math.max(Math.ceil(v/Xe),u)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=d.length,u=m.length,p=a<u,p&&(u=a),a=0;a<u;a++)if(d[a]!=m[a]){p=d[a]<m[a];break}o=0}for(p&&(r=d,d=m,m=r,t.s=-t.s),u=d.length,a=m.length-u;a>0;--a)d[u++]=0;for(a=m.length;a>o;){if(d[--a]<m[a]){for(i=a;i&&d[--i]===0;)d[i]=Tt-1;--d[i],d[a]+=Tt}d[a]-=m[a]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,tt?We(t,v):t):new y(0)}function ji(e,t,r){var n,a=vt(e),i=vn(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+ka(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+ka(-a-1)+i,r&&(n=r-o)>0&&(i+=ka(n))):a>=o?(i+=ka(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+ka(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=ka(n))),e.s<0?"-"+i:i}function sk(e,t){if(e.length>t)return e.length=t,!0}function hO(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(mi+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return ik(o,i.toString())}else if(typeof i!="string")throw Error(mi+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,eU.test(i))ik(o,i);else throw Error(mi+i)}if(a.prototype=ue,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=hO,a.config=a.set=tU,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function tU(e){if(!e||typeof e!="object")throw Error(Kr+"Object expected");var t,r,n,a=["precision",1,Ms,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Ls(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(mi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(mi+r+": "+n);return this}var Sy=hO(ZF);Er=new Sy(1);const Fe=Sy;var rU=e=>e,pO={},mO=e=>e===pO,ok=e=>function t(){return arguments.length===0||arguments.length===1&&mO(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},gO=(e,t)=>e===1?t:ok(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(o=>o!==pO).length;return i>=e?t(...n):gO(e-i,ok(function(){for(var o=arguments.length,u=new Array(o),d=0;d<o;d++)u[d]=arguments[d];var h=n.map(p=>mO(p)?u.shift():p);return t(...h,...u)}))}),Vd=e=>gO(e.length,e),Xg=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},nU=Vd((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),aU=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return rU;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce((u,d)=>d(u),i(...arguments))}},Jg=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),vO=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every((o,u)=>{var d;return o===((d=t)===null||d===void 0?void 0:d[u])})||(t=a,r=e(...a)),r}};function yO(e){var t;return e===0?t=1:t=Math.floor(new Fe(e).abs().log(10).toNumber())+1,t}function xO(e,t,r){for(var n=new Fe(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}Vd((e,t,r)=>{var n=+e,a=+t;return n+r*(a-n)});Vd((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});Vd((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var bO=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},wO=(e,t,r)=>{if(e.lte(0))return new Fe(0);var n=yO(e.toNumber()),a=new Fe(10).pow(n),i=e.div(a),o=n!==1?.05:.1,u=new Fe(Math.ceil(i.div(o).toNumber())).add(r).mul(o),d=u.mul(a);return t?new Fe(d.toNumber()):new Fe(Math.ceil(d.toNumber()))},iU=(e,t,r)=>{var n=new Fe(1),a=new Fe(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Fe(10).pow(yO(e)-1),a=new Fe(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Fe(Math.floor(e)))}else e===0?a=new Fe(Math.floor((t-1)/2)):r||(a=new Fe(Math.floor(e)));var o=Math.floor((t-1)/2),u=aU(nU(d=>a.add(new Fe(d-o).mul(n)).toNumber()),Xg);return u(0,t)},jO=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Fe(0),tickMin:new Fe(0),tickMax:new Fe(0)};var o=wO(new Fe(r).sub(t).div(n-1),a,i),u;t<=0&&r>=0?u=new Fe(0):(u=new Fe(t).add(r).div(2),u=u.sub(new Fe(u).mod(o)));var d=Math.ceil(u.sub(t).div(o).toNumber()),h=Math.ceil(new Fe(r).sub(u).div(o).toNumber()),p=d+h+1;return p>n?jO(t,r,n,a,i+1):(p<n&&(h=r>0?h+(n-p):h,d=r>0?d:d+(n-p)),{step:o,tickMin:u.sub(new Fe(d).mul(o)),tickMax:u.add(new Fe(h).mul(o))})};function sU(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[o,u]=bO([t,r]);if(o===-1/0||u===1/0){var d=u===1/0?[o,...Xg(0,n-1).map(()=>1/0)]:[...Xg(0,n-1).map(()=>-1/0),u];return t>r?Jg(d):d}if(o===u)return iU(o,n,a);var{step:h,tickMin:p,tickMax:m}=jO(o,u,i,a,0),y=xO(p,m.add(new Fe(.1).mul(h)),h);return t>r?Jg(y):y}function oU(e,t){var[r,n]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=bO([r,n]);if(i===-1/0||o===1/0)return[r,n];if(i===o)return[i];var u=Math.max(t,2),d=wO(new Fe(o).sub(i).div(u-1),a,0),h=[...xO(new Fe(i),new Fe(o),d),o];return a===!1&&(h=h.map(p=>Math.round(p))),r>n?Jg(h):h}var lU=vO(sU),cU=vO(oU),_O=e=>e.rootProps.maxBarSize,uU=e=>e.rootProps.barGap,kO=e=>e.rootProps.barCategoryGap,dU=e=>e.rootProps.barSize,Pl=e=>e.rootProps.stackOffset,Ny=e=>e.options.chartName,Ey=e=>e.rootProps.syncId,SO=e=>e.rootProps.syncMethod,Py=e=>e.options.eventEmitter,Ln={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},_r={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Hd=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},fU={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ln.angleAxisId,includeHidden:!1,name:void 0,reversed:Ln.reversed,scale:Ln.scale,tick:Ln.tick,tickCount:void 0,ticks:void 0,type:Ln.type,unit:void 0},hU={allowDataOverflow:_r.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:_r.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:_r.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:_r.scale,tick:_r.tick,tickCount:_r.tickCount,ticks:void 0,type:_r.type,unit:void 0},pU={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ln.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ln.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ln.scale,tick:Ln.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},mU={allowDataOverflow:_r.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:_r.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:_r.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:_r.scale,tick:_r.tick,tickCount:_r.tickCount,ticks:void 0,type:"category",unit:void 0},Oy=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?pU:fU,Ay=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?mU:hU,Gd=e=>e.polarOptions,Cy=F([Jn,Qn,kt],nP),NO=F([Gd,Cy],(e,t)=>{if(e!=null)return Xt(e.innerRadius,t,0)}),EO=F([Gd,Cy],(e,t)=>{if(e!=null)return Xt(e.outerRadius,t,t*.8)}),gU=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},PO=F([Gd],gU);F([Oy,PO],Hd);var OO=F([Cy,NO,EO],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});F([Ay,OO],Hd);var AO=F([Ae,Gd,NO,EO,Jn,Qn],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:u,startAngle:d,endAngle:h}=t;return{cx:Xt(o,a,a/2),cy:Xt(u,i,i/2),innerRadius:r,outerRadius:n,startAngle:d,endAngle:h,clockWise:!1}}}),nt=(e,t)=>t,Ol=(e,t,r)=>r;function Yd(e){return e?.id}var Et=e=>{var t=Ae(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},$s=e=>e.tooltip.settings.axisId,Pt=e=>{var t=Et(e),r=$s(e);return Al(e,t,r)},CO=F([Pt],e=>e?.dataKey);function TO(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,o=new Map;return e.forEach(u=>{var d,h=(d=u.data)!==null&&d!==void 0?d:n;if(!(h==null||h.length===0)){var p=Yd(u);h.forEach((m,y)=>{var v=i==null||a?y:String(qe(m,i,null)),j=qe(m,u.dataKey,0),w;o.has(v)?w=o.get(v):w={},Object.assign(w,{[p]:j}),o.set(v,w)})}}),Array.from(o.values())}function Xd(e){return e.stackId!=null&&e.dataKey!=null}var Jd=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Qd(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function lk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function td(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lk(Object(r),!0).forEach(function(n){vU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vU(e,t,r){return(t=yU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yU(e){var t=xU(e,"string");return typeof t=="symbol"?t:t+""}function xU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qg=[0,"auto"],wr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},RO=(e,t)=>e.cartesianAxis.xAxis[t],ta=(e,t)=>{var r=RO(e,t);return r??wr},jr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Qg,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:wl},IO=(e,t)=>e.cartesianAxis.yAxis[t],ra=(e,t)=>{var r=IO(e,t);return r??jr},bU={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Ty=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??bU},ot=(e,t,r)=>{switch(t){case"xAxis":return ta(e,r);case"yAxis":return ra(e,r);case"zAxis":return Ty(e,r);case"angleAxis":return Oy(e,r);case"radiusAxis":return Ay(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},wU=(e,t,r)=>{switch(t){case"xAxis":return ta(e,r);case"yAxis":return ra(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Al=(e,t,r)=>{switch(t){case"xAxis":return ta(e,r);case"yAxis":return ra(e,r);case"angleAxis":return Oy(e,r);case"radiusAxis":return Ay(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},DO=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Ry(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Cl=e=>e.graphicalItems.cartesianItems,jU=F([nt,Ol],Ry),Iy=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),Tl=F([Cl,ot,jU],Iy,{memoizeOptions:{resultEqualityCheck:Qd}}),MO=F([Tl],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Xd)),LO=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),_U=F([Tl],LO),Dy=e=>e.map(t=>t.data).filter(Boolean).flat(1),kU=F([Tl],Dy,{memoizeOptions:{resultEqualityCheck:Qd}}),My=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},Ly=F([kU,El],My),$y=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:qe(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:qe(a,n)}))):e.map(n=>({value:n})),Zd=F([Ly,ot,Tl],$y);function $O(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function yu(e){if(wn(e)||e instanceof Date){var t=Number(e);if(yt(t))return t}}function ck(e){if(Array.isArray(e)){var t=[yu(e[0]),yu(e[1])];return wi(t)?t:void 0}var r=yu(e);if(r!=null)return[r,r]}function Bs(e){return e.map(yu).filter(U6)}function SU(e,t,r){return!r||typeof t!="number"||Or(t)?[]:r.length?Bs(r.flatMap(n=>{var a=qe(e,n.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!yt(i)||!yt(o)))return[t-i,t+o]})):[]}var NU=F([MO,El,Pt],TO),BO=(e,t,r)=>{var n={},a=t.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),n);return Object.fromEntries(Object.entries(a).map(i=>{var[o,u]=i,d=u.map(Yd);return[o,{stackedData:d$(e,d,r),graphicalItems:u}]}))},hl=F([NU,MO,Pl],BO),FO=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var o=m$(e,a,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},EU=F([ot],e=>e.allowDataOverflow),By=e=>{var t;if(e==null||!("domain"in e))return Qg;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Bs(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:Qg},Fy=F([ot],By),Uy=F([Fy,EU],lO),PU=F([hl,Fa,nt,Uy],FO,{memoizeOptions:{resultEqualityCheck:Jd}}),ef=e=>e.errorBars,OU=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>$O(r,n)),rd=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),o=Math.min(...i),u=Math.max(...i);return[o,u]}},zy=(e,t,r,n,a)=>{var i,o;if(r.length>0&&e.forEach(u=>{r.forEach(d=>{var h,p,m=(h=n[d.id])===null||h===void 0?void 0:h.filter(N=>$O(a,N)),y=qe(u,(p=t.dataKey)!==null&&p!==void 0?p:d.dataKey),v=SU(u,y,m);if(v.length>=2){var j=Math.min(...v),w=Math.max(...v);(i==null||j<i)&&(i=j),(o==null||w>o)&&(o=w)}var _=ck(y);_!=null&&(i=i==null?_[0]:Math.min(i,_[0]),o=o==null?_[1]:Math.max(o,_[1]))})}),t?.dataKey!=null&&e.forEach(u=>{var d=ck(qe(u,t.dataKey));d!=null&&(i=i==null?d[0]:Math.min(i,d[0]),o=o==null?d[1]:Math.max(o,d[1]))}),yt(i)&&yt(o))return[i,o]},AU=F([Ly,ot,_U,ef,nt],zy,{memoizeOptions:{resultEqualityCheck:Jd}});function CU(e){var{value:t}=e;if(wn(t)||t instanceof Date)return t}var TU=(e,t,r)=>{var n=e.map(CU).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&hE(n))?EP(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},UO=e=>e.referenceElements.dots,Fs=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),RU=F([UO,nt,Ol],Fs),zO=e=>e.referenceElements.areas,IU=F([zO,nt,Ol],Fs),qO=e=>e.referenceElements.lines,DU=F([qO,nt,Ol],Fs),WO=(e,t)=>{var r=Bs(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},MU=F(RU,nt,WO),KO=(e,t)=>{var r=Bs(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},LU=F([IU,nt],KO),VO=(e,t)=>{var r=Bs(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},$U=F(DU,nt,VO),BU=F(MU,$U,LU,(e,t,r)=>rd(e,r,t)),qy=(e,t,r,n,a,i,o,u)=>{if(r!=null)return r;var d=o==="vertical"&&u==="xAxis"||o==="horizontal"&&u==="yAxis",h=d?rd(n,i,a):rd(i,a);return QF(t,h,e.allowDataOverflow)},FU=F([ot,Fy,Uy,PU,AU,BU,Ae,nt],qy,{memoizeOptions:{resultEqualityCheck:Jd}}),UU=[0,1],Wy=(e,t,r,n,a,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:u,type:d}=e,h=En(t,i);return h&&u==null?EP(0,r.length):d==="category"?TU(n,e,h):a==="expand"?UU:o}},Ky=F([ot,Ae,Ly,Zd,Pl,nt,FU],Wy),HO=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var u="scale".concat(vl(i));return u in Ko?u:"point"}}},Us=F([ot,Ae,DO,Ny,nt],HO);function zU(e){if(e!=null){if(e in Ko)return Ko[e]();var t="scale".concat(vl(e));if(t in Ko)return Ko[t]()}}function Vy(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=zU(t);if(a!=null){var i=a.domain(r).range(n);return s$(i),i}}}var Hy=(e,t,r)=>{var n=By(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&wi(e))return lU(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&wi(e))return cU(e,t.tickCount,t.allowDecimals)}},Gy=F([Ky,Al,Us],Hy),Yy=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&wi(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],o=t[1],u=r[r.length-1];return[Math.min(a,i),Math.max(o,u)]}return t},qU=F([ot,Ky,Gy,nt],Yy),WU=F(Zd,ot,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Bs(e.map(u=>u.value))).sort((u,d)=>u-d);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var o=n[i+1]-n[i];r=Math.min(r,o)}return r/a}}),GO=F(WU,Ae,kO,kt,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!yt(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=Xt(r,e*i),u=e*i/2;return u-o-(u-o)/i*o}return 0}),KU=(e,t)=>{var r=ta(e,t);return r==null||typeof r.padding!="string"?0:GO(e,"xAxis",t,r.padding)},VU=(e,t)=>{var r=ra(e,t);return r==null||typeof r.padding!="string"?0:GO(e,"yAxis",t,r.padding)},HU=F(ta,KU,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),GU=F(ra,VU,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),YU=F([kt,HU,Md,Dd,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),XU=F([kt,Ae,GU,Md,Dd,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:o}=a;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Rl=(e,t,r,n)=>{var a;switch(t){case"xAxis":return YU(e,r,n);case"yAxis":return XU(e,r,n);case"zAxis":return(a=Ty(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return PO(e);case"radiusAxis":return OO(e,r);default:return}},YO=F([ot,Rl],Hd),zs=F([ot,Us,qU,YO],Vy);F([Tl,ef,nt],OU);function XO(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var tf=(e,t)=>t,rf=(e,t,r)=>r,JU=F(Rd,tf,rf,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(XO)),QU=F(Id,tf,rf,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(XO)),JO=(e,t)=>({width:e.width,height:t.height}),ZU=(e,t)=>{var r=typeof t.width=="number"?t.width:wl;return{width:r,height:e.height}},QO=F(kt,ta,JO),e8=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},t8=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},r8=F(Qn,kt,JU,tf,rf,(e,t,r,n,a)=>{var i={},o;return r.forEach(u=>{var d=JO(t,u);o==null&&(o=e8(t,n,e));var h=n==="top"&&!a||n==="bottom"&&a;i[u.id]=o-Number(h)*d.height,o+=(h?-1:1)*d.height}),i}),n8=F(Jn,kt,QU,tf,rf,(e,t,r,n,a)=>{var i={},o;return r.forEach(u=>{var d=ZU(t,u);o==null&&(o=t8(t,n,e));var h=n==="left"&&!a||n==="right"&&a;i[u.id]=o-Number(h)*d.width,o+=(h?-1:1)*d.width}),i}),a8=(e,t)=>{var r=ta(e,t);if(r!=null)return r8(e,r.orientation,r.mirror)},i8=F([kt,ta,a8,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),s8=(e,t)=>{var r=ra(e,t);if(r!=null)return n8(e,r.orientation,r.mirror)},o8=F([kt,ra,s8,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),ZO=F(kt,ra,(e,t)=>{var r=typeof t.width=="number"?t.width:wl;return{width:r,height:e.height}}),uk=(e,t,r)=>{switch(t){case"xAxis":return QO(e,r).width;case"yAxis":return ZO(e,r).height;default:return}},eA=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=r,u=En(e,n),d=t.map(h=>h.value);if(o&&u&&i==="category"&&a&&hE(d))return d}},Xy=F([Ae,Zd,ot,nt],eA),tA=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,o=En(e,n);if(o&&(a==="number"||i!=="auto"))return t.map(u=>u.value)}},Jy=F([Ae,Zd,Al,nt],tA),dk=F([Ae,wU,Us,zs,Xy,Jy,Rl,Gy,nt],(e,t,r,n,a,i,o,u,d)=>{if(t==null)return null;var h=En(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:i,duplicateDomain:a,isCategorical:h,niceTicks:u,range:o,realScaleType:r,scale:n}}),l8=(e,t,r,n,a,i,o,u,d)=>{if(!(t==null||n==null)){var h=En(e,d),{type:p,ticks:m,tickCount:y}=t,v=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,j=p==="category"&&n.bandwidth?n.bandwidth()/v:0;j=d==="angleAxis"&&i!=null&&i.length>=2?Rt(i[0]-i[1])*2*j:j;var w=m||a;if(w){var _=w.map((N,A)=>{var E=o?o.indexOf(N):N;return{index:A,coordinate:n(E)+j,value:N,offset:j}});return _.filter(N=>!Or(N.coordinate))}return h&&u?u.map((N,A)=>({coordinate:n(N)+j,value:N,index:A,offset:j})):n.ticks?n.ticks(y).map(N=>({coordinate:n(N)+j,value:N,offset:j})):n.domain().map((N,A)=>({coordinate:n(N)+j,value:o?o[N]:N,index:A,offset:j}))}},rA=F([Ae,Al,Us,zs,Gy,Rl,Xy,Jy,nt],l8),c8=(e,t,r,n,a,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var u=En(e,o),{tickCount:d}=t,h=0;return h=o==="angleAxis"&&n?.length>=2?Rt(n[0]-n[1])*2*h:h,u&&i?i.map((p,m)=>({coordinate:r(p)+h,value:p,index:m,offset:h})):r.ticks?r.ticks(d).map(p=>({coordinate:r(p)+h,value:p,offset:h})):r.domain().map((p,m)=>({coordinate:r(p)+h,value:a?a[p]:p,index:m,offset:h}))}},_n=F([Ae,Al,zs,Rl,Xy,Jy,nt],c8),kn=F(ot,zs,(e,t)=>{if(!(e==null||t==null))return td(td({},e),{},{scale:t})}),u8=F([ot,Us,Ky,YO],Vy);F((e,t,r)=>Ty(e,r),u8,(e,t)=>{if(!(e==null||t==null))return td(td({},e),{},{scale:t})});var d8=F([Ae,Rd,Id],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),nA=e=>e.options.defaultTooltipEventType,aA=e=>e.options.validateTooltipEventTypes;function iA(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Qy(e,t){var r=nA(e),n=aA(e);return iA(t,r,n)}function f8(e){return he(t=>Qy(t,e))}var sA=(e,t)=>{var r,n=Number(t);if(!(Or(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},h8=e=>e.tooltip.settings,Ea={active:!1,index:null,dataKey:void 0,coordinate:void 0},p8={itemInteraction:{click:Ea,hover:Ea},axisInteraction:{click:Ea,hover:Ea},keyboardInteraction:Ea,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},oA=Cr({name:"tooltip",initialState:p8,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:er()},removeTooltipEntrySettings:{reducer(e,t){var r=zn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:er()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:m8,removeTooltipEntrySettings:g8,setTooltipSettingsState:v8,setActiveMouseOverItemIndex:lA,mouseLeaveItem:y8,mouseLeaveChart:cA,setActiveClickItemIndex:x8,setMouseOverAxisIndex:uA,setMouseClickAxisIndex:b8,setSyncInteraction:Zg,setKeyboardInteraction:ev}=oA.actions,w8=oA.reducer;function fk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fk(Object(r),!0).forEach(function(n){j8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j8(e,t,r){return(t=_8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _8(e){var t=k8(e,"string");return typeof t=="symbol"?t:t+""}function k8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S8(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function N8(e){return e.index!=null}var dA=(e,t,r,n)=>{if(t==null)return Ea;var a=S8(e,t,r);if(a==null)return Ea;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(N8(a)){if(i)return pu(pu({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return pu(pu({},Ea),{},{coordinate:a.coordinate})},Zy=(e,t)=>{var r=e?.index;if(r==null)return null;var n=Number(r);if(!yt(n))return r;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(n,i)))},fA=(e,t,r,n,a,i,o,u)=>{if(!(i==null||u==null)){var d=o[0],h=d==null?void 0:u(d.positions,i);if(h!=null)return h;var p=a?.[Number(i)];if(p)switch(r){case"horizontal":return{x:p.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:p.coordinate}}}},hA=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===a})},Il=e=>e.options.tooltipPayloadSearcher,qs=e=>e.tooltip;function hk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hk(Object(r),!0).forEach(function(n){E8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E8(e,t,r){return(t=P8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P8(e){var t=O8(e,"string");return typeof t=="symbol"?t:t+""}function O8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A8(e,t){return e??t}var pA=(e,t,r,n,a,i,o)=>{if(!(t==null||i==null)){var{chartData:u,computedData:d,dataStartIndex:h,dataEndIndex:p}=r,m=[];return e.reduce((y,v)=>{var j,{dataDefinedOnItem:w,settings:_}=v,N=A8(w,u),A=Array.isArray(N)?aP(N,h,p):N,E=(j=_?.dataKey)!==null&&j!==void 0?j:n,C=_?.nameKey,P;if(n&&Array.isArray(A)&&!Array.isArray(A[0])&&o==="axis"?P=pE(A,n,a):P=i(A,t,d,C),Array.isArray(P))P.forEach(T=>{var I=pk(pk({},_),{},{name:T.name,unit:T.unit,color:void 0,fill:void 0});y.push(q1({tooltipEntrySettings:I,dataKey:T.dataKey,payload:T.payload,value:qe(T.payload,T.dataKey),name:T.name}))});else{var S;y.push(q1({tooltipEntrySettings:_,dataKey:E,payload:P,value:qe(P,E),name:(S=qe(P,C))!==null&&S!==void 0?S:_?.name}))}return y},m)}},e0=F([Pt,Ae,DO,Ny,Et],HO),C8=F([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),T8=F([Et,$s],Ry),Dl=F([C8,Pt,T8],Iy,{memoizeOptions:{resultEqualityCheck:Qd}}),R8=F([Dl],e=>e.filter(Xd)),I8=F([Dl],Dy,{memoizeOptions:{resultEqualityCheck:Qd}}),Ws=F([I8,Fa],My),D8=F([R8,Fa,Pt],TO),t0=F([Ws,Pt,Dl],$y),mA=F([Pt],By),M8=F([Pt],e=>e.allowDataOverflow),gA=F([mA,M8],lO),L8=F([Dl],e=>e.filter(Xd)),$8=F([D8,L8,Pl],BO),B8=F([$8,Fa,Et,gA],FO),F8=F([Dl],LO),U8=F([Ws,Pt,F8,ef,Et],zy,{memoizeOptions:{resultEqualityCheck:Jd}}),z8=F([UO,Et,$s],Fs),q8=F([z8,Et],WO),W8=F([zO,Et,$s],Fs),K8=F([W8,Et],KO),V8=F([qO,Et,$s],Fs),H8=F([V8,Et],VO),G8=F([q8,H8,K8],rd),Y8=F([Pt,mA,gA,B8,U8,G8,Ae,Et],qy),vA=F([Pt,Ae,Ws,t0,Pl,Et,Y8],Wy),X8=F([vA,Pt,e0],Hy),J8=F([Pt,vA,X8,Et],Yy),yA=e=>{var t=Et(e),r=$s(e),n=!1;return Rl(e,t,r,n)},xA=F([Pt,yA],Hd),bA=F([Pt,e0,J8,xA],Vy),Q8=F([Ae,t0,Pt,Et],eA),Z8=F([Ae,t0,Pt,Et],tA),ez=(e,t,r,n,a,i,o,u)=>{if(t){var{type:d}=t,h=En(e,u);if(n){var p=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,m=d==="category"&&n.bandwidth?n.bandwidth()/p:0;return m=u==="angleAxis"&&a!=null&&a?.length>=2?Rt(a[0]-a[1])*2*m:m,h&&o?o.map((y,v)=>({coordinate:n(y)+m,value:y,index:v,offset:m})):n.domain().map((y,v)=>({coordinate:n(y)+m,value:i?i[y]:y,index:v,offset:m}))}}},na=F([Ae,Pt,e0,bA,yA,Q8,Z8,Et],ez),r0=F([nA,aA,h8],(e,t,r)=>iA(r.shared,e,t)),wA=e=>e.tooltip.settings.trigger,n0=e=>e.tooltip.settings.defaultIndex,nf=F([qs,r0,wA,n0],dA),Ta=F([nf,Ws],Zy),jA=F([na,Ta],sA),_A=F([nf],e=>{if(e)return e.dataKey}),kA=F([qs,r0,wA,n0],hA),tz=F([Jn,Qn,Ae,kt,na,n0,kA,Il],fA),rz=F([nf,tz],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),nz=F([nf],e=>e.active),az=F([kA,Ta,Fa,CO,jA,Il,r0],pA),iz=F([az],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function mk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mk(Object(r),!0).forEach(function(n){sz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sz(e,t,r){return(t=oz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oz(e){var t=lz(e,"string");return typeof t=="symbol"?t:t+""}function lz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cz=()=>he(Pt),uz=()=>{var e=cz(),t=he(na),r=he(bA);return bi(gk(gk({},e),{},{scale:r}),t)},SA=()=>he(Ny),a0=(e,t)=>t,NA=(e,t,r)=>r,i0=(e,t,r,n)=>n,dz=F(na,e=>Ed(e,t=>t.coordinate)),s0=F([qs,a0,NA,i0],dA),EA=F([s0,Ws],Zy),fz=(e,t,r)=>{if(t!=null){var n=qs(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},PA=F([qs,a0,NA,i0],hA),nd=F([Jn,Qn,Ae,kt,na,i0,PA,Il],fA),hz=F([s0,nd],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),OA=F(na,EA,sA),pz=F([PA,EA,Fa,CO,OA,Il,a0],pA),mz=F([s0],e=>({isActive:e.active,activeIndex:e.index})),gz=(e,t,r,n,a,i,o,u)=>{if(!(!e||!t||!n||!a||!i)){var d=g$(e.chartX,e.chartY,t,r,u);if(d){var h=y$(d,t),p=a$(h,o,i,n,a),m=v$(t,i,p,d);return{activeIndex:String(p),activeCoordinate:m}}}};function tv(){return tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tv.apply(null,arguments)}function vk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vk(Object(r),!0).forEach(function(n){vz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vz(e,t,r){return(t=yz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yz(e){var t=xz(e,"string");return typeof t=="symbol"?t:t+""}function xz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bz(e){var{coordinate:t,payload:r,index:n,offset:a,tooltipAxisBandSize:i,layout:o,cursor:u,tooltipEventType:d,chartName:h}=e,p=t,m=r,y=n;if(!u||!p||h!=="ScatterChart"&&d!=="axis")return null;var v,j;if(h==="ScatterChart")v=p,j=I6;else if(h==="BarChart")v=D6(o,p,a,i),j=_P;else if(o==="radial"){var{cx:w,cy:_,radius:N,startAngle:A,endAngle:E}=kP(p);v={cx:w,cy:_,startAngle:A,endAngle:E,innerRadius:N,outerRadius:N},j=NP}else v={points:y5(o,p,a)},j=ps;var C=typeof u=="object"&&"className"in u?u.className:void 0,P=mu(mu(mu(mu({stroke:"#ccc",pointerEvents:"none"},a),v),gi(u)),{},{payload:m,payloadIndex:y,className:Te("recharts-tooltip-cursor",C)});return x.isValidElement(u)?x.cloneElement(u,P):x.createElement(j,P)}function wz(e){var t=uz(),r=pP(),n=jl(),a=SA();return x.createElement(bz,tv({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var AA=x.createContext(null),jz=()=>x.useContext(AA),Bm={exports:{}},yk;function _z(){return yk||(yk=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(d,h,p){this.fn=d,this.context=h,this.once=p||!1}function i(d,h,p,m,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var v=new a(p,m||d,y),j=r?r+h:h;return d._events[j]?d._events[j].fn?d._events[j]=[d._events[j],v]:d._events[j].push(v):(d._events[j]=v,d._eventsCount++),d}function o(d,h){--d._eventsCount===0?d._events=new n:delete d._events[h]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],p,m;if(this._eventsCount===0)return h;for(m in p=this._events)t.call(p,m)&&h.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},u.prototype.listeners=function(h){var p=r?r+h:h,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var y=0,v=m.length,j=new Array(v);y<v;y++)j[y]=m[y].fn;return j},u.prototype.listenerCount=function(h){var p=r?r+h:h,m=this._events[p];return m?m.fn?1:m.length:0},u.prototype.emit=function(h,p,m,y,v,j){var w=r?r+h:h;if(!this._events[w])return!1;var _=this._events[w],N=arguments.length,A,E;if(_.fn){switch(_.once&&this.removeListener(h,_.fn,void 0,!0),N){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,p),!0;case 3:return _.fn.call(_.context,p,m),!0;case 4:return _.fn.call(_.context,p,m,y),!0;case 5:return _.fn.call(_.context,p,m,y,v),!0;case 6:return _.fn.call(_.context,p,m,y,v,j),!0}for(E=1,A=new Array(N-1);E<N;E++)A[E-1]=arguments[E];_.fn.apply(_.context,A)}else{var C=_.length,P;for(E=0;E<C;E++)switch(_[E].once&&this.removeListener(h,_[E].fn,void 0,!0),N){case 1:_[E].fn.call(_[E].context);break;case 2:_[E].fn.call(_[E].context,p);break;case 3:_[E].fn.call(_[E].context,p,m);break;case 4:_[E].fn.call(_[E].context,p,m,y);break;default:if(!A)for(P=1,A=new Array(N-1);P<N;P++)A[P-1]=arguments[P];_[E].fn.apply(_[E].context,A)}}return!0},u.prototype.on=function(h,p,m){return i(this,h,p,m,!1)},u.prototype.once=function(h,p,m){return i(this,h,p,m,!0)},u.prototype.removeListener=function(h,p,m,y){var v=r?r+h:h;if(!this._events[v])return this;if(!p)return o(this,v),this;var j=this._events[v];if(j.fn)j.fn===p&&(!y||j.once)&&(!m||j.context===m)&&o(this,v);else{for(var w=0,_=[],N=j.length;w<N;w++)(j[w].fn!==p||y&&!j[w].once||m&&j[w].context!==m)&&_.push(j[w]);_.length?this._events[v]=_.length===1?_[0]:_:o(this,v)}return this},u.prototype.removeAllListeners=function(h){var p;return h?(p=r?r+h:h,this._events[p]&&o(this,p)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(Bm)),Bm.exports}var kz=_z();const Sz=un(kz);var pl=new Sz,rv="recharts.syncEvent.tooltip",xk="recharts.syncEvent.brush";function af(e,t){if(t){var r=Number.parseInt(t,10);if(!Or(r))return e?.[r]}}var Nz={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},CA=Cr({name:"options",initialState:Nz,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Ez=CA.reducer,{createEventEmitter:Pz}=CA.actions;function Oz(e){return e.tooltip.syncInteraction}var Az={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},TA=Cr({name:"chartData",initialState:Az,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:bk,setDataStartEndIndexes:Cz,setComputedData:MG}=TA.actions,Tz=TA.reducer,Rz=["x","y"];function wk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function os(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wk(Object(r),!0).forEach(function(n){Iz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iz(e,t,r){return(t=Dz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dz(e){var t=Mz(e,"string");return typeof t=="symbol"?t:t+""}function Mz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lz(e,t){if(e==null)return{};var r,n,a=$z(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $z(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var RA=()=>{};function Bz(){var e=he(Ey),t=he(Py),r=rt(),n=he(SO),a=he(na),i=jl(),o=$d(),u=he(d=>d.rootProps.className);x.useEffect(()=>{if(e==null)return RA;var d=(h,p,m)=>{if(t!==m&&e===h){if(n==="index"){var y;if(o&&p!==null&&p!==void 0&&(y=p.payload)!==null&&y!==void 0&&y.coordinate&&p.payload.sourceViewBox){var v=p.payload.coordinate,{x:j,y:w}=v,_=Lz(v,Rz),{x:N,y:A,width:E,height:C}=p.payload.sourceViewBox,P=os(os({},_),{},{x:o.x+(E?(j-N)/E:0)*o.width,y:o.y+(C?(w-A)/C:0)*o.height});r(os(os({},p),{},{payload:os(os({},p.payload),{},{coordinate:P})}))}else r(p);return}if(a!=null){var S;if(typeof n=="function"){var T={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},I=n(a,T);S=a[I]}else n==="value"&&(S=a.find(le=>String(le.value)===p.payload.label));var{coordinate:M}=p.payload;if(S==null||p.payload.active===!1||M==null||o==null){r(Zg({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:z,y:W}=M,H=Math.min(z,o.x+o.width),Z=Math.min(W,o.y+o.height),se={x:i==="horizontal"?S.coordinate:H,y:i==="horizontal"?Z:S.coordinate},Y=Zg({active:p.payload.active,coordinate:se,dataKey:p.payload.dataKey,index:String(S.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox});r(Y)}}};return pl.on(rv,d),()=>{pl.off(rv,d)}},[u,r,t,e,n,a,i,o])}function Fz(){var e=he(Ey),t=he(Py),r=rt();x.useEffect(()=>{if(e==null)return RA;var n=(a,i,o)=>{t!==o&&e===a&&r(Cz(i))};return pl.on(xk,n),()=>{pl.off(xk,n)}},[r,t,e])}function Uz(){var e=rt();x.useEffect(()=>{e(Pz())},[e]),Bz(),Fz()}function zz(e,t,r,n,a,i){var o=he(v=>fz(v,e,t)),u=he(Py),d=he(Ey),h=he(SO),p=he(Oz),m=p?.active,y=$d();x.useEffect(()=>{if(!m&&d!=null&&u!=null){var v=Zg({active:i,coordinate:r,dataKey:o,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:y});pl.emit(rv,d,v,u)}},[m,r,o,a,n,u,d,h,i,y])}function jk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _k(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jk(Object(r),!0).forEach(function(n){qz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qz(e,t,r){return(t=Wz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wz(e){var t=Kz(e,"string");return typeof t=="symbol"?t:t+""}function Kz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vz(e){return e.dataKey}function Hz(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(f6,t)}var kk=[],Gz={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Zn.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function sf(e){var t=St(e,Gz),{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:i,content:o,filterNull:u,isAnimationActive:d,offset:h,payloadUniqBy:p,position:m,reverseDirection:y,useTranslate3d:v,wrapperStyle:j,cursor:w,shared:_,trigger:N,defaultIndex:A,portal:E,axisId:C}=t,P=rt(),S=typeof A=="number"?String(A):A;x.useEffect(()=>{P(v8({shared:_,trigger:N,axisId:C,active:r,defaultIndex:S}))},[P,_,N,C,r,S]);var T=$d(),I=yP(),M=f8(_),{activeIndex:z,isActive:W}=he(je=>mz(je,M,N,S)),H=he(je=>pz(je,M,N,S)),Z=he(je=>OA(je,M,N,S)),se=he(je=>hz(je,M,N,S)),Y=H,le=jz(),re=r??W,[G,ie]=AE([Y,re]),ae=M==="axis"?Z:void 0;zz(M,N,se,ae,z,re);var $=E??le;if($==null)return null;var V=Y??kk;re||(V=kk),u&&V.length&&(V=SE(Y.filter(je=>je.value!=null&&(je.hide!==!0||t.includeHidden)),p,Vz));var ye=V.length>0,Ee=x.createElement(x6,{allowEscapeViewBox:n,animationDuration:a,animationEasing:i,isAnimationActive:d,active:re,coordinate:se,hasPayload:ye,offset:h,position:m,reverseDirection:y,useTranslate3d:v,viewBox:T,wrapperStyle:j,lastBoundingBox:G,innerRef:ie,hasPortalFromProps:!!E},Hz(o,_k(_k({},t),{},{payload:V,label:ae,active:re,coordinate:se,accessibilityLayer:I})));return x.createElement(x.Fragment,null,OS.createPortal(Ee,$),re&&x.createElement(wz,{cursor:w,tooltipEventType:M,coordinate:se,payload:Y,index:z}))}var Ks=e=>null;Ks.displayName="Cell";function Yz(e,t,r){return(t=Xz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xz(e){var t=Jz(e,"string");return typeof t=="symbol"?t:t+""}function Jz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Qz{constructor(t){Yz(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function Sk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sk(Object(r),!0).forEach(function(n){e7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e7(e,t,r){return(t=t7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t7(e){var t=r7(e,"string");return typeof t=="symbol"?t:t+""}function r7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var n7={cacheSize:2e3,enableCache:!0},IA=Zz({},n7),Nk=new Qz(IA.cacheSize),a7={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Ek="recharts_measurement_span";function i7(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(u)}var Pk=(e,t)=>{try{var r=document.getElementById(Ek);r||(r=document.createElement("span"),r.setAttribute("id",Ek),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,a7,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Yo=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Zn.isSsr)return{width:0,height:0};if(!IA.enableCache)return Pk(t,r);var n=i7(t,r),a=Nk.get(n);if(a)return a;var i=Pk(t,r);return Nk.set(n,i),i},Ok=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ak=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,s7=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,o7=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,DA={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},l7=Object.keys(DA),us="NaN";function c7(e,t){return e*DA[t]}class dr{static parse(t){var r,[,n,a]=(r=o7.exec(t))!==null&&r!==void 0?r:[];return new dr(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Or(t)&&(this.unit=""),r!==""&&!s7.test(r)&&(this.num=NaN,this.unit=""),l7.includes(r)&&(this.num=c7(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new dr(NaN,""):new dr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new dr(NaN,""):new dr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new dr(NaN,""):new dr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new dr(NaN,""):new dr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Or(this.num)}}function MA(e){if(e.includes(us))return us;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=Ok.exec(t))!==null&&r!==void 0?r:[],o=dr.parse(n??""),u=dr.parse(i??""),d=a==="*"?o.multiply(u):o.divide(u);if(d.isNaN())return us;t=t.replace(Ok,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,[,p,m,y]=(h=Ak.exec(t))!==null&&h!==void 0?h:[],v=dr.parse(p??""),j=dr.parse(y??""),w=m==="+"?v.add(j):v.subtract(j);if(w.isNaN())return us;t=t.replace(Ak,w.toString())}return t}var Ck=/\(([^()]*)\)/;function u7(e){for(var t=e,r;(r=Ck.exec(t))!=null;){var[,n]=r;t=t.replace(Ck,MA(n))}return t}function d7(e){var t=e.replace(/\s+/g,"");return t=u7(t),t=MA(t),t}function f7(e){try{return d7(e)}catch{return us}}function Fm(e){var t=f7(e.slice(5,-1));return t===us?"":t}var h7=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],p7=["dx","dy","angle","className","breakAll"];function nv(){return nv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nv.apply(null,arguments)}function Tk(e,t){if(e==null)return{};var r,n,a=m7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function m7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var LA=/[ \f\n\r\t\v\u2028\u2029]+/,$A=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];Je(t)||(r?a=t.toString().split(""):a=t.toString().split(LA));var i=a.map(u=>({word:u,width:Yo(u,n).width})),o=r?0:Yo("",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},g7=(e,t,r,n,a)=>{var{maxLines:i,children:o,style:u,breakAll:d}=e,h=fe(i),p=o,m=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce((H,Z)=>{var{word:se,width:Y}=Z,le=H[H.length-1];if(le&&(n==null||a||le.width+Y+r<Number(n)))le.words.push(se),le.width+=Y+r;else{var re={words:[se],width:Y};H.push(re)}return H},[])},y=m(t),v=z=>z.reduce((W,H)=>W.width>H.width?W:H);if(!h||a)return y;var j=y.length>i||v(y).width>Number(n);if(!j)return y;for(var w="",_=z=>{var W=p.slice(0,z),H=$A({breakAll:d,style:u,children:W+w}).wordsWithComputedWidth,Z=m(H),se=Z.length>i||v(Z).width>Number(n);return[se,Z]},N=0,A=p.length-1,E=0,C;N<=A&&E<=p.length-1;){var P=Math.floor((N+A)/2),S=P-1,[T,I]=_(S),[M]=_(P);if(!T&&!M&&(N=P+1),T&&M&&(A=P-1),!T&&M){C=I;break}E++}return C||y},Rk=e=>{var t=Je(e)?[]:e.toString().split(LA);return[{words:t}]},v7=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:o}=e;if((t||r)&&!Zn.isSsr){var u,d,h=$A({breakAll:i,children:n,style:a});if(h){var{wordsWithComputedWidth:p,spaceWidth:m}=h;u=p,d=m}else return Rk(n);return g7({breakAll:i,children:n,maxLines:o,style:a},u,d,t,r)}return Rk(n)},Ik="#808080",of=x.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:u="start",verticalAnchor:d="end",fill:h=Ik}=e,p=Tk(e,h7),m=x.useMemo(()=>v7({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:o,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,o,p.style,p.width]),{dx:y,dy:v,angle:j,className:w,breakAll:_}=p,N=Tk(p,p7);if(!wn(r)||!wn(n)||m.length===0)return null;var A=r+(fe(y)?y:0),E=n+(fe(v)?v:0),C;switch(d){case"start":C=Fm("calc(".concat(i,")"));break;case"middle":C=Fm("calc(".concat((m.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:C=Fm("calc(".concat(m.length-1," * -").concat(a,")"));break}var P=[];if(o){var S=m[0].width,{width:T}=p;P.push("scale(".concat(fe(T)?T/S:1,")"))}return j&&P.push("rotate(".concat(j,", ").concat(A,", ").concat(E,")")),P.length&&(N.transform=P.join(" ")),x.createElement("text",nv({},ar(N),{ref:t,x:A,y:E,className:Te("recharts-text",w),textAnchor:u,fill:h.includes("url")?Ik:h}),m.map((I,M)=>{var z=I.words.join(_?"":" ");return x.createElement("tspan",{x:A,dy:M===0?C:a,key:"".concat(z,"-").concat(M)},z)}))});of.displayName="Text";var y7=["labelRef"];function x7(e,t){if(e==null)return{};var r,n,a=b7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function b7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Dk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dk(Object(r),!0).forEach(function(n){w7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w7(e,t,r){return(t=j7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j7(e){var t=_7(e,"string");return typeof t=="symbol"?t:t+""}function _7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $n(){return $n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$n.apply(null,arguments)}var BA=x.createContext(null),k7=e=>{var{x:t,y:r,width:n,height:a,children:i}=e,o=x.useMemo(()=>({x:t,y:r,width:n,height:a}),[t,r,n,a]);return x.createElement(BA.Provider,{value:o},i)},FA=()=>{var e=x.useContext(BA),t=$d();return e||t},S7=x.createContext(null),N7=()=>{var e=x.useContext(S7),t=he(AO);return e||t},E7=e=>{var{value:t,formatter:r}=e,n=Je(e.children)?t:e.children;return typeof r=="function"?r(n):n},o0=e=>e!=null&&typeof e=="function",P7=(e,t)=>{var r=Rt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},O7=(e,t,r,n,a)=>{var{offset:i,className:o}=e,{cx:u,cy:d,innerRadius:h,outerRadius:p,startAngle:m,endAngle:y,clockWise:v}=a,j=(h+p)/2,w=P7(m,y),_=w>=0?1:-1,N,A;switch(t){case"insideStart":N=m+_*i,A=v;break;case"insideEnd":N=y-_*i,A=!v;break;case"end":N=y+_*i,A=v;break;default:throw new Error("Unsupported position ".concat(t))}A=w<=0?A:!A;var E=gt(u,d,j,N),C=gt(u,d,j,N+(A?1:-1)*359),P="M".concat(E.x,",").concat(E.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(A?0:1,`,
    `).concat(C.x,",").concat(C.y),S=Je(e.id)?nl("recharts-radial-line-"):e.id;return x.createElement("text",$n({},n,{dominantBaseline:"central",className:Te("recharts-radial-bar-label",o)}),x.createElement("defs",null,x.createElement("path",{id:S,d:P})),x.createElement("textPath",{xlinkHref:"#".concat(S)},r))},A7=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:u,endAngle:d}=e,h=(u+d)/2;if(r==="outside"){var{x:p,y:m}=gt(n,a,o+t,h);return{x:p,y:m,textAnchor:p>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var y=(i+o)/2,{x:v,y:j}=gt(n,a,y,h);return{x:v,y:j,textAnchor:"middle",verticalAnchor:"middle"}},UA=e=>"cx"in e&&fe(e.cx),C7=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!UA(r)&&(i=r);var{x:o,y:u,width:d,height:h}=t,p=h>=0?1:-1,m=p*n,y=p>0?"end":"start",v=p>0?"start":"end",j=d>=0?1:-1,w=j*n,_=j>0?"end":"start",N=j>0?"start":"end";if(a==="top"){var A={x:o+d/2,y:u-p*n,textAnchor:"middle",verticalAnchor:y};return ft(ft({},A),i?{height:Math.max(u-i.y,0),width:d}:{})}if(a==="bottom"){var E={x:o+d/2,y:u+h+m,textAnchor:"middle",verticalAnchor:v};return ft(ft({},E),i?{height:Math.max(i.y+i.height-(u+h),0),width:d}:{})}if(a==="left"){var C={x:o-w,y:u+h/2,textAnchor:_,verticalAnchor:"middle"};return ft(ft({},C),i?{width:Math.max(C.x-i.x,0),height:h}:{})}if(a==="right"){var P={x:o+d+w,y:u+h/2,textAnchor:N,verticalAnchor:"middle"};return ft(ft({},P),i?{width:Math.max(i.x+i.width-P.x,0),height:h}:{})}var S=i?{width:d,height:h}:{};return a==="insideLeft"?ft({x:o+w,y:u+h/2,textAnchor:N,verticalAnchor:"middle"},S):a==="insideRight"?ft({x:o+d-w,y:u+h/2,textAnchor:_,verticalAnchor:"middle"},S):a==="insideTop"?ft({x:o+d/2,y:u+m,textAnchor:"middle",verticalAnchor:v},S):a==="insideBottom"?ft({x:o+d/2,y:u+h-m,textAnchor:"middle",verticalAnchor:y},S):a==="insideTopLeft"?ft({x:o+w,y:u+m,textAnchor:N,verticalAnchor:v},S):a==="insideTopRight"?ft({x:o+d-w,y:u+m,textAnchor:_,verticalAnchor:v},S):a==="insideBottomLeft"?ft({x:o+w,y:u+h-m,textAnchor:N,verticalAnchor:y},S):a==="insideBottomRight"?ft({x:o+d-w,y:u+h-m,textAnchor:_,verticalAnchor:y},S):a&&typeof a=="object"&&(fe(a.x)||Vn(a.x))&&(fe(a.y)||Vn(a.y))?ft({x:o+Xt(a.x,d),y:u+Xt(a.y,h),textAnchor:"end",verticalAnchor:"end"},S):ft({x:o+d/2,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},S)},T7={offset:5};function Sa(e){var t=St(e,T7),{viewBox:r,position:n,value:a,children:i,content:o,className:u="",textBreakAll:d,labelRef:h}=t,p=N7(),m=FA(),y=n==="center"?m:p??m,v=r||y;if(!v||Je(a)&&Je(i)&&!x.isValidElement(o)&&typeof o!="function")return null;var j=ft(ft({},t),{},{viewBox:v});if(x.isValidElement(o)){var{labelRef:w}=j,_=x7(j,y7);return x.cloneElement(o,_)}var N;if(typeof o=="function"){if(N=x.createElement(o,j),x.isValidElement(N))return N}else N=E7(t);var A=UA(v),E=ar(t);if(A&&(n==="insideStart"||n==="insideEnd"||n==="end"))return O7(t,n,N,E,v);var C=A?A7(v,t.offset,t.position):C7(t,v);return x.createElement(of,$n({ref:h,className:Te("recharts-label",u)},E,C,{breakAll:d}),N)}Sa.displayName="Label";var R7=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?x.createElement(Sa,$n({key:"label-implicit"},n)):wn(e)?x.createElement(Sa,$n({key:"label-implicit",value:e},n)):x.isValidElement(e)?e.type===Sa?x.cloneElement(e,ft({key:"label-implicit"},n)):x.createElement(Sa,$n({key:"label-implicit",content:e},n)):o0(e)?x.createElement(Sa,$n({key:"label-implicit",content:e},n)):e&&typeof e=="object"?x.createElement(Sa,$n({},e,{key:"label-implicit"},n)):null};function I7(e){var{label:t,labelRef:r}=e,n=FA();return R7(t,n,r)||null}var Um={},zm={},Mk;function D7(){return Mk||(Mk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(zm)),zm}var qm={},Lk;function M7(){return Lk||(Lk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(qm)),qm}var $k;function L7(){return $k||($k=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D7(),r=M7(),n=zv();function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(Um)),Um}var Wm,Bk;function $7(){return Bk||(Bk=1,Wm=L7().last),Wm}var B7=$7();const F7=un(B7);var U7=["valueAccessor"],z7=["dataKey","clockWise","id","textBreakAll"];function ad(){return ad=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ad.apply(null,arguments)}function Fk(e,t){if(e==null)return{};var r,n,a=q7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function q7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var W7=e=>Array.isArray(e.value)?F7(e.value):e.value,zA=x.createContext(void 0),l0=zA.Provider,qA=x.createContext(void 0),K7=qA.Provider;function V7(){return x.useContext(zA)}function H7(){return x.useContext(qA)}function xu(e){var{valueAccessor:t=W7}=e,r=Fk(e,U7),{dataKey:n,clockWise:a,id:i,textBreakAll:o}=r,u=Fk(r,z7),d=V7(),h=H7(),p=d||h;return!p||!p.length?null:x.createElement(ct,{className:"recharts-label-list"},p.map((m,y)=>{var v,j=Je(n)?t(m,y):qe(m&&m.payload,n),w=Je(i)?{}:{id:"".concat(i,"-").concat(y)};return x.createElement(Sa,ad({key:"label-".concat(y)},ar(m),u,w,{fill:(v=r.fill)!==null&&v!==void 0?v:m.fill,parentViewBox:m.parentViewBox,value:j,textBreakAll:o,viewBox:m.viewBox,index:y}))}))}xu.displayName="LabelList";function lf(e){var{label:t}=e;return t?t===!0?x.createElement(xu,{key:"labelList-implicit"}):x.isValidElement(t)||o0(t)?x.createElement(xu,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(xu,ad({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function av(){return av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},av.apply(null,arguments)}var c0=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=Te("recharts-dot",a);return t===+t&&r===+r&&n===+n?x.createElement("circle",av({},nr(e),Bv(e),{className:i,cx:t,cy:r,r:n})):null},WA=e=>e.graphicalItems.polarItems,G7=F([nt,Ol],Ry),cf=F([WA,ot,G7],Iy),Y7=F([cf],Dy),uf=F([Y7,_y],My),X7=F([uf,ot,cf],$y);F([uf,ot,cf],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var i,o=qe(n,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:qe(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var Uk=()=>{},J7=F([uf,ot,cf,ef,nt],zy),Q7=F([ot,Fy,Uy,Uk,J7,Uk,Ae,nt],qy),KA=F([ot,Ae,uf,X7,Pl,nt,Q7],Wy),Z7=F([KA,ot,Us],Hy);F([ot,KA,Z7,nt],Yy);var e9={radiusAxis:{},angleAxis:{}},VA=Cr({name:"polarAxis",initialState:e9,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:LG,removeRadiusAxis:$G,addAngleAxis:BG,removeAngleAxis:FG}=VA.actions,t9=VA.reducer;function zk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zk(Object(r),!0).forEach(function(n){r9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r9(e,t,r){return(t=n9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n9(e){var t=a9(e,"string");return typeof t=="symbol"?t:t+""}function a9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var i9=(e,t)=>t,u0=F([WA,i9],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),s9=[],d0=(e,t,r)=>r?.length===0?s9:r,HA=F([_y,u0,d0],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if(t?.data!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(i=>qk(qk({},t.presentationProps),i.props))),a!=null)return a}}),o9=F([HA,u0,d0],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var i,o=qe(n,t.nameKey,t.name),u;return r!=null&&(i=r[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?u=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?u=n.fill:u=t.fill,{value:La(o,t.dataKey),color:u,payload:n,type:t.legendType}})}),l9=F([HA,u0,d0,kt],(e,t,r,n)=>{if(!(t==null||e==null))return lq({offset:n,pieSettings:t,displayedData:e,cells:r})}),Km={exports:{}},Ue={};var Wk;function c9(){if(Wk)return Ue;Wk=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function j(w){if(typeof w=="object"&&w!==null){var _=w.$$typeof;switch(_){case e:switch(w=w.type,w){case r:case a:case n:case d:case h:case y:return w;default:switch(w=w&&w.$$typeof,w){case o:case u:case m:case p:return w;case i:return w;default:return _}}case t:return _}}}return Ue.ContextConsumer=i,Ue.ContextProvider=o,Ue.Element=e,Ue.ForwardRef=u,Ue.Fragment=r,Ue.Lazy=m,Ue.Memo=p,Ue.Portal=t,Ue.Profiler=a,Ue.StrictMode=n,Ue.Suspense=d,Ue.SuspenseList=h,Ue.isContextConsumer=function(w){return j(w)===i},Ue.isContextProvider=function(w){return j(w)===o},Ue.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},Ue.isForwardRef=function(w){return j(w)===u},Ue.isFragment=function(w){return j(w)===r},Ue.isLazy=function(w){return j(w)===m},Ue.isMemo=function(w){return j(w)===p},Ue.isPortal=function(w){return j(w)===t},Ue.isProfiler=function(w){return j(w)===a},Ue.isStrictMode=function(w){return j(w)===n},Ue.isSuspense=function(w){return j(w)===d},Ue.isSuspenseList=function(w){return j(w)===h},Ue.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===r||w===a||w===n||w===d||w===h||typeof w=="object"&&w!==null&&(w.$$typeof===m||w.$$typeof===p||w.$$typeof===o||w.$$typeof===i||w.$$typeof===u||w.$$typeof===v||w.getModuleId!==void 0)},Ue.typeOf=j,Ue}var Kk;function u9(){return Kk||(Kk=1,Km.exports=c9()),Km.exports}var d9=u9(),Vk=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Hk=null,Vm=null,GA=e=>{if(e===Hk&&Array.isArray(Vm))return Vm;var t=[];return x.Children.forEach(e,r=>{Je(r)||(d9.isFragment(r)?t=t.concat(GA(r.props.children)):t.push(r))}),Vm=t,Hk=e,t};function f0(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>Vk(a)):n=[Vk(t)],GA(e).forEach(a=>{var i=vi(a,"type.displayName")||vi(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}var df=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Hm={},Gk;function f9(){return Gk||(Gk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(Hm)),Hm}var Gm,Yk;function h9(){return Yk||(Yk=1,Gm=f9().isPlainObject),Gm}var p9=h9();const m9=un(p9);function Xk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xk(Object(r),!0).forEach(function(n){g9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g9(e,t,r){return(t=v9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v9(e){var t=y9(e,"string");return typeof t=="symbol"?t:t+""}function y9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function id(){return id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},id.apply(null,arguments)}var Qk=(e,t,r,n,a)=>{var i=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-i/2,",").concat(t+a),o+="L ".concat(e+r-i/2-n,",").concat(t+a),o+="L ".concat(e,",").concat(t," Z"),o},x9={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},b9=e=>{var t=St(e,x9),{x:r,y:n,upperWidth:a,lowerWidth:i,height:o,className:u}=t,{animationEasing:d,animationDuration:h,animationBegin:p,isUpdateAnimationActive:m}=t,y=x.useRef(null),[v,j]=x.useState(-1),w=x.useRef(a),_=x.useRef(i),N=x.useRef(o),A=x.useRef(r),E=x.useRef(n),C=Is(e,"trapezoid-");if(x.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var se=y.current.getTotalLength();se&&j(se)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var P=Te("recharts-trapezoid",u);if(!m)return x.createElement("g",null,x.createElement("path",id({},ar(t),{className:P,d:Qk(r,n,a,i,o)})));var S=w.current,T=_.current,I=N.current,M=A.current,z=E.current,W="0px ".concat(v===-1?1:v,"px"),H="".concat(v,"px 0px"),Z=xP(["strokeDasharray"],h,d);return x.createElement(Rs,{animationId:C,key:C,canBegin:v>0,duration:h,easing:d,isActive:m,begin:p},se=>{var Y=ze(S,a,se),le=ze(T,i,se),re=ze(I,o,se),G=ze(M,r,se),ie=ze(z,n,se);y.current&&(w.current=Y,_.current=le,N.current=re,A.current=G,E.current=ie);var ae=se>0?{transition:Z,strokeDasharray:H}:{strokeDasharray:W};return x.createElement("path",id({},ar(t),{className:P,d:Qk(G,ie,Y,le,re),ref:y,style:Jk(Jk({},ae),t.style)}))})},w9=["option","shapeType","propTransformer","activeClassName","isActive"];function j9(e,t){if(e==null)return{};var r,n,a=_9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Zk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zk(Object(r),!0).forEach(function(n){k9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k9(e,t,r){return(t=S9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S9(e){var t=N9(e,"string");return typeof t=="symbol"?t:t+""}function N9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E9(e,t){return sd(sd({},t),e)}function P9(e,t){return e==="symbols"}function eS(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return x.createElement(_P,r);case"trapezoid":return x.createElement(b9,r);case"sector":return x.createElement(NP,r);case"symbols":if(P9(t))return x.createElement($v,r);break;default:return null}}function O9(e){return x.isValidElement(e)?e.props:e}function YA(e){var{option:t,shapeType:r,propTransformer:n=E9,activeClassName:a="recharts-active-shape",isActive:i}=e,o=j9(e,w9),u;if(x.isValidElement(t))u=x.cloneElement(t,sd(sd({},o),O9(t)));else if(typeof t=="function")u=t(o);else if(m9(t)&&typeof t!="boolean"){var d=n(t,o);u=x.createElement(eS,{shapeType:r,elementProps:d})}else{var h=o;u=x.createElement(eS,{shapeType:r,elementProps:h})}return i?x.createElement(ct,{className:a},u):u}var h0=(e,t)=>{var r=rt();return(n,a)=>i=>{e?.(n,a,i),r(lA({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},p0=e=>{var t=rt();return(r,n)=>a=>{e?.(r,n,a),t(y8())}},m0=(e,t)=>{var r=rt();return(n,a)=>i=>{e?.(n,a,i),r(x8({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function ff(e){var{fn:t,args:r}=e,n=rt(),a=Bt();return x.useLayoutEffect(()=>{if(!a){var i=t(r);return n(m8(i)),()=>{n(g8(i))}}},[t,r,n,a]),null}var XA=()=>{};function g0(e){var{legendPayload:t}=e,r=rt(),n=Bt();return x.useLayoutEffect(()=>n?XA:(r(gP(t)),()=>{r(vP(t))}),[r,n,t]),null}function A9(e){var{legendPayload:t}=e,r=rt(),n=he(Ae);return x.useLayoutEffect(()=>n!=="centric"&&n!=="radial"?XA:(r(gP(t)),()=>{r(vP(t))}),[r,n,t]),null}var Ym,C9=()=>{var[e]=x.useState(()=>nl("uid-"));return e},T9=(Ym=ES.useId)!==null&&Ym!==void 0?Ym:C9;function R9(e,t){var r=T9();return t||(e?"".concat(e,"-").concat(r):r)}var I9=x.createContext(void 0),hf=e=>{var{id:t,type:r,children:n}=e,a=R9("recharts-".concat(r),t);return x.createElement(I9.Provider,{value:a},n(a))},D9={cartesianItems:[],polarItems:[]},JA=Cr({name:"graphicalItems",initialState:D9,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:er()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=zn(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:er()},removeCartesianGraphicalItem:{reducer(e,t){var r=zn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:er()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:er()},removePolarGraphicalItem:{reducer(e,t){var r=zn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:er()}}}),{addCartesianGraphicalItem:M9,replaceCartesianGraphicalItem:L9,removeCartesianGraphicalItem:$9,addPolarGraphicalItem:B9,removePolarGraphicalItem:F9}=JA.actions,U9=JA.reducer;function v0(e){var t=rt(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(M9(e)):r.current!==e&&t(L9({prev:r.current,next:e})),r.current=e},[t,e]),x.useLayoutEffect(()=>()=>{r.current&&(t($9(r.current)),r.current=null)},[t]),null}function z9(e){var t=rt();return x.useLayoutEffect(()=>(t(B9(e)),()=>{t(F9(e))}),[t,e]),null}var q9=["onMouseEnter","onClick","onMouseLeave"],W9=["id"],K9=["id"];function y0(e,t){if(e==null)return{};var r,n,a=V9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function V9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function tS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tS(Object(r),!0).forEach(function(n){H9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H9(e,t,r){return(t=G9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G9(e){var t=Y9(e,"string");return typeof t=="symbol"?t:t+""}function Y9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ra(){return Ra=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ra.apply(null,arguments)}function X9(e){var t=x.useMemo(()=>f0(e.children,Ks),[e.children]),r=he(n=>o9(n,e.id,t));return r==null?null:x.createElement(A9,{legendPayload:r})}function J9(e){var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:i,fill:o,name:u,hide:d,tooltipType:h}=e;return{dataDefinedOnItem:n.map(p=>p.tooltipPayload),positions:n.map(p=>p.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:o,dataKey:t,nameKey:r,name:La(u,t),hide:d,type:h,color:o,unit:""}}}var Q9=(e,t)=>e>t?"start":e<t?"end":"middle",Z9=(e,t,r)=>Xt(typeof t=="function"?t(e):t,r,r*.8),eq=(e,t,r)=>{var{top:n,left:a,width:i,height:o}=t,u=nP(i,o),d=a+Xt(e.cx,i,i/2),h=n+Xt(e.cy,o,o/2),p=Xt(e.innerRadius,u,0),m=Z9(r,e.outerRadius,u),y=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:d,cy:h,innerRadius:p,outerRadius:m,maxRadius:y}},tq=(e,t)=>{var r=Rt(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function rq(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var nq=(e,t)=>{if(x.isValidElement(e))return x.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Te("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return x.createElement(ps,Ra({},t,{type:"linear",className:r}))},aq=(e,t,r)=>{if(x.isValidElement(e))return x.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),x.isValidElement(n)))return n;var a=Te("recharts-pie-label-text",rq(e));return x.createElement(of,Ra({},t,{alignmentBaseline:"middle",className:a}),n)};function iq(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:i,dataKey:o}=r;if(!n||!a||!t)return null;var u=nr(r),d=gi(a),h=gi(i),p=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,m=t.map((y,v)=>{var j=(y.startAngle+y.endAngle)/2,w=gt(y.cx,y.cy,y.outerRadius+p,j),_=et(et(et(et({},u),y),{},{stroke:"none"},d),{},{index:v,textAnchor:Q9(w.x,y.cx)},w),N=et(et(et(et({},u),y),{},{fill:"none",stroke:y.fill},h),{},{index:v,points:[gt(y.cx,y.cy,y.outerRadius,j),w],key:"line"});return x.createElement(ct,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(v)},i&&nq(i,N),aq(a,_,qe(y,o)))});return x.createElement(ct,{className:"recharts-pie-labels"},m)}function sq(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?x.createElement(lf,{label:a}):x.createElement(iq,{sectors:t,props:r,showLabels:n})}function oq(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a}=e,i=he(Ta),{onMouseEnter:o,onClick:u,onMouseLeave:d}=a,h=y0(a,q9),p=h0(o,a.dataKey),m=p0(d),y=m0(u,a.dataKey);return t==null||t.length===0?null:x.createElement(x.Fragment,null,t.map((v,j)=>{if(v?.startAngle===0&&v?.endAngle===0&&t.length!==1)return null;var w=r&&String(j)===i,_=i?n:null,N=w?r:_,A=et(et({},v),{},{stroke:v.stroke,tabIndex:-1,[cP]:j,[uP]:a.dataKey});return x.createElement(ct,Ra({key:"sector-".concat(v?.startAngle,"-").concat(v?.endAngle,"-").concat(v.midAngle,"-").concat(j),tabIndex:-1,className:"recharts-pie-sector"},yl(h,v,j),{onMouseEnter:p(v,j),onMouseLeave:m(v,j),onClick:y(v,j)}),x.createElement(YA,Ra({option:N,isActive:w,shapeType:"sector"},A)))}))}function lq(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:i}=e,{cornerRadius:o,startAngle:u,endAngle:d,dataKey:h,nameKey:p,tooltipType:m}=r,y=Math.abs(r.minAngle),v=tq(u,d),j=Math.abs(v),w=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,_=n.filter(S=>qe(S,h,0)!==0).length,N=(j>=360?_:_-1)*w,A=j-_*y-N,E=n.reduce((S,T)=>{var I=qe(T,h,0);return S+(fe(I)?I:0)},0),C;if(E>0){var P;C=n.map((S,T)=>{var I=qe(S,h,0),M=qe(S,p,T),z=eq(r,i,S),W=(fe(I)?I:0)/E,H,Z=et(et({},S),a&&a[T]&&a[T].props);T?H=P.endAngle+Rt(v)*w*(I!==0?1:0):H=u;var se=H+Rt(v)*((I!==0?y:0)+W*A),Y=(H+se)/2,le=(z.innerRadius+z.outerRadius)/2,re=[{name:M,value:I,payload:Z,dataKey:h,type:m}],G=gt(z.cx,z.cy,le,Y);return P=et(et(et(et({},r.presentationProps),{},{percent:W,cornerRadius:o,name:M,tooltipPayload:re,midAngle:Y,middleRadius:le,tooltipPosition:G},Z),z),{},{value:I,startAngle:H,endAngle:se,payload:Z,paddingAngle:Rt(v)*w}),P})}return C}function cq(e){var{showLabels:t,sectors:r,children:n}=e,a=x.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return x.createElement(K7,{value:t?a:void 0},n)}function uq(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:a,animationBegin:i,animationDuration:o,animationEasing:u,activeShape:d,inactiveShape:h,onAnimationStart:p,onAnimationEnd:m}=t,y=Is(t,"recharts-pie-"),v=r.current,[j,w]=x.useState(!1),_=x.useCallback(()=>{typeof m=="function"&&m(),w(!1)},[m]),N=x.useCallback(()=>{typeof p=="function"&&p(),w(!0)},[p]);return x.createElement(cq,{showLabels:!j,sectors:n},x.createElement(Rs,{animationId:y,begin:i,duration:o,isActive:a,easing:u,onAnimationStart:N,onAnimationEnd:_,key:y},A=>{var E=[],C=n&&n[0],P=C?.startAngle;return n?.forEach((S,T)=>{var I=v&&v[T],M=T>0?vi(S,"paddingAngle",0):0;if(I){var z=ze(I.endAngle-I.startAngle,S.endAngle-S.startAngle,A),W=et(et({},S),{},{startAngle:P+M,endAngle:P+z+M});E.push(W),P=W.endAngle}else{var{endAngle:H,startAngle:Z}=S,se=ze(0,H-Z,A),Y=et(et({},S),{},{startAngle:P+M,endAngle:P+se+M});E.push(Y),P=Y.endAngle}}),r.current=E,x.createElement(ct,null,x.createElement(oq,{sectors:E,activeShape:d,inactiveShape:h,allOtherPieProps:t}))}),x.createElement(sq,{showLabels:!j,sectors:n,props:t}),t.children)}var dq={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Zn.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function fq(e){var{id:t}=e,r=y0(e,W9),{hide:n,className:a,rootTabIndex:i}=e,o=x.useMemo(()=>f0(e.children,Ks),[e.children]),u=he(p=>l9(p,t,o)),d=x.useRef(null),h=Te("recharts-pie",a);return n||u==null?(d.current=null,x.createElement(ct,{tabIndex:i,className:h})):x.createElement(x.Fragment,null,x.createElement(ff,{fn:J9,args:et(et({},e),{},{sectors:u})}),x.createElement(ct,{tabIndex:i,className:h},x.createElement(uq,{props:et(et({},r),{},{sectors:u}),previousSectorsRef:d})))}function x0(e){var t=St(e,dq),{id:r}=t,n=y0(t,K9),a=nr(n);return x.createElement(hf,{id:r,type:"pie"},i=>x.createElement(x.Fragment,null,x.createElement(z9,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),x.createElement(X9,Ra({},n,{id:i})),x.createElement(fq,Ra({},n,{id:i}))))}x0.displayName="Pie";function rS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rS(Object(r),!0).forEach(function(n){hq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hq(e,t,r){return(t=pq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pq(e){var t=mq(e,"string");return typeof t=="symbol"?t:t+""}function mq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gq={xAxis:{},yAxis:{},zAxis:{}},QA=Cr({name:"cartesianAxis",initialState:gq,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:er()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:er()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:er()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:er()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:er()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:er()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==a.width&&Math.abs(n-i[0])<=1)return;var o=[...i,n].slice(-3);e.yAxis[r]=nS(nS({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:vq,removeXAxis:yq,addYAxis:xq,removeYAxis:bq,addZAxis:UG,removeZAxis:zG,updateYAxisWidth:wq}=QA.actions,jq=QA.reducer,_q=F([kt],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),kq=F([_q,Jn,Qn],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),pf=()=>he(kq),Sq=()=>he(iz);function aS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aS(Object(r),!0).forEach(function(n){Nq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nq(e,t,r){return(t=Eq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eq(e){var t=Pq(e,"string");return typeof t=="symbol"?t:t+""}function Pq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oq=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i}=e;if(a===!1||t.x==null||t.y==null)return null;var o=iS(iS({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},gi(a)),Bv(a)),u;return x.isValidElement(a)?u=x.cloneElement(a,o):typeof a=="function"?u=a(o):u=x.createElement(c0,o),x.createElement(ct,{className:"recharts-active-dot"},u)};function iv(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a}=e,i=he(Ta),o=Sq();if(t==null||o==null)return null;var u=t.find(d=>o.includes(d.payload));return Je(u)?null:Oq({point:u,childIndex:Number(i),mainColor:r,dataKey:a,activeDot:n})}var Aq="Invariant failed";function Cq(e,t){throw new Error(Aq)}var Tq=["x","y"];function sv(){return sv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sv.apply(null,arguments)}function sS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sS(Object(r),!0).forEach(function(n){Rq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rq(e,t,r){return(t=Iq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iq(e){var t=Dq(e,"string");return typeof t=="symbol"?t:t+""}function Dq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mq(e,t){if(e==null)return{};var r,n,a=Lq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Lq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $q(e,t){var{x:r,y:n}=e,a=Mq(e,Tq),i="".concat(r),o=parseInt(i,10),u="".concat(n),d=parseInt(u,10),h="".concat(t.height||a.height),p=parseInt(h,10),m="".concat(t.width||a.width),y=parseInt(m,10);return Uo(Uo(Uo(Uo(Uo({},t),a),o?{x:o}:{}),d?{y:d}:{}),{},{height:p,width:y,name:t.name,radius:t.radius})}function b0(e){return x.createElement(YA,sv({shapeType:"rectangle",propTransformer:$q,activeClassName:"recharts-active-bar"},e))}var Bq=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(fe(t))return t;var i=fe(n)||Je(n);return i?t(n,a):(i||Cq(),r)}},Fq={},ZA=Cr({name:"errorBars",initialState:Fq,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:qG,replaceErrorBar:WG,removeErrorBar:KG}=ZA.actions,Uq=ZA.reducer,zq=["children"];function qq(e,t){if(e==null)return{};var r,n,a=Wq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Wq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Kq={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Vq=x.createContext(Kq);function eC(e){var{children:t}=e,r=qq(e,zq);return x.createElement(Vq.Provider,{value:r},t)}function mf(e,t){var r,n,a=he(h=>ta(h,e)),i=he(h=>ra(h,t)),o=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:wr.allowDataOverflow,u=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:jr.allowDataOverflow,d=o||u;return{needClip:d,needClipX:o,needClipY:u}}function w0(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=pf(),{needClipX:i,needClipY:o,needClip:u}=mf(t,r);if(!u)return null;var{x:d,y:h,width:p,height:m}=a;return x.createElement("clipPath",{id:"clipPath-".concat(n)},x.createElement("rect",{x:i?d:d-p/2,y:o?h:h-m/2,width:i?p:p*2,height:o?m:m*2}))}var Hq=["onMouseEnter","onMouseLeave","onClick"],Gq=["value","background","tooltipPosition"],Yq=["id"],Xq=["onMouseEnter","onClick","onMouseLeave"];function Ia(){return Ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ia.apply(null,arguments)}function oS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oS(Object(r),!0).forEach(function(n){Jq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jq(e,t,r){return(t=Qq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qq(e){var t=Zq(e,"string");return typeof t=="symbol"?t:t+""}function Zq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function od(e,t){if(e==null)return{};var r,n,a=eW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function eW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var tW=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:La(r,t),payload:e}]};function rW(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:o,unit:u}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:La(i,t),hide:o,type:e.tooltipType,color:e.fill,unit:u}}}function nW(e){var t=he(Ta),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:u,onClick:d}=i,h=od(i,Hq),p=h0(o,n),m=p0(u),y=m0(d,n);if(!a||r==null)return null;var v=gi(a);return x.createElement(x.Fragment,null,r.map((j,w)=>{var{value:_,background:N,tooltipPosition:A}=j,E=od(j,Gq);if(!N)return null;var C=p(j,w),P=m(j,w),S=y(j,w),T=tr(tr(tr(tr(tr({option:a,isActive:String(w)===t},E),{},{fill:"#eee"},N),v),yl(h,j,w)),{},{onMouseEnter:C,onMouseLeave:P,onClick:S,dataKey:n,index:w,className:"recharts-bar-background-rectangle"});return x.createElement(b0,Ia({key:"background-bar-".concat(w)},T))}))}function aW(e){var{showLabels:t,children:r,rects:n}=e,a=n?.map(i=>{var o={x:i.x,y:i.y,width:i.width,height:i.height};return tr(tr({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return x.createElement(l0,{value:t?a:void 0},r)}function iW(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:o}=e,u=he(Ta),d=he(_A),h=r&&String(i)===u&&(d==null||o===d),p=h?r:t;return x.createElement(b0,Ia({},n,{name:String(n.name)},a,{isActive:h,option:p,index:i,dataKey:o}))}function sW(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return x.createElement(b0,Ia({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:i}))}function oW(e){var{data:t,props:r}=e,n=nr(r),{id:a}=n,i=od(n,Yq),{shape:o,dataKey:u,activeBar:d}=r,{onMouseEnter:h,onClick:p,onMouseLeave:m}=r,y=od(r,Xq),v=h0(h,u),j=p0(m),w=m0(p,u);return t?x.createElement(x.Fragment,null,t.map((_,N)=>x.createElement(ct,Ia({key:"rectangle-".concat(_?.x,"-").concat(_?.y,"-").concat(_?.value,"-").concat(N),className:"recharts-bar-rectangle"},yl(y,_,N),{onMouseEnter:v(_,N),onMouseLeave:j(_,N),onClick:w(_,N)}),d?x.createElement(iW,{shape:o,activeBar:d,baseProps:i,entry:_,index:N,dataKey:u}):x.createElement(sW,{shape:o,baseProps:i,entry:_,index:N,dataKey:u})))):null}function lW(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:o,animationDuration:u,animationEasing:d,onAnimationEnd:h,onAnimationStart:p}=t,m=r.current,y=Is(t,"recharts-bar-"),[v,j]=x.useState(!1),w=!v,_=x.useCallback(()=>{typeof h=="function"&&h(),j(!1)},[h]),N=x.useCallback(()=>{typeof p=="function"&&p(),j(!0)},[p]);return x.createElement(aW,{showLabels:w,rects:n},x.createElement(Rs,{animationId:y,begin:o,duration:u,isActive:i,easing:d,onAnimationEnd:_,onAnimationStart:N,key:y},A=>{var E=A===1?n:n?.map((C,P)=>{var S=m&&m[P];if(S)return tr(tr({},C),{},{x:ze(S.x,C.x,A),y:ze(S.y,C.y,A),width:ze(S.width,C.width,A),height:ze(S.height,C.height,A)});if(a==="horizontal"){var T=ze(0,C.height,A);return tr(tr({},C),{},{y:C.y+C.height-T,height:T})}var I=ze(0,C.width,A);return tr(tr({},C),{},{width:I})});return A>0&&(r.current=E??null),E==null?null:x.createElement(ct,null,x.createElement(oW,{props:t,data:E}))}),x.createElement(lf,{label:t.label}),t.children)}function cW(e){var t=x.useRef(null);return x.createElement(lW,{previousRectanglesRef:t,props:e})}var tC=0,uW=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:qe(e,t)}};class dW extends x.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:o,needClip:u,background:d,id:h}=this.props;if(t||r==null)return null;var p=Te("recharts-bar",a),m=h;return x.createElement(ct,{className:p,id:h},u&&x.createElement("defs",null,x.createElement(w0,{clipPathId:m,xAxisId:i,yAxisId:o})),x.createElement(ct,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(m,")"):void 0},x.createElement(nW,{data:r,dataKey:n,background:d,allOtherBarProps:this.props}),x.createElement(cW,this.props)))}}var fW={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Zn.isSsr,legendType:"rect",minPointSize:tC,xAxisId:0,yAxisId:0};function hW(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:u,animationDuration:d,animationEasing:h,isAnimationActive:p}=e,{needClip:m}=mf(t,r),y=jl(),v=Bt(),j=f0(e.children,Ks),w=he(A=>UW(A,t,r,v,e.id,j));if(y!=="vertical"&&y!=="horizontal")return null;var _,N=w?.[0];return N==null||N.height==null||N.width==null?_=0:_=y==="vertical"?N.height/2:N.width/2,x.createElement(eC,{xAxisId:t,yAxisId:r,data:w,dataPointFormatter:uW,errorBarOffset:_},x.createElement(dW,Ia({},e,{layout:y,needClip:m,data:w,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:u,animationDuration:d,animationEasing:h,isAnimationActive:p})))}function pW(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:o,yAxis:u,xAxisTicks:d,yAxisTicks:h,stackedData:p,displayedData:m,offset:y,cells:v,parentViewBox:j}=e,w=t==="horizontal"?u:o,_=p?w.scale.domain():null,N=f$({numericAxis:w});return m.map((A,E)=>{var C,P,S,T,I,M;p?C=o$(p[E],_):(C=qe(A,r),Array.isArray(C)||(C=[N,C]));var z=Bq(n,tC)(C[1],E);if(t==="horizontal"){var W,[H,Z]=[u.scale(C[0]),u.scale(C[1])];P=F1({axis:o,ticks:d,bandSize:i,offset:a.offset,entry:A,index:E}),S=(W=Z??H)!==null&&W!==void 0?W:void 0,T=a.size;var se=H-Z;if(I=Or(se)?0:se,M={x:P,y:y.top,width:T,height:y.height},Math.abs(z)>0&&Math.abs(I)<Math.abs(z)){var Y=Rt(I||z)*(Math.abs(z)-Math.abs(I));S-=Y,I+=Y}}else{var[le,re]=[o.scale(C[0]),o.scale(C[1])];if(P=le,S=F1({axis:u,ticks:h,bandSize:i,offset:a.offset,entry:A,index:E}),T=re-le,I=a.size,M={x:y.left,y:S,width:y.width,height:I},Math.abs(z)>0&&Math.abs(T)<Math.abs(z)){var G=Rt(T||z)*(Math.abs(z)-Math.abs(T));T+=G}}if(P==null||S==null||T==null||I==null)return null;var ie=tr(tr({},A),{},{x:P,y:S,width:T,height:I,value:p?C:C[1],payload:A,background:M,tooltipPosition:{x:P+T/2,y:S+I/2},parentViewBox:j},v&&v[E]&&v[E].props);return ie}).filter(Boolean)}function mW(e){var t=St(e,fW),r=Bt();return x.createElement(hf,{id:t.id,type:"bar"},n=>x.createElement(x.Fragment,null,x.createElement(g0,{legendPayload:tW(t)}),x.createElement(ff,{fn:rW,args:t}),x.createElement(v0,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:oP(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),x.createElement(hW,Ia({},t,{id:n}))))}var ov=x.memo(mW);ov.displayName="Bar";function lS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lS(Object(r),!0).forEach(function(n){gW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gW(e,t,r){return(t=vW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vW(e){var t=yW(e,"string");return typeof t=="symbol"?t:t+""}function yW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xW=(e,t)=>t,bW=(e,t,r)=>r,wW=(e,t,r,n)=>n,jW=(e,t,r,n,a)=>a,Ml=F([Cl,jW],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),_W=F([Ml],e=>e?.maxBarSize),kW=(e,t,r,n,a,i)=>i,cS=(e,t,r)=>{var n=r??e;if(!Je(n))return Xt(n,t,0)},SW=F([Ae,Cl,xW,bW,wW],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),NW=(e,t,r,n)=>{var a=Ae(e);return a==="horizontal"?hl(e,"yAxis",r,n):hl(e,"xAxis",t,n)},EW=(e,t,r)=>{var n=Ae(e);return n==="horizontal"?uk(e,"xAxis",t):uk(e,"yAxis",r)},PW=(e,t,r)=>{var n={},a=e.filter(Xd),i=e.filter(h=>h.stackId==null),o=a.reduce((h,p)=>(h[p.stackId]||(h[p.stackId]=[]),h[p.stackId].push(p),h),n),u=Object.entries(o).map(h=>{var[p,m]=h,y=m.map(j=>j.dataKey),v=cS(t,r,m[0].barSize);return{stackId:p,dataKeys:y,barSize:v}}),d=i.map(h=>{var p=[h.dataKey].filter(y=>y!=null),m=cS(t,r,h.barSize);return{stackId:void 0,dataKeys:p,barSize:m}});return[...u,...d]},OW=F([SW,dU,EW],PW),AW=(e,t,r,n,a)=>{var i,o,u=Ml(e,t,r,n,a);if(u!=null){var d=Ae(e),h=_O(e),{maxBarSize:p}=u,m=Je(p)?h:p,y,v;return d==="horizontal"?(y=kn(e,"xAxis",t,n),v=_n(e,"xAxis",t,n)):(y=kn(e,"yAxis",r,n),v=_n(e,"yAxis",r,n)),(i=(o=bi(y,v,!0))!==null&&o!==void 0?o:m)!==null&&i!==void 0?i:0}},rC=(e,t,r,n)=>{var a=Ae(e),i,o;return a==="horizontal"?(i=kn(e,"xAxis",t,n),o=_n(e,"xAxis",t,n)):(i=kn(e,"yAxis",r,n),o=_n(e,"yAxis",r,n)),bi(i,o)};function CW(e,t,r,n,a){var i=n.length;if(!(i<1)){var o=Xt(e,r,0,!0),u,d=[];if(yt(n[0].barSize)){var h=!1,p=r/i,m=n.reduce((N,A)=>N+(A.barSize||0),0);m+=(i-1)*o,m>=r&&(m-=(i-1)*o,o=0),m>=r&&p>0&&(h=!0,p*=.9,m=i*p);var y=(r-m)/2>>0,v={offset:y-o,size:0};u=n.reduce((N,A)=>{var E,C={stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:v.offset+v.size+o,size:h?p:(E=A.barSize)!==null&&E!==void 0?E:0}},P=[...N,C];return v=P[P.length-1].position,P},d)}else{var j=Xt(t,r,0,!0);r-2*j-(i-1)*o<=0&&(o=0);var w=(r-2*j-(i-1)*o)/i;w>1&&(w>>=0);var _=yt(a)?Math.min(w,a):w;u=n.reduce((N,A,E)=>[...N,{stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:j+(w+o)*E+(w-_)/2,size:_}}],d)}return u}}var TW=(e,t,r,n,a,i,o)=>{var u=Je(o)?t:o,d=CW(r,n,a!==i?a:i,e,u);return a!==i&&d!=null&&(d=d.map(h=>gu(gu({},h),{},{position:gu(gu({},h.position),{},{offset:h.position.offset-a/2})}))),d},RW=F([OW,_O,uU,kO,AW,rC,_W],TW),IW=(e,t,r,n)=>kn(e,"xAxis",t,n),DW=(e,t,r,n)=>kn(e,"yAxis",r,n),MW=(e,t,r,n)=>_n(e,"xAxis",t,n),LW=(e,t,r,n)=>_n(e,"yAxis",r,n),$W=F([RW,Ml],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),BW=(e,t)=>{var r=Yd(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(o=>o.key===r)}}}},FW=F([NW,Ml],BW),UW=F([kt,Yv,IW,DW,MW,LW,$W,Ae,El,rC,FW,Ml,kW],(e,t,r,n,a,i,o,u,d,h,p,m,y)=>{var{chartData:v,dataStartIndex:j,dataEndIndex:w}=d;if(!(m==null||o==null||t==null||u!=="horizontal"&&u!=="vertical"||r==null||n==null||a==null||i==null||h==null)){var{data:_}=m,N;if(_!=null&&_.length>0?N=_:N=v?.slice(j,w+1),N!=null)return pW({layout:u,barSettings:m,pos:o,parentViewBox:t,bandSize:h,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:p,displayedData:N,offset:e,cells:y})}}),nC=e=>{var{chartData:t}=e,r=rt(),n=Bt();return x.useEffect(()=>n?()=>{}:(r(bk(t)),()=>{r(bk(void 0))}),[t,r,n]),null},uS={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},aC=Cr({name:"brush",initialState:uS,reducers:{setBrushSettings(e,t){return t.payload==null?uS:t.payload}}}),{setBrushSettings:VG}=aC.actions,zW=aC.reducer;function qW(e,t,r){return(t=WW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WW(e){var t=KW(e,"string");return typeof t=="symbol"?t:t+""}function KW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class j0{static create(t){return new j0(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}qW(j0,"EPS",1e-4);function VW(e){return(e%180+180)%180}var HW=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=VW(a),o=i*Math.PI/180,u=Math.atan(n/r),d=o>u&&o<Math.PI-u?n/Math.sin(o):r/Math.cos(o);return Math.abs(d)},GW={dots:[],areas:[],lines:[]},iC=Cr({name:"referenceElements",initialState:GW,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=zn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=zn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=zn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:HG,removeDot:GG,addArea:YG,removeArea:XG,addLine:JG,removeLine:QG}=iC.actions,YW=iC.reducer,XW=x.createContext(void 0),JW=e=>{var{children:t}=e,[r]=x.useState("".concat(nl("recharts"),"-clip")),n=pf();if(n==null)return null;var{x:a,y:i,width:o,height:u}=n;return x.createElement(XW.Provider,{value:r},x.createElement("defs",null,x.createElement("clipPath",{id:r},x.createElement("rect",{x:a,y:i,height:u,width:o}))),t)};function Ss(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function sC(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function QW(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return HW(n,r)}function ZW(e,t,r){var n=r==="width",{x:a,y:i,width:o,height:u}=e;return t===1?{start:n?a:i,end:n?a+o:i+u}:{start:n?a+o:i+u,end:n?a:i}}function ld(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function eK(e,t){return sC(e,t+1)}function tK(e,t,r,n,a){for(var i=(n||[]).slice(),{start:o,end:u}=t,d=0,h=1,p=o,m=function(){var j=n?.[d];if(j===void 0)return{v:sC(n,h)};var w=d,_,N=()=>(_===void 0&&(_=r(j,w)),_),A=j.coordinate,E=d===0||ld(e,A,N,p,u);E||(d=0,p=o,h+=1),E&&(p=A+e*(N()/2+a),d+=h)},y;h<=i.length;)if(y=m(),y)return y.v;return[]}function dS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dS(Object(r),!0).forEach(function(n){rK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rK(e,t,r){return(t=nK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nK(e){var t=aK(e,"string");return typeof t=="symbol"?t:t+""}function aK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iK(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,{start:u}=t,{end:d}=t,h=function(y){var v=i[y],j,w=()=>(j===void 0&&(j=r(v,y)),j);if(y===o-1){var _=e*(v.coordinate+e*w()/2-d);i[y]=v=Gt(Gt({},v),{},{tickCoord:_>0?v.coordinate-_*e:v.coordinate})}else i[y]=v=Gt(Gt({},v),{},{tickCoord:v.coordinate});var N=ld(e,v.tickCoord,w,u,d);N&&(d=v.tickCoord-e*(w()/2+a),i[y]=Gt(Gt({},v),{},{isShow:!0}))},p=o-1;p>=0;p--)h(p);return i}function sK(e,t,r,n,a,i){var o=(n||[]).slice(),u=o.length,{start:d,end:h}=t;if(i){var p=n[u-1],m=r(p,u-1),y=e*(p.coordinate+e*m/2-h);o[u-1]=p=Gt(Gt({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate});var v=ld(e,p.tickCoord,()=>m,d,h);v&&(h=p.tickCoord-e*(m/2+a),o[u-1]=Gt(Gt({},p),{},{isShow:!0}))}for(var j=i?u-1:u,w=function(A){var E=o[A],C,P=()=>(C===void 0&&(C=r(E,A)),C);if(A===0){var S=e*(E.coordinate-e*P()/2-d);o[A]=E=Gt(Gt({},E),{},{tickCoord:S<0?E.coordinate-S*e:E.coordinate})}else o[A]=E=Gt(Gt({},E),{},{tickCoord:E.coordinate});var T=ld(e,E.tickCoord,P,d,h);T&&(d=E.tickCoord+e*(P()/2+a),o[A]=Gt(Gt({},E),{},{isShow:!0}))},_=0;_<j;_++)w(_);return o}function _0(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:o,orientation:u,interval:d,tickFormatter:h,unit:p,angle:m}=e;if(!a||!a.length||!n)return[];if(fe(d)||Zn.isSsr){var y;return(y=eK(a,fe(d)?d:0))!==null&&y!==void 0?y:[]}var v=[],j=u==="top"||u==="bottom"?"width":"height",w=p&&j==="width"?Yo(p,{fontSize:t,letterSpacing:r}):{width:0,height:0},_=(E,C)=>{var P=typeof h=="function"?h(E.value,C):E.value;return j==="width"?QW(Yo(P,{fontSize:t,letterSpacing:r}),w,m):Yo(P,{fontSize:t,letterSpacing:r})[j]},N=a.length>=2?Rt(a[1].coordinate-a[0].coordinate):1,A=ZW(i,N,j);return d==="equidistantPreserveStart"?tK(N,A,_,a,o):(d==="preserveStart"||d==="preserveStartEnd"?v=sK(N,A,_,a,o,d==="preserveStartEnd"):v=iK(N,A,_,a,o),v.filter(E=>E.isShow))}var oK=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(p=>{if(p){var m=p.getBoundingClientRect();m.width>o&&(o=m.width)}});var u=r?r.getBoundingClientRect().width:0,d=a+i,h=o+d+u+(r?n:0);return Math.round(h)}return 0},lK=["axisLine","width","height","className","hide","ticks"],cK=["viewBox"],uK=["viewBox"];function lv(e,t){if(e==null)return{};var r,n,a=dK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function dK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _i(){return _i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_i.apply(null,arguments)}function fS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fS(Object(r),!0).forEach(function(n){fK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fK(e,t,r){return(t=hK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hK(e){var t=pK(e,"string");return typeof t=="symbol"?t:t+""}function pK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var k0={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function mK(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:o,axisLine:u,otherSvgProps:d}=e;if(!u)return null;var h=_t(_t(_t({},d),nr(u)),{},{fill:"none"});if(i==="top"||i==="bottom"){var p=+(i==="top"&&!o||i==="bottom"&&o);h=_t(_t({},h),{},{x1:t,y1:r+p*a,x2:t+n,y2:r+p*a})}else{var m=+(i==="left"&&!o||i==="right"&&o);h=_t(_t({},h),{},{x1:t+m*n,y1:r,x2:t+m*n,y2:r+a})}return x.createElement("line",_i({},h,{className:Te("recharts-cartesian-axis-line",vi(u,"className"))}))}function gK(e,t,r,n,a,i,o,u,d){var h,p,m,y,v,j,w=u?-1:1,_=e.tickSize||o,N=fe(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":h=p=e.coordinate,y=r+ +!u*a,m=y-w*_,j=m-w*d,v=N;break;case"left":m=y=e.coordinate,p=t+ +!u*n,h=p-w*_,v=h-w*d,j=N;break;case"right":m=y=e.coordinate,p=t+ +u*n,h=p+w*_,v=h+w*d,j=N;break;default:h=p=e.coordinate,y=r+ +u*a,m=y+w*_,j=m+w*d,v=N;break}return{line:{x1:h,y1:m,x2:p,y2:y},tick:{x:v,y:j}}}function vK(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function yK(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function xK(e){var{option:t,tickProps:r,value:n}=e,a,i=Te(r.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))a=x.cloneElement(t,_t(_t({},r),{},{className:i}));else if(typeof t=="function")a=t(_t(_t({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Te(o,t?.className)),a=x.createElement(of,_i({},r,{className:o}),n)}return a}function bK(e){var{ticks:t=[],tick:r,tickLine:n,stroke:a,tickFormatter:i,unit:o,padding:u,tickTextProps:d,orientation:h,mirror:p,x:m,y,width:v,height:j,tickSize:w,tickMargin:_,fontSize:N,letterSpacing:A,getTicksConfig:E,events:C}=e,P=_0(_t(_t({},E),{},{ticks:t}),N,A),S=vK(h,p),T=yK(h,p),I=nr(E),M=gi(r),z={};typeof n=="object"&&(z=n);var W=_t(_t({},I),{},{fill:"none"},z),H=P.map((Z,se)=>{var{line:Y,tick:le}=gK(Z,m,y,v,j,h,w,p,_),re=_t(_t(_t(_t({textAnchor:S,verticalAnchor:T},I),{},{stroke:"none",fill:a},M),le),{},{index:se,payload:Z,visibleTicksCount:P.length,tickFormatter:i,padding:u},d);return x.createElement(ct,_i({className:"recharts-cartesian-axis-tick",key:"tick-".concat(Z.value,"-").concat(Z.coordinate,"-").concat(Z.tickCoord)},yl(C,Z,se)),n&&x.createElement("line",_i({},W,Y,{className:Te("recharts-cartesian-axis-tick-line",vi(n,"className"))})),r&&x.createElement(xK,{option:r,tickProps:re,value:"".concat(typeof i=="function"?i(Z.value,se):Z.value).concat(o||"")}))});return H.length>0?x.createElement("g",{className:"recharts-cartesian-axis-ticks"},H):null}var wK=x.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:o,ticks:u}=e,d=lv(e,lK),[h,p]=x.useState(""),[m,y]=x.useState(""),v=x.useRef(null);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var w;return oK({ticks:v.current,label:(w=e.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var j=x.useCallback(w=>{if(w){var _=w.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=_;var N=_[0];if(N){var A=window.getComputedStyle(N),E=A.fontSize,C=A.letterSpacing;(E!==h||C!==m)&&(p(E),y(C))}}},[h,m]);return o||n!=null&&n<=0||a!=null&&a<=0?null:x.createElement(ct,{className:Te("recharts-cartesian-axis",i),ref:j},x.createElement(mK,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:nr(e)}),x.createElement(bK,{ticks:u,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:h,letterSpacing:m,getTicksConfig:e,events:d}),x.createElement(k7,{x:e.x,y:e.y,width:e.width,height:e.height},x.createElement(I7,{label:e.label,labelRef:e.labelRef}),e.children))}),jK=x.memo(wK,(e,t)=>{var{viewBox:r}=e,n=lv(e,cK),{viewBox:a}=t,i=lv(t,uK);return Ss(r,a)&&Ss(n,i)}),S0=x.forwardRef((e,t)=>{var r=St(e,k0);return x.createElement(jK,_i({},r,{ref:t}))});S0.displayName="CartesianAxis";var _K=["x1","y1","x2","y2","key"],kK=["offset"],SK=["xAxisId","yAxisId"],NK=["xAxisId","yAxisId"];function hS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hS(Object(r),!0).forEach(function(n){EK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EK(e,t,r){return(t=PK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PK(e){var t=OK(e,"string");return typeof t=="symbol"?t:t+""}function OK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function di(){return di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},di.apply(null,arguments)}function cd(e,t){if(e==null)return{};var r,n,a=AK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function AK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var CK=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:o,ry:u}=e;return x.createElement("rect",{x:n,y:a,ry:u,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function oC(e,t){var r;if(x.isValidElement(e))r=x.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:a,x2:i,y2:o,key:u}=t,d=cd(t,_K),h=nr(d),{offset:p}=h,m=cd(h,kK);r=x.createElement("line",di({},m,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:u}))}return r}function TK(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,u=cd(e,SK),d=a.map((h,p)=>{var m=Yt(Yt({},u),{},{x1:t,y1:h,x2:t+r,y2:h,key:"line-".concat(p),index:p});return oC(n,m)});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function RK(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,u=cd(e,NK),d=a.map((h,p)=>{var m=Yt(Yt({},u),{},{x1:h,y1:t,x2:h,y2:t+r,key:"line-".concat(p),index:p});return oC(n,m)});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function IK(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:o,horizontalPoints:u,horizontal:d=!0}=e;if(!d||!t||!t.length)return null;var h=u.map(m=>Math.round(m+a-a)).sort((m,y)=>m-y);a!==h[0]&&h.unshift(0);var p=h.map((m,y)=>{var v=!h[y+1],j=v?a+o-m:h[y+1]-m;if(j<=0)return null;var w=y%t.length;return x.createElement("rect",{key:"react-".concat(y),y:m,x:n,height:j,width:i,stroke:"none",fill:t[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function DK(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:o,height:u,verticalPoints:d}=e;if(!t||!r||!r.length)return null;var h=d.map(m=>Math.round(m+a-a)).sort((m,y)=>m-y);a!==h[0]&&h.unshift(0);var p=h.map((m,y)=>{var v=!h[y+1],j=v?a+o-m:h[y+1]-m;if(j<=0)return null;var w=y%r.length;return x.createElement("rect",{key:"react-".concat(y),x:m,y:i,width:j,height:u,stroke:"none",fill:r[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var MK=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return iP(_0(Yt(Yt(Yt({},k0),r),{},{ticks:sP(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},LK=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return iP(_0(Yt(Yt(Yt({},k0),r),{},{ticks:sP(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},$K={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function N0(e){var t=Jv(),r=Qv(),n=pP(),a=Yt(Yt({},St(e,$K)),{},{x:fe(e.x)?e.x:n.left,y:fe(e.y)?e.y:n.top,width:fe(e.width)?e.width:n.width,height:fe(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:u,y:d,width:h,height:p,syncWithTicks:m,horizontalValues:y,verticalValues:v}=a,j=Bt(),w=he(M=>dk(M,"xAxis",i,j)),_=he(M=>dk(M,"yAxis",o,j));if(!fe(h)||h<=0||!fe(p)||p<=0||!fe(u)||u!==+u||!fe(d)||d!==+d)return null;var N=a.verticalCoordinatesGenerator||MK,A=a.horizontalCoordinatesGenerator||LK,{horizontalPoints:E,verticalPoints:C}=a;if((!E||!E.length)&&typeof A=="function"){var P=y&&y.length,S=A({yAxis:_?Yt(Yt({},_),{},{ticks:P?y:_.ticks}):void 0,width:t,height:r,offset:n},P?!0:m);Uu(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(E=S)}if((!C||!C.length)&&typeof N=="function"){var T=v&&v.length,I=N({xAxis:w?Yt(Yt({},w),{},{ticks:T?v:w.ticks}):void 0,width:t,height:r,offset:n},T?!0:m);Uu(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(C=I)}return x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(CK,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),x.createElement(IK,di({},a,{horizontalPoints:E})),x.createElement(DK,di({},a,{verticalPoints:C})),x.createElement(TK,di({},a,{offset:n,horizontalPoints:E,xAxis:w,yAxis:_})),x.createElement(RK,di({},a,{offset:n,verticalPoints:C,xAxis:w,yAxis:_})))}N0.displayName="CartesianGrid";var lC=(e,t,r,n)=>kn(e,"xAxis",t,n),cC=(e,t,r,n)=>_n(e,"xAxis",t,n),uC=(e,t,r,n)=>kn(e,"yAxis",r,n),dC=(e,t,r,n)=>_n(e,"yAxis",r,n),BK=F([Ae,lC,uC,cC,dC],(e,t,r,n,a)=>En(e,"xAxis")?bi(t,n,!1):bi(r,a,!1)),FK=(e,t,r,n,a)=>a;function UK(e){return e.type==="line"}var zK=F([Cl,FK],(e,t)=>e.filter(UK).find(r=>r.id===t)),qK=F([Ae,lC,uC,cC,dC,zK,BK,El],(e,t,r,n,a,i,o,u)=>{var{chartData:d,dataStartIndex:h,dataEndIndex:p}=u;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||o==null)){var{dataKey:m,data:y}=i,v;if(y!=null&&y.length>0?v=y:v=d?.slice(h,p+1),v!=null)return dV({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:m,bandSize:o,displayedData:v})}});function fC(e){var t=gi(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:i}=t,o=Number(a),u=Number(i);return(Number.isNaN(o)||o<0)&&(o=r),(Number.isNaN(u)||u<0)&&(u=n),{r:o,strokeWidth:u}}return{r,strokeWidth:n}}var WK=["id"],KK=["type","layout","connectNulls","needClip"],VK=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function pS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pS(Object(r),!0).forEach(function(n){HK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HK(e,t,r){return(t=GK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GK(e){var t=YK(e,"string");return typeof t=="symbol"?t:t+""}function YK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E0(e,t){if(e==null)return{};var r,n,a=XK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function XK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ki(){return ki=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ki.apply(null,arguments)}var JK=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:La(r,t),payload:e}]};function QK(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:o,hide:u,unit:d}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:La(o,t),hide:u,type:e.tooltipType,color:e.stroke,unit:d}}}var hC=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function ZK(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var eV=(e,t,r)=>{var n=r.reduce((m,y)=>m+y);if(!n)return hC(t,e);for(var a=Math.floor(e/n),i=e%n,o=t-e,u=[],d=0,h=0;d<r.length;h+=r[d],++d)if(h+r[d]>i){u=[...r.slice(0,d),i-h];break}var p=u.length%2===0?[0,o]:[o];return[...ZK(r,a),...u,...p].map(m=>"".concat(m,"px")).join(", ")};function tV(e,t){var r;if(x.isValidElement(e))r=x.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=Te("recharts-line-dot",typeof e!="boolean"?e.className:"");r=x.createElement(c0,ki({},t,{className:n}))}return r}function rV(e,t){return e==null?!1:t?!0:e.length===1}function nV(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:o}=n;if(!rV(r,a))return null;var{id:u}=n,d=E0(n,WK),h=df(a),p=nr(d),m=GN(a),y=r.map((j,w)=>{var _=kr(kr(kr({key:"dot-".concat(w),r:3},p),m),{},{index:w,cx:j.x,cy:j.y,dataKey:i,value:j.value,payload:j.payload,points:r});return tV(a,_)}),v={clipPath:o?"url(#clipPath-".concat(h?"":"dots-").concat(t,")"):void 0};return x.createElement(ct,ki({className:"recharts-line-dots",key:"dots"},v),y)}function aV(e){var{showLabels:t,children:r,points:n}=e,a=x.useMemo(()=>n?.map(i=>{var o={x:i.x,y:i.y,width:0,height:0};return kr(kr({},o),{},{value:i.value,payload:i.payload,viewBox:o,parentViewBox:void 0,fill:void 0})}),[n]);return x.createElement(l0,{value:t?a:null},r)}function mS(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i}=e,{type:o,layout:u,connectNulls:d,needClip:h}=i,p=E0(i,KK),m=kr(kr({},ar(p)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(t,")"):void 0,points:n,type:o,layout:u,connectNulls:d,strokeDasharray:a??i.strokeDasharray});return x.createElement(x.Fragment,null,n?.length>1&&x.createElement(ps,ki({},m,{pathRef:r})),x.createElement(nV,{points:n,clipPathId:t,props:i}))}function iV(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function sV(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:u,isAnimationActive:d,animationBegin:h,animationDuration:p,animationEasing:m,animateNewValues:y,width:v,height:j,onAnimationEnd:w,onAnimationStart:_}=r,N=a.current,A=Is(r,"recharts-line-"),[E,C]=x.useState(!1),P=!E,S=x.useCallback(()=>{typeof w=="function"&&w(),C(!1)},[w]),T=x.useCallback(()=>{typeof _=="function"&&_(),C(!0)},[_]),I=iV(n.current),M=i.current;return x.createElement(aV,{points:o,showLabels:P},r.children,x.createElement(Rs,{animationId:A,begin:h,duration:p,isActive:d,easing:m,onAnimationEnd:S,onAnimationStart:T,key:A},z=>{var W=ze(M,I+M,z),H=Math.min(W,I),Z;if(d)if(u){var se="".concat(u).split(/[,\s]+/gim).map(re=>parseFloat(re));Z=eV(H,I,se)}else Z=hC(I,H);else Z=u==null?void 0:String(u);if(N){var Y=N.length/o.length,le=z===1?o:o.map((re,G)=>{var ie=Math.floor(G*Y);if(N[ie]){var ae=N[ie];return kr(kr({},re),{},{x:ze(ae.x,re.x,z),y:ze(ae.y,re.y,z)})}return y?kr(kr({},re),{},{x:ze(v*2,re.x,z),y:ze(j/2,re.y,z)}):kr(kr({},re),{},{x:re.x,y:re.y})});return a.current=le,x.createElement(mS,{props:r,points:le,clipPathId:t,pathRef:n,strokeDasharray:Z})}return z>0&&I>0&&(a.current=o,i.current=H),x.createElement(mS,{props:r,points:o,clipPathId:t,pathRef:n,strokeDasharray:Z})}),x.createElement(lf,{label:r.label}))}function oV(e){var{clipPathId:t,props:r}=e,n=x.useRef(null),a=x.useRef(0),i=x.useRef(null);return x.createElement(sV,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:i})}var lV=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:qe(e.payload,t)});class cV extends x.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:i,yAxisId:o,top:u,left:d,width:h,height:p,id:m,needClip:y}=this.props;if(t)return null;var v=Te("recharts-line",a),j=m,{r:w,strokeWidth:_}=fC(r),N=df(r),A=w*2+_;return x.createElement(x.Fragment,null,x.createElement(ct,{className:v},y&&x.createElement("defs",null,x.createElement(w0,{clipPathId:j,xAxisId:i,yAxisId:o}),!N&&x.createElement("clipPath",{id:"clipPath-dots-".concat(j)},x.createElement("rect",{x:d-A/2,y:u-A/2,width:h+A,height:p+A}))),x.createElement(eC,{xAxisId:i,yAxisId:o,data:n,dataPointFormatter:lV,errorBarOffset:0},x.createElement(oV,{props:this.props,clipPathId:j}))),x.createElement(iv,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var pC={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Zn.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function uV(e){var t=St(e,pC),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:u,dot:d,hide:h,isAnimationActive:p,label:m,legendType:y,xAxisId:v,yAxisId:j,id:w}=t,_=E0(t,VK),{needClip:N}=mf(v,j),A=pf(),E=jl(),C=Bt(),P=he(z=>qK(z,v,j,C,w));if(E!=="horizontal"&&E!=="vertical"||P==null||A==null)return null;var{height:S,width:T,x:I,y:M}=A;return x.createElement(cV,ki({},_,{id:w,connectNulls:u,dot:d,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:o,isAnimationActive:p,hide:h,label:m,legendType:y,xAxisId:v,yAxisId:j,points:P,layout:E,height:S,width:T,left:I,top:M,needClip:N}))}function dV(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:o,bandSize:u,displayedData:d}=e;return d.map((h,p)=>{var m=qe(h,o);if(t==="horizontal"){var y=Fu({axis:r,ticks:a,bandSize:u,entry:h,index:p}),v=Je(m)?null:n.scale(m);return{x:y,y:v,value:m,payload:h}}var j=Je(m)?null:r.scale(m),w=Fu({axis:n,ticks:i,bandSize:u,entry:h,index:p});return j==null||w==null?null:{x:j,y:w,value:m,payload:h}}).filter(Boolean)}function fV(e){var t=St(e,pC),r=Bt();return x.createElement(hf,{id:t.id,type:"line"},n=>x.createElement(x.Fragment,null,x.createElement(g0,{legendPayload:JK(t)}),x.createElement(ff,{fn:QK,args:t}),x.createElement(v0,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),x.createElement(uV,ki({},t,{id:n}))))}var cv=x.memo(fV);cv.displayName="Line";var mC=(e,t,r,n)=>kn(e,"xAxis",t,n),gC=(e,t,r,n)=>_n(e,"xAxis",t,n),vC=(e,t,r,n)=>kn(e,"yAxis",r,n),yC=(e,t,r,n)=>_n(e,"yAxis",r,n),hV=F([Ae,mC,vC,gC,yC],(e,t,r,n,a)=>En(e,"xAxis")?bi(t,n,!1):bi(r,a,!1)),pV=(e,t,r,n,a)=>a,xC=F([Cl,pV],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),mV=(e,t,r,n,a)=>{var i,o=xC(e,t,r,n,a);if(o!=null){var u=Ae(e),d=En(u,"xAxis"),h;if(d?h=hl(e,"yAxis",r,n):h=hl(e,"xAxis",t,n),h!=null){var{stackId:p}=o,m=Yd(o);if(!(p==null||m==null)){var y=(i=h[p])===null||i===void 0?void 0:i.stackedData;return y?.find(v=>v.key===m)}}}},gV=F([Ae,mC,vC,gC,yC,mV,El,hV,xC],(e,t,r,n,a,i,o,u,d)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:m}=o;if(!(d==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||a==null||n.length===0||a.length===0||u==null)){var{data:y}=d,v;if(y&&y.length>0?v=y:v=h?.slice(p,m+1),v!=null){var j=void 0;return LV({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataStartIndex:p,areaSettings:d,stackedData:i,displayedData:v,chartBaseValue:j,bandSize:u})}}}),vV=["id"],yV=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function bC(e,t){if(e==null)return{};var r,n,a=xV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function xV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function gS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Un(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gS(Object(r),!0).forEach(function(n){bV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bV(e,t,r){return(t=wV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wV(e){var t=jV(e,"string");return typeof t=="symbol"?t:t+""}function jV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wn(){return Wn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wn.apply(null,arguments)}function ud(e,t){return e&&e!=="none"?e:t}var _V=e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:ud(n,a),value:La(r,t),payload:e}]};function kV(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:o,hide:u,unit:d}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:La(o,t),hide:u,type:e.tooltipType,color:ud(n,i),unit:d}}}var SV=(e,t)=>{var r;if(x.isValidElement(e))r=x.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=Te("recharts-area-dot",typeof e!="boolean"?e.className:"");r=x.createElement(c0,Wn({},t,{className:n}))}return r};function NV(e,t){return e==null?!1:t?!0:e.length===1}function EV(e){var{clipPathId:t,points:r,props:n}=e,{needClip:a,dot:i,dataKey:o}=n;if(!NV(r,i))return null;var u=df(i),d=nr(n),h=GN(i),p=r.map((y,v)=>{var j=Un(Un(Un({key:"dot-".concat(v),r:3},d),h),{},{index:v,cx:y.x,cy:y.y,dataKey:o,value:y.value,payload:y.payload,points:r});return SV(i,j)}),m={clipPath:a?"url(#clipPath-".concat(u?"":"dots-").concat(t,")"):void 0};return x.createElement(ct,Wn({className:"recharts-area-dots"},m),p)}function PV(e){var{showLabels:t,children:r,points:n}=e,a=n.map(i=>{var o={x:i.x,y:i.y,width:0,height:0};return Un(Un({},o),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:o,fill:void 0})});return x.createElement(l0,{value:t?a:null},r)}function vS(e){var{points:t,baseLine:r,needClip:n,clipPathId:a,props:i}=e,{layout:o,type:u,stroke:d,connectNulls:h,isRange:p}=i,{id:m}=i,y=bC(i,vV),v=nr(y);return x.createElement(x.Fragment,null,t?.length>1&&x.createElement(ct,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},x.createElement(ps,Wn({},v,{id:m,points:t,connectNulls:h,type:u,baseLine:r,layout:o,stroke:"none",className:"recharts-area-area"})),d!=="none"&&x.createElement(ps,Wn({},v,{className:"recharts-area-curve",layout:o,type:u,connectNulls:h,fill:"none",points:t})),d!=="none"&&p&&x.createElement(ps,Wn({},v,{className:"recharts-area-curve",layout:o,type:u,connectNulls:h,fill:"none",points:r}))),x.createElement(EV,{points:t,props:y,clipPathId:a}))}function OV(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,i=n[0].y,o=n[n.length-1].y;if(!yt(i)||!yt(o))return null;var u=t*Math.abs(i-o),d=Math.max(...n.map(h=>h.x||0));return fe(r)?d=Math.max(r,d):r&&Array.isArray(r)&&r.length&&(d=Math.max(...r.map(h=>h.x||0),d)),fe(d)?x.createElement("rect",{x:0,y:i<o?i:i-u,width:d+(a?parseInt("".concat(a),10):1),height:Math.floor(u)}):null}function AV(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,i=n[0].x,o=n[n.length-1].x;if(!yt(i)||!yt(o))return null;var u=t*Math.abs(i-o),d=Math.max(...n.map(h=>h.y||0));return fe(r)?d=Math.max(r,d):r&&Array.isArray(r)&&r.length&&(d=Math.max(...r.map(h=>h.y||0),d)),fe(d)?x.createElement("rect",{x:i<o?i:i-u,y:0,width:u,height:Math.floor(d+(a?parseInt("".concat(a),10):1))}):null}function CV(e){var{alpha:t,layout:r,points:n,baseLine:a,strokeWidth:i}=e;return r==="vertical"?x.createElement(OV,{alpha:t,points:n,baseLine:a,strokeWidth:i}):x.createElement(AV,{alpha:t,points:n,baseLine:a,strokeWidth:i})}function TV(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i}=e,{points:o,baseLine:u,isAnimationActive:d,animationBegin:h,animationDuration:p,animationEasing:m,onAnimationStart:y,onAnimationEnd:v}=n,j=Is(n,"recharts-area-"),[w,_]=x.useState(!1),N=!w,A=x.useCallback(()=>{typeof v=="function"&&v(),_(!1)},[v]),E=x.useCallback(()=>{typeof y=="function"&&y(),_(!0)},[y]),C=a.current,P=i.current;return x.createElement(PV,{showLabels:N,points:o},n.children,x.createElement(Rs,{animationId:j,begin:h,duration:p,isActive:d,easing:m,onAnimationEnd:A,onAnimationStart:E,key:j},S=>{if(C){var T=C.length/o.length,I=S===1?o:o.map((z,W)=>{var H=Math.floor(W*T);if(C[H]){var Z=C[H];return Un(Un({},z),{},{x:ze(Z.x,z.x,S),y:ze(Z.y,z.y,S)})}return z}),M;return fe(u)?M=ze(P,u,S):Je(u)||Or(u)?M=ze(P,0,S):M=u.map((z,W)=>{var H=Math.floor(W*T);if(Array.isArray(P)&&P[H]){var Z=P[H];return Un(Un({},z),{},{x:ze(Z.x,z.x,S),y:ze(Z.y,z.y,S)})}return z}),S>0&&(a.current=I,i.current=M),x.createElement(vS,{points:I,baseLine:M,needClip:t,clipPathId:r,props:n})}return S>0&&(a.current=o,i.current=u),x.createElement(ct,null,d&&x.createElement("defs",null,x.createElement("clipPath",{id:"animationClipPath-".concat(r)},x.createElement(CV,{alpha:S,points:o,baseLine:u,layout:n.layout,strokeWidth:n.strokeWidth}))),x.createElement(ct,{clipPath:"url(#animationClipPath-".concat(r,")")},x.createElement(vS,{points:o,baseLine:u,needClip:t,clipPathId:r,props:n})))}),x.createElement(lf,{label:n.label}))}function RV(e){var{needClip:t,clipPathId:r,props:n}=e,a=x.useRef(null),i=x.useRef();return x.createElement(TV,{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i})}class IV extends x.PureComponent{render(){var{hide:t,dot:r,points:n,className:a,top:i,left:o,needClip:u,xAxisId:d,yAxisId:h,width:p,height:m,id:y,baseLine:v}=this.props;if(t)return null;var j=Te("recharts-area",a),w=y,{r:_,strokeWidth:N}=fC(r),A=df(r),E=_*2+N;return x.createElement(x.Fragment,null,x.createElement(ct,{className:j},u&&x.createElement("defs",null,x.createElement(w0,{clipPathId:w,xAxisId:d,yAxisId:h}),!A&&x.createElement("clipPath",{id:"clipPath-dots-".concat(w)},x.createElement("rect",{x:o-E/2,y:i-E/2,width:p+E,height:m+E}))),x.createElement(RV,{needClip:u,clipPathId:w,props:this.props})),x.createElement(iv,{points:n,mainColor:ud(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(v)&&x.createElement(iv,{points:v,mainColor:ud(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var wC={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!Zn.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function DV(e){var t,r=St(e,wC),{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:u,dot:d,fill:h,fillOpacity:p,hide:m,isAnimationActive:y,legendType:v,stroke:j,xAxisId:w,yAxisId:_}=r,N=bC(r,yV),A=jl(),E=SA(),{needClip:C}=mf(w,_),P=Bt(),{points:S,isRange:T,baseLine:I}=(t=he(se=>gV(se,w,_,P,e.id)))!==null&&t!==void 0?t:{},M=pf();if(A!=="horizontal"&&A!=="vertical"||M==null||E!=="AreaChart"&&E!=="ComposedChart")return null;var{height:z,width:W,x:H,y:Z}=M;return!S||!S.length?null:x.createElement(IV,Wn({},N,{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:o,baseLine:I,connectNulls:u,dot:d,fill:h,fillOpacity:p,height:z,hide:m,layout:A,isAnimationActive:y,isRange:T,legendType:v,needClip:C,points:S,stroke:j,width:W,left:H,top:Z,xAxisId:w,yAxisId:_}))}var MV=(e,t,r,n,a)=>{var i=r??t;if(fe(i))return i;var o=e==="horizontal"?a:n,u=o.scale.domain();if(o.type==="number"){var d=Math.max(u[0],u[1]),h=Math.min(u[0],u[1]);return i==="dataMin"?h:i==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return i==="dataMin"?u[0]:i==="dataMax"?u[1]:u[0]};function LV(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:a,layout:i,chartBaseValue:o,xAxis:u,yAxis:d,displayedData:h,dataStartIndex:p,xAxisTicks:m,yAxisTicks:y,bandSize:v}=e,j=a&&a.length,w=MV(i,o,r,u,d),_=i==="horizontal",N=!1,A=h.map((C,P)=>{var S;j?S=a[p+P]:(S=qe(C,n),Array.isArray(S)?N=!0:S=[w,S]);var T=S[1]==null||j&&!t&&qe(C,n)==null;return _?{x:Fu({axis:u,ticks:m,bandSize:v,entry:C,index:P}),y:T?null:d.scale(S[1]),value:S,payload:C}:{x:T?null:u.scale(S[1]),y:Fu({axis:d,ticks:y,bandSize:v,entry:C,index:P}),value:S,payload:C}}),E;return j||N?E=A.map(C=>{var P=Array.isArray(C.value)?C.value[0]:null;return _?{x:C.x,y:P!=null&&C.y!=null?d.scale(P):null,payload:C.payload}:{x:P!=null?u.scale(P):null,y:C.y,payload:C.payload}}):E=_?d.scale(w):u.scale(w),{points:A,baseLine:E,isRange:N}}function $V(e){var t=St(e,wC),r=Bt();return x.createElement(hf,{id:t.id,type:"area"},n=>x.createElement(x.Fragment,null,x.createElement(g0,{legendPayload:_V(t)}),x.createElement(ff,{fn:kV,args:t}),x.createElement(v0,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:oP(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),x.createElement(DV,Wn({},t,{id:n}))))}var jC=x.memo($V);jC.displayName="Area";var BV=["dangerouslySetInnerHTML","ticks"],FV=["id"],UV=["domain"],zV=["domain"];function uv(){return uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uv.apply(null,arguments)}function dd(e,t){if(e==null)return{};var r,n,a=qV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function WV(e){var t=rt();return x.useLayoutEffect(()=>(t(vq(e)),()=>{t(yq(e))}),[e,t]),null}var KV=e=>{var{xAxisId:t,className:r}=e,n=he(Yv),a=Bt(),i="xAxis",o=he(_=>zs(_,i,t,a)),u=he(_=>rA(_,i,t,a)),d=he(_=>QO(_,t)),h=he(_=>i8(_,t)),p=he(_=>RO(_,t));if(d==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:m,ticks:y}=e,v=dd(e,BV),{id:j}=p,w=dd(p,FV);return x.createElement(S0,uv({},v,w,{scale:o,x:h.x,y:h.y,width:d.width,height:d.height,className:Te("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:u}))},VV={allowDataOverflow:wr.allowDataOverflow,allowDecimals:wr.allowDecimals,allowDuplicatedCategory:wr.allowDuplicatedCategory,height:wr.height,hide:!1,mirror:wr.mirror,orientation:wr.orientation,padding:wr.padding,reversed:wr.reversed,scale:wr.scale,tickCount:wr.tickCount,type:wr.type,xAxisId:0},HV=e=>{var t,r,n,a,i,o=St(e,VV);return x.createElement(x.Fragment,null,x.createElement(WV,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(a=o.minTickGap)!==null&&a!==void 0?a:5,tick:(i=o.tick)!==null&&i!==void 0?i:!0,tickFormatter:o.tickFormatter}),x.createElement(KV,o))},GV=(e,t)=>{var{domain:r}=e,n=dd(e,UV),{domain:a}=t,i=dd(t,zV);return Ss(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:Ss({domain:r},{domain:a}):!1},P0=x.memo(HV,GV);P0.displayName="XAxis";var YV=["dangerouslySetInnerHTML","ticks"],XV=["id"],JV=["domain"],QV=["domain"];function dv(){return dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dv.apply(null,arguments)}function fd(e,t){if(e==null)return{};var r,n,a=ZV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ZV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function eH(e){var t=rt();return x.useLayoutEffect(()=>(t(xq(e)),()=>{t(bq(e))}),[e,t]),null}var tH=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=x.useRef(null),o=x.useRef(null),u=he(Yv),d=Bt(),h=rt(),p="yAxis",m=he(P=>zs(P,p,t,d)),y=he(P=>ZO(P,t)),v=he(P=>o8(P,t)),j=he(P=>rA(P,p,t,d)),w=he(P=>IO(P,t));if(x.useLayoutEffect(()=>{if(!(n!=="auto"||!y||o0(a)||x.isValidElement(a)||w==null)){var P=i.current;if(P){var S=P.getCalculatedWidth();Math.round(y.width)!==Math.round(S)&&h(wq({id:t,width:S}))}}},[j,y,h,a,t,n,w]),y==null||v==null||w==null)return null;var{dangerouslySetInnerHTML:_,ticks:N}=e,A=fd(e,YV),{id:E}=w,C=fd(w,XV);return x.createElement(S0,dv({},A,C,{ref:i,labelRef:o,scale:m,x:v.x,y:v.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:y.width,height:y.height,className:Te("recharts-".concat(p," ").concat(p),r),viewBox:u,ticks:j}))},rH={allowDataOverflow:jr.allowDataOverflow,allowDecimals:jr.allowDecimals,allowDuplicatedCategory:jr.allowDuplicatedCategory,hide:!1,mirror:jr.mirror,orientation:jr.orientation,padding:jr.padding,reversed:jr.reversed,scale:jr.scale,tickCount:jr.tickCount,type:jr.type,width:jr.width,yAxisId:0},nH=e=>{var t,r,n,a,i,o=St(e,rH);return x.createElement(x.Fragment,null,x.createElement(eH,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(a=o.minTickGap)!==null&&a!==void 0?a:5,tick:(i=o.tick)!==null&&i!==void 0?i:!0,tickFormatter:o.tickFormatter}),x.createElement(tH,o))},aH=(e,t)=>{var{domain:r}=e,n=fd(e,JV),{domain:a}=t,i=fd(t,QV);return Ss(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:Ss({domain:r},{domain:a}):!1},O0=x.memo(nH,aH);O0.displayName="YAxis";var Xm={exports:{}},Jm={};var yS;function iH(){if(yS)return Jm;yS=1;var e=Ns();function t(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,i=e.useEffect,o=e.useMemo,u=e.useDebugValue;return Jm.useSyncExternalStoreWithSelector=function(d,h,p,m,y){var v=a(null);if(v.current===null){var j={hasValue:!1,value:null};v.current=j}else j=v.current;v=o(function(){function _(P){if(!N){if(N=!0,A=P,P=m(P),y!==void 0&&j.hasValue){var S=j.value;if(y(S,P))return E=S}return E=P}if(S=E,r(A,P))return S;var T=m(P);return y!==void 0&&y(S,T)?(A=P,S):(A=P,E=T)}var N=!1,A,E,C=p===void 0?null:p;return[function(){return _(h())},C===null?void 0:function(){return _(C())}]},[h,p,m,y]);var w=n(d,v[0],v[1]);return i(function(){j.hasValue=!0,j.value=w},[w]),u(w),w},Jm}var xS;function sH(){return xS||(xS=1,Xm.exports=iH()),Xm.exports}sH();function oH(e){e()}function lH(){let e=null,t=null;return{clear(){e=null,t=null},notify(){oH(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var bS={notify(){},get:()=>[]};function cH(e,t){let r,n=bS,a=0,i=!1;function o(w){p();const _=n.subscribe(w);let N=!1;return()=>{N||(N=!0,_(),m())}}function u(){n.notify()}function d(){j.onStateChange&&j.onStateChange()}function h(){return i}function p(){a++,r||(r=e.subscribe(d),n=lH())}function m(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=bS)}function y(){i||(i=!0,p())}function v(){i&&(i=!1,m())}const j={addNestedSub:o,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:h,trySubscribe:y,tryUnsubscribe:v,getListeners:()=>n};return j}var uH=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dH=uH(),fH=()=>typeof navigator<"u"&&navigator.product==="ReactNative",hH=fH(),pH=()=>dH||hH?x.useLayoutEffect:x.useEffect,mH=pH(),gH=Symbol.for("react-redux-context"),vH=typeof globalThis<"u"?globalThis:{};function yH(){if(!x.createContext)return{};const e=vH[gH]??=new Map;let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var xH=yH();function bH(e){const{children:t,context:r,serverState:n,store:a}=e,i=x.useMemo(()=>{const d=cH(a);return{store:a,subscription:d,getServerState:n?()=>n:void 0}},[a,n]),o=x.useMemo(()=>a.getState(),[a]);mH(()=>{const{subscription:d}=i;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),o!==a.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[i,o]);const u=r||xH;return x.createElement(u.Provider,{value:i},t)}var wH=bH,jH=(e,t)=>t,A0=F([jH,Ae,AO,Et,xA,na,dz,kt],gz),C0=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},_C=Wr("mouseClick"),kC=bl();kC.startListening({actionCreator:_C,effect:(e,t)=>{var r=e.payload,n=A0(t.getState(),C0(r));n?.activeIndex!=null&&t.dispatch(b8({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var fv=Wr("mouseMove"),SC=bl();SC.startListening({actionCreator:fv,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=Qy(n,n.tooltip.settings.shared),i=A0(n,C0(r));a==="axis"&&(i?.activeIndex!=null?t.dispatch(uA({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(cA()))}});var wS={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},NC=Cr({name:"rootProps",initialState:wS,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:wS.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),_H=NC.reducer,{updateOptions:kH}=NC.actions,EC=Cr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:SH}=EC.actions,NH=EC.reducer,PC=Wr("keyDown"),OC=Wr("focus"),T0=bl();T0.startListening({actionCreator:PC,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number(Zy(a,Ws(r))),u=na(r);if(i==="Enter"){var d=nd(r,"axis","hover",String(a.index));t.dispatch(ev({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:d}));return}var h=d8(r),p=h==="left-to-right"?1:-1,m=i==="ArrowRight"?1:-1,y=o+m*p;if(!(u==null||y>=u.length||y<0)){var v=nd(r,"axis","hover",String(y));t.dispatch(ev({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:v}))}}}}});T0.startListening({actionCreator:OC,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",o=nd(r,"axis","hover",String(i));t.dispatch(ev({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var Ur=Wr("externalEvent"),AC=bl();AC.startListening({actionCreator:Ur,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:rz(r),activeDataKey:_A(r),activeIndex:Ta(r),activeLabel:jA(r),activeTooltipIndex:Ta(r),isTooltipActive:nz(r)};e.payload.handler(n,e.payload.reactEvent)}}});var EH=F([qs],e=>e.tooltipItemPayloads),PH=F([EH,Il,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(u=>u.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,r);return o}}}),CC=Wr("touchMove"),TC=bl();TC.startListening({actionCreator:CC,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=Qy(n,n.tooltip.settings.shared);if(a==="axis"){var i=A0(n,C0({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));i?.activeIndex!=null&&t.dispatch(uA({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var o,u=r.touches[0],d=document.elementFromPoint(u.clientX,u.clientY);if(!d||!d.getAttribute)return;var h=d.getAttribute(cP),p=(o=d.getAttribute(uP))!==null&&o!==void 0?o:void 0,m=PH(t.getState(),h,p);t.dispatch(lA({activeDataKey:p,activeIndex:h,activeCoordinate:m}))}}});var OH=TE({brush:zW,cartesianAxis:jq,chartData:Tz,errorBars:Uq,graphicalItems:U9,layout:K3,legend:X$,options:Ez,polarAxis:t9,polarOptions:NH,referenceElements:YW,rootProps:_H,tooltip:w8}),AH=function(t){return g3({reducer:OH,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([kC.middleware,SC.middleware,T0.middleware,AC.middleware,TC.middleware]),enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(WE({type:"raf"}))},devTools:Zn.devToolsEnabled})};function RC(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Bt(),i=x.useRef(null);if(a)return r;i.current==null&&(i.current=AH(t));var o=qv;return x.createElement(wH,{context:o,store:i.current},r)}function IC(e){var{layout:t,margin:r}=e,n=rt(),a=Bt();return x.useEffect(()=>{a||(n(z3(t)),n(U3(r)))},[n,a,t,r]),null}function DC(e){var t=rt();return x.useEffect(()=>{t(kH(e))},[t,e]),null}var CH=["children"];function TH(e,t){if(e==null)return{};var r,n,a=RH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function RH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function hd(){return hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hd.apply(null,arguments)}var IH={width:"100%",height:"100%",display:"block"},DH=x.forwardRef((e,t)=>{var r=Jv(),n=Qv(),a=yP();if(!bs(r)||!bs(n))return null;var{children:i,otherAttributes:o,title:u,desc:d}=e,h,p;return typeof o.tabIndex=="number"?h=o.tabIndex:h=a?0:void 0,typeof o.role=="string"?p=o.role:p=a?"application":void 0,x.createElement(Cv,hd({},o,{title:u,desc:d,role:p,tabIndex:h,width:r,height:n,style:IH,ref:t}),i)}),MH=e=>{var{children:t}=e,r=he(Md);if(!r)return null;var{width:n,height:a,y:i,x:o}=r;return x.createElement(Cv,{width:n,height:a,x:o,y:i},t)},jS=x.forwardRef((e,t)=>{var{children:r}=e,n=TH(e,CH),a=Bt();return a?x.createElement(MH,null,r):x.createElement(DH,hd({ref:t},n),r)});function LH(){var e=rt(),[t,r]=x.useState(null),n=he(x$);return x.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;yt(i)&&i!==n&&e(W3(i))}},[t,e,n]),r}function _S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $H(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_S(Object(r),!0).forEach(function(n){BH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_S(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BH(e,t,r){return(t=FH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FH(e){var t=UH(e,"string");return typeof t=="symbol"?t:t+""}function UH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Si(){return Si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Si.apply(null,arguments)}var zH=()=>(Uz(),null);function pd(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var qH=x.forwardRef((e,t)=>{var r,n,a=x.useRef(null),[i,o]=x.useState({containerWidth:pd((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:pd((n=e.style)===null||n===void 0?void 0:n.height)}),u=x.useCallback((h,p)=>{o(m=>{var y=Math.round(h),v=Math.round(p);return m.containerWidth===y&&m.containerHeight===v?m:{containerWidth:y,containerHeight:v}})},[]),d=x.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null){var{width:p,height:m}=h.getBoundingClientRect();u(p,m);var y=j=>{var{width:w,height:_}=j[0].contentRect;u(w,_)},v=new ResizeObserver(y);v.observe(h),a.current=v}},[t,u]);return x.useEffect(()=>()=>{var h=a.current;h?.disconnect()},[u]),x.createElement(x.Fragment,null,x.createElement(Bd,{width:i.containerWidth,height:i.containerHeight}),x.createElement("div",Si({ref:d},e)))}),WH=x.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=x.useState({containerWidth:pd(r),containerHeight:pd(n)}),o=x.useCallback((d,h)=>{i(p=>{var m=Math.round(d),y=Math.round(h);return p.containerWidth===m&&p.containerHeight===y?p:{containerWidth:m,containerHeight:y}})},[]),u=x.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:h,height:p}=d.getBoundingClientRect();o(h,p)}},[t,o]);return x.createElement(x.Fragment,null,x.createElement(Bd,{width:a.containerWidth,height:a.containerHeight}),x.createElement("div",Si({ref:u},e)))}),KH=x.forwardRef((e,t)=>{var{width:r,height:n}=e;return x.createElement(x.Fragment,null,x.createElement(Bd,{width:r,height:n}),x.createElement("div",Si({ref:t},e)))}),VH=x.forwardRef((e,t)=>{var{width:r,height:n}=e;return Vn(r)||Vn(n)?x.createElement(WH,Si({},e,{ref:t})):x.createElement(KH,Si({},e,{ref:t}))});function HH(e){return e===!0?qH:VH}var GH=x.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:o,onDoubleClick:u,onMouseDown:d,onMouseEnter:h,onMouseLeave:p,onMouseMove:m,onMouseUp:y,onTouchEnd:v,onTouchMove:j,onTouchStart:w,style:_,width:N,responsive:A,dispatchTouchEvents:E=!0}=e,C=x.useRef(null),P=rt(),[S,T]=x.useState(null),[I,M]=x.useState(null),z=LH(),W=Xv(),H=W?.width>0?W.width:N,Z=W?.height>0?W.height:a,se=x.useCallback(K=>{z(K),typeof t=="function"&&t(K),T(K),M(K),K!=null&&(C.current=K)},[z,t,T,M]),Y=x.useCallback(K=>{P(_C(K)),P(Ur({handler:i,reactEvent:K}))},[P,i]),le=x.useCallback(K=>{P(fv(K)),P(Ur({handler:h,reactEvent:K}))},[P,h]),re=x.useCallback(K=>{P(cA()),P(Ur({handler:p,reactEvent:K}))},[P,p]),G=x.useCallback(K=>{P(fv(K)),P(Ur({handler:m,reactEvent:K}))},[P,m]),ie=x.useCallback(()=>{P(OC())},[P]),ae=x.useCallback(K=>{P(PC(K.key))},[P]),$=x.useCallback(K=>{P(Ur({handler:o,reactEvent:K}))},[P,o]),V=x.useCallback(K=>{P(Ur({handler:u,reactEvent:K}))},[P,u]),ye=x.useCallback(K=>{P(Ur({handler:d,reactEvent:K}))},[P,d]),Ee=x.useCallback(K=>{P(Ur({handler:y,reactEvent:K}))},[P,y]),je=x.useCallback(K=>{P(Ur({handler:w,reactEvent:K}))},[P,w]),Ce=x.useCallback(K=>{E&&P(CC(K)),P(Ur({handler:j,reactEvent:K}))},[P,E,j]),Le=x.useCallback(K=>{P(Ur({handler:v,reactEvent:K}))},[P,v]),Re=HH(A);return x.createElement(AA.Provider,{value:S},x.createElement(YN.Provider,{value:I},x.createElement(Re,{width:H??_?.width,height:Z??_?.height,className:Te("recharts-wrapper",n),style:$H({position:"relative",cursor:"default",width:H,height:Z},_),onClick:Y,onContextMenu:$,onDoubleClick:V,onFocus:ie,onKeyDown:ae,onMouseDown:ye,onMouseEnter:le,onMouseLeave:re,onMouseMove:G,onMouseUp:Ee,onTouchEnd:Le,onTouchMove:Ce,onTouchStart:je,ref:se},x.createElement(zH,null),r)))}),YH=["width","height","responsive","children","className","style","compact","title","desc"];function XH(e,t){if(e==null)return{};var r,n,a=JH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function JH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var MC=x.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:o,style:u,compact:d,title:h,desc:p}=e,m=XH(e,YH),y=nr(m);return d?x.createElement(x.Fragment,null,x.createElement(Bd,{width:r,height:n}),x.createElement(jS,{otherAttributes:y,title:h,desc:p},i)):x.createElement(GH,{className:o,style:u,width:r,height:n,responsive:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(jS,{otherAttributes:y,title:h,desc:p,ref:t},x.createElement(JW,null,i)))});function hv(){return hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hv.apply(null,arguments)}var QH={top:5,right:5,bottom:5,left:5},ZH={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:QH,reverseStackOrder:!1,syncMethod:"index",responsive:!1},R0=x.forwardRef(function(t,r){var n,a=St(t.categoricalChartProps,ZH),{chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:h}=t,p={chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return x.createElement(RC,{preloadedState:{options:p},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:i},x.createElement(nC,{chartData:h.data}),x.createElement(IC,{layout:a.layout,margin:a.margin}),x.createElement(DC,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),x.createElement(MC,hv({},a,{ref:r})))}),eG=["axis"],tG=x.forwardRef((e,t)=>x.createElement(R0,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:eG,tooltipPayloadSearcher:af,categoricalChartProps:e,ref:t})),rG=["axis","item"],nG=x.forwardRef((e,t)=>x.createElement(R0,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:rG,tooltipPayloadSearcher:af,categoricalChartProps:e,ref:t}));function aG(e){var t=rt();return x.useEffect(()=>{t(SH(e))},[t,e]),null}var iG=["layout"];function pv(){return pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pv.apply(null,arguments)}function sG(e,t){if(e==null)return{};var r,n,a=oG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function oG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var lG={top:5,right:5,bottom:5,left:5},cG={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:lG,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},uG=x.forwardRef(function(t,r){var n,a=St(t.categoricalChartProps,cG),{layout:i}=a,o=sG(a,iG),{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:h,tooltipPayloadSearcher:p}=t,m={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return x.createElement(RC,{preloadedState:{options:m},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:u},x.createElement(nC,{chartData:a.data}),x.createElement(IC,{layout:i,margin:a.margin}),x.createElement(DC,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),x.createElement(aG,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),x.createElement(MC,pv({},o,{ref:r})))}),dG=["item"],fG={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},LC=x.forwardRef((e,t)=>{var r=St(e,fG);return x.createElement(uG,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:dG,tooltipPayloadSearcher:af,categoricalChartProps:r,ref:t})}),hG=["axis"],pG=x.forwardRef((e,t)=>x.createElement(R0,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:hG,tooltipPayloadSearcher:af,categoricalChartProps:e,ref:t}));function mG({data:e,type:t="line"}){if(!e||e.length===0)return c.jsx("div",{className:"flex items-center justify-center h-64 text-gray-400",children:"Aucune donne disponible"});const r=t==="line"?tG:nG;return c.jsx(Ld,{width:"100%",height:300,children:c.jsxs(r,{data:e,children:[c.jsx(N0,{strokeDasharray:"3 3",className:"stroke-gray-200 dark:stroke-gray-700"}),c.jsx(P0,{dataKey:"date",className:"text-gray-600 dark:text-gray-400",style:{fontSize:"12px"}}),c.jsx(O0,{className:"text-gray-600 dark:text-gray-400",style:{fontSize:"12px"}}),c.jsx(sf,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},labelStyle:{fontWeight:"bold",marginBottom:"4px"}}),c.jsx(Ts,{}),t==="line"?c.jsxs(c.Fragment,{children:[c.jsx(cv,{type:"monotone",dataKey:"reservations",name:"Rservations",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6}}),c.jsx(cv,{type:"monotone",dataKey:"confirmees",name:"Confirmes",stroke:"#10b981",strokeWidth:2,dot:{fill:"#10b981",r:4}})]}):c.jsxs(c.Fragment,{children:[c.jsx(ov,{dataKey:"reservations",name:"Rservations",fill:"#3b82f6"}),c.jsx(ov,{dataKey:"confirmees",name:"Confirmes",fill:"#10b981"})]})]})})}function gG({data:e}){if(!e||e.length===0)return c.jsx("div",{className:"flex items-center justify-center h-64 text-gray-400",children:"Aucune donne de revenus disponible"});const t=r=>`${r.toLocaleString()} FCFA`;return c.jsx(Ld,{width:"100%",height:300,children:c.jsxs(pG,{data:e,children:[c.jsx("defs",{children:c.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),c.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),c.jsx(N0,{strokeDasharray:"3 3",className:"stroke-gray-200 dark:stroke-gray-700"}),c.jsx(P0,{dataKey:"date",className:"text-gray-600 dark:text-gray-400",style:{fontSize:"12px"}}),c.jsx(O0,{className:"text-gray-600 dark:text-gray-400",style:{fontSize:"12px"},tickFormatter:t}),c.jsx(sf,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},formatter:t,labelStyle:{fontWeight:"bold",marginBottom:"4px"}}),c.jsx(jC,{type:"monotone",dataKey:"revenue",name:"Revenus",stroke:"#10b981",fillOpacity:1,fill:"url(#colorRevenue)"})]})})}const kS=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4"];function vG({data:e}){if(!e||e.length===0)return c.jsx("div",{className:"flex items-center justify-center h-64 text-gray-400",children:"Aucune donne de compagnies disponible"});const t=r=>`${r.value}`;return c.jsx(Ld,{width:"100%",height:300,children:c.jsxs(LC,{children:[c.jsx(x0,{data:e,cx:"50%",cy:"50%",labelLine:!1,label:t,outerRadius:100,fill:"#8884d8",dataKey:"count",nameKey:"name",children:e.map((r,n)=>c.jsx(Ks,{fill:kS[n%kS.length]},`cell-${n}`))}),c.jsx(sf,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},formatter:(r,n)=>[`${r} rservations`,n]}),c.jsx(Ts,{verticalAlign:"bottom",height:36,formatter:r=>c.jsx("span",{className:"text-sm",children:r})})]})})}const yG={"En attente":"#f59e0b",Confirme:"#10b981",Annule:"#ef4444",Expire:"#6b7280"};function xG({data:e}){if(!e||e.length===0)return c.jsx("div",{className:"flex items-center justify-center h-64 text-gray-400",children:"Aucune donne de statut disponible"});const t=r=>`${(r.value/e.reduce((a,i)=>a+i.value,0)*100).toFixed(0)}%`;return c.jsx(Ld,{width:"100%",height:300,children:c.jsxs(LC,{children:[c.jsx(x0,{data:e,cx:"50%",cy:"50%",labelLine:!1,label:t,outerRadius:100,fill:"#8884d8",dataKey:"value",nameKey:"name",children:e.map((r,n)=>c.jsx(Ks,{fill:yG[r.name]||"#6b7280"},`cell-${n}`))}),c.jsx(sf,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},formatter:r=>[`${r} rservations`]}),c.jsx(Ts,{verticalAlign:"bottom",height:36,formatter:r=>c.jsx("span",{className:"text-sm",children:r})})]})})}function bG(){const[e,t]=x.useState({totalUsers:0,totalReservations:0,totalTrajets:0,totalRevenue:0,pendingReservations:0,confirmedReservations:0,canceledReservations:0}),[r,n]=x.useState([]),[a,i]=x.useState(!0),[o,u]=x.useState({reservations:[],revenue:[],compagnies:[],status:[]});x.useEffect(()=>{d(),h(),p()},[]);const d=async()=>{try{console.log(" Loading dashboard stats...");const{count:y,error:v}=await ne.from("profiles").select("*",{count:"exact",head:!0});v&&console.error("Error loading users count:",v);const{count:j,error:w}=await ne.from("reservations").select("*",{count:"exact",head:!0});w&&console.error("Error loading reservations count:",w);const{count:_}=await ne.from("trajets").select("*",{count:"exact",head:!0}),{count:N}=await ne.from("reservations").select("*",{count:"exact",head:!0}).eq("statut","en_attente"),{count:A}=await ne.from("reservations").select("*",{count:"exact",head:!0}).eq("statut","confirmee"),{count:E}=await ne.from("reservations").select("*",{count:"exact",head:!0}).eq("statut","annulee"),{data:C}=await ne.from("reservations").select("montant_total").eq("statut_paiement","approved"),P=C?.reduce((S,T)=>S+parseFloat(T.montant_total||0),0)||0;t({totalUsers:y||0,totalReservations:j||0,totalTrajets:_||0,totalRevenue:P,pendingReservations:N||0,confirmedReservations:A||0,canceledReservations:E||0})}catch(y){console.error("Error loading stats:",y)}finally{i(!1)}},h=async()=>{try{console.log(" Loading recent reservations...");const{data:y,error:v}=await ne.from("reservations").select(`
          *,
          trajets(
            depart,
            arrivee,
            compagnies:compagnie_id(nom)
          )
        `).order("created_at",{ascending:!1}).limit(5);if(v)throw console.error(" Error loading reservations:",v),v;console.log(" Reservations loaded:",y?.length||0),console.log(" Sample data:",y?.[0]),n(y||[])}catch(y){console.error(" Exception loading recent reservations:",y),n([])}},p=async()=>{try{const{data:y}=await ne.from("reservations").select("created_at, statut, montant_total, statut_paiement, trajets(compagnies:compagnie_id(nom))").order("created_at",{ascending:!0});if(!y)return;const v=[];for(let A=6;A>=0;A--){const E=new Date;E.setDate(E.getDate()-A);const C=E.toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"}),P=y.filter(S=>new Date(S.created_at).toDateString()===E.toDateString());v.push({date:C,reservations:P.length,confirmees:P.filter(S=>S.statut==="confirmee").length})}const j=v.map(A=>({date:A.date,revenue:y.filter(E=>{const C=new Date(E.created_at),P=A.date.split("/").reverse().join("-");return C.toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"})===A.date&&E.statut_paiement==="approved"}).reduce((E,C)=>E+parseFloat(C.montant_total||0),0)})),w={};y.forEach(A=>{const E=A.trajets?.compagnies?.nom||"Autre";w[E]=(w[E]||0)+1});const _=Object.entries(w).map(([A,E])=>({name:A,count:E})).sort((A,E)=>E.count-A.count).slice(0,7),N=[{name:"En attente",value:y.filter(A=>A.statut==="en_attente").length},{name:"Confirme",value:y.filter(A=>A.statut==="confirmee").length},{name:"Annule",value:y.filter(A=>A.statut==="annulee").length},{name:"Expire",value:y.filter(A=>A.statut==="expiree").length}].filter(A=>A.value>0);u({reservations:v,revenue:j,compagnies:_,status:N})}catch(y){console.error("Error loading chart data:",y)}},m=y=>{const v={en_attente:{color:"bg-warning-light text-warning",icon:bn},confirmee:{color:"bg-success-light text-success",icon:mr},annulee:{color:"bg-error-light text-error",icon:fr}},{color:j,icon:w}=v[y]||v.en_attente;return c.jsxs("span",{className:`inline-flex items-center space-x-1 px-2 py-1 rounded text-xs font-semibold ${j}`,children:[c.jsx(w,{className:"h-3 w-3"}),c.jsx("span",{children:y})]})};return a?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):c.jsxs("div",{className:"page-container",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Dashboard Admin"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Vue d'ensemble de la plateforme Bus Bnin"})]}),c.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[c.jsx("div",{className:"card",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Utilisateurs"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.totalUsers})]}),c.jsx("div",{className:"p-3 bg-primary-light rounded-lg",children:c.jsx(vs,{className:"h-8 w-8 text-primary"})})]})}),c.jsx("div",{className:"card",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Rservations"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.totalReservations})]}),c.jsx("div",{className:"p-3 bg-success-light rounded-lg",children:c.jsx(xn,{className:"h-8 w-8 text-success"})})]})}),c.jsx("div",{className:"card",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Trajets"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.totalTrajets})]}),c.jsx("div",{className:"p-3 bg-warning-light rounded-lg",children:c.jsx(pr,{className:"h-8 w-8 text-warning"})})]})}),c.jsx("div",{className:"card",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Revenu Total"}),c.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[e.totalRevenue.toLocaleString()," FCFA"]})]}),c.jsx("div",{className:"p-3 bg-success-light rounded-lg",children:c.jsx(DN,{className:"h-8 w-8 text-success"})})]})})]}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[c.jsx("div",{className:"card border-l-4 border-warning",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"En attente"}),c.jsx("p",{className:"text-3xl font-bold text-warning",children:e.pendingReservations})]}),c.jsx(bn,{className:"h-10 w-10 text-warning"})]})}),c.jsx("div",{className:"card border-l-4 border-success",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Confirmes"}),c.jsx("p",{className:"text-3xl font-bold text-success",children:e.confirmedReservations})]}),c.jsx(mr,{className:"h-10 w-10 text-success"})]})}),c.jsx("div",{className:"card border-l-4 border-error",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Annules"}),c.jsx("p",{className:"text-3xl font-bold text-error",children:e.canceledReservations})]}),c.jsx(fr,{className:"h-10 w-10 text-error"})]})})]}),c.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[c.jsx(_e,{to:"/admin/trajets",className:"card hover:shadow-lg transition-shadow",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-primary-light rounded-lg",children:c.jsx(pr,{className:"h-6 w-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Grer les trajets"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Ajouter, modifier ou supprimer"})]})]})}),c.jsx(_e,{to:"/admin/compagnies",className:"card hover:shadow-lg transition-shadow",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-success-light rounded-lg",children:c.jsx(wM,{className:"h-6 w-6 text-success"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Grer les compagnies"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Liste des transporteurs"})]})]})}),c.jsx(_e,{to:"/admin/reservations",className:"card hover:shadow-lg transition-shadow",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-warning-light rounded-lg",children:c.jsx(xn,{className:"h-6 w-6 text-warning"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Grer les rservations"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Voir et modifier"})]})]})}),c.jsx(_e,{to:"/admin/users",className:"card hover:shadow-lg transition-shadow",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-error-light rounded-lg",children:c.jsx(vs,{className:"h-6 w-6 text-error"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Grer les utilisateurs"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Modifier les rles"})]})]})}),c.jsx(_e,{to:"/admin/destinations",className:"card hover:shadow-lg transition-shadow",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-secondary-light rounded-lg",children:c.jsx(gr,{className:"h-6 w-6 text-secondary"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Grer les destinations"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Villes et localits"})]})]})})]}),c.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 mb-8",children:[c.jsxs("div",{className:"card",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Rservations (7 derniers jours)"}),c.jsx(mG,{data:o.reservations,type:"line"})]}),c.jsxs("div",{className:"card",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Revenus (7 derniers jours)"}),c.jsx(gG,{data:o.revenue})]})]}),c.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 mb-8",children:[c.jsxs("div",{className:"card",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Rservations par compagnie"}),c.jsx(vG,{data:o.compagnies})]}),c.jsxs("div",{className:"card",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Statuts des rservations"}),c.jsx(xG,{data:o.status})]})]}),c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Rservations rcentes"}),c.jsx(_e,{to:"/admin/reservations",className:"text-primary hover:underline text-sm font-medium",children:"Voir tout"})]}),r.length===0?c.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400 py-8",children:"Aucune rservation rcente"}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[c.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Client"}),c.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Trajet"}),c.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Montant"}),c.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Statut"}),c.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Date"})]})}),c.jsx("tbody",{children:r.map(y=>c.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[c.jsxs("td",{className:"py-3 px-4",children:[c.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:y.nom_passager||"N/A"}),c.jsx("p",{className:"text-xs text-gray-500",children:y.telephone_passager})]}),c.jsx("td",{className:"py-3 px-4",children:c.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[y.trajets?.depart,"  ",y.trajets?.arrivee]})}),c.jsx("td",{className:"py-3 px-4",children:c.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[y.montant_total," FCFA"]})}),c.jsx("td",{className:"py-3 px-4",children:m(y.statut)}),c.jsx("td",{className:"py-3 px-4",children:c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:new Date(y.created_at).toLocaleDateString("fr-FR")})})]},y.id))})]})})]})]})}function wG(){const[e,t]=x.useState([]),[r,n]=x.useState([]),[a,i]=x.useState(!0),[o,u]=x.useState(!1),[d,h]=x.useState(null),[p,m]=x.useState(""),[y,v]=x.useState({depart:"",arrivee:"",prix:"",horaires:"",gare:"",compagnie_id:""});x.useEffect(()=>{j()},[]);const j=async()=>{i(!0);try{await Promise.all([w(),_()])}finally{i(!1)}},w=async()=>{const{data:S,error:T}=await ne.from("trajets").select("*, compagnies:compagnie_id(nom)").order("created_at",{ascending:!1});T||t(S||[])},_=async()=>{const{data:S,error:T}=await ne.from("compagnies").select("id, nom").order("nom");T||n(S||[])},N=async S=>{S.preventDefault();const T=y.horaires.split(",").map(M=>M.trim()).filter(M=>M),I={depart:y.depart,arrivee:y.arrivee,prix:parseFloat(y.prix),horaires:T,gare:y.gare||null,compagnie_id:y.compagnie_id||null};try{d?await ne.from("trajets").update(I).eq("id",d.id):await ne.from("trajets").insert(I),await w(),C()}catch(M){console.error("Error saving trajet:",M),alert("Erreur lors de l'enregistrement")}},A=S=>{h(S),v({depart:S.depart,arrivee:S.arrivee,prix:S.prix,horaires:S.horaires?.join(", ")||"",gare:S.gare||"",compagnie_id:S.compagnie_id||""}),u(!0)},E=async S=>{if(confirm("tes-vous sr de vouloir supprimer ce trajet ?"))try{await ne.from("trajets").delete().eq("id",S),await w()}catch(T){console.error("Error deleting trajet:",T),alert("Erreur lors de la suppression")}},C=()=>{v({depart:"",arrivee:"",prix:"",horaires:"",gare:"",compagnie_id:""}),h(null),u(!1)},P=e.filter(S=>S.depart?.toLowerCase().includes(p.toLowerCase())||S.arrivee?.toLowerCase().includes(p.toLowerCase())||S.compagnies?.nom?.toLowerCase().includes(p.toLowerCase()));return c.jsxs("div",{className:"page-container",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Gestion des trajets"}),c.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[e.length," trajet",e.length>1?"s":""," au total"]})]}),c.jsxs("button",{onClick:()=>u(!o),className:"btn-primary flex items-center space-x-2",children:[c.jsx(_d,{className:"h-5 w-5"}),c.jsx("span",{children:"Nouveau trajet"})]})]}),o&&c.jsxs("div",{className:"card mb-8",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:d?"Modifier le trajet":"Ajouter un trajet"}),c.jsxs("form",{onSubmit:N,className:"space-y-4",children:[c.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Dpart *"}),c.jsx("input",{type:"text",value:y.depart,onChange:S=>v({...y,depart:S.target.value}),required:!0,className:"input-field dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Arrive *"}),c.jsx("input",{type:"text",value:y.arrivee,onChange:S=>v({...y,arrivee:S.target.value}),required:!0,className:"input-field dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Prix (FCFA) *"}),c.jsx("input",{type:"number",value:y.prix,onChange:S=>v({...y,prix:S.target.value}),required:!0,min:"0",className:"input-field dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Compagnie"}),c.jsxs("select",{value:y.compagnie_id,onChange:S=>v({...y,compagnie_id:S.target.value}),className:"input-field dark:bg-gray-700 dark:text-white dark:border-gray-600",children:[c.jsx("option",{value:"",children:"Slectionner une compagnie"}),r.map(S=>c.jsx("option",{value:S.id,children:S.nom},S.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Gare"}),c.jsx("input",{type:"text",value:y.gare,onChange:S=>v({...y,gare:S.target.value}),className:"input-field dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Horaires (spars par des virgules)"}),c.jsx("input",{type:"text",value:y.horaires,onChange:S=>v({...y,horaires:S.target.value}),placeholder:"06:00, 09:00, 12:00",className:"input-field dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsx("button",{type:"submit",className:"btn-primary",children:d?"Mettre  jour":"Ajouter"}),c.jsx("button",{type:"button",onClick:C,className:"btn-secondary",children:"Annuler"})]})]})]}),c.jsx("div",{className:"card mb-6",children:c.jsxs("div",{className:"relative",children:[c.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",value:p,onChange:S=>m(S.target.value),placeholder:"Rechercher un trajet...",className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})}),a?c.jsx("div",{className:"text-center py-12",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"})}):c.jsx("div",{className:"card overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[c.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Trajet"}),c.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Compagnie"}),c.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Prix"}),c.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Horaires"}),c.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Note"}),c.jsx("th",{className:"text-right py-3 px-4 font-semibold",children:"Actions"})]})}),c.jsx("tbody",{children:P.map(S=>c.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800",children:[c.jsxs("td",{className:"py-3 px-4",children:[c.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[S.depart,"  ",S.arrivee]}),S.gare&&c.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Gare: ",S.gare]})]}),c.jsx("td",{className:"py-3 px-4 text-gray-700 dark:text-gray-300",children:S.compagnies?.nom||"N/A"}),c.jsxs("td",{className:"py-3 px-4 font-semibold text-primary",children:[S.prix," FCFA"]}),c.jsx("td",{className:"py-3 px-4 text-sm text-gray-600 dark:text-gray-400",children:S.horaires?.join(", ")||"N/A"}),c.jsx("td",{className:"py-3 px-4",children:c.jsxs("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:[S.note||"N/A"," (",S.nb_avis||0," avis)"]})}),c.jsx("td",{className:"py-3 px-4",children:c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsx("button",{onClick:()=>A(S),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:c.jsx(wd,{className:"h-4 w-4 text-primary"})}),c.jsx("button",{onClick:()=>E(S.id),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:c.jsx(gl,{className:"h-4 w-4 text-error"})})]})})]},S.id))})]})})]})}function jG(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,i]=x.useState(!1),[o,u]=x.useState(null),[d,h]=x.useState({nom:"",logo_url:"",telephone:"",adresse:""});x.useEffect(()=>{p()},[]);const p=async()=>{n(!0);const{data:w,error:_}=await ne.from("compagnies").select("*").order("nom");_||t(w||[]),n(!1)},m=async w=>{w.preventDefault();try{o?await ne.from("compagnies").update(d).eq("id",o.id):await ne.from("compagnies").insert(d),await p(),j()}catch(_){console.error("Error saving compagnie:",_),alert("Erreur lors de l'enregistrement")}},y=w=>{u(w),h({nom:w.nom,logo_url:w.logo_url||"",telephone:w.telephone||"",adresse:w.adresse||""}),i(!0)},v=async w=>{if(confirm("tes-vous sr de vouloir supprimer cette compagnie ?"))try{await ne.from("compagnies").delete().eq("id",w),await p()}catch(_){console.error("Error deleting compagnie:",_),alert("Erreur lors de la suppression")}},j=()=>{h({nom:"",logo_url:"",telephone:"",adresse:""}),u(null),i(!1)};return c.jsxs("div",{className:"page-container",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Gestion des compagnies"}),c.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[e.length," compagnie",e.length>1?"s":""," au total"]})]}),c.jsxs("button",{onClick:()=>i(!a),className:"btn-primary flex items-center space-x-2",children:[c.jsx(_d,{className:"h-5 w-5"}),c.jsx("span",{children:"Nouvelle compagnie"})]})]}),a&&c.jsxs("div",{className:"card mb-8",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:o?"Modifier la compagnie":"Ajouter une compagnie"}),c.jsxs("form",{onSubmit:m,className:"space-y-4",children:[c.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Nom *"}),c.jsx("input",{type:"text",value:d.nom,onChange:w=>h({...d,nom:w.target.value}),required:!0,className:"input-field dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Tlphone"}),c.jsx("input",{type:"tel",value:d.telephone,onChange:w=>h({...d,telephone:w.target.value}),className:"input-field dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"URL du logo"}),c.jsx("input",{type:"url",value:d.logo_url,onChange:w=>h({...d,logo_url:w.target.value}),placeholder:"https://...",className:"input-field dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Adresse"}),c.jsx("input",{type:"text",value:d.adresse,onChange:w=>h({...d,adresse:w.target.value}),className:"input-field dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsx("button",{type:"submit",className:"btn-primary",children:o?"Mettre  jour":"Ajouter"}),c.jsx("button",{type:"button",onClick:j,className:"btn-secondary",children:"Annuler"})]})]})]}),r?c.jsx("div",{className:"text-center py-12",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"})}):c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(w=>c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-12 h-12 bg-primary-light rounded-lg flex items-center justify-center overflow-hidden",children:w.logo_url?c.jsx("img",{src:w.logo_url,alt:w.nom,className:"w-full h-full object-cover"}):c.jsx(Kn,{className:"h-6 w-6 text-primary"})}),c.jsx("div",{children:c.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:w.nom})})]}),c.jsxs("div",{className:"flex space-x-1",children:[c.jsx("button",{onClick:()=>y(w),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:c.jsx(wd,{className:"h-4 w-4 text-primary"})}),c.jsx("button",{onClick:()=>v(w.id),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:c.jsx(gl,{className:"h-4 w-4 text-error"})})]})]}),c.jsxs("div",{className:"space-y-2 text-sm",children:[w.telephone&&c.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[c.jsx("strong",{children:"Tl:"})," ",w.telephone]}),w.adresse&&c.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[c.jsx("strong",{children:"Adresse:"})," ",w.adresse]}),c.jsxs("p",{className:"text-gray-500 dark:text-gray-500 text-xs",children:["Cre le ",new Date(w.created_at).toLocaleDateString("fr-FR")]})]})]},w.id))})]})}function _G(){const[e,t]=x.useState([]),[r,n]=x.useState([]),[a,i]=x.useState(!0),[o,u]=x.useState(""),[d,h]=x.useState("all"),[p,m]=x.useState("all"),[y,v]=x.useState(""),[j,w]=x.useState("");x.useEffect(()=>{_(),N()},[]);const _=async()=>{i(!0);try{console.log(" Loading all reservations...");const{data:S,error:T}=await ne.from("reservations").select(`
          *,
          trajets(
            depart,
            arrivee,
            compagnies:compagnie_id(nom)
          )
        `).order("created_at",{ascending:!1});if(T)throw console.error(" Error loading reservations:",T),console.error(" Error details:",{message:T.message,details:T.details,hint:T.hint,code:T.code}),T;console.log(" Reservations loaded:",S?.length||0),console.log(" First reservation:",S?.[0]),t(S||[])}catch(S){console.error(" Exception in loadReservations:",S),t([])}finally{i(!1)}},N=async()=>{try{const{data:S,error:T}=await ne.from("compagnies").select("id, nom").order("nom");if(T)throw T;n(S||[])}catch(S){console.error("Error loading compagnies:",S)}},A=async(S,T)=>{try{await ne.from("reservations").update({statut:T,updated_at:new Date().toISOString()}).eq("id",S),await _()}catch(I){console.error("Error updating reservation:",I),alert("Erreur lors de la mise  jour")}},E=S=>{const T={en_attente:{color:"bg-warning-light text-warning",icon:bn,label:"En attente"},confirmee:{color:"bg-success-light text-success",icon:mr,label:"Confirme"},annulee:{color:"bg-error-light text-error",icon:fr,label:"Annule"},expiree:{color:"bg-gray-200 text-gray-700",icon:fr,label:"Expire"}},{color:I,icon:M,label:z}=T[S]||T.en_attente;return c.jsxs("span",{className:`inline-flex items-center space-x-1 px-3 py-1 rounded-full text-sm font-semibold ${I}`,children:[c.jsx(M,{className:"h-4 w-4"}),c.jsx("span",{children:z})]})},C=S=>{const T={pending:{color:"bg-warning-light text-warning",label:"En attente"},approved:{color:"bg-success-light text-success",label:"Pay"},declined:{color:"bg-error-light text-error",label:"Refus"},canceled:{color:"bg-gray-200 text-gray-700",label:"Annul"}},{color:I,label:M}=T[S]||T.pending;return c.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${I}`,children:M})},P=e.filter(S=>{const T=S.nom_passager?.toLowerCase().includes(o.toLowerCase())||S.telephone_passager?.includes(o)||S.trajets?.depart?.toLowerCase().includes(o.toLowerCase())||S.trajets?.arrivee?.toLowerCase().includes(o.toLowerCase()),I=d==="all"||S.statut===d,M=p==="all"||S.trajets?.compagnies?.nom===p;let z=!0;if(y||j){const W=new Date(S.created_at);if(y){const H=new Date(y);H.setHours(0,0,0,0),z=z&&W>=H}if(j){const H=new Date(j);H.setHours(23,59,59,999),z=z&&W<=H}}return T&&I&&M&&z});return c.jsxs("div",{className:"page-container",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Gestion des rservations"}),c.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[e.length," rservation",e.length>1?"s":""," au total"]})]}),c.jsxs("div",{className:"card mb-6",children:[c.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-5 gap-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",value:o,onChange:S=>u(S.target.value),placeholder:"Rechercher...",className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),c.jsxs("div",{className:"relative",children:[c.jsx($N,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsxs("select",{value:d,onChange:S=>h(S.target.value),className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600",children:[c.jsx("option",{value:"all",children:"Tous les statuts"}),c.jsx("option",{value:"en_attente",children:"En attente"}),c.jsx("option",{value:"confirmee",children:"Confirme"}),c.jsx("option",{value:"annulee",children:"Annule"}),c.jsx("option",{value:"expiree",children:"Expire"})]})]}),c.jsxs("div",{className:"relative",children:[c.jsx(Nu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"date",value:y,onChange:S=>v(S.target.value),placeholder:"Date dbut",className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),c.jsxs("div",{className:"relative",children:[c.jsx(Nu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"date",value:j,onChange:S=>w(S.target.value),placeholder:"Date fin",className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),c.jsxs("div",{className:"relative",children:[c.jsx(Kn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsxs("select",{value:p,onChange:S=>m(S.target.value),className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600",children:[c.jsx("option",{value:"all",children:"Toutes les compagnies"}),r.map(S=>c.jsx("option",{value:S.nom,children:S.nom},S.id))]})]})]}),(y||j||o||d!=="all"||p!=="all")&&c.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[c.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[P.length," rsultat",P.length>1?"s":""," trouv",P.length>1?"s":""]}),c.jsx("button",{onClick:()=>{u(""),h("all"),m("all"),v(""),w("")},className:"text-sm text-primary hover:text-primary-dark font-medium",children:"Rinitialiser les filtres"})]})]}),a?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-4",children:"Chargement des rservations..."})]}):P.length===0?c.jsxs("div",{className:"card text-center py-12",children:[c.jsx(xn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Aucune rservation trouve"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:o||d!=="all"?"Essayez de modifier vos filtres de recherche":"Les rservations des clients apparatront ici"})]}):c.jsx("div",{className:"space-y-4",children:P.map(S=>c.jsx("div",{className:"card",children:c.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:S.nom_passager}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:S.telephone_passager})]}),c.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[E(S.statut),C(S.statut_paiement)]})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Compagnie"}),c.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:S.trajets?.compagnies?.nom||"N/A"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Trajet"}),c.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[S.trajets?.depart,"  ",S.trajets?.arrivee]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Horaire"}),c.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:S.horaire})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Places"}),c.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:S.nb_places})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Montant"}),c.jsxs("p",{className:"font-semibold text-primary",children:[S.montant_total," FCFA"]})]})]})]}),S.statut==="en_attente"&&c.jsxs("div",{className:"flex flex-col space-y-2",children:[c.jsx("button",{onClick:()=>A(S.id,"confirmee"),className:"btn-primary text-sm",children:"Confirmer"}),c.jsx("button",{onClick:()=>A(S.id,"annulee"),className:"btn-secondary text-sm",children:"Annuler"})]})]})},S.id))})]})}function kG(){const[e,t]=x.useState([]),[r,n]=x.useState([]),[a,i]=x.useState(!0),[o,u]=x.useState(""),[d,h]=x.useState("all"),[p,m]=x.useState(null),[y,v]=x.useState(!1);x.useEffect(()=>{j(),w()},[]);const j=async()=>{i(!0);try{console.log(" Loading users...");const{data:P,error:S}=await ne.from("profiles").select("*").order("updated_at",{ascending:!1});if(S)throw console.error(" Error loading users:",S),S;console.log(" Users loaded:",P?.length||0),console.log(" First user:",P?.[0]),t(P||[])}catch(P){console.error(" Exception in loadUsers:",P),t([])}finally{i(!1)}},w=async()=>{try{const{data:P,error:S}=await ne.from("compagnies").select("id, nom").order("nom");if(S)throw S;n(P||[])}catch(P){console.error("Error loading compagnies:",P)}},_=async(P,S)=>{try{const{error:T}=await ne.from("profiles").update({admin:S}).eq("id",P);if(T)throw T;await j(),alert("Rle mis  jour avec succs")}catch(T){console.error("Error updating user role:",T),alert("Erreur lors de la mise  jour du rle")}},N=async(P,S)=>{try{console.log(" Updating compagnie:",{userId:P,compagnieId:S});const T=S===""?null:S;console.log(" Update value:",T);const{data:I,error:M}=await ne.from("profiles").update({compagnie_id:T}).eq("id",P).select();if(M)throw console.error(" Supabase error:",M),M;console.log(" Update result:",I),await j(),alert("Compagnie mise  jour avec succs")}catch(T){console.error(" Error updating user compagnie:",T),alert(`Erreur lors de la mise  jour de la compagnie: ${T.message}`)}},A=async P=>{if(confirm("tes-vous sr de vouloir supprimer cet utilisateur ?"))try{const{error:S}=await ne.from("profiles").delete().eq("id",P);if(S)throw S;await j(),alert("Utilisateur supprim avec succs")}catch(S){console.error("Error deleting user:",S),alert("Erreur lors de la suppression. Note: Vous ne pouvez pas supprimer un utilisateur avec des rservations.")}},E=(P,S)=>{let T;P?T={color:"bg-error-light text-error",icon:fs,label:"Admin"}:S?T={color:"bg-warning-light text-warning",icon:Kn,label:"Compagnie"}:T={color:"bg-primary-light text-primary",icon:ln,label:"Utilisateur"};const{color:I,icon:M,label:z}=T;return c.jsxs("span",{className:`inline-flex items-center space-x-1 px-3 py-1 rounded-full text-sm font-semibold ${I}`,children:[c.jsx(M,{className:"h-4 w-4"}),c.jsx("span",{children:z})]})},C=e.filter(P=>{const S=P.username?.toLowerCase().includes(o.toLowerCase())||P.email?.toLowerCase().includes(o.toLowerCase())||P.full_name?.toLowerCase().includes(o.toLowerCase()),T=d==="all"||d==="admin"&&P.admin||d==="user"&&!P.admin;return S&&T});return c.jsxs("div",{className:"page-container",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Gestion des utilisateurs"}),c.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[e.length," utilisateur",e.length>1?"s":""," au total"]})]}),c.jsxs("div",{className:"card mb-6",children:[c.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",value:o,onChange:P=>u(P.target.value),placeholder:"Rechercher par nom, email...",className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),c.jsxs("div",{className:"relative",children:[c.jsx(fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsxs("select",{value:d,onChange:P=>h(P.target.value),className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600",children:[c.jsx("option",{value:"all",children:"Tous les rles"}),c.jsx("option",{value:"user",children:"Utilisateurs"}),c.jsx("option",{value:"admin",children:"Administrateurs"})]})]})]}),(o||d!=="all")&&c.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[c.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[C.length," rsultat",C.length>1?"s":""," trouv",C.length>1?"s":""]}),c.jsx("button",{onClick:()=>{u(""),h("all")},className:"text-sm text-primary hover:text-primary-dark font-medium",children:"Rinitialiser les filtres"})]})]}),a?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-4",children:"Chargement des utilisateurs..."})]}):C.length===0?c.jsxs("div",{className:"card text-center py-12",children:[c.jsx(vs,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Aucun utilisateur trouv"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:o||d!=="all"?"Essayez de modifier vos filtres de recherche":"Les utilisateurs inscrits apparatront ici"})]}):c.jsx("div",{className:"grid gap-4",children:C.map(P=>c.jsx("div",{className:"card",children:c.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[P.avatar_url?c.jsx("img",{src:P.avatar_url,alt:P.username,className:"w-12 h-12 rounded-full object-cover"}):c.jsx("div",{className:"w-12 h-12 rounded-full bg-primary-light flex items-center justify-center",children:c.jsx(ln,{className:"h-6 w-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:P.full_name||P.username||"Sans nom"}),c.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[c.jsx(Cs,{className:"h-4 w-4"}),c.jsx("span",{children:P.email||"Email non renseign"})]})]})]}),c.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[E(P.admin,P.compagnie_id),P.compagnie_id&&c.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:["ID: ",P.compagnie_id.substring(0,8)]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Nom d'utilisateur"}),c.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:P.username||"Non dfini"})]}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-gray-600 dark:text-gray-400 flex items-center space-x-1",children:[c.jsx(xn,{className:"h-4 w-4"}),c.jsx("span",{children:"Mis  jour le"})]}),c.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:new Date(P.updated_at).toLocaleDateString("fr-FR")})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"ID"}),c.jsxs("p",{className:"font-mono text-xs text-gray-900 dark:text-white truncate",children:[P.id.substring(0,8),"..."]})]})]})]}),c.jsxs("div",{className:"flex flex-col space-y-2 lg:w-56",children:[c.jsxs("select",{value:P.admin?"admin":"user",onChange:S=>_(P.id,S.target.value==="admin"),className:"input-field text-sm dark:bg-gray-700 dark:text-white dark:border-gray-600",children:[c.jsx("option",{value:"user",children:"Utilisateur"}),c.jsx("option",{value:"admin",children:"Admin"})]}),c.jsxs("select",{value:P.compagnie_id||"",onChange:S=>N(P.id,S.target.value),className:"input-field text-sm dark:bg-gray-700 dark:text-white dark:border-gray-600",disabled:P.admin,children:[c.jsx("option",{value:"",children:"Aucune compagnie"}),r.map(S=>c.jsx("option",{value:S.id,children:S.nom},S.id))]}),c.jsxs("button",{onClick:()=>A(P.id),className:"btn-secondary text-sm flex items-center justify-center space-x-2",children:[c.jsx(gl,{className:"h-4 w-4"}),c.jsx("span",{children:"Supprimer"})]})]})]})},P.id))}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mt-8",children:[c.jsx("div",{className:"card border-l-4 border-primary",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Total utilisateurs"}),c.jsx("p",{className:"text-3xl font-bold text-primary",children:e.length})]}),c.jsx(vs,{className:"h-10 w-10 text-primary"})]})}),c.jsx("div",{className:"card border-l-4 border-error",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Administrateurs"}),c.jsx("p",{className:"text-3xl font-bold text-error",children:e.filter(P=>P.admin).length})]}),c.jsx(fs,{className:"h-10 w-10 text-error"})]})}),c.jsx("div",{className:"card border-l-4 border-success",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Utilisateurs actifs"}),c.jsx("p",{className:"text-3xl font-bold text-success",children:e.filter(P=>!P.admin).length})]}),c.jsx(ln,{className:"h-10 w-10 text-success"})]})})]})]})}function SG(){const[e,t]=x.useState([]),[r,n]=x.useState([]),[a,i]=x.useState(""),[o,u]=x.useState(!0),[d,h]=x.useState(!1),[p,m]=x.useState(null),[y,v]=x.useState({nom:""}),[j,w]=x.useState(""),[_,N]=x.useState("");x.useEffect(()=>{A()},[]),x.useEffect(()=>{const T=e.filter(I=>I.nom.toLowerCase().includes(a.toLowerCase()));n(T)},[a,e]);const A=async()=>{u(!0);try{const{data:T,error:I}=await ne.from("destinations").select("*").order("nom",{ascending:!0});if(I)throw I;t(T||[]),n(T||[])}catch(T){console.error("Erreur chargement destinations:",T),w("Erreur lors du chargement des destinations")}finally{u(!1)}},E=(T=null)=>{m(T),v(T?{nom:T.nom}:{nom:""}),w(""),h(!0)},C=()=>{h(!1),m(null),v({nom:""}),w("")},P=async T=>{if(T.preventDefault(),w(""),N(""),!y.nom.trim()){w("Le nom de la destination est requis");return}try{if(p){const{error:I}=await ne.from("destinations").update({nom:y.nom.trim()}).eq("id",p.id);if(I)throw I;N("Destination modifie avec succs")}else{const{error:I}=await ne.from("destinations").insert([{nom:y.nom.trim()}]);if(I)throw I;N("Destination ajoute avec succs")}await A(),C(),setTimeout(()=>N(""),3e3)}catch(I){console.error("Erreur:",I),I.code==="23505"?w("Cette destination existe dj"):w("Erreur lors de l'enregistrement")}},S=async T=>{if(window.confirm(`tes-vous sr de vouloir supprimer "${T.nom}" ?`))try{const{error:I}=await ne.from("destinations").delete().eq("id",T.id);if(I)throw I;N("Destination supprime avec succs"),await A(),setTimeout(()=>N(""),3e3)}catch(I){console.error("Erreur suppression:",I),I.code==="23503"?w("Impossible de supprimer cette destination car elle est utilise dans des trajets"):w("Erreur lors de la suppression"),setTimeout(()=>w(""),5e3)}};return c.jsxs("div",{className:"page-container",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-3 bg-primary-light rounded-xl",children:c.jsx(gr,{className:"h-8 w-8 text-primary"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:"Gestion des Destinations"}),c.jsxs("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 mt-1",children:[e.length," destination",e.length>1?"s":""]})]})]}),c.jsxs("button",{onClick:()=>E(),className:"btn-primary flex items-center space-x-2",children:[c.jsx(_d,{className:"h-5 w-5"}),c.jsx("span",{className:"hidden sm:inline",children:"Ajouter"})]})]}),_&&c.jsx("div",{className:"mb-6 p-4 bg-success-light text-success rounded-lg",children:_}),j&&!d&&c.jsx("div",{className:"mb-6 p-4 bg-error-light text-error rounded-lg",children:j}),c.jsx("div",{className:"mb-6",children:c.jsxs("div",{className:"relative",children:[c.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Rechercher une destination...",value:a,onChange:T=>i(T.target.value),className:"input-field pl-10"})]})}),o?c.jsx("div",{className:"text-center py-12",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"})}):r.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(gr,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:a?"Aucune destination trouve":"Aucune destination"})]}):c.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:r.map(T=>c.jsx("div",{className:"card hover:shadow-lg transition-shadow",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[c.jsx("div",{className:"p-2 bg-primary-light rounded-lg flex-shrink-0",children:c.jsx(gr,{className:"h-5 w-5 text-primary"})}),c.jsx("h3",{className:"font-bold text-gray-900 dark:text-white text-base sm:text-lg truncate",children:T.nom})]}),c.jsxs("div",{className:"flex items-center space-x-1 ml-2",children:[c.jsx("button",{onClick:()=>E(T),className:"p-2 hover:bg-primary-light rounded-lg transition-colors",title:"Modifier",children:c.jsx(NM,{className:"h-4 w-4 text-primary"})}),c.jsx("button",{onClick:()=>S(T),className:"p-2 hover:bg-error-light rounded-lg transition-colors",title:"Supprimer",children:c.jsx(gl,{className:"h-4 w-4 text-error"})})]})]})},T.id))}),d&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-md",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[c.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:p?"Modifier la destination":"Ajouter une destination"}),c.jsx("button",{onClick:C,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:c.jsx(ys,{className:"h-6 w-6 text-gray-500"})})]}),c.jsxs("form",{onSubmit:P,className:"p-6",children:[j&&c.jsx("div",{className:"mb-4 p-3 bg-error-light text-error rounded-lg text-sm",children:j}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Nom de la destination *"}),c.jsx("input",{type:"text",value:y.nom,onChange:T=>v({...y,nom:T.target.value}),className:"input-field",placeholder:"Ex: Cotonou, Porto-Novo, Parakou...",required:!0})]}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsx("button",{type:"button",onClick:C,className:"flex-1 btn-outline",children:"Annuler"}),c.jsx("button",{type:"submit",className:"flex-1 btn-primary",children:p?"Modifier":"Ajouter"})]})]})]})})]})}function NG(){const{session:e}=Jt(),[t,r]=x.useState(null),[n,a]=x.useState({totalTrajets:0,totalReservations:0,revenue:0,confirmedReservations:0,pendingReservations:0,canceledReservations:0}),[i,o]=x.useState([]),[u,d]=x.useState(!0);x.useEffect(()=>{h()},[e]);const h=async()=>{if(e?.user?.id)try{const{data:v,error:j}=await ne.from("profiles").select("compagnie_id, admin, compagnies(id, nom, logo_url, telephone, adresse)").eq("id",e.user.id).single();if(j)throw j;if(v.admin&&!v.compagnie_id)return;r(v.compagnies),v.compagnie_id&&(await p(v.compagnie_id),await m(v.compagnie_id))}catch(v){console.error("Error loading compagnie data:",v)}finally{d(!1)}},p=async v=>{try{const{data:j,error:w}=await ne.from("trajets").select("id").eq("compagnie_id",v);if(w)throw w;const _=j?.map(N=>N.id)||[];if(_.length>0){const{data:N,error:A}=await ne.from("reservations").select("statut, montant_total, statut_paiement").in("trajet_id",_);if(A)throw A;const E=N?.length||0,C=N?.filter(I=>I.statut==="confirmee").length||0,P=N?.filter(I=>I.statut==="en_attente").length||0,S=N?.filter(I=>I.statut==="annulee").length||0,T=N?.filter(I=>I.statut_paiement==="approved").reduce((I,M)=>I+parseFloat(M.montant_total||0),0)||0;a({totalTrajets:j?.length||0,totalReservations:E,revenue:T,confirmedReservations:C,pendingReservations:P,canceledReservations:S})}}catch(j){console.error("Error loading stats:",j)}},m=async v=>{try{const{data:j,error:w}=await ne.from("trajets").select("id").eq("compagnie_id",v);if(w)throw w;const _=j?.map(N=>N.id)||[];if(_.length>0){const{data:N,error:A}=await ne.from("reservations").select(`
            *,
            trajets(depart, arrivee)
          `).in("trajet_id",_).order("created_at",{ascending:!1}).limit(5);if(A)throw A;o(N||[])}}catch(j){console.error("Error loading recent reservations:",j)}},y=v=>{const j={en_attente:{color:"bg-warning-light text-warning",icon:bn,label:"En attente"},confirmee:{color:"bg-success-light text-success",icon:mr,label:"Confirme"},annulee:{color:"bg-error-light text-error",icon:fr,label:"Annule"}},{color:w,icon:_,label:N}=j[v]||j.en_attente;return c.jsxs("span",{className:`inline-flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-semibold ${w}`,children:[c.jsx(_,{className:"h-3 w-3"}),c.jsx("span",{children:N})]})};return u?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t?c.jsxs("div",{className:"page-container",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[t.logo_url?c.jsx("img",{src:t.logo_url,alt:t.nom,className:"w-16 h-16 rounded-lg object-cover"}):c.jsx("div",{className:"w-16 h-16 rounded-lg bg-primary-light flex items-center justify-center",children:c.jsx(pr,{className:"h-8 w-8 text-primary"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:t.nom}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Tableau de bord de votre compagnie"})]})]})}),c.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[c.jsx("div",{className:"card border-l-4 border-primary",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Trajets actifs"}),c.jsx("p",{className:"text-3xl font-bold text-primary",children:n.totalTrajets})]}),c.jsx(pr,{className:"h-10 w-10 text-primary"})]})}),c.jsx("div",{className:"card border-l-4 border-success",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Rservations"}),c.jsx("p",{className:"text-3xl font-bold text-success",children:n.totalReservations})]}),c.jsx(xn,{className:"h-10 w-10 text-success"})]})}),c.jsx("div",{className:"card border-l-4 border-warning",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Revenu total"}),c.jsxs("p",{className:"text-3xl font-bold text-warning",children:[n.revenue.toLocaleString()," FCFA"]})]}),c.jsx(DN,{className:"h-10 w-10 text-warning"})]})}),c.jsx("div",{className:"card",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Confirmes"}),c.jsx("p",{className:"text-2xl font-bold text-success",children:n.confirmedReservations})]}),c.jsx(mr,{className:"h-8 w-8 text-success"})]})}),c.jsx("div",{className:"card",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"En attente"}),c.jsx("p",{className:"text-2xl font-bold text-warning",children:n.pendingReservations})]}),c.jsx(bn,{className:"h-8 w-8 text-warning"})]})}),c.jsx("div",{className:"card",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Annules"}),c.jsx("p",{className:"text-2xl font-bold text-error",children:n.canceledReservations})]}),c.jsx(fr,{className:"h-8 w-8 text-error"})]})})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[c.jsx(_e,{to:"/compagnie/trajets",className:"card hover:shadow-lg transition-shadow",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-primary-light rounded-lg",children:c.jsx(pr,{className:"h-6 w-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Grer mes trajets"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Voir et modifier les trajets"})]})]})}),c.jsx(_e,{to:"/compagnie/reservations",className:"card hover:shadow-lg transition-shadow",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-success-light rounded-lg",children:c.jsx(xn,{className:"h-6 w-6 text-success"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Grer les rservations"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Confirmer ou annuler"})]})]})})]}),c.jsxs("div",{className:"card",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Rservations rcentes"}),i.length===0?c.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center py-8",children:"Aucune rservation pour le moment"}):c.jsx("div",{className:"space-y-4",children:i.map(v=>c.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:v.nom_passager}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:v.telephone_passager})]}),y(v.statut)]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Trajet:"}),c.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[v.trajets?.depart,"  ",v.trajets?.arrivee]})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Places:"}),c.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:v.nb_places})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Montant:"}),c.jsxs("p",{className:"font-semibold text-primary",children:[v.montant_total," FCFA"]})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Date:"}),c.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:new Date(v.created_at).toLocaleDateString("fr-FR")})]})]})]},v.id))})]})]}):c.jsx("div",{className:"page-container",children:c.jsxs("div",{className:"card text-center py-12",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Aucune compagnie assigne"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Contactez un administrateur pour tre assign  une compagnie."})]})})}function EG(){const{session:e}=Jt(),[t,r]=x.useState([]),[n,a]=x.useState(null),[i,o]=x.useState(!0),[u,d]=x.useState(""),[h,p]=x.useState(!1),[m,y]=x.useState(null),[v,j]=x.useState({depart:"",arrivee:"",prix:"",gare:"",horaires:[""]});x.useEffect(()=>{w()},[e]);const w=async()=>{if(e?.user?.id)try{const{data:M,error:z}=await ne.from("profiles").select("compagnie_id").eq("id",e.user.id).single();if(z)throw z;M.compagnie_id&&(a(M.compagnie_id),await _(M.compagnie_id))}catch(M){console.error("Error loading:",M)}finally{o(!1)}},_=async M=>{try{const{data:z,error:W}=await ne.from("trajets").select("*").eq("compagnie_id",M).order("created_at",{ascending:!1});if(W)throw W;r(z||[])}catch(z){console.error("Error loading trajets:",z),r([])}},N=(M=null)=>{M?(y(M),j({depart:M.depart,arrivee:M.arrivee,prix:M.prix,gare:M.gare||"",horaires:M.horaires||[""]})):(y(null),j({depart:"",arrivee:"",prix:"",gare:"",horaires:[""]})),p(!0)},A=()=>{p(!1),y(null),j({depart:"",arrivee:"",prix:"",gare:"",horaires:[""]})},E=()=>{j({...v,horaires:[...v.horaires,""]})},C=M=>{const z=v.horaires.filter((W,H)=>H!==M);j({...v,horaires:z.length>0?z:[""]})},P=(M,z)=>{const W=[...v.horaires];W[M]=z,j({...v,horaires:W})},S=async M=>{M.preventDefault();try{const z=v.horaires.filter(H=>H.trim()!==""),W={depart:v.depart,arrivee:v.arrivee,prix:parseFloat(v.prix),gare:v.gare||null,horaires:z.length>0?z:null,compagnie_id:n};if(m){const{error:H}=await ne.from("trajets").update(W).eq("id",m.id);if(H)throw H;alert("Trajet modifi avec succs")}else{const{error:H}=await ne.from("trajets").insert([W]);if(H)throw H;alert("Trajet ajout avec succs")}A(),await _(n)}catch(z){console.error("Error saving trajet:",z),alert("Erreur lors de l'enregistrement : "+z.message)}},T=async M=>{if(confirm("tes-vous sr de vouloir supprimer ce trajet ?"))try{const{error:z}=await ne.from("trajets").delete().eq("id",M);if(z)throw z;alert("Trajet supprim avec succs"),await _(n)}catch(z){console.error("Error deleting trajet:",z),alert("Erreur lors de la suppression : "+z.message)}},I=t.filter(M=>M.depart?.toLowerCase().includes(u.toLowerCase())||M.arrivee?.toLowerCase().includes(u.toLowerCase())||M.gare?.toLowerCase().includes(u.toLowerCase()));return i?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n?c.jsxs("div",{className:"page-container",children:[c.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Trajets de ma compagnie"}),c.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[t.length," trajet",t.length>1?"s":""," disponible",t.length>1?"s":""]})]}),c.jsxs("button",{onClick:()=>N(),className:"btn-primary flex items-center space-x-2",children:[c.jsx(_d,{className:"h-5 w-5"}),c.jsx("span",{children:"Ajouter un trajet"})]})]}),c.jsxs("div",{className:"card mb-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",value:u,onChange:M=>d(M.target.value),placeholder:"Rechercher un trajet (dpart, arrive, gare)...",className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),u&&c.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[c.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[I.length," rsultat",I.length>1?"s":""," trouv",I.length>1?"s":""]}),c.jsx("button",{onClick:()=>d(""),className:"text-sm text-primary hover:text-primary-dark font-medium",children:"Rinitialiser"})]})]}),I.length===0?c.jsxs("div",{className:"card text-center py-12",children:[c.jsx(pr,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Aucun trajet trouv"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:u?"Essayez de modifier votre recherche":"Les trajets de votre compagnie apparatront ici"})]}):c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:I.map(M=>c.jsxs("div",{className:"card hover:shadow-lg transition-shadow",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-2 bg-primary-light rounded-lg",children:c.jsx(pr,{className:"h-5 w-5 text-primary"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:M.depart}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Dpart"})]})]}),c.jsx("div",{className:"text-primary font-bold text-xl",children:""})]}),c.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[c.jsx("div",{className:"p-2 bg-success-light rounded-lg",children:c.jsx(gr,{className:"h-5 w-5 text-success"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:M.arrivee}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Arrive"})]})]}),c.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Prix"}),c.jsxs("span",{className:"font-bold text-primary text-lg",children:[M.prix," FCFA"]})]}),M.gare&&c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Gare"}),c.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:M.gare})]}),M.horaires&&Array.isArray(M.horaires)&&M.horaires.length>0&&c.jsxs("div",{children:[c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2 block",children:"Horaires disponibles"}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[M.horaires.slice(0,4).map((z,W)=>c.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded text-xs font-semibold text-gray-900 dark:text-white",children:z},W)),M.horaires.length>4&&c.jsxs("span",{className:"px-2 py-1 text-xs text-gray-600 dark:text-gray-400",children:["+",M.horaires.length-4]})]})]}),M.note>0&&c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Note"}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx("span",{className:"font-semibold text-warning",children:M.note.toFixed(1)}),c.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["(",M.nb_avis," avis)"]})]})]}),c.jsxs("div",{className:"flex space-x-2 pt-3 mt-3 border-t border-gray-200 dark:border-gray-700",children:[c.jsxs("button",{onClick:()=>N(M),className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors",children:[c.jsx(wd,{className:"h-4 w-4"}),c.jsx("span",{children:"Modifier"})]}),c.jsxs("button",{onClick:()=>T(M.id),className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-error text-white rounded-lg hover:bg-error-dark transition-colors",children:[c.jsx(gl,{className:"h-4 w-4"}),c.jsx("span",{children:"Supprimer"})]})]})]})]},M.id))}),h&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:m?"Modifier le trajet":"Ajouter un trajet"}),c.jsx("button",{onClick:A,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:c.jsx(ys,{className:"h-6 w-6"})})]}),c.jsxs("form",{onSubmit:S,className:"space-y-4",children:[c.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Ville de dpart *"}),c.jsx("input",{type:"text",required:!0,value:v.depart,onChange:M=>j({...v,depart:M.target.value}),className:"input-field dark:bg-gray-700 dark:text-white dark:border-gray-600",placeholder:"Ex: Cotonou"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Ville d'arrive *"}),c.jsx("input",{type:"text",required:!0,value:v.arrivee,onChange:M=>j({...v,arrivee:M.target.value}),className:"input-field dark:bg-gray-700 dark:text-white dark:border-gray-600",placeholder:"Ex: Porto-Novo"})]})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Prix (FCFA) *"}),c.jsx("input",{type:"number",required:!0,min:"0",value:v.prix,onChange:M=>j({...v,prix:M.target.value}),className:"input-field dark:bg-gray-700 dark:text-white dark:border-gray-600",placeholder:"Ex: 1500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Gare (optionnel)"}),c.jsx("input",{type:"text",value:v.gare,onChange:M=>j({...v,gare:M.target.value}),className:"input-field dark:bg-gray-700 dark:text-white dark:border-gray-600",placeholder:"Ex: Gare de Jonquet"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Horaires (optionnel)"}),v.horaires.map((M,z)=>c.jsxs("div",{className:"flex space-x-2 mb-2",children:[c.jsx("input",{type:"time",value:M,onChange:W=>P(z,W.target.value),className:"input-field flex-1 dark:bg-gray-700 dark:text-white dark:border-gray-600"}),v.horaires.length>1&&c.jsx("button",{type:"button",onClick:()=>C(z),className:"px-3 py-2 bg-error text-white rounded-lg hover:bg-error-dark transition-colors",children:c.jsx(ys,{className:"h-5 w-5"})})]},z)),c.jsx("button",{type:"button",onClick:E,className:"text-sm text-primary hover:text-primary-dark font-medium",children:"+ Ajouter un horaire"})]}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[c.jsx("button",{type:"button",onClick:A,className:"px-6 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:"Annuler"}),c.jsx("button",{type:"submit",className:"btn-primary",children:m?"Modifier":"Ajouter"})]})]})]})})})]}):c.jsx("div",{className:"page-container",children:c.jsxs("div",{className:"card text-center py-12",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Aucune compagnie assigne"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Contactez un administrateur pour tre assign  une compagnie."})]})})}function PG(){const{session:e}=Jt(),[t,r]=x.useState([]),[n,a]=x.useState(null),[i,o]=x.useState(!0),[u,d]=x.useState(""),[h,p]=x.useState("all"),[m,y]=x.useState(""),[v,j]=x.useState("");x.useEffect(()=>{w()},[e]);const w=async()=>{if(e?.user?.id)try{const{data:P,error:S}=await ne.from("profiles").select("compagnie_id").eq("id",e.user.id).single();if(S)throw S;P.compagnie_id&&(a(P.compagnie_id),await _(P.compagnie_id))}catch(P){console.error("Error loading:",P)}finally{o(!1)}},_=async P=>{try{const{data:S,error:T}=await ne.from("trajets").select("id").eq("compagnie_id",P);if(T)throw T;const I=S?.map(M=>M.id)||[];if(I.length>0){const{data:M,error:z}=await ne.from("reservations").select(`
            *,
            trajets(depart, arrivee)
          `).in("trajet_id",I).order("created_at",{ascending:!1});if(z)throw z;r(M||[])}}catch(S){console.error("Error loading reservations:",S),r([])}},N=async(P,S)=>{try{await ne.from("reservations").update({statut:S,updated_at:new Date().toISOString()}).eq("id",P),await w()}catch(T){console.error("Error updating reservation:",T),alert("Erreur lors de la mise  jour")}},A=P=>{const S={en_attente:{color:"bg-warning-light text-warning",icon:bn,label:"En attente"},confirmee:{color:"bg-success-light text-success",icon:mr,label:"Confirme"},annulee:{color:"bg-error-light text-error",icon:fr,label:"Annule"},expiree:{color:"bg-gray-200 text-gray-700",icon:fr,label:"Expire"}},{color:T,icon:I,label:M}=S[P]||S.en_attente;return c.jsxs("span",{className:`inline-flex items-center space-x-1 px-3 py-1 rounded-full text-sm font-semibold ${T}`,children:[c.jsx(I,{className:"h-4 w-4"}),c.jsx("span",{children:M})]})},E=P=>{const S={pending:{color:"bg-warning-light text-warning",label:"En attente"},approved:{color:"bg-success-light text-success",label:"Pay"},declined:{color:"bg-error-light text-error",label:"Refus"},canceled:{color:"bg-gray-200 text-gray-700",label:"Annul"}},{color:T,label:I}=S[P]||S.pending;return c.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${T}`,children:I})},C=t.filter(P=>{const S=P.nom_passager?.toLowerCase().includes(u.toLowerCase())||P.telephone_passager?.includes(u)||P.trajets?.depart?.toLowerCase().includes(u.toLowerCase())||P.trajets?.arrivee?.toLowerCase().includes(u.toLowerCase()),T=h==="all"||P.statut===h;let I=!0;if(m||v){const M=new Date(P.created_at);if(m){const z=new Date(m);z.setHours(0,0,0,0),I=I&&M>=z}if(v){const z=new Date(v);z.setHours(23,59,59,999),I=I&&M<=z}}return S&&T&&I});return i?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n?c.jsxs("div",{className:"page-container",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Rservations de ma compagnie"}),c.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[t.length," rservation",t.length>1?"s":""," au total"]})]}),c.jsxs("div",{className:"card mb-6",children:[c.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",value:u,onChange:P=>d(P.target.value),placeholder:"Rechercher...",className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),c.jsxs("div",{className:"relative",children:[c.jsx($N,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsxs("select",{value:h,onChange:P=>p(P.target.value),className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600",children:[c.jsx("option",{value:"all",children:"Tous les statuts"}),c.jsx("option",{value:"en_attente",children:"En attente"}),c.jsx("option",{value:"confirmee",children:"Confirme"}),c.jsx("option",{value:"annulee",children:"Annule"}),c.jsx("option",{value:"expiree",children:"Expire"})]})]}),c.jsxs("div",{className:"relative",children:[c.jsx(Nu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"date",value:m,onChange:P=>y(P.target.value),placeholder:"Date dbut",className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),c.jsxs("div",{className:"relative",children:[c.jsx(Nu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"date",value:v,onChange:P=>j(P.target.value),placeholder:"Date fin",className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]}),(m||v||u||h!=="all")&&c.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[c.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[C.length," rsultat",C.length>1?"s":""," trouv",C.length>1?"s":""]}),c.jsx("button",{onClick:()=>{d(""),p("all"),y(""),j("")},className:"text-sm text-primary hover:text-primary-dark font-medium",children:"Rinitialiser les filtres"})]})]}),C.length===0?c.jsxs("div",{className:"card text-center py-12",children:[c.jsx(xn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Aucune rservation trouve"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:u||h!=="all"?"Essayez de modifier vos filtres de recherche":"Les rservations des clients apparatront ici"})]}):c.jsx("div",{className:"space-y-4",children:C.map(P=>c.jsx("div",{className:"card",children:c.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:P.nom_passager}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:P.telephone_passager})]}),c.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[A(P.statut),E(P.statut_paiement)]})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Trajet"}),c.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[P.trajets?.depart,"  ",P.trajets?.arrivee]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Horaire"}),c.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:P.horaire})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Places"}),c.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:P.nb_places})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Montant"}),c.jsxs("p",{className:"font-semibold text-primary",children:[P.montant_total," FCFA"]})]})]})]}),P.statut==="en_attente"&&c.jsxs("div",{className:"flex flex-col space-y-2",children:[c.jsx("button",{onClick:()=>N(P.id,"confirmee"),className:"btn-primary text-sm",children:"Confirmer"}),c.jsx("button",{onClick:()=>N(P.id,"annulee"),className:"btn-secondary text-sm",children:"Annuler"})]})]})},P.id))})]}):c.jsx("div",{className:"page-container",children:c.jsxs("div",{className:"card text-center py-12",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Aucune compagnie assigne"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Contactez un administrateur pour tre assign  une compagnie."})]})})}function OG(){return c.jsx("div",{className:"min-h-screen flex items-center justify-center px-4",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-9xl font-bold text-primary mb-4",children:"404"}),c.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Page non trouve"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8 max-w-md",children:"Dsol, la page que vous recherchez n'existe pas ou a t dplace."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[c.jsxs(_e,{to:"/",className:"btn-primary flex items-center justify-center space-x-2",children:[c.jsx(_M,{className:"h-5 w-5"}),c.jsx("span",{children:"Retour  l'accueil"})]}),c.jsxs(_e,{to:"/trajets",className:"btn-outline flex items-center justify-center space-x-2",children:[c.jsx(cn,{className:"h-5 w-5"}),c.jsx("span",{children:"Rechercher des trajets"})]})]})]})})}function zo({children:e}){const{session:t,loading:r}=Jt();return r?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t?e:c.jsx(Qo,{to:"/login",replace:!0})}function AG(){const e=Ni();return x.useEffect(()=>{console.log(" React Router pathname:",e.pathname),console.log(" Window location:",window.location.href)},[e]),c.jsx(LR,{children:c.jsxs(Ze,{path:"/",element:c.jsx(IM,{}),children:[c.jsx(Ze,{index:!0,element:c.jsx(DM,{})}),c.jsx(Ze,{path:"trajets",element:c.jsx(MM,{})}),c.jsx(Ze,{path:"trajet/:id",element:c.jsx(LM,{})}),c.jsx(Ze,{path:"compagnies",element:c.jsx($M,{})}),c.jsx(Ze,{path:"compagnies/:id",element:c.jsx(BM,{})}),c.jsx(Ze,{path:"login",element:c.jsx(WM,{})}),c.jsx(Ze,{path:"register",element:c.jsx(KM,{})}),c.jsx(Ze,{path:"reservation/:id",element:c.jsx(zo,{children:c.jsx(zM,{})})}),c.jsx(Ze,{path:"profile",element:c.jsx(zo,{children:c.jsx(VM,{})})}),c.jsx(Ze,{path:"reservations",element:c.jsx(zo,{children:c.jsx(HM,{})})}),c.jsx(Ze,{path:"favorites",element:c.jsx(zo,{children:c.jsx(GM,{})})}),c.jsx(Ze,{path:"payment/:id",element:c.jsx(zo,{children:c.jsx(qM,{})})}),c.jsx(Ze,{path:"admin",element:c.jsx(is,{children:c.jsx(bG,{})})}),c.jsx(Ze,{path:"admin/trajets",element:c.jsx(is,{children:c.jsx(wG,{})})}),c.jsx(Ze,{path:"admin/compagnies",element:c.jsx(is,{children:c.jsx(jG,{})})}),c.jsx(Ze,{path:"admin/reservations",element:c.jsx(is,{children:c.jsx(_G,{})})}),c.jsx(Ze,{path:"admin/users",element:c.jsx(is,{children:c.jsx(kG,{})})}),c.jsx(Ze,{path:"admin/destinations",element:c.jsx(is,{children:c.jsx(SG,{})})}),c.jsx(Ze,{path:"compagnie",element:c.jsx(jp,{children:c.jsx(NG,{})})}),c.jsx(Ze,{path:"compagnie/trajets",element:c.jsx(jp,{children:c.jsx(EG,{})})}),c.jsx(Ze,{path:"compagnie/reservations",element:c.jsx(jp,{children:c.jsx(PG,{})})}),c.jsx(Ze,{path:"*",element:c.jsx(OG,{})})]})})}qT.createRoot(document.getElementById("root")).render(c.jsx(NS.StrictMode,{children:c.jsx(KR,{children:c.jsx(gM,{children:c.jsx(vM,{children:c.jsx(AG,{})})})})}));
