function kS(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function ln(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function IT(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var a=!1;try{a=this instanceof n}catch{}return a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var np={exports:{}},Co={},ap={exports:{}},Ne={};var _w;function DT(){if(_w)return Ne;_w=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function v(L){return L===null||typeof L!="object"?null:(L=m&&L[m]||L["@@iterator"],typeof L=="function"?L:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,w={};function _(L,K,ye){this.props=L,this.context=K,this.refs=w,this.updater=ye||y}_.prototype.isReactComponent={},_.prototype.setState=function(L,K){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,K,"setState")},_.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function E(){}E.prototype=_.prototype;function A(L,K,ye){this.props=L,this.context=K,this.refs=w,this.updater=ye||y}var P=A.prototype=new E;P.constructor=A,j(P,_.prototype),P.isPureReactComponent=!0;var C=Array.isArray,N=Object.prototype.hasOwnProperty,S={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function M(L,K,ye){var Ee,je={},Ce=null,Le=null;if(K!=null)for(Ee in K.ref!==void 0&&(Le=K.ref),K.key!==void 0&&(Ce=""+K.key),K)N.call(K,Ee)&&!T.hasOwnProperty(Ee)&&(je[Ee]=K[Ee]);var Re=arguments.length-2;if(Re===1)je.children=ye;else if(1<Re){for(var q=Array(Re),we=0;we<Re;we++)q[we]=arguments[we+2];je.children=q}if(L&&L.defaultProps)for(Ee in Re=L.defaultProps,Re)je[Ee]===void 0&&(je[Ee]=Re[Ee]);return{$$typeof:e,type:L,key:Ce,ref:Le,props:je,_owner:S.current}}function z(L,K){return{$$typeof:e,type:L.type,key:K,ref:L.ref,props:L.props,_owner:L._owner}}function W(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function V(L){var K={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ye){return K[ye]})}var Y=/\/+/g;function Z(L,K){return typeof L=="object"&&L!==null&&L.key!=null?V(""+L.key):K.toString(36)}function se(L,K,ye,Ee,je){var Ce=typeof L;(Ce==="undefined"||Ce==="boolean")&&(L=null);var Le=!1;if(L===null)Le=!0;else switch(Ce){case"string":case"number":Le=!0;break;case"object":switch(L.$$typeof){case e:case t:Le=!0}}if(Le)return Le=L,je=je(Le),L=Ee===""?"."+Z(Le,0):Ee,C(je)?(ye="",L!=null&&(ye=L.replace(Y,"$&/")+"/"),se(je,K,ye,"",function(we){return we})):je!=null&&(W(je)&&(je=z(je,ye+(!je.key||Le&&Le.key===je.key?"":(""+je.key).replace(Y,"$&/")+"/")+L)),K.push(je)),1;if(Le=0,Ee=Ee===""?".":Ee+":",C(L))for(var Re=0;Re<L.length;Re++){Ce=L[Re];var q=Ee+Z(Ce,Re);Le+=se(Ce,K,ye,q,je)}else if(q=v(L),typeof q=="function")for(L=q.call(L),Re=0;!(Ce=L.next()).done;)Ce=Ce.value,q=Ee+Z(Ce,Re++),Le+=se(Ce,K,ye,q,je);else if(Ce==="object")throw K=String(L),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return Le}function G(L,K,ye){if(L==null)return L;var Ee=[],je=0;return se(L,Ee,"","",function(Ce){return K.call(ye,Ce,je++)}),Ee}function le(L){if(L._status===-1){var K=L._result;K=K(),K.then(function(ye){(L._status===0||L._status===-1)&&(L._status=1,L._result=ye)},function(ye){(L._status===0||L._status===-1)&&(L._status=2,L._result=ye)}),L._status===-1&&(L._status=0,L._result=K)}if(L._status===1)return L._result.default;throw L._result}var re={current:null},H={transition:null},ae={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:H,ReactCurrentOwner:S};function ne(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:G,forEach:function(L,K,ye){G(L,function(){K.apply(this,arguments)},ye)},count:function(L){var K=0;return G(L,function(){K++}),K},toArray:function(L){return G(L,function(K){return K})||[]},only:function(L){if(!W(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ne.Component=_,Ne.Fragment=r,Ne.Profiler=a,Ne.PureComponent=A,Ne.StrictMode=n,Ne.Suspense=d,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,Ne.act=ne,Ne.cloneElement=function(L,K,ye){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var Ee=j({},L.props),je=L.key,Ce=L.ref,Le=L._owner;if(K!=null){if(K.ref!==void 0&&(Ce=K.ref,Le=S.current),K.key!==void 0&&(je=""+K.key),L.type&&L.type.defaultProps)var Re=L.type.defaultProps;for(q in K)N.call(K,q)&&!T.hasOwnProperty(q)&&(Ee[q]=K[q]===void 0&&Re!==void 0?Re[q]:K[q])}var q=arguments.length-2;if(q===1)Ee.children=ye;else if(1<q){Re=Array(q);for(var we=0;we<q;we++)Re[we]=arguments[we+2];Ee.children=Re}return{$$typeof:e,type:L.type,key:je,ref:Ce,props:Ee,_owner:Le}},Ne.createContext=function(L){return L={$$typeof:l,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:i,_context:L},L.Consumer=L},Ne.createElement=M,Ne.createFactory=function(L){var K=M.bind(null,L);return K.type=L,K},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(L){return{$$typeof:c,render:L}},Ne.isValidElement=W,Ne.lazy=function(L){return{$$typeof:p,_payload:{_status:-1,_result:L},_init:le}},Ne.memo=function(L,K){return{$$typeof:h,type:L,compare:K===void 0?null:K}},Ne.startTransition=function(L){var K=H.transition;H.transition={};try{L()}finally{H.transition=K}},Ne.unstable_act=ne,Ne.useCallback=function(L,K){return re.current.useCallback(L,K)},Ne.useContext=function(L){return re.current.useContext(L)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(L){return re.current.useDeferredValue(L)},Ne.useEffect=function(L,K){return re.current.useEffect(L,K)},Ne.useId=function(){return re.current.useId()},Ne.useImperativeHandle=function(L,K,ye){return re.current.useImperativeHandle(L,K,ye)},Ne.useInsertionEffect=function(L,K){return re.current.useInsertionEffect(L,K)},Ne.useLayoutEffect=function(L,K){return re.current.useLayoutEffect(L,K)},Ne.useMemo=function(L,K){return re.current.useMemo(L,K)},Ne.useReducer=function(L,K,ye){return re.current.useReducer(L,K,ye)},Ne.useRef=function(L){return re.current.useRef(L)},Ne.useState=function(L){return re.current.useState(L)},Ne.useSyncExternalStore=function(L,K,ye){return re.current.useSyncExternalStore(L,K,ye)},Ne.useTransition=function(){return re.current.useTransition()},Ne.version="18.3.1",Ne}var kw;function _s(){return kw||(kw=1,ap.exports=DT()),ap.exports}var Sw;function MT(){if(Sw)return Co;Sw=1;var e=_s(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,h){var p,m={},v=null,y=null;h!==void 0&&(v=""+h),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(y=d.ref);for(p in d)n.call(d,p)&&!i.hasOwnProperty(p)&&(m[p]=d[p]);if(c&&c.defaultProps)for(p in d=c.defaultProps,d)m[p]===void 0&&(m[p]=d[p]);return{$$typeof:t,type:c,key:v,ref:y,props:m,_owner:a.current}}return Co.Fragment=r,Co.jsx=l,Co.jsxs=l,Co}var Ew;function LT(){return Ew||(Ew=1,np.exports=MT()),np.exports}var u=LT(),x=_s();const SS=ln(x),ES=kS({__proto__:null,default:SS},[x]);var qc={},ip={exports:{}},ur={},sp={exports:{}},op={};var Pw;function $T(){return Pw||(Pw=1,(function(e){function t(H,ae){var ne=H.length;H.push(ae);e:for(;0<ne;){var L=ne-1>>>1,K=H[L];if(0<a(K,ae))H[L]=ae,H[ne]=K,ne=L;else break e}}function r(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var ae=H[0],ne=H.pop();if(ne!==ae){H[0]=ne;e:for(var L=0,K=H.length,ye=K>>>1;L<ye;){var Ee=2*(L+1)-1,je=H[Ee],Ce=Ee+1,Le=H[Ce];if(0>a(je,ne))Ce<K&&0>a(Le,je)?(H[L]=Le,H[Ce]=ne,L=Ce):(H[L]=je,H[Ee]=ne,L=Ee);else if(Ce<K&&0>a(Le,ne))H[L]=Le,H[Ce]=ne,L=Ce;else break e}}return ae}function a(H,ae){var ne=H.sortIndex-ae.sortIndex;return ne!==0?ne:H.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var d=[],h=[],p=1,m=null,v=3,y=!1,j=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(H){for(var ae=r(h);ae!==null;){if(ae.callback===null)n(h);else if(ae.startTime<=H)n(h),ae.sortIndex=ae.expirationTime,t(d,ae);else break;ae=r(h)}}function C(H){if(w=!1,P(H),!j)if(r(d)!==null)j=!0,le(N);else{var ae=r(h);ae!==null&&re(C,ae.startTime-H)}}function N(H,ae){j=!1,w&&(w=!1,E(M),M=-1),y=!0;var ne=v;try{for(P(ae),m=r(d);m!==null&&(!(m.expirationTime>ae)||H&&!V());){var L=m.callback;if(typeof L=="function"){m.callback=null,v=m.priorityLevel;var K=L(m.expirationTime<=ae);ae=e.unstable_now(),typeof K=="function"?m.callback=K:m===r(d)&&n(d),P(ae)}else n(d);m=r(d)}if(m!==null)var ye=!0;else{var Ee=r(h);Ee!==null&&re(C,Ee.startTime-ae),ye=!1}return ye}finally{m=null,v=ne,y=!1}}var S=!1,T=null,M=-1,z=5,W=-1;function V(){return!(e.unstable_now()-W<z)}function Y(){if(T!==null){var H=e.unstable_now();W=H;var ae=!0;try{ae=T(!0,H)}finally{ae?Z():(S=!1,T=null)}}else S=!1}var Z;if(typeof A=="function")Z=function(){A(Y)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,G=se.port2;se.port1.onmessage=Y,Z=function(){G.postMessage(null)}}else Z=function(){_(Y,0)};function le(H){T=H,S||(S=!0,Z())}function re(H,ae){M=_(function(){H(e.unstable_now())},ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){j||y||(j=!0,le(N))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(H){switch(v){case 1:case 2:case 3:var ae=3;break;default:ae=v}var ne=v;v=ae;try{return H()}finally{v=ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,ae){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ne=v;v=H;try{return ae()}finally{v=ne}},e.unstable_scheduleCallback=function(H,ae,ne){var L=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?L+ne:L):ne=L,H){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=ne+K,H={id:p++,callback:ae,priorityLevel:H,startTime:ne,expirationTime:K,sortIndex:-1},ne>L?(H.sortIndex=ne,t(h,H),r(d)===null&&H===r(h)&&(w?(E(M),M=-1):w=!0,re(C,ne-L))):(H.sortIndex=K,t(d,H),j||y||(j=!0,le(N))),H},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(H){var ae=v;return function(){var ne=v;v=ae;try{return H.apply(this,arguments)}finally{v=ne}}}})(op)),op}var Nw;function BT(){return Nw||(Nw=1,sp.exports=$T()),sp.exports}var Ow;function FT(){if(Ow)return ur;Ow=1;var e=_s(),t=BT();function r(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,f=1;f<arguments.length;f++)o+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function i(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(a[s]=o,s=0;s<o.length;s++)n.add(o[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function v(s){return d.call(m,s)?!0:d.call(p,s)?!1:h.test(s)?m[s]=!0:(p[s]=!0,!1)}function y(s,o,f,g){if(f!==null&&f.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return g?!1:f!==null?!f.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function j(s,o,f,g){if(o===null||typeof o>"u"||y(s,o,f,g))return!0;if(g)return!1;if(f!==null)switch(f.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function w(s,o,f,g,b,k,O){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=g,this.attributeNamespace=b,this.mustUseProperty=f,this.propertyName=s,this.type=o,this.sanitizeURL=k,this.removeEmptyString=O}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){_[s]=new w(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];_[o]=new w(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){_[s]=new w(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){_[s]=new w(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){_[s]=new w(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){_[s]=new w(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){_[s]=new w(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){_[s]=new w(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){_[s]=new w(s,5,!1,s.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function A(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(E,A);_[o]=new w(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(E,A);_[o]=new w(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(E,A);_[o]=new w(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){_[s]=new w(s,1,!1,s.toLowerCase(),null,!1,!1)}),_.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){_[s]=new w(s,1,!1,s.toLowerCase(),null,!0,!0)});function P(s,o,f,g){var b=_.hasOwnProperty(o)?_[o]:null;(b!==null?b.type!==0:g||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(j(o,f,b,g)&&(f=null),g||b===null?v(o)&&(f===null?s.removeAttribute(o):s.setAttribute(o,""+f)):b.mustUseProperty?s[b.propertyName]=f===null?b.type===3?!1:"":f:(o=b.attributeName,g=b.attributeNamespace,f===null?s.removeAttribute(o):(b=b.type,f=b===3||b===4&&f===!0?"":""+f,g?s.setAttributeNS(g,o,f):s.setAttribute(o,f))))}var C=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),V=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),H=Symbol.iterator;function ae(s){return s===null||typeof s!="object"?null:(s=H&&s[H]||s["@@iterator"],typeof s=="function"?s:null)}var ne=Object.assign,L;function K(s){if(L===void 0)try{throw Error()}catch(f){var o=f.stack.trim().match(/\n( *(at )?)/);L=o&&o[1]||""}return`
`+L+s}var ye=!1;function Ee(s,o){if(!s||ye)return"";ye=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(U){var g=U}Reflect.construct(s,[],o)}else{try{o.call()}catch(U){g=U}s.call(o.prototype)}else{try{throw Error()}catch(U){g=U}s()}}catch(U){if(U&&g&&typeof U.stack=="string"){for(var b=U.stack.split(`
`),k=g.stack.split(`
`),O=b.length-1,R=k.length-1;1<=O&&0<=R&&b[O]!==k[R];)R--;for(;1<=O&&0<=R;O--,R--)if(b[O]!==k[R]){if(O!==1||R!==1)do if(O--,R--,0>R||b[O]!==k[R]){var I=`
`+b[O].replace(" at new "," at ");return s.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",s.displayName)),I}while(1<=O&&0<=R);break}}}finally{ye=!1,Error.prepareStackTrace=f}return(s=s?s.displayName||s.name:"")?K(s):""}function je(s){switch(s.tag){case 5:return K(s.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return s=Ee(s.type,!1),s;case 11:return s=Ee(s.type.render,!1),s;case 1:return s=Ee(s.type,!0),s;default:return""}}function Ce(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case T:return"Fragment";case S:return"Portal";case z:return"Profiler";case M:return"StrictMode";case Z:return"Suspense";case se:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case V:return(s.displayName||"Context")+".Consumer";case W:return(s._context.displayName||"Context")+".Provider";case Y:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case G:return o=s.displayName||null,o!==null?o:Ce(s.type)||"Memo";case le:o=s._payload,s=s._init;try{return Ce(s(o))}catch{}}return null}function Le(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(o);case 8:return o===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Re(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function q(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function we(s){var o=q(s)?"checked":"value",f=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),g=""+s[o];if(!s.hasOwnProperty(o)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var b=f.get,k=f.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return b.call(this)},set:function(O){g=""+O,k.call(this,O)}}),Object.defineProperty(s,o,{enumerable:f.enumerable}),{getValue:function(){return g},setValue:function(O){g=""+O},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Oe(s){s._valueTracker||(s._valueTracker=we(s))}function ee(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var f=o.getValue(),g="";return s&&(g=q(s)?s.checked?"true":"false":s.value),s=g,s!==f?(o.setValue(s),!0):!1}function xt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function $e(s,o){var f=o.checked;return ne({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??s._wrapperState.initialChecked})}function Ft(s,o){var f=o.defaultValue==null?"":o.defaultValue,g=o.checked!=null?o.checked:o.defaultChecked;f=Re(o.value!=null?o.value:f),s._wrapperState={initialChecked:g,initialValue:f,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Ut(s,o){o=o.checked,o!=null&&P(s,"checked",o,!1)}function Vr(s,o){Ut(s,o);var f=Re(o.value),g=o.type;if(f!=null)g==="number"?(f===0&&s.value===""||s.value!=f)&&(s.value=""+f):s.value!==""+f&&(s.value=""+f);else if(g==="submit"||g==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?ff(s,o.type,f):o.hasOwnProperty("defaultValue")&&ff(s,o.type,Re(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Ws(s,o,f){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var g=o.type;if(!(g!=="submit"&&g!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,f||o===s.value||(s.value=o),s.defaultValue=o}f=s.name,f!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,f!==""&&(s.name=f)}function ff(s,o,f){(o!=="number"||xt(s.ownerDocument)!==s)&&(f==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+f&&(s.defaultValue=""+f))}var Ks=Array.isArray;function Ni(s,o,f,g){if(s=s.options,o){o={};for(var b=0;b<f.length;b++)o["$"+f[b]]=!0;for(f=0;f<s.length;f++)b=o.hasOwnProperty("$"+s[f].value),s[f].selected!==b&&(s[f].selected=b),b&&g&&(s[f].defaultSelected=!0)}else{for(f=""+Re(f),o=null,b=0;b<s.length;b++){if(s[b].value===f){s[b].selected=!0,g&&(s[b].defaultSelected=!0);return}o!==null||s[b].disabled||(o=s[b])}o!==null&&(o.selected=!0)}}function hf(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(r(91));return ne({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function R0(s,o){var f=o.value;if(f==null){if(f=o.children,o=o.defaultValue,f!=null){if(o!=null)throw Error(r(92));if(Ks(f)){if(1<f.length)throw Error(r(93));f=f[0]}o=f}o==null&&(o=""),f=o}s._wrapperState={initialValue:Re(f)}}function I0(s,o){var f=Re(o.value),g=Re(o.defaultValue);f!=null&&(f=""+f,f!==s.value&&(s.value=f),o.defaultValue==null&&s.defaultValue!==f&&(s.defaultValue=f)),g!=null&&(s.defaultValue=""+g)}function D0(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function M0(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pf(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?M0(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Dl,L0=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,f,g,b){MSApp.execUnsafeLocalFunction(function(){return s(o,f,g,b)})}:s})(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Dl=Dl||document.createElement("div"),Dl.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Dl.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function Vs(s,o){if(o){var f=s.firstChild;if(f&&f===s.lastChild&&f.nodeType===3){f.nodeValue=o;return}}s.textContent=o}var Hs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$C=["Webkit","ms","Moz","O"];Object.keys(Hs).forEach(function(s){$C.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),Hs[o]=Hs[s]})});function $0(s,o,f){return o==null||typeof o=="boolean"||o===""?"":f||typeof o!="number"||o===0||Hs.hasOwnProperty(s)&&Hs[s]?(""+o).trim():o+"px"}function B0(s,o){s=s.style;for(var f in o)if(o.hasOwnProperty(f)){var g=f.indexOf("--")===0,b=$0(f,o[f],g);f==="float"&&(f="cssFloat"),g?s.setProperty(f,b):s[f]=b}}var BC=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mf(s,o){if(o){if(BC[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(r(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(r(61))}if(o.style!=null&&typeof o.style!="object")throw Error(r(62))}}function gf(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vf=null;function yf(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var xf=null,Oi=null,Ai=null;function F0(s){if(s=go(s)){if(typeof xf!="function")throw Error(r(280));var o=s.stateNode;o&&(o=ac(o),xf(s.stateNode,s.type,o))}}function U0(s){Oi?Ai?Ai.push(s):Ai=[s]:Oi=s}function z0(){if(Oi){var s=Oi,o=Ai;if(Ai=Oi=null,F0(s),o)for(s=0;s<o.length;s++)F0(o[s])}}function q0(s,o){return s(o)}function W0(){}var bf=!1;function K0(s,o,f){if(bf)return s(o,f);bf=!0;try{return q0(s,o,f)}finally{bf=!1,(Oi!==null||Ai!==null)&&(W0(),z0())}}function Gs(s,o){var f=s.stateNode;if(f===null)return null;var g=ac(f);if(g===null)return null;f=g[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(f&&typeof f!="function")throw Error(r(231,o,typeof f));return f}var wf=!1;if(c)try{var Ys={};Object.defineProperty(Ys,"passive",{get:function(){wf=!0}}),window.addEventListener("test",Ys,Ys),window.removeEventListener("test",Ys,Ys)}catch{wf=!1}function FC(s,o,f,g,b,k,O,R,I){var U=Array.prototype.slice.call(arguments,3);try{o.apply(f,U)}catch(J){this.onError(J)}}var Xs=!1,Ml=null,Ll=!1,jf=null,UC={onError:function(s){Xs=!0,Ml=s}};function zC(s,o,f,g,b,k,O,R,I){Xs=!1,Ml=null,FC.apply(UC,arguments)}function qC(s,o,f,g,b,k,O,R,I){if(zC.apply(this,arguments),Xs){if(Xs){var U=Ml;Xs=!1,Ml=null}else throw Error(r(198));Ll||(Ll=!0,jf=U)}}function Ua(s){var o=s,f=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(f=o.return),s=o.return;while(s)}return o.tag===3?f:null}function V0(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function H0(s){if(Ua(s)!==s)throw Error(r(188))}function WC(s){var o=s.alternate;if(!o){if(o=Ua(s),o===null)throw Error(r(188));return o!==s?null:s}for(var f=s,g=o;;){var b=f.return;if(b===null)break;var k=b.alternate;if(k===null){if(g=b.return,g!==null){f=g;continue}break}if(b.child===k.child){for(k=b.child;k;){if(k===f)return H0(b),s;if(k===g)return H0(b),o;k=k.sibling}throw Error(r(188))}if(f.return!==g.return)f=b,g=k;else{for(var O=!1,R=b.child;R;){if(R===f){O=!0,f=b,g=k;break}if(R===g){O=!0,g=b,f=k;break}R=R.sibling}if(!O){for(R=k.child;R;){if(R===f){O=!0,f=k,g=b;break}if(R===g){O=!0,g=k,f=b;break}R=R.sibling}if(!O)throw Error(r(189))}}if(f.alternate!==g)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?s:o}function G0(s){return s=WC(s),s!==null?Y0(s):null}function Y0(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=Y0(s);if(o!==null)return o;s=s.sibling}return null}var X0=t.unstable_scheduleCallback,J0=t.unstable_cancelCallback,KC=t.unstable_shouldYield,VC=t.unstable_requestPaint,ut=t.unstable_now,HC=t.unstable_getCurrentPriorityLevel,_f=t.unstable_ImmediatePriority,Q0=t.unstable_UserBlockingPriority,$l=t.unstable_NormalPriority,GC=t.unstable_LowPriority,Z0=t.unstable_IdlePriority,Bl=null,un=null;function YC(s){if(un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(Bl,s,void 0,(s.current.flags&128)===128)}catch{}}var Hr=Math.clz32?Math.clz32:QC,XC=Math.log,JC=Math.LN2;function QC(s){return s>>>=0,s===0?32:31-(XC(s)/JC|0)|0}var Fl=64,Ul=4194304;function Js(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function zl(s,o){var f=s.pendingLanes;if(f===0)return 0;var g=0,b=s.suspendedLanes,k=s.pingedLanes,O=f&268435455;if(O!==0){var R=O&~b;R!==0?g=Js(R):(k&=O,k!==0&&(g=Js(k)))}else O=f&~b,O!==0?g=Js(O):k!==0&&(g=Js(k));if(g===0)return 0;if(o!==0&&o!==g&&(o&b)===0&&(b=g&-g,k=o&-o,b>=k||b===16&&(k&4194240)!==0))return o;if((g&4)!==0&&(g|=f&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=g;0<o;)f=31-Hr(o),b=1<<f,g|=s[f],o&=~b;return g}function ZC(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function e2(s,o){for(var f=s.suspendedLanes,g=s.pingedLanes,b=s.expirationTimes,k=s.pendingLanes;0<k;){var O=31-Hr(k),R=1<<O,I=b[O];I===-1?((R&f)===0||(R&g)!==0)&&(b[O]=ZC(R,o)):I<=o&&(s.expiredLanes|=R),k&=~R}}function kf(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function ex(){var s=Fl;return Fl<<=1,(Fl&4194240)===0&&(Fl=64),s}function Sf(s){for(var o=[],f=0;31>f;f++)o.push(s);return o}function Qs(s,o,f){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-Hr(o),s[o]=f}function t2(s,o){var f=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var g=s.eventTimes;for(s=s.expirationTimes;0<f;){var b=31-Hr(f),k=1<<b;o[b]=0,g[b]=-1,s[b]=-1,f&=~k}}function Ef(s,o){var f=s.entangledLanes|=o;for(s=s.entanglements;f;){var g=31-Hr(f),b=1<<g;b&o|s[g]&o&&(s[g]|=o),f&=~b}}var Be=0;function tx(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var rx,Pf,nx,ax,ix,Nf=!1,ql=[],aa=null,ia=null,sa=null,Zs=new Map,eo=new Map,oa=[],r2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sx(s,o){switch(s){case"focusin":case"focusout":aa=null;break;case"dragenter":case"dragleave":ia=null;break;case"mouseover":case"mouseout":sa=null;break;case"pointerover":case"pointerout":Zs.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":eo.delete(o.pointerId)}}function to(s,o,f,g,b,k){return s===null||s.nativeEvent!==k?(s={blockedOn:o,domEventName:f,eventSystemFlags:g,nativeEvent:k,targetContainers:[b]},o!==null&&(o=go(o),o!==null&&Pf(o)),s):(s.eventSystemFlags|=g,o=s.targetContainers,b!==null&&o.indexOf(b)===-1&&o.push(b),s)}function n2(s,o,f,g,b){switch(o){case"focusin":return aa=to(aa,s,o,f,g,b),!0;case"dragenter":return ia=to(ia,s,o,f,g,b),!0;case"mouseover":return sa=to(sa,s,o,f,g,b),!0;case"pointerover":var k=b.pointerId;return Zs.set(k,to(Zs.get(k)||null,s,o,f,g,b)),!0;case"gotpointercapture":return k=b.pointerId,eo.set(k,to(eo.get(k)||null,s,o,f,g,b)),!0}return!1}function ox(s){var o=za(s.target);if(o!==null){var f=Ua(o);if(f!==null){if(o=f.tag,o===13){if(o=V0(f),o!==null){s.blockedOn=o,ix(s.priority,function(){nx(f)});return}}else if(o===3&&f.stateNode.current.memoizedState.isDehydrated){s.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Wl(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var f=Af(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(f===null){f=s.nativeEvent;var g=new f.constructor(f.type,f);vf=g,f.target.dispatchEvent(g),vf=null}else return o=go(f),o!==null&&Pf(o),s.blockedOn=f,!1;o.shift()}return!0}function lx(s,o,f){Wl(s)&&f.delete(o)}function a2(){Nf=!1,aa!==null&&Wl(aa)&&(aa=null),ia!==null&&Wl(ia)&&(ia=null),sa!==null&&Wl(sa)&&(sa=null),Zs.forEach(lx),eo.forEach(lx)}function ro(s,o){s.blockedOn===o&&(s.blockedOn=null,Nf||(Nf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,a2)))}function no(s){function o(b){return ro(b,s)}if(0<ql.length){ro(ql[0],s);for(var f=1;f<ql.length;f++){var g=ql[f];g.blockedOn===s&&(g.blockedOn=null)}}for(aa!==null&&ro(aa,s),ia!==null&&ro(ia,s),sa!==null&&ro(sa,s),Zs.forEach(o),eo.forEach(o),f=0;f<oa.length;f++)g=oa[f],g.blockedOn===s&&(g.blockedOn=null);for(;0<oa.length&&(f=oa[0],f.blockedOn===null);)ox(f),f.blockedOn===null&&oa.shift()}var Ci=C.ReactCurrentBatchConfig,Kl=!0;function i2(s,o,f,g){var b=Be,k=Ci.transition;Ci.transition=null;try{Be=1,Of(s,o,f,g)}finally{Be=b,Ci.transition=k}}function s2(s,o,f,g){var b=Be,k=Ci.transition;Ci.transition=null;try{Be=4,Of(s,o,f,g)}finally{Be=b,Ci.transition=k}}function Of(s,o,f,g){if(Kl){var b=Af(s,o,f,g);if(b===null)Hf(s,o,g,Vl,f),sx(s,g);else if(n2(b,s,o,f,g))g.stopPropagation();else if(sx(s,g),o&4&&-1<r2.indexOf(s)){for(;b!==null;){var k=go(b);if(k!==null&&rx(k),k=Af(s,o,f,g),k===null&&Hf(s,o,g,Vl,f),k===b)break;b=k}b!==null&&g.stopPropagation()}else Hf(s,o,g,null,f)}}var Vl=null;function Af(s,o,f,g){if(Vl=null,s=yf(g),s=za(s),s!==null)if(o=Ua(s),o===null)s=null;else if(f=o.tag,f===13){if(s=V0(o),s!==null)return s;s=null}else if(f===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Vl=s,null}function cx(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(HC()){case _f:return 1;case Q0:return 4;case $l:case GC:return 16;case Z0:return 536870912;default:return 16}default:return 16}}var la=null,Cf=null,Hl=null;function ux(){if(Hl)return Hl;var s,o=Cf,f=o.length,g,b="value"in la?la.value:la.textContent,k=b.length;for(s=0;s<f&&o[s]===b[s];s++);var O=f-s;for(g=1;g<=O&&o[f-g]===b[k-g];g++);return Hl=b.slice(s,1<g?1-g:void 0)}function Gl(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Yl(){return!0}function dx(){return!1}function gr(s){function o(f,g,b,k,O){this._reactName=f,this._targetInst=b,this.type=g,this.nativeEvent=k,this.target=O,this.currentTarget=null;for(var R in s)s.hasOwnProperty(R)&&(f=s[R],this[R]=f?f(k):k[R]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Yl:dx,this.isPropagationStopped=dx,this}return ne(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Yl)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Yl)},persist:function(){},isPersistent:Yl}),o}var Ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tf=gr(Ti),ao=ne({},Ti,{view:0,detail:0}),o2=gr(ao),Rf,If,io,Xl=ne({},ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mf,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==io&&(io&&s.type==="mousemove"?(Rf=s.screenX-io.screenX,If=s.screenY-io.screenY):If=Rf=0,io=s),Rf)},movementY:function(s){return"movementY"in s?s.movementY:If}}),fx=gr(Xl),l2=ne({},Xl,{dataTransfer:0}),c2=gr(l2),u2=ne({},ao,{relatedTarget:0}),Df=gr(u2),d2=ne({},Ti,{animationName:0,elapsedTime:0,pseudoElement:0}),f2=gr(d2),h2=ne({},Ti,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),p2=gr(h2),m2=ne({},Ti,{data:0}),hx=gr(m2),g2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},v2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},y2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function x2(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=y2[s])?!!o[s]:!1}function Mf(){return x2}var b2=ne({},ao,{key:function(s){if(s.key){var o=g2[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Gl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?v2[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mf,charCode:function(s){return s.type==="keypress"?Gl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Gl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),w2=gr(b2),j2=ne({},Xl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),px=gr(j2),_2=ne({},ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mf}),k2=gr(_2),S2=ne({},Ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),E2=gr(S2),P2=ne({},Xl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),N2=gr(P2),O2=[9,13,27,32],Lf=c&&"CompositionEvent"in window,so=null;c&&"documentMode"in document&&(so=document.documentMode);var A2=c&&"TextEvent"in window&&!so,mx=c&&(!Lf||so&&8<so&&11>=so),gx=" ",vx=!1;function yx(s,o){switch(s){case"keyup":return O2.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xx(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ri=!1;function C2(s,o){switch(s){case"compositionend":return xx(o);case"keypress":return o.which!==32?null:(vx=!0,gx);case"textInput":return s=o.data,s===gx&&vx?null:s;default:return null}}function T2(s,o){if(Ri)return s==="compositionend"||!Lf&&yx(s,o)?(s=ux(),Hl=Cf=la=null,Ri=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return mx&&o.locale!=="ko"?null:o.data;default:return null}}var R2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bx(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!R2[s.type]:o==="textarea"}function wx(s,o,f,g){U0(g),o=tc(o,"onChange"),0<o.length&&(f=new Tf("onChange","change",null,f,g),s.push({event:f,listeners:o}))}var oo=null,lo=null;function I2(s){Bx(s,0)}function Jl(s){var o=$i(s);if(ee(o))return s}function D2(s,o){if(s==="change")return o}var jx=!1;if(c){var $f;if(c){var Bf="oninput"in document;if(!Bf){var _x=document.createElement("div");_x.setAttribute("oninput","return;"),Bf=typeof _x.oninput=="function"}$f=Bf}else $f=!1;jx=$f&&(!document.documentMode||9<document.documentMode)}function kx(){oo&&(oo.detachEvent("onpropertychange",Sx),lo=oo=null)}function Sx(s){if(s.propertyName==="value"&&Jl(lo)){var o=[];wx(o,lo,s,yf(s)),K0(I2,o)}}function M2(s,o,f){s==="focusin"?(kx(),oo=o,lo=f,oo.attachEvent("onpropertychange",Sx)):s==="focusout"&&kx()}function L2(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Jl(lo)}function $2(s,o){if(s==="click")return Jl(o)}function B2(s,o){if(s==="input"||s==="change")return Jl(o)}function F2(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Gr=typeof Object.is=="function"?Object.is:F2;function co(s,o){if(Gr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var f=Object.keys(s),g=Object.keys(o);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var b=f[g];if(!d.call(o,b)||!Gr(s[b],o[b]))return!1}return!0}function Ex(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Px(s,o){var f=Ex(s);s=0;for(var g;f;){if(f.nodeType===3){if(g=s+f.textContent.length,s<=o&&g>=o)return{node:f,offset:o-s};s=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Ex(f)}}function Nx(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Nx(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Ox(){for(var s=window,o=xt();o instanceof s.HTMLIFrameElement;){try{var f=typeof o.contentWindow.location.href=="string"}catch{f=!1}if(f)s=o.contentWindow;else break;o=xt(s.document)}return o}function Ff(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function U2(s){var o=Ox(),f=s.focusedElem,g=s.selectionRange;if(o!==f&&f&&f.ownerDocument&&Nx(f.ownerDocument.documentElement,f)){if(g!==null&&Ff(f)){if(o=g.start,s=g.end,s===void 0&&(s=o),"selectionStart"in f)f.selectionStart=o,f.selectionEnd=Math.min(s,f.value.length);else if(s=(o=f.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var b=f.textContent.length,k=Math.min(g.start,b);g=g.end===void 0?k:Math.min(g.end,b),!s.extend&&k>g&&(b=g,g=k,k=b),b=Px(f,k);var O=Px(f,g);b&&O&&(s.rangeCount!==1||s.anchorNode!==b.node||s.anchorOffset!==b.offset||s.focusNode!==O.node||s.focusOffset!==O.offset)&&(o=o.createRange(),o.setStart(b.node,b.offset),s.removeAllRanges(),k>g?(s.addRange(o),s.extend(O.node,O.offset)):(o.setEnd(O.node,O.offset),s.addRange(o)))}}for(o=[],s=f;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<o.length;f++)s=o[f],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var z2=c&&"documentMode"in document&&11>=document.documentMode,Ii=null,Uf=null,uo=null,zf=!1;function Ax(s,o,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;zf||Ii==null||Ii!==xt(g)||(g=Ii,"selectionStart"in g&&Ff(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),uo&&co(uo,g)||(uo=g,g=tc(Uf,"onSelect"),0<g.length&&(o=new Tf("onSelect","select",null,o,f),s.push({event:o,listeners:g}),o.target=Ii)))}function Ql(s,o){var f={};return f[s.toLowerCase()]=o.toLowerCase(),f["Webkit"+s]="webkit"+o,f["Moz"+s]="moz"+o,f}var Di={animationend:Ql("Animation","AnimationEnd"),animationiteration:Ql("Animation","AnimationIteration"),animationstart:Ql("Animation","AnimationStart"),transitionend:Ql("Transition","TransitionEnd")},qf={},Cx={};c&&(Cx=document.createElement("div").style,"AnimationEvent"in window||(delete Di.animationend.animation,delete Di.animationiteration.animation,delete Di.animationstart.animation),"TransitionEvent"in window||delete Di.transitionend.transition);function Zl(s){if(qf[s])return qf[s];if(!Di[s])return s;var o=Di[s],f;for(f in o)if(o.hasOwnProperty(f)&&f in Cx)return qf[s]=o[f];return s}var Tx=Zl("animationend"),Rx=Zl("animationiteration"),Ix=Zl("animationstart"),Dx=Zl("transitionend"),Mx=new Map,Lx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ca(s,o){Mx.set(s,o),i(o,[s])}for(var Wf=0;Wf<Lx.length;Wf++){var Kf=Lx[Wf],q2=Kf.toLowerCase(),W2=Kf[0].toUpperCase()+Kf.slice(1);ca(q2,"on"+W2)}ca(Tx,"onAnimationEnd"),ca(Rx,"onAnimationIteration"),ca(Ix,"onAnimationStart"),ca("dblclick","onDoubleClick"),ca("focusin","onFocus"),ca("focusout","onBlur"),ca(Dx,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),K2=new Set("cancel close invalid load scroll toggle".split(" ").concat(fo));function $x(s,o,f){var g=s.type||"unknown-event";s.currentTarget=f,qC(g,o,void 0,s),s.currentTarget=null}function Bx(s,o){o=(o&4)!==0;for(var f=0;f<s.length;f++){var g=s[f],b=g.event;g=g.listeners;e:{var k=void 0;if(o)for(var O=g.length-1;0<=O;O--){var R=g[O],I=R.instance,U=R.currentTarget;if(R=R.listener,I!==k&&b.isPropagationStopped())break e;$x(b,R,U),k=I}else for(O=0;O<g.length;O++){if(R=g[O],I=R.instance,U=R.currentTarget,R=R.listener,I!==k&&b.isPropagationStopped())break e;$x(b,R,U),k=I}}}if(Ll)throw s=jf,Ll=!1,jf=null,s}function Ge(s,o){var f=o[Zf];f===void 0&&(f=o[Zf]=new Set);var g=s+"__bubble";f.has(g)||(Fx(o,s,2,!1),f.add(g))}function Vf(s,o,f){var g=0;o&&(g|=4),Fx(f,s,g,o)}var ec="_reactListening"+Math.random().toString(36).slice(2);function ho(s){if(!s[ec]){s[ec]=!0,n.forEach(function(f){f!=="selectionchange"&&(K2.has(f)||Vf(f,!1,s),Vf(f,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[ec]||(o[ec]=!0,Vf("selectionchange",!1,o))}}function Fx(s,o,f,g){switch(cx(o)){case 1:var b=i2;break;case 4:b=s2;break;default:b=Of}f=b.bind(null,o,f,s),b=void 0,!wf||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(b=!0),g?b!==void 0?s.addEventListener(o,f,{capture:!0,passive:b}):s.addEventListener(o,f,!0):b!==void 0?s.addEventListener(o,f,{passive:b}):s.addEventListener(o,f,!1)}function Hf(s,o,f,g,b){var k=g;if((o&1)===0&&(o&2)===0&&g!==null)e:for(;;){if(g===null)return;var O=g.tag;if(O===3||O===4){var R=g.stateNode.containerInfo;if(R===b||R.nodeType===8&&R.parentNode===b)break;if(O===4)for(O=g.return;O!==null;){var I=O.tag;if((I===3||I===4)&&(I=O.stateNode.containerInfo,I===b||I.nodeType===8&&I.parentNode===b))return;O=O.return}for(;R!==null;){if(O=za(R),O===null)return;if(I=O.tag,I===5||I===6){g=k=O;continue e}R=R.parentNode}}g=g.return}K0(function(){var U=k,J=yf(f),Q=[];e:{var X=Mx.get(s);if(X!==void 0){var oe=Tf,de=s;switch(s){case"keypress":if(Gl(f)===0)break e;case"keydown":case"keyup":oe=w2;break;case"focusin":de="focus",oe=Df;break;case"focusout":de="blur",oe=Df;break;case"beforeblur":case"afterblur":oe=Df;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=fx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=c2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=k2;break;case Tx:case Rx:case Ix:oe=f2;break;case Dx:oe=E2;break;case"scroll":oe=o2;break;case"wheel":oe=N2;break;case"copy":case"cut":case"paste":oe=p2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=px}var pe=(o&4)!==0,dt=!pe&&s==="scroll",$=pe?X!==null?X+"Capture":null:X;pe=[];for(var D=U,F;D!==null;){F=D;var te=F.stateNode;if(F.tag===5&&te!==null&&(F=te,$!==null&&(te=Gs(D,$),te!=null&&pe.push(po(D,te,F)))),dt)break;D=D.return}0<pe.length&&(X=new oe(X,de,null,f,J),Q.push({event:X,listeners:pe}))}}if((o&7)===0){e:{if(X=s==="mouseover"||s==="pointerover",oe=s==="mouseout"||s==="pointerout",X&&f!==vf&&(de=f.relatedTarget||f.fromElement)&&(za(de)||de[Nn]))break e;if((oe||X)&&(X=J.window===J?J:(X=J.ownerDocument)?X.defaultView||X.parentWindow:window,oe?(de=f.relatedTarget||f.toElement,oe=U,de=de?za(de):null,de!==null&&(dt=Ua(de),de!==dt||de.tag!==5&&de.tag!==6)&&(de=null)):(oe=null,de=U),oe!==de)){if(pe=fx,te="onMouseLeave",$="onMouseEnter",D="mouse",(s==="pointerout"||s==="pointerover")&&(pe=px,te="onPointerLeave",$="onPointerEnter",D="pointer"),dt=oe==null?X:$i(oe),F=de==null?X:$i(de),X=new pe(te,D+"leave",oe,f,J),X.target=dt,X.relatedTarget=F,te=null,za(J)===U&&(pe=new pe($,D+"enter",de,f,J),pe.target=F,pe.relatedTarget=dt,te=pe),dt=te,oe&&de)t:{for(pe=oe,$=de,D=0,F=pe;F;F=Mi(F))D++;for(F=0,te=$;te;te=Mi(te))F++;for(;0<D-F;)pe=Mi(pe),D--;for(;0<F-D;)$=Mi($),F--;for(;D--;){if(pe===$||$!==null&&pe===$.alternate)break t;pe=Mi(pe),$=Mi($)}pe=null}else pe=null;oe!==null&&Ux(Q,X,oe,pe,!1),de!==null&&dt!==null&&Ux(Q,dt,de,pe,!0)}}e:{if(X=U?$i(U):window,oe=X.nodeName&&X.nodeName.toLowerCase(),oe==="select"||oe==="input"&&X.type==="file")var me=D2;else if(bx(X))if(jx)me=B2;else{me=L2;var xe=M2}else(oe=X.nodeName)&&oe.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(me=$2);if(me&&(me=me(s,U))){wx(Q,me,f,J);break e}xe&&xe(s,X,U),s==="focusout"&&(xe=X._wrapperState)&&xe.controlled&&X.type==="number"&&ff(X,"number",X.value)}switch(xe=U?$i(U):window,s){case"focusin":(bx(xe)||xe.contentEditable==="true")&&(Ii=xe,Uf=U,uo=null);break;case"focusout":uo=Uf=Ii=null;break;case"mousedown":zf=!0;break;case"contextmenu":case"mouseup":case"dragend":zf=!1,Ax(Q,f,J);break;case"selectionchange":if(z2)break;case"keydown":case"keyup":Ax(Q,f,J)}var be;if(Lf)e:{switch(s){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Ri?yx(s,f)&&(Se="onCompositionEnd"):s==="keydown"&&f.keyCode===229&&(Se="onCompositionStart");Se&&(mx&&f.locale!=="ko"&&(Ri||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Ri&&(be=ux()):(la=J,Cf="value"in la?la.value:la.textContent,Ri=!0)),xe=tc(U,Se),0<xe.length&&(Se=new hx(Se,s,null,f,J),Q.push({event:Se,listeners:xe}),be?Se.data=be:(be=xx(f),be!==null&&(Se.data=be)))),(be=A2?C2(s,f):T2(s,f))&&(U=tc(U,"onBeforeInput"),0<U.length&&(J=new hx("onBeforeInput","beforeinput",null,f,J),Q.push({event:J,listeners:U}),J.data=be))}Bx(Q,o)})}function po(s,o,f){return{instance:s,listener:o,currentTarget:f}}function tc(s,o){for(var f=o+"Capture",g=[];s!==null;){var b=s,k=b.stateNode;b.tag===5&&k!==null&&(b=k,k=Gs(s,f),k!=null&&g.unshift(po(s,k,b)),k=Gs(s,o),k!=null&&g.push(po(s,k,b))),s=s.return}return g}function Mi(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Ux(s,o,f,g,b){for(var k=o._reactName,O=[];f!==null&&f!==g;){var R=f,I=R.alternate,U=R.stateNode;if(I!==null&&I===g)break;R.tag===5&&U!==null&&(R=U,b?(I=Gs(f,k),I!=null&&O.unshift(po(f,I,R))):b||(I=Gs(f,k),I!=null&&O.push(po(f,I,R)))),f=f.return}O.length!==0&&s.push({event:o,listeners:O})}var V2=/\r\n?/g,H2=/\u0000|\uFFFD/g;function zx(s){return(typeof s=="string"?s:""+s).replace(V2,`
`).replace(H2,"")}function rc(s,o,f){if(o=zx(o),zx(s)!==o&&f)throw Error(r(425))}function nc(){}var Gf=null,Yf=null;function Xf(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Jf=typeof setTimeout=="function"?setTimeout:void 0,G2=typeof clearTimeout=="function"?clearTimeout:void 0,qx=typeof Promise=="function"?Promise:void 0,Y2=typeof queueMicrotask=="function"?queueMicrotask:typeof qx<"u"?function(s){return qx.resolve(null).then(s).catch(X2)}:Jf;function X2(s){setTimeout(function(){throw s})}function Qf(s,o){var f=o,g=0;do{var b=f.nextSibling;if(s.removeChild(f),b&&b.nodeType===8)if(f=b.data,f==="/$"){if(g===0){s.removeChild(b),no(o);return}g--}else f!=="$"&&f!=="$?"&&f!=="$!"||g++;f=b}while(f);no(o)}function ua(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function Wx(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var f=s.data;if(f==="$"||f==="$!"||f==="$?"){if(o===0)return s;o--}else f==="/$"&&o++}s=s.previousSibling}return null}var Li=Math.random().toString(36).slice(2),dn="__reactFiber$"+Li,mo="__reactProps$"+Li,Nn="__reactContainer$"+Li,Zf="__reactEvents$"+Li,J2="__reactListeners$"+Li,Q2="__reactHandles$"+Li;function za(s){var o=s[dn];if(o)return o;for(var f=s.parentNode;f;){if(o=f[Nn]||f[dn]){if(f=o.alternate,o.child!==null||f!==null&&f.child!==null)for(s=Wx(s);s!==null;){if(f=s[dn])return f;s=Wx(s)}return o}s=f,f=s.parentNode}return null}function go(s){return s=s[dn]||s[Nn],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function $i(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function ac(s){return s[mo]||null}var eh=[],Bi=-1;function da(s){return{current:s}}function Ye(s){0>Bi||(s.current=eh[Bi],eh[Bi]=null,Bi--)}function Ke(s,o){Bi++,eh[Bi]=s.current,s.current=o}var fa={},zt=da(fa),ir=da(!1),qa=fa;function Fi(s,o){var f=s.type.contextTypes;if(!f)return fa;var g=s.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===o)return g.__reactInternalMemoizedMaskedChildContext;var b={},k;for(k in f)b[k]=o[k];return g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=b),b}function sr(s){return s=s.childContextTypes,s!=null}function ic(){Ye(ir),Ye(zt)}function Kx(s,o,f){if(zt.current!==fa)throw Error(r(168));Ke(zt,o),Ke(ir,f)}function Vx(s,o,f){var g=s.stateNode;if(o=o.childContextTypes,typeof g.getChildContext!="function")return f;g=g.getChildContext();for(var b in g)if(!(b in o))throw Error(r(108,Le(s)||"Unknown",b));return ne({},f,g)}function sc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||fa,qa=zt.current,Ke(zt,s),Ke(ir,ir.current),!0}function Hx(s,o,f){var g=s.stateNode;if(!g)throw Error(r(169));f?(s=Vx(s,o,qa),g.__reactInternalMemoizedMergedChildContext=s,Ye(ir),Ye(zt),Ke(zt,s)):Ye(ir),Ke(ir,f)}var On=null,oc=!1,th=!1;function Gx(s){On===null?On=[s]:On.push(s)}function Z2(s){oc=!0,Gx(s)}function ha(){if(!th&&On!==null){th=!0;var s=0,o=Be;try{var f=On;for(Be=1;s<f.length;s++){var g=f[s];do g=g(!0);while(g!==null)}On=null,oc=!1}catch(b){throw On!==null&&(On=On.slice(s+1)),X0(_f,ha),b}finally{Be=o,th=!1}}return null}var Ui=[],zi=0,lc=null,cc=0,Cr=[],Tr=0,Wa=null,An=1,Cn="";function Ka(s,o){Ui[zi++]=cc,Ui[zi++]=lc,lc=s,cc=o}function Yx(s,o,f){Cr[Tr++]=An,Cr[Tr++]=Cn,Cr[Tr++]=Wa,Wa=s;var g=An;s=Cn;var b=32-Hr(g)-1;g&=~(1<<b),f+=1;var k=32-Hr(o)+b;if(30<k){var O=b-b%5;k=(g&(1<<O)-1).toString(32),g>>=O,b-=O,An=1<<32-Hr(o)+b|f<<b|g,Cn=k+s}else An=1<<k|f<<b|g,Cn=s}function rh(s){s.return!==null&&(Ka(s,1),Yx(s,1,0))}function nh(s){for(;s===lc;)lc=Ui[--zi],Ui[zi]=null,cc=Ui[--zi],Ui[zi]=null;for(;s===Wa;)Wa=Cr[--Tr],Cr[Tr]=null,Cn=Cr[--Tr],Cr[Tr]=null,An=Cr[--Tr],Cr[Tr]=null}var vr=null,yr=null,Qe=!1,Yr=null;function Xx(s,o){var f=Mr(5,null,null,0);f.elementType="DELETED",f.stateNode=o,f.return=s,o=s.deletions,o===null?(s.deletions=[f],s.flags|=16):o.push(f)}function Jx(s,o){switch(s.tag){case 5:var f=s.type;return o=o.nodeType!==1||f.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,vr=s,yr=ua(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,vr=s,yr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(f=Wa!==null?{id:An,overflow:Cn}:null,s.memoizedState={dehydrated:o,treeContext:f,retryLane:1073741824},f=Mr(18,null,null,0),f.stateNode=o,f.return=s,s.child=f,vr=s,yr=null,!0):!1;default:return!1}}function ah(s){return(s.mode&1)!==0&&(s.flags&128)===0}function ih(s){if(Qe){var o=yr;if(o){var f=o;if(!Jx(s,o)){if(ah(s))throw Error(r(418));o=ua(f.nextSibling);var g=vr;o&&Jx(s,o)?Xx(g,f):(s.flags=s.flags&-4097|2,Qe=!1,vr=s)}}else{if(ah(s))throw Error(r(418));s.flags=s.flags&-4097|2,Qe=!1,vr=s}}}function Qx(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;vr=s}function uc(s){if(s!==vr)return!1;if(!Qe)return Qx(s),Qe=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!Xf(s.type,s.memoizedProps)),o&&(o=yr)){if(ah(s))throw Zx(),Error(r(418));for(;o;)Xx(s,o),o=ua(o.nextSibling)}if(Qx(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var f=s.data;if(f==="/$"){if(o===0){yr=ua(s.nextSibling);break e}o--}else f!=="$"&&f!=="$!"&&f!=="$?"||o++}s=s.nextSibling}yr=null}}else yr=vr?ua(s.stateNode.nextSibling):null;return!0}function Zx(){for(var s=yr;s;)s=ua(s.nextSibling)}function qi(){yr=vr=null,Qe=!1}function sh(s){Yr===null?Yr=[s]:Yr.push(s)}var eT=C.ReactCurrentBatchConfig;function vo(s,o,f){if(s=f.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(r(309));var g=f.stateNode}if(!g)throw Error(r(147,s));var b=g,k=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===k?o.ref:(o=function(O){var R=b.refs;O===null?delete R[k]:R[k]=O},o._stringRef=k,o)}if(typeof s!="string")throw Error(r(284));if(!f._owner)throw Error(r(290,s))}return s}function dc(s,o){throw s=Object.prototype.toString.call(o),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function eb(s){var o=s._init;return o(s._payload)}function tb(s){function o($,D){if(s){var F=$.deletions;F===null?($.deletions=[D],$.flags|=16):F.push(D)}}function f($,D){if(!s)return null;for(;D!==null;)o($,D),D=D.sibling;return null}function g($,D){for($=new Map;D!==null;)D.key!==null?$.set(D.key,D):$.set(D.index,D),D=D.sibling;return $}function b($,D){return $=wa($,D),$.index=0,$.sibling=null,$}function k($,D,F){return $.index=F,s?(F=$.alternate,F!==null?(F=F.index,F<D?($.flags|=2,D):F):($.flags|=2,D)):($.flags|=1048576,D)}function O($){return s&&$.alternate===null&&($.flags|=2),$}function R($,D,F,te){return D===null||D.tag!==6?(D=Jh(F,$.mode,te),D.return=$,D):(D=b(D,F),D.return=$,D)}function I($,D,F,te){var me=F.type;return me===T?J($,D,F.props.children,te,F.key):D!==null&&(D.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===le&&eb(me)===D.type)?(te=b(D,F.props),te.ref=vo($,D,F),te.return=$,te):(te=Dc(F.type,F.key,F.props,null,$.mode,te),te.ref=vo($,D,F),te.return=$,te)}function U($,D,F,te){return D===null||D.tag!==4||D.stateNode.containerInfo!==F.containerInfo||D.stateNode.implementation!==F.implementation?(D=Qh(F,$.mode,te),D.return=$,D):(D=b(D,F.children||[]),D.return=$,D)}function J($,D,F,te,me){return D===null||D.tag!==7?(D=Za(F,$.mode,te,me),D.return=$,D):(D=b(D,F),D.return=$,D)}function Q($,D,F){if(typeof D=="string"&&D!==""||typeof D=="number")return D=Jh(""+D,$.mode,F),D.return=$,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case N:return F=Dc(D.type,D.key,D.props,null,$.mode,F),F.ref=vo($,null,D),F.return=$,F;case S:return D=Qh(D,$.mode,F),D.return=$,D;case le:var te=D._init;return Q($,te(D._payload),F)}if(Ks(D)||ae(D))return D=Za(D,$.mode,F,null),D.return=$,D;dc($,D)}return null}function X($,D,F,te){var me=D!==null?D.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return me!==null?null:R($,D,""+F,te);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case N:return F.key===me?I($,D,F,te):null;case S:return F.key===me?U($,D,F,te):null;case le:return me=F._init,X($,D,me(F._payload),te)}if(Ks(F)||ae(F))return me!==null?null:J($,D,F,te,null);dc($,F)}return null}function oe($,D,F,te,me){if(typeof te=="string"&&te!==""||typeof te=="number")return $=$.get(F)||null,R(D,$,""+te,me);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case N:return $=$.get(te.key===null?F:te.key)||null,I(D,$,te,me);case S:return $=$.get(te.key===null?F:te.key)||null,U(D,$,te,me);case le:var xe=te._init;return oe($,D,F,xe(te._payload),me)}if(Ks(te)||ae(te))return $=$.get(F)||null,J(D,$,te,me,null);dc(D,te)}return null}function de($,D,F,te){for(var me=null,xe=null,be=D,Se=D=0,Ct=null;be!==null&&Se<F.length;Se++){be.index>Se?(Ct=be,be=null):Ct=be.sibling;var De=X($,be,F[Se],te);if(De===null){be===null&&(be=Ct);break}s&&be&&De.alternate===null&&o($,be),D=k(De,D,Se),xe===null?me=De:xe.sibling=De,xe=De,be=Ct}if(Se===F.length)return f($,be),Qe&&Ka($,Se),me;if(be===null){for(;Se<F.length;Se++)be=Q($,F[Se],te),be!==null&&(D=k(be,D,Se),xe===null?me=be:xe.sibling=be,xe=be);return Qe&&Ka($,Se),me}for(be=g($,be);Se<F.length;Se++)Ct=oe(be,$,Se,F[Se],te),Ct!==null&&(s&&Ct.alternate!==null&&be.delete(Ct.key===null?Se:Ct.key),D=k(Ct,D,Se),xe===null?me=Ct:xe.sibling=Ct,xe=Ct);return s&&be.forEach(function(ja){return o($,ja)}),Qe&&Ka($,Se),me}function pe($,D,F,te){var me=ae(F);if(typeof me!="function")throw Error(r(150));if(F=me.call(F),F==null)throw Error(r(151));for(var xe=me=null,be=D,Se=D=0,Ct=null,De=F.next();be!==null&&!De.done;Se++,De=F.next()){be.index>Se?(Ct=be,be=null):Ct=be.sibling;var ja=X($,be,De.value,te);if(ja===null){be===null&&(be=Ct);break}s&&be&&ja.alternate===null&&o($,be),D=k(ja,D,Se),xe===null?me=ja:xe.sibling=ja,xe=ja,be=Ct}if(De.done)return f($,be),Qe&&Ka($,Se),me;if(be===null){for(;!De.done;Se++,De=F.next())De=Q($,De.value,te),De!==null&&(D=k(De,D,Se),xe===null?me=De:xe.sibling=De,xe=De);return Qe&&Ka($,Se),me}for(be=g($,be);!De.done;Se++,De=F.next())De=oe(be,$,Se,De.value,te),De!==null&&(s&&De.alternate!==null&&be.delete(De.key===null?Se:De.key),D=k(De,D,Se),xe===null?me=De:xe.sibling=De,xe=De);return s&&be.forEach(function(RT){return o($,RT)}),Qe&&Ka($,Se),me}function dt($,D,F,te){if(typeof F=="object"&&F!==null&&F.type===T&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case N:e:{for(var me=F.key,xe=D;xe!==null;){if(xe.key===me){if(me=F.type,me===T){if(xe.tag===7){f($,xe.sibling),D=b(xe,F.props.children),D.return=$,$=D;break e}}else if(xe.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===le&&eb(me)===xe.type){f($,xe.sibling),D=b(xe,F.props),D.ref=vo($,xe,F),D.return=$,$=D;break e}f($,xe);break}else o($,xe);xe=xe.sibling}F.type===T?(D=Za(F.props.children,$.mode,te,F.key),D.return=$,$=D):(te=Dc(F.type,F.key,F.props,null,$.mode,te),te.ref=vo($,D,F),te.return=$,$=te)}return O($);case S:e:{for(xe=F.key;D!==null;){if(D.key===xe)if(D.tag===4&&D.stateNode.containerInfo===F.containerInfo&&D.stateNode.implementation===F.implementation){f($,D.sibling),D=b(D,F.children||[]),D.return=$,$=D;break e}else{f($,D);break}else o($,D);D=D.sibling}D=Qh(F,$.mode,te),D.return=$,$=D}return O($);case le:return xe=F._init,dt($,D,xe(F._payload),te)}if(Ks(F))return de($,D,F,te);if(ae(F))return pe($,D,F,te);dc($,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,D!==null&&D.tag===6?(f($,D.sibling),D=b(D,F),D.return=$,$=D):(f($,D),D=Jh(F,$.mode,te),D.return=$,$=D),O($)):f($,D)}return dt}var Wi=tb(!0),rb=tb(!1),fc=da(null),hc=null,Ki=null,oh=null;function lh(){oh=Ki=hc=null}function ch(s){var o=fc.current;Ye(fc),s._currentValue=o}function uh(s,o,f){for(;s!==null;){var g=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,g!==null&&(g.childLanes|=o)):g!==null&&(g.childLanes&o)!==o&&(g.childLanes|=o),s===f)break;s=s.return}}function Vi(s,o){hc=s,oh=Ki=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(or=!0),s.firstContext=null)}function Rr(s){var o=s._currentValue;if(oh!==s)if(s={context:s,memoizedValue:o,next:null},Ki===null){if(hc===null)throw Error(r(308));Ki=s,hc.dependencies={lanes:0,firstContext:s}}else Ki=Ki.next=s;return o}var Va=null;function dh(s){Va===null?Va=[s]:Va.push(s)}function nb(s,o,f,g){var b=o.interleaved;return b===null?(f.next=f,dh(o)):(f.next=b.next,b.next=f),o.interleaved=f,Tn(s,g)}function Tn(s,o){s.lanes|=o;var f=s.alternate;for(f!==null&&(f.lanes|=o),f=s,s=s.return;s!==null;)s.childLanes|=o,f=s.alternate,f!==null&&(f.childLanes|=o),f=s,s=s.return;return f.tag===3?f.stateNode:null}var pa=!1;function fh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ab(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Rn(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function ma(s,o,f){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(Ie&2)!==0){var b=g.pending;return b===null?o.next=o:(o.next=b.next,b.next=o),g.pending=o,Tn(s,f)}return b=g.interleaved,b===null?(o.next=o,dh(g)):(o.next=b.next,b.next=o),g.interleaved=o,Tn(s,f)}function pc(s,o,f){if(o=o.updateQueue,o!==null&&(o=o.shared,(f&4194240)!==0)){var g=o.lanes;g&=s.pendingLanes,f|=g,o.lanes=f,Ef(s,f)}}function ib(s,o){var f=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var b=null,k=null;if(f=f.firstBaseUpdate,f!==null){do{var O={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};k===null?b=k=O:k=k.next=O,f=f.next}while(f!==null);k===null?b=k=o:k=k.next=o}else b=k=o;f={baseState:g.baseState,firstBaseUpdate:b,lastBaseUpdate:k,shared:g.shared,effects:g.effects},s.updateQueue=f;return}s=f.lastBaseUpdate,s===null?f.firstBaseUpdate=o:s.next=o,f.lastBaseUpdate=o}function mc(s,o,f,g){var b=s.updateQueue;pa=!1;var k=b.firstBaseUpdate,O=b.lastBaseUpdate,R=b.shared.pending;if(R!==null){b.shared.pending=null;var I=R,U=I.next;I.next=null,O===null?k=U:O.next=U,O=I;var J=s.alternate;J!==null&&(J=J.updateQueue,R=J.lastBaseUpdate,R!==O&&(R===null?J.firstBaseUpdate=U:R.next=U,J.lastBaseUpdate=I))}if(k!==null){var Q=b.baseState;O=0,J=U=I=null,R=k;do{var X=R.lane,oe=R.eventTime;if((g&X)===X){J!==null&&(J=J.next={eventTime:oe,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var de=s,pe=R;switch(X=o,oe=f,pe.tag){case 1:if(de=pe.payload,typeof de=="function"){Q=de.call(oe,Q,X);break e}Q=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=pe.payload,X=typeof de=="function"?de.call(oe,Q,X):de,X==null)break e;Q=ne({},Q,X);break e;case 2:pa=!0}}R.callback!==null&&R.lane!==0&&(s.flags|=64,X=b.effects,X===null?b.effects=[R]:X.push(R))}else oe={eventTime:oe,lane:X,tag:R.tag,payload:R.payload,callback:R.callback,next:null},J===null?(U=J=oe,I=Q):J=J.next=oe,O|=X;if(R=R.next,R===null){if(R=b.shared.pending,R===null)break;X=R,R=X.next,X.next=null,b.lastBaseUpdate=X,b.shared.pending=null}}while(!0);if(J===null&&(I=Q),b.baseState=I,b.firstBaseUpdate=U,b.lastBaseUpdate=J,o=b.shared.interleaved,o!==null){b=o;do O|=b.lane,b=b.next;while(b!==o)}else k===null&&(b.shared.lanes=0);Ya|=O,s.lanes=O,s.memoizedState=Q}}function sb(s,o,f){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var g=s[o],b=g.callback;if(b!==null){if(g.callback=null,g=f,typeof b!="function")throw Error(r(191,b));b.call(g)}}}var yo={},fn=da(yo),xo=da(yo),bo=da(yo);function Ha(s){if(s===yo)throw Error(r(174));return s}function hh(s,o){switch(Ke(bo,o),Ke(xo,s),Ke(fn,yo),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:pf(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=pf(o,s)}Ye(fn),Ke(fn,o)}function Hi(){Ye(fn),Ye(xo),Ye(bo)}function ob(s){Ha(bo.current);var o=Ha(fn.current),f=pf(o,s.type);o!==f&&(Ke(xo,s),Ke(fn,f))}function ph(s){xo.current===s&&(Ye(fn),Ye(xo))}var nt=da(0);function gc(s){for(var o=s;o!==null;){if(o.tag===13){var f=o.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var mh=[];function gh(){for(var s=0;s<mh.length;s++)mh[s]._workInProgressVersionPrimary=null;mh.length=0}var vc=C.ReactCurrentDispatcher,vh=C.ReactCurrentBatchConfig,Ga=0,at=null,bt=null,Ot=null,yc=!1,wo=!1,jo=0,tT=0;function qt(){throw Error(r(321))}function yh(s,o){if(o===null)return!1;for(var f=0;f<o.length&&f<s.length;f++)if(!Gr(s[f],o[f]))return!1;return!0}function xh(s,o,f,g,b,k){if(Ga=k,at=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,vc.current=s===null||s.memoizedState===null?iT:sT,s=f(g,b),wo){k=0;do{if(wo=!1,jo=0,25<=k)throw Error(r(301));k+=1,Ot=bt=null,o.updateQueue=null,vc.current=oT,s=f(g,b)}while(wo)}if(vc.current=wc,o=bt!==null&&bt.next!==null,Ga=0,Ot=bt=at=null,yc=!1,o)throw Error(r(300));return s}function bh(){var s=jo!==0;return jo=0,s}function hn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?at.memoizedState=Ot=s:Ot=Ot.next=s,Ot}function Ir(){if(bt===null){var s=at.alternate;s=s!==null?s.memoizedState:null}else s=bt.next;var o=Ot===null?at.memoizedState:Ot.next;if(o!==null)Ot=o,bt=s;else{if(s===null)throw Error(r(310));bt=s,s={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Ot===null?at.memoizedState=Ot=s:Ot=Ot.next=s}return Ot}function _o(s,o){return typeof o=="function"?o(s):o}function wh(s){var o=Ir(),f=o.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=s;var g=bt,b=g.baseQueue,k=f.pending;if(k!==null){if(b!==null){var O=b.next;b.next=k.next,k.next=O}g.baseQueue=b=k,f.pending=null}if(b!==null){k=b.next,g=g.baseState;var R=O=null,I=null,U=k;do{var J=U.lane;if((Ga&J)===J)I!==null&&(I=I.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),g=U.hasEagerState?U.eagerState:s(g,U.action);else{var Q={lane:J,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};I===null?(R=I=Q,O=g):I=I.next=Q,at.lanes|=J,Ya|=J}U=U.next}while(U!==null&&U!==k);I===null?O=g:I.next=R,Gr(g,o.memoizedState)||(or=!0),o.memoizedState=g,o.baseState=O,o.baseQueue=I,f.lastRenderedState=g}if(s=f.interleaved,s!==null){b=s;do k=b.lane,at.lanes|=k,Ya|=k,b=b.next;while(b!==s)}else b===null&&(f.lanes=0);return[o.memoizedState,f.dispatch]}function jh(s){var o=Ir(),f=o.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=s;var g=f.dispatch,b=f.pending,k=o.memoizedState;if(b!==null){f.pending=null;var O=b=b.next;do k=s(k,O.action),O=O.next;while(O!==b);Gr(k,o.memoizedState)||(or=!0),o.memoizedState=k,o.baseQueue===null&&(o.baseState=k),f.lastRenderedState=k}return[k,g]}function lb(){}function cb(s,o){var f=at,g=Ir(),b=o(),k=!Gr(g.memoizedState,b);if(k&&(g.memoizedState=b,or=!0),g=g.queue,_h(fb.bind(null,f,g,s),[s]),g.getSnapshot!==o||k||Ot!==null&&Ot.memoizedState.tag&1){if(f.flags|=2048,ko(9,db.bind(null,f,g,b,o),void 0,null),At===null)throw Error(r(349));(Ga&30)!==0||ub(f,o,b)}return b}function ub(s,o,f){s.flags|=16384,s={getSnapshot:o,value:f},o=at.updateQueue,o===null?(o={lastEffect:null,stores:null},at.updateQueue=o,o.stores=[s]):(f=o.stores,f===null?o.stores=[s]:f.push(s))}function db(s,o,f,g){o.value=f,o.getSnapshot=g,hb(o)&&pb(s)}function fb(s,o,f){return f(function(){hb(o)&&pb(s)})}function hb(s){var o=s.getSnapshot;s=s.value;try{var f=o();return!Gr(s,f)}catch{return!0}}function pb(s){var o=Tn(s,1);o!==null&&Zr(o,s,1,-1)}function mb(s){var o=hn();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:s},o.queue=s,s=s.dispatch=aT.bind(null,at,s),[o.memoizedState,s]}function ko(s,o,f,g){return s={tag:s,create:o,destroy:f,deps:g,next:null},o=at.updateQueue,o===null?(o={lastEffect:null,stores:null},at.updateQueue=o,o.lastEffect=s.next=s):(f=o.lastEffect,f===null?o.lastEffect=s.next=s:(g=f.next,f.next=s,s.next=g,o.lastEffect=s)),s}function gb(){return Ir().memoizedState}function xc(s,o,f,g){var b=hn();at.flags|=s,b.memoizedState=ko(1|o,f,void 0,g===void 0?null:g)}function bc(s,o,f,g){var b=Ir();g=g===void 0?null:g;var k=void 0;if(bt!==null){var O=bt.memoizedState;if(k=O.destroy,g!==null&&yh(g,O.deps)){b.memoizedState=ko(o,f,k,g);return}}at.flags|=s,b.memoizedState=ko(1|o,f,k,g)}function vb(s,o){return xc(8390656,8,s,o)}function _h(s,o){return bc(2048,8,s,o)}function yb(s,o){return bc(4,2,s,o)}function xb(s,o){return bc(4,4,s,o)}function bb(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function wb(s,o,f){return f=f!=null?f.concat([s]):null,bc(4,4,bb.bind(null,o,s),f)}function kh(){}function jb(s,o){var f=Ir();o=o===void 0?null:o;var g=f.memoizedState;return g!==null&&o!==null&&yh(o,g[1])?g[0]:(f.memoizedState=[s,o],s)}function _b(s,o){var f=Ir();o=o===void 0?null:o;var g=f.memoizedState;return g!==null&&o!==null&&yh(o,g[1])?g[0]:(s=s(),f.memoizedState=[s,o],s)}function kb(s,o,f){return(Ga&21)===0?(s.baseState&&(s.baseState=!1,or=!0),s.memoizedState=f):(Gr(f,o)||(f=ex(),at.lanes|=f,Ya|=f,s.baseState=!0),o)}function rT(s,o){var f=Be;Be=f!==0&&4>f?f:4,s(!0);var g=vh.transition;vh.transition={};try{s(!1),o()}finally{Be=f,vh.transition=g}}function Sb(){return Ir().memoizedState}function nT(s,o,f){var g=xa(s);if(f={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null},Eb(s))Pb(o,f);else if(f=nb(s,o,f,g),f!==null){var b=Zt();Zr(f,s,g,b),Nb(f,o,g)}}function aT(s,o,f){var g=xa(s),b={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null};if(Eb(s))Pb(o,b);else{var k=s.alternate;if(s.lanes===0&&(k===null||k.lanes===0)&&(k=o.lastRenderedReducer,k!==null))try{var O=o.lastRenderedState,R=k(O,f);if(b.hasEagerState=!0,b.eagerState=R,Gr(R,O)){var I=o.interleaved;I===null?(b.next=b,dh(o)):(b.next=I.next,I.next=b),o.interleaved=b;return}}catch{}finally{}f=nb(s,o,b,g),f!==null&&(b=Zt(),Zr(f,s,g,b),Nb(f,o,g))}}function Eb(s){var o=s.alternate;return s===at||o!==null&&o===at}function Pb(s,o){wo=yc=!0;var f=s.pending;f===null?o.next=o:(o.next=f.next,f.next=o),s.pending=o}function Nb(s,o,f){if((f&4194240)!==0){var g=o.lanes;g&=s.pendingLanes,f|=g,o.lanes=f,Ef(s,f)}}var wc={readContext:Rr,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},iT={readContext:Rr,useCallback:function(s,o){return hn().memoizedState=[s,o===void 0?null:o],s},useContext:Rr,useEffect:vb,useImperativeHandle:function(s,o,f){return f=f!=null?f.concat([s]):null,xc(4194308,4,bb.bind(null,o,s),f)},useLayoutEffect:function(s,o){return xc(4194308,4,s,o)},useInsertionEffect:function(s,o){return xc(4,2,s,o)},useMemo:function(s,o){var f=hn();return o=o===void 0?null:o,s=s(),f.memoizedState=[s,o],s},useReducer:function(s,o,f){var g=hn();return o=f!==void 0?f(o):o,g.memoizedState=g.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},g.queue=s,s=s.dispatch=nT.bind(null,at,s),[g.memoizedState,s]},useRef:function(s){var o=hn();return s={current:s},o.memoizedState=s},useState:mb,useDebugValue:kh,useDeferredValue:function(s){return hn().memoizedState=s},useTransition:function(){var s=mb(!1),o=s[0];return s=rT.bind(null,s[1]),hn().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,f){var g=at,b=hn();if(Qe){if(f===void 0)throw Error(r(407));f=f()}else{if(f=o(),At===null)throw Error(r(349));(Ga&30)!==0||ub(g,o,f)}b.memoizedState=f;var k={value:f,getSnapshot:o};return b.queue=k,vb(fb.bind(null,g,k,s),[s]),g.flags|=2048,ko(9,db.bind(null,g,k,f,o),void 0,null),f},useId:function(){var s=hn(),o=At.identifierPrefix;if(Qe){var f=Cn,g=An;f=(g&~(1<<32-Hr(g)-1)).toString(32)+f,o=":"+o+"R"+f,f=jo++,0<f&&(o+="H"+f.toString(32)),o+=":"}else f=tT++,o=":"+o+"r"+f.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},sT={readContext:Rr,useCallback:jb,useContext:Rr,useEffect:_h,useImperativeHandle:wb,useInsertionEffect:yb,useLayoutEffect:xb,useMemo:_b,useReducer:wh,useRef:gb,useState:function(){return wh(_o)},useDebugValue:kh,useDeferredValue:function(s){var o=Ir();return kb(o,bt.memoizedState,s)},useTransition:function(){var s=wh(_o)[0],o=Ir().memoizedState;return[s,o]},useMutableSource:lb,useSyncExternalStore:cb,useId:Sb,unstable_isNewReconciler:!1},oT={readContext:Rr,useCallback:jb,useContext:Rr,useEffect:_h,useImperativeHandle:wb,useInsertionEffect:yb,useLayoutEffect:xb,useMemo:_b,useReducer:jh,useRef:gb,useState:function(){return jh(_o)},useDebugValue:kh,useDeferredValue:function(s){var o=Ir();return bt===null?o.memoizedState=s:kb(o,bt.memoizedState,s)},useTransition:function(){var s=jh(_o)[0],o=Ir().memoizedState;return[s,o]},useMutableSource:lb,useSyncExternalStore:cb,useId:Sb,unstable_isNewReconciler:!1};function Xr(s,o){if(s&&s.defaultProps){o=ne({},o),s=s.defaultProps;for(var f in s)o[f]===void 0&&(o[f]=s[f]);return o}return o}function Sh(s,o,f,g){o=s.memoizedState,f=f(g,o),f=f==null?o:ne({},o,f),s.memoizedState=f,s.lanes===0&&(s.updateQueue.baseState=f)}var jc={isMounted:function(s){return(s=s._reactInternals)?Ua(s)===s:!1},enqueueSetState:function(s,o,f){s=s._reactInternals;var g=Zt(),b=xa(s),k=Rn(g,b);k.payload=o,f!=null&&(k.callback=f),o=ma(s,k,b),o!==null&&(Zr(o,s,b,g),pc(o,s,b))},enqueueReplaceState:function(s,o,f){s=s._reactInternals;var g=Zt(),b=xa(s),k=Rn(g,b);k.tag=1,k.payload=o,f!=null&&(k.callback=f),o=ma(s,k,b),o!==null&&(Zr(o,s,b,g),pc(o,s,b))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var f=Zt(),g=xa(s),b=Rn(f,g);b.tag=2,o!=null&&(b.callback=o),o=ma(s,b,g),o!==null&&(Zr(o,s,g,f),pc(o,s,g))}};function Ob(s,o,f,g,b,k,O){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,k,O):o.prototype&&o.prototype.isPureReactComponent?!co(f,g)||!co(b,k):!0}function Ab(s,o,f){var g=!1,b=fa,k=o.contextType;return typeof k=="object"&&k!==null?k=Rr(k):(b=sr(o)?qa:zt.current,g=o.contextTypes,k=(g=g!=null)?Fi(s,b):fa),o=new o(f,k),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=jc,s.stateNode=o,o._reactInternals=s,g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=b,s.__reactInternalMemoizedMaskedChildContext=k),o}function Cb(s,o,f,g){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(f,g),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(f,g),o.state!==s&&jc.enqueueReplaceState(o,o.state,null)}function Eh(s,o,f,g){var b=s.stateNode;b.props=f,b.state=s.memoizedState,b.refs={},fh(s);var k=o.contextType;typeof k=="object"&&k!==null?b.context=Rr(k):(k=sr(o)?qa:zt.current,b.context=Fi(s,k)),b.state=s.memoizedState,k=o.getDerivedStateFromProps,typeof k=="function"&&(Sh(s,o,k,f),b.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(o=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),o!==b.state&&jc.enqueueReplaceState(b,b.state,null),mc(s,f,b,g),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308)}function Gi(s,o){try{var f="",g=o;do f+=je(g),g=g.return;while(g);var b=f}catch(k){b=`
Error generating stack: `+k.message+`
`+k.stack}return{value:s,source:o,stack:b,digest:null}}function Ph(s,o,f){return{value:s,source:null,stack:f??null,digest:o??null}}function Nh(s,o){try{console.error(o.value)}catch(f){setTimeout(function(){throw f})}}var lT=typeof WeakMap=="function"?WeakMap:Map;function Tb(s,o,f){f=Rn(-1,f),f.tag=3,f.payload={element:null};var g=o.value;return f.callback=function(){Oc||(Oc=!0,qh=g),Nh(s,o)},f}function Rb(s,o,f){f=Rn(-1,f),f.tag=3;var g=s.type.getDerivedStateFromError;if(typeof g=="function"){var b=o.value;f.payload=function(){return g(b)},f.callback=function(){Nh(s,o)}}var k=s.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(f.callback=function(){Nh(s,o),typeof g!="function"&&(va===null?va=new Set([this]):va.add(this));var O=o.stack;this.componentDidCatch(o.value,{componentStack:O!==null?O:""})}),f}function Ib(s,o,f){var g=s.pingCache;if(g===null){g=s.pingCache=new lT;var b=new Set;g.set(o,b)}else b=g.get(o),b===void 0&&(b=new Set,g.set(o,b));b.has(f)||(b.add(f),s=jT.bind(null,s,o,f),o.then(s,s))}function Db(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Mb(s,o,f,g,b){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(o=Rn(-1,1),o.tag=2,ma(f,o,1))),f.lanes|=1),s):(s.flags|=65536,s.lanes=b,s)}var cT=C.ReactCurrentOwner,or=!1;function Qt(s,o,f,g){o.child=s===null?rb(o,null,f,g):Wi(o,s.child,f,g)}function Lb(s,o,f,g,b){f=f.render;var k=o.ref;return Vi(o,b),g=xh(s,o,f,g,k,b),f=bh(),s!==null&&!or?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~b,In(s,o,b)):(Qe&&f&&rh(o),o.flags|=1,Qt(s,o,g,b),o.child)}function $b(s,o,f,g,b){if(s===null){var k=f.type;return typeof k=="function"&&!Xh(k)&&k.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(o.tag=15,o.type=k,Bb(s,o,k,g,b)):(s=Dc(f.type,null,g,o,o.mode,b),s.ref=o.ref,s.return=o,o.child=s)}if(k=s.child,(s.lanes&b)===0){var O=k.memoizedProps;if(f=f.compare,f=f!==null?f:co,f(O,g)&&s.ref===o.ref)return In(s,o,b)}return o.flags|=1,s=wa(k,g),s.ref=o.ref,s.return=o,o.child=s}function Bb(s,o,f,g,b){if(s!==null){var k=s.memoizedProps;if(co(k,g)&&s.ref===o.ref)if(or=!1,o.pendingProps=g=k,(s.lanes&b)!==0)(s.flags&131072)!==0&&(or=!0);else return o.lanes=s.lanes,In(s,o,b)}return Oh(s,o,f,g,b)}function Fb(s,o,f){var g=o.pendingProps,b=g.children,k=s!==null?s.memoizedState:null;if(g.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(Xi,xr),xr|=f;else{if((f&1073741824)===0)return s=k!==null?k.baseLanes|f:f,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,Ke(Xi,xr),xr|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=k!==null?k.baseLanes:f,Ke(Xi,xr),xr|=g}else k!==null?(g=k.baseLanes|f,o.memoizedState=null):g=f,Ke(Xi,xr),xr|=g;return Qt(s,o,b,f),o.child}function Ub(s,o){var f=o.ref;(s===null&&f!==null||s!==null&&s.ref!==f)&&(o.flags|=512,o.flags|=2097152)}function Oh(s,o,f,g,b){var k=sr(f)?qa:zt.current;return k=Fi(o,k),Vi(o,b),f=xh(s,o,f,g,k,b),g=bh(),s!==null&&!or?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~b,In(s,o,b)):(Qe&&g&&rh(o),o.flags|=1,Qt(s,o,f,b),o.child)}function zb(s,o,f,g,b){if(sr(f)){var k=!0;sc(o)}else k=!1;if(Vi(o,b),o.stateNode===null)kc(s,o),Ab(o,f,g),Eh(o,f,g,b),g=!0;else if(s===null){var O=o.stateNode,R=o.memoizedProps;O.props=R;var I=O.context,U=f.contextType;typeof U=="object"&&U!==null?U=Rr(U):(U=sr(f)?qa:zt.current,U=Fi(o,U));var J=f.getDerivedStateFromProps,Q=typeof J=="function"||typeof O.getSnapshotBeforeUpdate=="function";Q||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(R!==g||I!==U)&&Cb(o,O,g,U),pa=!1;var X=o.memoizedState;O.state=X,mc(o,g,O,b),I=o.memoizedState,R!==g||X!==I||ir.current||pa?(typeof J=="function"&&(Sh(o,f,J,g),I=o.memoizedState),(R=pa||Ob(o,f,R,g,X,I,U))?(Q||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(o.flags|=4194308)):(typeof O.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=g,o.memoizedState=I),O.props=g,O.state=I,O.context=U,g=R):(typeof O.componentDidMount=="function"&&(o.flags|=4194308),g=!1)}else{O=o.stateNode,ab(s,o),R=o.memoizedProps,U=o.type===o.elementType?R:Xr(o.type,R),O.props=U,Q=o.pendingProps,X=O.context,I=f.contextType,typeof I=="object"&&I!==null?I=Rr(I):(I=sr(f)?qa:zt.current,I=Fi(o,I));var oe=f.getDerivedStateFromProps;(J=typeof oe=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(R!==Q||X!==I)&&Cb(o,O,g,I),pa=!1,X=o.memoizedState,O.state=X,mc(o,g,O,b);var de=o.memoizedState;R!==Q||X!==de||ir.current||pa?(typeof oe=="function"&&(Sh(o,f,oe,g),de=o.memoizedState),(U=pa||Ob(o,f,U,g,X,de,I)||!1)?(J||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(g,de,I),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(g,de,I)),typeof O.componentDidUpdate=="function"&&(o.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof O.componentDidUpdate!="function"||R===s.memoizedProps&&X===s.memoizedState||(o.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||R===s.memoizedProps&&X===s.memoizedState||(o.flags|=1024),o.memoizedProps=g,o.memoizedState=de),O.props=g,O.state=de,O.context=I,g=U):(typeof O.componentDidUpdate!="function"||R===s.memoizedProps&&X===s.memoizedState||(o.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||R===s.memoizedProps&&X===s.memoizedState||(o.flags|=1024),g=!1)}return Ah(s,o,f,g,k,b)}function Ah(s,o,f,g,b,k){Ub(s,o);var O=(o.flags&128)!==0;if(!g&&!O)return b&&Hx(o,f,!1),In(s,o,k);g=o.stateNode,cT.current=o;var R=O&&typeof f.getDerivedStateFromError!="function"?null:g.render();return o.flags|=1,s!==null&&O?(o.child=Wi(o,s.child,null,k),o.child=Wi(o,null,R,k)):Qt(s,o,R,k),o.memoizedState=g.state,b&&Hx(o,f,!0),o.child}function qb(s){var o=s.stateNode;o.pendingContext?Kx(s,o.pendingContext,o.pendingContext!==o.context):o.context&&Kx(s,o.context,!1),hh(s,o.containerInfo)}function Wb(s,o,f,g,b){return qi(),sh(b),o.flags|=256,Qt(s,o,f,g),o.child}var Ch={dehydrated:null,treeContext:null,retryLane:0};function Th(s){return{baseLanes:s,cachePool:null,transitions:null}}function Kb(s,o,f){var g=o.pendingProps,b=nt.current,k=!1,O=(o.flags&128)!==0,R;if((R=O)||(R=s!==null&&s.memoizedState===null?!1:(b&2)!==0),R?(k=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(b|=1),Ke(nt,b&1),s===null)return ih(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(O=g.children,s=g.fallback,k?(g=o.mode,k=o.child,O={mode:"hidden",children:O},(g&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=O):k=Mc(O,g,0,null),s=Za(s,g,f,null),k.return=o,s.return=o,k.sibling=s,o.child=k,o.child.memoizedState=Th(f),o.memoizedState=Ch,s):Rh(o,O));if(b=s.memoizedState,b!==null&&(R=b.dehydrated,R!==null))return uT(s,o,O,g,R,b,f);if(k){k=g.fallback,O=o.mode,b=s.child,R=b.sibling;var I={mode:"hidden",children:g.children};return(O&1)===0&&o.child!==b?(g=o.child,g.childLanes=0,g.pendingProps=I,o.deletions=null):(g=wa(b,I),g.subtreeFlags=b.subtreeFlags&14680064),R!==null?k=wa(R,k):(k=Za(k,O,f,null),k.flags|=2),k.return=o,g.return=o,g.sibling=k,o.child=g,g=k,k=o.child,O=s.child.memoizedState,O=O===null?Th(f):{baseLanes:O.baseLanes|f,cachePool:null,transitions:O.transitions},k.memoizedState=O,k.childLanes=s.childLanes&~f,o.memoizedState=Ch,g}return k=s.child,s=k.sibling,g=wa(k,{mode:"visible",children:g.children}),(o.mode&1)===0&&(g.lanes=f),g.return=o,g.sibling=null,s!==null&&(f=o.deletions,f===null?(o.deletions=[s],o.flags|=16):f.push(s)),o.child=g,o.memoizedState=null,g}function Rh(s,o){return o=Mc({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function _c(s,o,f,g){return g!==null&&sh(g),Wi(o,s.child,null,f),s=Rh(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function uT(s,o,f,g,b,k,O){if(f)return o.flags&256?(o.flags&=-257,g=Ph(Error(r(422))),_c(s,o,O,g)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(k=g.fallback,b=o.mode,g=Mc({mode:"visible",children:g.children},b,0,null),k=Za(k,b,O,null),k.flags|=2,g.return=o,k.return=o,g.sibling=k,o.child=g,(o.mode&1)!==0&&Wi(o,s.child,null,O),o.child.memoizedState=Th(O),o.memoizedState=Ch,k);if((o.mode&1)===0)return _c(s,o,O,null);if(b.data==="$!"){if(g=b.nextSibling&&b.nextSibling.dataset,g)var R=g.dgst;return g=R,k=Error(r(419)),g=Ph(k,g,void 0),_c(s,o,O,g)}if(R=(O&s.childLanes)!==0,or||R){if(g=At,g!==null){switch(O&-O){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(g.suspendedLanes|O))!==0?0:b,b!==0&&b!==k.retryLane&&(k.retryLane=b,Tn(s,b),Zr(g,s,b,-1))}return Yh(),g=Ph(Error(r(421))),_c(s,o,O,g)}return b.data==="$?"?(o.flags|=128,o.child=s.child,o=_T.bind(null,s),b._reactRetry=o,null):(s=k.treeContext,yr=ua(b.nextSibling),vr=o,Qe=!0,Yr=null,s!==null&&(Cr[Tr++]=An,Cr[Tr++]=Cn,Cr[Tr++]=Wa,An=s.id,Cn=s.overflow,Wa=o),o=Rh(o,g.children),o.flags|=4096,o)}function Vb(s,o,f){s.lanes|=o;var g=s.alternate;g!==null&&(g.lanes|=o),uh(s.return,o,f)}function Ih(s,o,f,g,b){var k=s.memoizedState;k===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:b}:(k.isBackwards=o,k.rendering=null,k.renderingStartTime=0,k.last=g,k.tail=f,k.tailMode=b)}function Hb(s,o,f){var g=o.pendingProps,b=g.revealOrder,k=g.tail;if(Qt(s,o,g.children,f),g=nt.current,(g&2)!==0)g=g&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Vb(s,f,o);else if(s.tag===19)Vb(s,f,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}g&=1}if(Ke(nt,g),(o.mode&1)===0)o.memoizedState=null;else switch(b){case"forwards":for(f=o.child,b=null;f!==null;)s=f.alternate,s!==null&&gc(s)===null&&(b=f),f=f.sibling;f=b,f===null?(b=o.child,o.child=null):(b=f.sibling,f.sibling=null),Ih(o,!1,b,f,k);break;case"backwards":for(f=null,b=o.child,o.child=null;b!==null;){if(s=b.alternate,s!==null&&gc(s)===null){o.child=b;break}s=b.sibling,b.sibling=f,f=b,b=s}Ih(o,!0,f,null,k);break;case"together":Ih(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function kc(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function In(s,o,f){if(s!==null&&(o.dependencies=s.dependencies),Ya|=o.lanes,(f&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(r(153));if(o.child!==null){for(s=o.child,f=wa(s,s.pendingProps),o.child=f,f.return=o;s.sibling!==null;)s=s.sibling,f=f.sibling=wa(s,s.pendingProps),f.return=o;f.sibling=null}return o.child}function dT(s,o,f){switch(o.tag){case 3:qb(o),qi();break;case 5:ob(o);break;case 1:sr(o.type)&&sc(o);break;case 4:hh(o,o.stateNode.containerInfo);break;case 10:var g=o.type._context,b=o.memoizedProps.value;Ke(fc,g._currentValue),g._currentValue=b;break;case 13:if(g=o.memoizedState,g!==null)return g.dehydrated!==null?(Ke(nt,nt.current&1),o.flags|=128,null):(f&o.child.childLanes)!==0?Kb(s,o,f):(Ke(nt,nt.current&1),s=In(s,o,f),s!==null?s.sibling:null);Ke(nt,nt.current&1);break;case 19:if(g=(f&o.childLanes)!==0,(s.flags&128)!==0){if(g)return Hb(s,o,f);o.flags|=128}if(b=o.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Ke(nt,nt.current),g)break;return null;case 22:case 23:return o.lanes=0,Fb(s,o,f)}return In(s,o,f)}var Gb,Dh,Yb,Xb;Gb=function(s,o){for(var f=o.child;f!==null;){if(f.tag===5||f.tag===6)s.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===o)break;for(;f.sibling===null;){if(f.return===null||f.return===o)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Dh=function(){},Yb=function(s,o,f,g){var b=s.memoizedProps;if(b!==g){s=o.stateNode,Ha(fn.current);var k=null;switch(f){case"input":b=$e(s,b),g=$e(s,g),k=[];break;case"select":b=ne({},b,{value:void 0}),g=ne({},g,{value:void 0}),k=[];break;case"textarea":b=hf(s,b),g=hf(s,g),k=[];break;default:typeof b.onClick!="function"&&typeof g.onClick=="function"&&(s.onclick=nc)}mf(f,g);var O;f=null;for(U in b)if(!g.hasOwnProperty(U)&&b.hasOwnProperty(U)&&b[U]!=null)if(U==="style"){var R=b[U];for(O in R)R.hasOwnProperty(O)&&(f||(f={}),f[O]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(a.hasOwnProperty(U)?k||(k=[]):(k=k||[]).push(U,null));for(U in g){var I=g[U];if(R=b?.[U],g.hasOwnProperty(U)&&I!==R&&(I!=null||R!=null))if(U==="style")if(R){for(O in R)!R.hasOwnProperty(O)||I&&I.hasOwnProperty(O)||(f||(f={}),f[O]="");for(O in I)I.hasOwnProperty(O)&&R[O]!==I[O]&&(f||(f={}),f[O]=I[O])}else f||(k||(k=[]),k.push(U,f)),f=I;else U==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,R=R?R.__html:void 0,I!=null&&R!==I&&(k=k||[]).push(U,I)):U==="children"?typeof I!="string"&&typeof I!="number"||(k=k||[]).push(U,""+I):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(a.hasOwnProperty(U)?(I!=null&&U==="onScroll"&&Ge("scroll",s),k||R===I||(k=[])):(k=k||[]).push(U,I))}f&&(k=k||[]).push("style",f);var U=k;(o.updateQueue=U)&&(o.flags|=4)}},Xb=function(s,o,f,g){f!==g&&(o.flags|=4)};function So(s,o){if(!Qe)switch(s.tailMode){case"hidden":o=s.tail;for(var f=null;o!==null;)o.alternate!==null&&(f=o),o=o.sibling;f===null?s.tail=null:f.sibling=null;break;case"collapsed":f=s.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function Wt(s){var o=s.alternate!==null&&s.alternate.child===s.child,f=0,g=0;if(o)for(var b=s.child;b!==null;)f|=b.lanes|b.childLanes,g|=b.subtreeFlags&14680064,g|=b.flags&14680064,b.return=s,b=b.sibling;else for(b=s.child;b!==null;)f|=b.lanes|b.childLanes,g|=b.subtreeFlags,g|=b.flags,b.return=s,b=b.sibling;return s.subtreeFlags|=g,s.childLanes=f,o}function fT(s,o,f){var g=o.pendingProps;switch(nh(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(o),null;case 1:return sr(o.type)&&ic(),Wt(o),null;case 3:return g=o.stateNode,Hi(),Ye(ir),Ye(zt),gh(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(s===null||s.child===null)&&(uc(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Yr!==null&&(Vh(Yr),Yr=null))),Dh(s,o),Wt(o),null;case 5:ph(o);var b=Ha(bo.current);if(f=o.type,s!==null&&o.stateNode!=null)Yb(s,o,f,g,b),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!g){if(o.stateNode===null)throw Error(r(166));return Wt(o),null}if(s=Ha(fn.current),uc(o)){g=o.stateNode,f=o.type;var k=o.memoizedProps;switch(g[dn]=o,g[mo]=k,s=(o.mode&1)!==0,f){case"dialog":Ge("cancel",g),Ge("close",g);break;case"iframe":case"object":case"embed":Ge("load",g);break;case"video":case"audio":for(b=0;b<fo.length;b++)Ge(fo[b],g);break;case"source":Ge("error",g);break;case"img":case"image":case"link":Ge("error",g),Ge("load",g);break;case"details":Ge("toggle",g);break;case"input":Ft(g,k),Ge("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!k.multiple},Ge("invalid",g);break;case"textarea":R0(g,k),Ge("invalid",g)}mf(f,k),b=null;for(var O in k)if(k.hasOwnProperty(O)){var R=k[O];O==="children"?typeof R=="string"?g.textContent!==R&&(k.suppressHydrationWarning!==!0&&rc(g.textContent,R,s),b=["children",R]):typeof R=="number"&&g.textContent!==""+R&&(k.suppressHydrationWarning!==!0&&rc(g.textContent,R,s),b=["children",""+R]):a.hasOwnProperty(O)&&R!=null&&O==="onScroll"&&Ge("scroll",g)}switch(f){case"input":Oe(g),Ws(g,k,!0);break;case"textarea":Oe(g),D0(g);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(g.onclick=nc)}g=b,o.updateQueue=g,g!==null&&(o.flags|=4)}else{O=b.nodeType===9?b:b.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=M0(f)),s==="http://www.w3.org/1999/xhtml"?f==="script"?(s=O.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof g.is=="string"?s=O.createElement(f,{is:g.is}):(s=O.createElement(f),f==="select"&&(O=s,g.multiple?O.multiple=!0:g.size&&(O.size=g.size))):s=O.createElementNS(s,f),s[dn]=o,s[mo]=g,Gb(s,o,!1,!1),o.stateNode=s;e:{switch(O=gf(f,g),f){case"dialog":Ge("cancel",s),Ge("close",s),b=g;break;case"iframe":case"object":case"embed":Ge("load",s),b=g;break;case"video":case"audio":for(b=0;b<fo.length;b++)Ge(fo[b],s);b=g;break;case"source":Ge("error",s),b=g;break;case"img":case"image":case"link":Ge("error",s),Ge("load",s),b=g;break;case"details":Ge("toggle",s),b=g;break;case"input":Ft(s,g),b=$e(s,g),Ge("invalid",s);break;case"option":b=g;break;case"select":s._wrapperState={wasMultiple:!!g.multiple},b=ne({},g,{value:void 0}),Ge("invalid",s);break;case"textarea":R0(s,g),b=hf(s,g),Ge("invalid",s);break;default:b=g}mf(f,b),R=b;for(k in R)if(R.hasOwnProperty(k)){var I=R[k];k==="style"?B0(s,I):k==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,I!=null&&L0(s,I)):k==="children"?typeof I=="string"?(f!=="textarea"||I!=="")&&Vs(s,I):typeof I=="number"&&Vs(s,""+I):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(a.hasOwnProperty(k)?I!=null&&k==="onScroll"&&Ge("scroll",s):I!=null&&P(s,k,I,O))}switch(f){case"input":Oe(s),Ws(s,g,!1);break;case"textarea":Oe(s),D0(s);break;case"option":g.value!=null&&s.setAttribute("value",""+Re(g.value));break;case"select":s.multiple=!!g.multiple,k=g.value,k!=null?Ni(s,!!g.multiple,k,!1):g.defaultValue!=null&&Ni(s,!!g.multiple,g.defaultValue,!0);break;default:typeof b.onClick=="function"&&(s.onclick=nc)}switch(f){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Wt(o),null;case 6:if(s&&o.stateNode!=null)Xb(s,o,s.memoizedProps,g);else{if(typeof g!="string"&&o.stateNode===null)throw Error(r(166));if(f=Ha(bo.current),Ha(fn.current),uc(o)){if(g=o.stateNode,f=o.memoizedProps,g[dn]=o,(k=g.nodeValue!==f)&&(s=vr,s!==null))switch(s.tag){case 3:rc(g.nodeValue,f,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&rc(g.nodeValue,f,(s.mode&1)!==0)}k&&(o.flags|=4)}else g=(f.nodeType===9?f:f.ownerDocument).createTextNode(g),g[dn]=o,o.stateNode=g}return Wt(o),null;case 13:if(Ye(nt),g=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Qe&&yr!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Zx(),qi(),o.flags|=98560,k=!1;else if(k=uc(o),g!==null&&g.dehydrated!==null){if(s===null){if(!k)throw Error(r(318));if(k=o.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(r(317));k[dn]=o}else qi(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Wt(o),k=!1}else Yr!==null&&(Vh(Yr),Yr=null),k=!0;if(!k)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=f,o):(g=g!==null,g!==(s!==null&&s.memoizedState!==null)&&g&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(nt.current&1)!==0?wt===0&&(wt=3):Yh())),o.updateQueue!==null&&(o.flags|=4),Wt(o),null);case 4:return Hi(),Dh(s,o),s===null&&ho(o.stateNode.containerInfo),Wt(o),null;case 10:return ch(o.type._context),Wt(o),null;case 17:return sr(o.type)&&ic(),Wt(o),null;case 19:if(Ye(nt),k=o.memoizedState,k===null)return Wt(o),null;if(g=(o.flags&128)!==0,O=k.rendering,O===null)if(g)So(k,!1);else{if(wt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(O=gc(s),O!==null){for(o.flags|=128,So(k,!1),g=O.updateQueue,g!==null&&(o.updateQueue=g,o.flags|=4),o.subtreeFlags=0,g=f,f=o.child;f!==null;)k=f,s=g,k.flags&=14680066,O=k.alternate,O===null?(k.childLanes=0,k.lanes=s,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=O.childLanes,k.lanes=O.lanes,k.child=O.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=O.memoizedProps,k.memoizedState=O.memoizedState,k.updateQueue=O.updateQueue,k.type=O.type,s=O.dependencies,k.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),f=f.sibling;return Ke(nt,nt.current&1|2),o.child}s=s.sibling}k.tail!==null&&ut()>Ji&&(o.flags|=128,g=!0,So(k,!1),o.lanes=4194304)}else{if(!g)if(s=gc(O),s!==null){if(o.flags|=128,g=!0,f=s.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),So(k,!0),k.tail===null&&k.tailMode==="hidden"&&!O.alternate&&!Qe)return Wt(o),null}else 2*ut()-k.renderingStartTime>Ji&&f!==1073741824&&(o.flags|=128,g=!0,So(k,!1),o.lanes=4194304);k.isBackwards?(O.sibling=o.child,o.child=O):(f=k.last,f!==null?f.sibling=O:o.child=O,k.last=O)}return k.tail!==null?(o=k.tail,k.rendering=o,k.tail=o.sibling,k.renderingStartTime=ut(),o.sibling=null,f=nt.current,Ke(nt,g?f&1|2:f&1),o):(Wt(o),null);case 22:case 23:return Gh(),g=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==g&&(o.flags|=8192),g&&(o.mode&1)!==0?(xr&1073741824)!==0&&(Wt(o),o.subtreeFlags&6&&(o.flags|=8192)):Wt(o),null;case 24:return null;case 25:return null}throw Error(r(156,o.tag))}function hT(s,o){switch(nh(o),o.tag){case 1:return sr(o.type)&&ic(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Hi(),Ye(ir),Ye(zt),gh(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return ph(o),null;case 13:if(Ye(nt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(r(340));qi()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return Ye(nt),null;case 4:return Hi(),null;case 10:return ch(o.type._context),null;case 22:case 23:return Gh(),null;case 24:return null;default:return null}}var Sc=!1,Kt=!1,pT=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Yi(s,o){var f=s.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(g){lt(s,o,g)}else f.current=null}function Mh(s,o,f){try{f()}catch(g){lt(s,o,g)}}var Jb=!1;function mT(s,o){if(Gf=Kl,s=Ox(),Ff(s)){if("selectionStart"in s)var f={start:s.selectionStart,end:s.selectionEnd};else e:{f=(f=s.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var b=g.anchorOffset,k=g.focusNode;g=g.focusOffset;try{f.nodeType,k.nodeType}catch{f=null;break e}var O=0,R=-1,I=-1,U=0,J=0,Q=s,X=null;t:for(;;){for(var oe;Q!==f||b!==0&&Q.nodeType!==3||(R=O+b),Q!==k||g!==0&&Q.nodeType!==3||(I=O+g),Q.nodeType===3&&(O+=Q.nodeValue.length),(oe=Q.firstChild)!==null;)X=Q,Q=oe;for(;;){if(Q===s)break t;if(X===f&&++U===b&&(R=O),X===k&&++J===g&&(I=O),(oe=Q.nextSibling)!==null)break;Q=X,X=Q.parentNode}Q=oe}f=R===-1||I===-1?null:{start:R,end:I}}else f=null}f=f||{start:0,end:0}}else f=null;for(Yf={focusedElem:s,selectionRange:f},Kl=!1,ce=o;ce!==null;)if(o=ce,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,ce=s;else for(;ce!==null;){o=ce;try{var de=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var pe=de.memoizedProps,dt=de.memoizedState,$=o.stateNode,D=$.getSnapshotBeforeUpdate(o.elementType===o.type?pe:Xr(o.type,pe),dt);$.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var F=o.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(te){lt(o,o.return,te)}if(s=o.sibling,s!==null){s.return=o.return,ce=s;break}ce=o.return}return de=Jb,Jb=!1,de}function Eo(s,o,f){var g=o.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var b=g=g.next;do{if((b.tag&s)===s){var k=b.destroy;b.destroy=void 0,k!==void 0&&Mh(o,f,k)}b=b.next}while(b!==g)}}function Ec(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var f=o=o.next;do{if((f.tag&s)===s){var g=f.create;f.destroy=g()}f=f.next}while(f!==o)}}function Lh(s){var o=s.ref;if(o!==null){var f=s.stateNode;switch(s.tag){case 5:s=f;break;default:s=f}typeof o=="function"?o(s):o.current=s}}function Qb(s){var o=s.alternate;o!==null&&(s.alternate=null,Qb(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[dn],delete o[mo],delete o[Zf],delete o[J2],delete o[Q2])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Zb(s){return s.tag===5||s.tag===3||s.tag===4}function ew(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Zb(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function $h(s,o,f){var g=s.tag;if(g===5||g===6)s=s.stateNode,o?f.nodeType===8?f.parentNode.insertBefore(s,o):f.insertBefore(s,o):(f.nodeType===8?(o=f.parentNode,o.insertBefore(s,f)):(o=f,o.appendChild(s)),f=f._reactRootContainer,f!=null||o.onclick!==null||(o.onclick=nc));else if(g!==4&&(s=s.child,s!==null))for($h(s,o,f),s=s.sibling;s!==null;)$h(s,o,f),s=s.sibling}function Bh(s,o,f){var g=s.tag;if(g===5||g===6)s=s.stateNode,o?f.insertBefore(s,o):f.appendChild(s);else if(g!==4&&(s=s.child,s!==null))for(Bh(s,o,f),s=s.sibling;s!==null;)Bh(s,o,f),s=s.sibling}var Dt=null,Jr=!1;function ga(s,o,f){for(f=f.child;f!==null;)tw(s,o,f),f=f.sibling}function tw(s,o,f){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(Bl,f)}catch{}switch(f.tag){case 5:Kt||Yi(f,o);case 6:var g=Dt,b=Jr;Dt=null,ga(s,o,f),Dt=g,Jr=b,Dt!==null&&(Jr?(s=Dt,f=f.stateNode,s.nodeType===8?s.parentNode.removeChild(f):s.removeChild(f)):Dt.removeChild(f.stateNode));break;case 18:Dt!==null&&(Jr?(s=Dt,f=f.stateNode,s.nodeType===8?Qf(s.parentNode,f):s.nodeType===1&&Qf(s,f),no(s)):Qf(Dt,f.stateNode));break;case 4:g=Dt,b=Jr,Dt=f.stateNode.containerInfo,Jr=!0,ga(s,o,f),Dt=g,Jr=b;break;case 0:case 11:case 14:case 15:if(!Kt&&(g=f.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){b=g=g.next;do{var k=b,O=k.destroy;k=k.tag,O!==void 0&&((k&2)!==0||(k&4)!==0)&&Mh(f,o,O),b=b.next}while(b!==g)}ga(s,o,f);break;case 1:if(!Kt&&(Yi(f,o),g=f.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=f.memoizedProps,g.state=f.memoizedState,g.componentWillUnmount()}catch(R){lt(f,o,R)}ga(s,o,f);break;case 21:ga(s,o,f);break;case 22:f.mode&1?(Kt=(g=Kt)||f.memoizedState!==null,ga(s,o,f),Kt=g):ga(s,o,f);break;default:ga(s,o,f)}}function rw(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var f=s.stateNode;f===null&&(f=s.stateNode=new pT),o.forEach(function(g){var b=kT.bind(null,s,g);f.has(g)||(f.add(g),g.then(b,b))})}}function Qr(s,o){var f=o.deletions;if(f!==null)for(var g=0;g<f.length;g++){var b=f[g];try{var k=s,O=o,R=O;e:for(;R!==null;){switch(R.tag){case 5:Dt=R.stateNode,Jr=!1;break e;case 3:Dt=R.stateNode.containerInfo,Jr=!0;break e;case 4:Dt=R.stateNode.containerInfo,Jr=!0;break e}R=R.return}if(Dt===null)throw Error(r(160));tw(k,O,b),Dt=null,Jr=!1;var I=b.alternate;I!==null&&(I.return=null),b.return=null}catch(U){lt(b,o,U)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)nw(o,s),o=o.sibling}function nw(s,o){var f=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Qr(o,s),pn(s),g&4){try{Eo(3,s,s.return),Ec(3,s)}catch(pe){lt(s,s.return,pe)}try{Eo(5,s,s.return)}catch(pe){lt(s,s.return,pe)}}break;case 1:Qr(o,s),pn(s),g&512&&f!==null&&Yi(f,f.return);break;case 5:if(Qr(o,s),pn(s),g&512&&f!==null&&Yi(f,f.return),s.flags&32){var b=s.stateNode;try{Vs(b,"")}catch(pe){lt(s,s.return,pe)}}if(g&4&&(b=s.stateNode,b!=null)){var k=s.memoizedProps,O=f!==null?f.memoizedProps:k,R=s.type,I=s.updateQueue;if(s.updateQueue=null,I!==null)try{R==="input"&&k.type==="radio"&&k.name!=null&&Ut(b,k),gf(R,O);var U=gf(R,k);for(O=0;O<I.length;O+=2){var J=I[O],Q=I[O+1];J==="style"?B0(b,Q):J==="dangerouslySetInnerHTML"?L0(b,Q):J==="children"?Vs(b,Q):P(b,J,Q,U)}switch(R){case"input":Vr(b,k);break;case"textarea":I0(b,k);break;case"select":var X=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!k.multiple;var oe=k.value;oe!=null?Ni(b,!!k.multiple,oe,!1):X!==!!k.multiple&&(k.defaultValue!=null?Ni(b,!!k.multiple,k.defaultValue,!0):Ni(b,!!k.multiple,k.multiple?[]:"",!1))}b[mo]=k}catch(pe){lt(s,s.return,pe)}}break;case 6:if(Qr(o,s),pn(s),g&4){if(s.stateNode===null)throw Error(r(162));b=s.stateNode,k=s.memoizedProps;try{b.nodeValue=k}catch(pe){lt(s,s.return,pe)}}break;case 3:if(Qr(o,s),pn(s),g&4&&f!==null&&f.memoizedState.isDehydrated)try{no(o.containerInfo)}catch(pe){lt(s,s.return,pe)}break;case 4:Qr(o,s),pn(s);break;case 13:Qr(o,s),pn(s),b=s.child,b.flags&8192&&(k=b.memoizedState!==null,b.stateNode.isHidden=k,!k||b.alternate!==null&&b.alternate.memoizedState!==null||(zh=ut())),g&4&&rw(s);break;case 22:if(J=f!==null&&f.memoizedState!==null,s.mode&1?(Kt=(U=Kt)||J,Qr(o,s),Kt=U):Qr(o,s),pn(s),g&8192){if(U=s.memoizedState!==null,(s.stateNode.isHidden=U)&&!J&&(s.mode&1)!==0)for(ce=s,J=s.child;J!==null;){for(Q=ce=J;ce!==null;){switch(X=ce,oe=X.child,X.tag){case 0:case 11:case 14:case 15:Eo(4,X,X.return);break;case 1:Yi(X,X.return);var de=X.stateNode;if(typeof de.componentWillUnmount=="function"){g=X,f=X.return;try{o=g,de.props=o.memoizedProps,de.state=o.memoizedState,de.componentWillUnmount()}catch(pe){lt(g,f,pe)}}break;case 5:Yi(X,X.return);break;case 22:if(X.memoizedState!==null){sw(Q);continue}}oe!==null?(oe.return=X,ce=oe):sw(Q)}J=J.sibling}e:for(J=null,Q=s;;){if(Q.tag===5){if(J===null){J=Q;try{b=Q.stateNode,U?(k=b.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(R=Q.stateNode,I=Q.memoizedProps.style,O=I!=null&&I.hasOwnProperty("display")?I.display:null,R.style.display=$0("display",O))}catch(pe){lt(s,s.return,pe)}}}else if(Q.tag===6){if(J===null)try{Q.stateNode.nodeValue=U?"":Q.memoizedProps}catch(pe){lt(s,s.return,pe)}}else if((Q.tag!==22&&Q.tag!==23||Q.memoizedState===null||Q===s)&&Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===s)break e;for(;Q.sibling===null;){if(Q.return===null||Q.return===s)break e;J===Q&&(J=null),Q=Q.return}J===Q&&(J=null),Q.sibling.return=Q.return,Q=Q.sibling}}break;case 19:Qr(o,s),pn(s),g&4&&rw(s);break;case 21:break;default:Qr(o,s),pn(s)}}function pn(s){var o=s.flags;if(o&2){try{e:{for(var f=s.return;f!==null;){if(Zb(f)){var g=f;break e}f=f.return}throw Error(r(160))}switch(g.tag){case 5:var b=g.stateNode;g.flags&32&&(Vs(b,""),g.flags&=-33);var k=ew(s);Bh(s,k,b);break;case 3:case 4:var O=g.stateNode.containerInfo,R=ew(s);$h(s,R,O);break;default:throw Error(r(161))}}catch(I){lt(s,s.return,I)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function gT(s,o,f){ce=s,aw(s)}function aw(s,o,f){for(var g=(s.mode&1)!==0;ce!==null;){var b=ce,k=b.child;if(b.tag===22&&g){var O=b.memoizedState!==null||Sc;if(!O){var R=b.alternate,I=R!==null&&R.memoizedState!==null||Kt;R=Sc;var U=Kt;if(Sc=O,(Kt=I)&&!U)for(ce=b;ce!==null;)O=ce,I=O.child,O.tag===22&&O.memoizedState!==null?ow(b):I!==null?(I.return=O,ce=I):ow(b);for(;k!==null;)ce=k,aw(k),k=k.sibling;ce=b,Sc=R,Kt=U}iw(s)}else(b.subtreeFlags&8772)!==0&&k!==null?(k.return=b,ce=k):iw(s)}}function iw(s){for(;ce!==null;){var o=ce;if((o.flags&8772)!==0){var f=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Kt||Ec(5,o);break;case 1:var g=o.stateNode;if(o.flags&4&&!Kt)if(f===null)g.componentDidMount();else{var b=o.elementType===o.type?f.memoizedProps:Xr(o.type,f.memoizedProps);g.componentDidUpdate(b,f.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var k=o.updateQueue;k!==null&&sb(o,k,g);break;case 3:var O=o.updateQueue;if(O!==null){if(f=null,o.child!==null)switch(o.child.tag){case 5:f=o.child.stateNode;break;case 1:f=o.child.stateNode}sb(o,O,f)}break;case 5:var R=o.stateNode;if(f===null&&o.flags&4){f=R;var I=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":I.autoFocus&&f.focus();break;case"img":I.src&&(f.src=I.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var U=o.alternate;if(U!==null){var J=U.memoizedState;if(J!==null){var Q=J.dehydrated;Q!==null&&no(Q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Kt||o.flags&512&&Lh(o)}catch(X){lt(o,o.return,X)}}if(o===s){ce=null;break}if(f=o.sibling,f!==null){f.return=o.return,ce=f;break}ce=o.return}}function sw(s){for(;ce!==null;){var o=ce;if(o===s){ce=null;break}var f=o.sibling;if(f!==null){f.return=o.return,ce=f;break}ce=o.return}}function ow(s){for(;ce!==null;){var o=ce;try{switch(o.tag){case 0:case 11:case 15:var f=o.return;try{Ec(4,o)}catch(I){lt(o,f,I)}break;case 1:var g=o.stateNode;if(typeof g.componentDidMount=="function"){var b=o.return;try{g.componentDidMount()}catch(I){lt(o,b,I)}}var k=o.return;try{Lh(o)}catch(I){lt(o,k,I)}break;case 5:var O=o.return;try{Lh(o)}catch(I){lt(o,O,I)}}}catch(I){lt(o,o.return,I)}if(o===s){ce=null;break}var R=o.sibling;if(R!==null){R.return=o.return,ce=R;break}ce=o.return}}var vT=Math.ceil,Pc=C.ReactCurrentDispatcher,Fh=C.ReactCurrentOwner,Dr=C.ReactCurrentBatchConfig,Ie=0,At=null,pt=null,Mt=0,xr=0,Xi=da(0),wt=0,Po=null,Ya=0,Nc=0,Uh=0,No=null,lr=null,zh=0,Ji=1/0,Dn=null,Oc=!1,qh=null,va=null,Ac=!1,ya=null,Cc=0,Oo=0,Wh=null,Tc=-1,Rc=0;function Zt(){return(Ie&6)!==0?ut():Tc!==-1?Tc:Tc=ut()}function xa(s){return(s.mode&1)===0?1:(Ie&2)!==0&&Mt!==0?Mt&-Mt:eT.transition!==null?(Rc===0&&(Rc=ex()),Rc):(s=Be,s!==0||(s=window.event,s=s===void 0?16:cx(s.type)),s)}function Zr(s,o,f,g){if(50<Oo)throw Oo=0,Wh=null,Error(r(185));Qs(s,f,g),((Ie&2)===0||s!==At)&&(s===At&&((Ie&2)===0&&(Nc|=f),wt===4&&ba(s,Mt)),cr(s,g),f===1&&Ie===0&&(o.mode&1)===0&&(Ji=ut()+500,oc&&ha()))}function cr(s,o){var f=s.callbackNode;e2(s,o);var g=zl(s,s===At?Mt:0);if(g===0)f!==null&&J0(f),s.callbackNode=null,s.callbackPriority=0;else if(o=g&-g,s.callbackPriority!==o){if(f!=null&&J0(f),o===1)s.tag===0?Z2(cw.bind(null,s)):Gx(cw.bind(null,s)),Y2(function(){(Ie&6)===0&&ha()}),f=null;else{switch(tx(g)){case 1:f=_f;break;case 4:f=Q0;break;case 16:f=$l;break;case 536870912:f=Z0;break;default:f=$l}f=vw(f,lw.bind(null,s))}s.callbackPriority=o,s.callbackNode=f}}function lw(s,o){if(Tc=-1,Rc=0,(Ie&6)!==0)throw Error(r(327));var f=s.callbackNode;if(Qi()&&s.callbackNode!==f)return null;var g=zl(s,s===At?Mt:0);if(g===0)return null;if((g&30)!==0||(g&s.expiredLanes)!==0||o)o=Ic(s,g);else{o=g;var b=Ie;Ie|=2;var k=dw();(At!==s||Mt!==o)&&(Dn=null,Ji=ut()+500,Ja(s,o));do try{bT();break}catch(R){uw(s,R)}while(!0);lh(),Pc.current=k,Ie=b,pt!==null?o=0:(At=null,Mt=0,o=wt)}if(o!==0){if(o===2&&(b=kf(s),b!==0&&(g=b,o=Kh(s,b))),o===1)throw f=Po,Ja(s,0),ba(s,g),cr(s,ut()),f;if(o===6)ba(s,g);else{if(b=s.current.alternate,(g&30)===0&&!yT(b)&&(o=Ic(s,g),o===2&&(k=kf(s),k!==0&&(g=k,o=Kh(s,k))),o===1))throw f=Po,Ja(s,0),ba(s,g),cr(s,ut()),f;switch(s.finishedWork=b,s.finishedLanes=g,o){case 0:case 1:throw Error(r(345));case 2:Qa(s,lr,Dn);break;case 3:if(ba(s,g),(g&130023424)===g&&(o=zh+500-ut(),10<o)){if(zl(s,0)!==0)break;if(b=s.suspendedLanes,(b&g)!==g){Zt(),s.pingedLanes|=s.suspendedLanes&b;break}s.timeoutHandle=Jf(Qa.bind(null,s,lr,Dn),o);break}Qa(s,lr,Dn);break;case 4:if(ba(s,g),(g&4194240)===g)break;for(o=s.eventTimes,b=-1;0<g;){var O=31-Hr(g);k=1<<O,O=o[O],O>b&&(b=O),g&=~k}if(g=b,g=ut()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*vT(g/1960))-g,10<g){s.timeoutHandle=Jf(Qa.bind(null,s,lr,Dn),g);break}Qa(s,lr,Dn);break;case 5:Qa(s,lr,Dn);break;default:throw Error(r(329))}}}return cr(s,ut()),s.callbackNode===f?lw.bind(null,s):null}function Kh(s,o){var f=No;return s.current.memoizedState.isDehydrated&&(Ja(s,o).flags|=256),s=Ic(s,o),s!==2&&(o=lr,lr=f,o!==null&&Vh(o)),s}function Vh(s){lr===null?lr=s:lr.push.apply(lr,s)}function yT(s){for(var o=s;;){if(o.flags&16384){var f=o.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var g=0;g<f.length;g++){var b=f[g],k=b.getSnapshot;b=b.value;try{if(!Gr(k(),b))return!1}catch{return!1}}}if(f=o.child,o.subtreeFlags&16384&&f!==null)f.return=o,o=f;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ba(s,o){for(o&=~Uh,o&=~Nc,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var f=31-Hr(o),g=1<<f;s[f]=-1,o&=~g}}function cw(s){if((Ie&6)!==0)throw Error(r(327));Qi();var o=zl(s,0);if((o&1)===0)return cr(s,ut()),null;var f=Ic(s,o);if(s.tag!==0&&f===2){var g=kf(s);g!==0&&(o=g,f=Kh(s,g))}if(f===1)throw f=Po,Ja(s,0),ba(s,o),cr(s,ut()),f;if(f===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Qa(s,lr,Dn),cr(s,ut()),null}function Hh(s,o){var f=Ie;Ie|=1;try{return s(o)}finally{Ie=f,Ie===0&&(Ji=ut()+500,oc&&ha())}}function Xa(s){ya!==null&&ya.tag===0&&(Ie&6)===0&&Qi();var o=Ie;Ie|=1;var f=Dr.transition,g=Be;try{if(Dr.transition=null,Be=1,s)return s()}finally{Be=g,Dr.transition=f,Ie=o,(Ie&6)===0&&ha()}}function Gh(){xr=Xi.current,Ye(Xi)}function Ja(s,o){s.finishedWork=null,s.finishedLanes=0;var f=s.timeoutHandle;if(f!==-1&&(s.timeoutHandle=-1,G2(f)),pt!==null)for(f=pt.return;f!==null;){var g=f;switch(nh(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&ic();break;case 3:Hi(),Ye(ir),Ye(zt),gh();break;case 5:ph(g);break;case 4:Hi();break;case 13:Ye(nt);break;case 19:Ye(nt);break;case 10:ch(g.type._context);break;case 22:case 23:Gh()}f=f.return}if(At=s,pt=s=wa(s.current,null),Mt=xr=o,wt=0,Po=null,Uh=Nc=Ya=0,lr=No=null,Va!==null){for(o=0;o<Va.length;o++)if(f=Va[o],g=f.interleaved,g!==null){f.interleaved=null;var b=g.next,k=f.pending;if(k!==null){var O=k.next;k.next=b,g.next=O}f.pending=g}Va=null}return s}function uw(s,o){do{var f=pt;try{if(lh(),vc.current=wc,yc){for(var g=at.memoizedState;g!==null;){var b=g.queue;b!==null&&(b.pending=null),g=g.next}yc=!1}if(Ga=0,Ot=bt=at=null,wo=!1,jo=0,Fh.current=null,f===null||f.return===null){wt=1,Po=o,pt=null;break}e:{var k=s,O=f.return,R=f,I=o;if(o=Mt,R.flags|=32768,I!==null&&typeof I=="object"&&typeof I.then=="function"){var U=I,J=R,Q=J.tag;if((J.mode&1)===0&&(Q===0||Q===11||Q===15)){var X=J.alternate;X?(J.updateQueue=X.updateQueue,J.memoizedState=X.memoizedState,J.lanes=X.lanes):(J.updateQueue=null,J.memoizedState=null)}var oe=Db(O);if(oe!==null){oe.flags&=-257,Mb(oe,O,R,k,o),oe.mode&1&&Ib(k,U,o),o=oe,I=U;var de=o.updateQueue;if(de===null){var pe=new Set;pe.add(I),o.updateQueue=pe}else de.add(I);break e}else{if((o&1)===0){Ib(k,U,o),Yh();break e}I=Error(r(426))}}else if(Qe&&R.mode&1){var dt=Db(O);if(dt!==null){(dt.flags&65536)===0&&(dt.flags|=256),Mb(dt,O,R,k,o),sh(Gi(I,R));break e}}k=I=Gi(I,R),wt!==4&&(wt=2),No===null?No=[k]:No.push(k),k=O;do{switch(k.tag){case 3:k.flags|=65536,o&=-o,k.lanes|=o;var $=Tb(k,I,o);ib(k,$);break e;case 1:R=I;var D=k.type,F=k.stateNode;if((k.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(va===null||!va.has(F)))){k.flags|=65536,o&=-o,k.lanes|=o;var te=Rb(k,R,o);ib(k,te);break e}}k=k.return}while(k!==null)}hw(f)}catch(me){o=me,pt===f&&f!==null&&(pt=f=f.return);continue}break}while(!0)}function dw(){var s=Pc.current;return Pc.current=wc,s===null?wc:s}function Yh(){(wt===0||wt===3||wt===2)&&(wt=4),At===null||(Ya&268435455)===0&&(Nc&268435455)===0||ba(At,Mt)}function Ic(s,o){var f=Ie;Ie|=2;var g=dw();(At!==s||Mt!==o)&&(Dn=null,Ja(s,o));do try{xT();break}catch(b){uw(s,b)}while(!0);if(lh(),Ie=f,Pc.current=g,pt!==null)throw Error(r(261));return At=null,Mt=0,wt}function xT(){for(;pt!==null;)fw(pt)}function bT(){for(;pt!==null&&!KC();)fw(pt)}function fw(s){var o=gw(s.alternate,s,xr);s.memoizedProps=s.pendingProps,o===null?hw(s):pt=o,Fh.current=null}function hw(s){var o=s;do{var f=o.alternate;if(s=o.return,(o.flags&32768)===0){if(f=fT(f,o,xr),f!==null){pt=f;return}}else{if(f=hT(f,o),f!==null){f.flags&=32767,pt=f;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{wt=6,pt=null;return}}if(o=o.sibling,o!==null){pt=o;return}pt=o=s}while(o!==null);wt===0&&(wt=5)}function Qa(s,o,f){var g=Be,b=Dr.transition;try{Dr.transition=null,Be=1,wT(s,o,f,g)}finally{Dr.transition=b,Be=g}return null}function wT(s,o,f,g){do Qi();while(ya!==null);if((Ie&6)!==0)throw Error(r(327));f=s.finishedWork;var b=s.finishedLanes;if(f===null)return null;if(s.finishedWork=null,s.finishedLanes=0,f===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var k=f.lanes|f.childLanes;if(t2(s,k),s===At&&(pt=At=null,Mt=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Ac||(Ac=!0,vw($l,function(){return Qi(),null})),k=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||k){k=Dr.transition,Dr.transition=null;var O=Be;Be=1;var R=Ie;Ie|=4,Fh.current=null,mT(s,f),nw(f,s),U2(Yf),Kl=!!Gf,Yf=Gf=null,s.current=f,gT(f),VC(),Ie=R,Be=O,Dr.transition=k}else s.current=f;if(Ac&&(Ac=!1,ya=s,Cc=b),k=s.pendingLanes,k===0&&(va=null),YC(f.stateNode),cr(s,ut()),o!==null)for(g=s.onRecoverableError,f=0;f<o.length;f++)b=o[f],g(b.value,{componentStack:b.stack,digest:b.digest});if(Oc)throw Oc=!1,s=qh,qh=null,s;return(Cc&1)!==0&&s.tag!==0&&Qi(),k=s.pendingLanes,(k&1)!==0?s===Wh?Oo++:(Oo=0,Wh=s):Oo=0,ha(),null}function Qi(){if(ya!==null){var s=tx(Cc),o=Dr.transition,f=Be;try{if(Dr.transition=null,Be=16>s?16:s,ya===null)var g=!1;else{if(s=ya,ya=null,Cc=0,(Ie&6)!==0)throw Error(r(331));var b=Ie;for(Ie|=4,ce=s.current;ce!==null;){var k=ce,O=k.child;if((ce.flags&16)!==0){var R=k.deletions;if(R!==null){for(var I=0;I<R.length;I++){var U=R[I];for(ce=U;ce!==null;){var J=ce;switch(J.tag){case 0:case 11:case 15:Eo(8,J,k)}var Q=J.child;if(Q!==null)Q.return=J,ce=Q;else for(;ce!==null;){J=ce;var X=J.sibling,oe=J.return;if(Qb(J),J===U){ce=null;break}if(X!==null){X.return=oe,ce=X;break}ce=oe}}}var de=k.alternate;if(de!==null){var pe=de.child;if(pe!==null){de.child=null;do{var dt=pe.sibling;pe.sibling=null,pe=dt}while(pe!==null)}}ce=k}}if((k.subtreeFlags&2064)!==0&&O!==null)O.return=k,ce=O;else e:for(;ce!==null;){if(k=ce,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:Eo(9,k,k.return)}var $=k.sibling;if($!==null){$.return=k.return,ce=$;break e}ce=k.return}}var D=s.current;for(ce=D;ce!==null;){O=ce;var F=O.child;if((O.subtreeFlags&2064)!==0&&F!==null)F.return=O,ce=F;else e:for(O=D;ce!==null;){if(R=ce,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:Ec(9,R)}}catch(me){lt(R,R.return,me)}if(R===O){ce=null;break e}var te=R.sibling;if(te!==null){te.return=R.return,ce=te;break e}ce=R.return}}if(Ie=b,ha(),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(Bl,s)}catch{}g=!0}return g}finally{Be=f,Dr.transition=o}}return!1}function pw(s,o,f){o=Gi(f,o),o=Tb(s,o,1),s=ma(s,o,1),o=Zt(),s!==null&&(Qs(s,1,o),cr(s,o))}function lt(s,o,f){if(s.tag===3)pw(s,s,f);else for(;o!==null;){if(o.tag===3){pw(o,s,f);break}else if(o.tag===1){var g=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(va===null||!va.has(g))){s=Gi(f,s),s=Rb(o,s,1),o=ma(o,s,1),s=Zt(),o!==null&&(Qs(o,1,s),cr(o,s));break}}o=o.return}}function jT(s,o,f){var g=s.pingCache;g!==null&&g.delete(o),o=Zt(),s.pingedLanes|=s.suspendedLanes&f,At===s&&(Mt&f)===f&&(wt===4||wt===3&&(Mt&130023424)===Mt&&500>ut()-zh?Ja(s,0):Uh|=f),cr(s,o)}function mw(s,o){o===0&&((s.mode&1)===0?o=1:(o=Ul,Ul<<=1,(Ul&130023424)===0&&(Ul=4194304)));var f=Zt();s=Tn(s,o),s!==null&&(Qs(s,o,f),cr(s,f))}function _T(s){var o=s.memoizedState,f=0;o!==null&&(f=o.retryLane),mw(s,f)}function kT(s,o){var f=0;switch(s.tag){case 13:var g=s.stateNode,b=s.memoizedState;b!==null&&(f=b.retryLane);break;case 19:g=s.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(o),mw(s,f)}var gw;gw=function(s,o,f){if(s!==null)if(s.memoizedProps!==o.pendingProps||ir.current)or=!0;else{if((s.lanes&f)===0&&(o.flags&128)===0)return or=!1,dT(s,o,f);or=(s.flags&131072)!==0}else or=!1,Qe&&(o.flags&1048576)!==0&&Yx(o,cc,o.index);switch(o.lanes=0,o.tag){case 2:var g=o.type;kc(s,o),s=o.pendingProps;var b=Fi(o,zt.current);Vi(o,f),b=xh(null,o,g,s,b,f);var k=bh();return o.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,sr(g)?(k=!0,sc(o)):k=!1,o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,fh(o),b.updater=jc,o.stateNode=b,b._reactInternals=o,Eh(o,g,s,f),o=Ah(null,o,g,!0,k,f)):(o.tag=0,Qe&&k&&rh(o),Qt(null,o,b,f),o=o.child),o;case 16:g=o.elementType;e:{switch(kc(s,o),s=o.pendingProps,b=g._init,g=b(g._payload),o.type=g,b=o.tag=ET(g),s=Xr(g,s),b){case 0:o=Oh(null,o,g,s,f);break e;case 1:o=zb(null,o,g,s,f);break e;case 11:o=Lb(null,o,g,s,f);break e;case 14:o=$b(null,o,g,Xr(g.type,s),f);break e}throw Error(r(306,g,""))}return o;case 0:return g=o.type,b=o.pendingProps,b=o.elementType===g?b:Xr(g,b),Oh(s,o,g,b,f);case 1:return g=o.type,b=o.pendingProps,b=o.elementType===g?b:Xr(g,b),zb(s,o,g,b,f);case 3:e:{if(qb(o),s===null)throw Error(r(387));g=o.pendingProps,k=o.memoizedState,b=k.element,ab(s,o),mc(o,g,null,f);var O=o.memoizedState;if(g=O.element,k.isDehydrated)if(k={element:g,isDehydrated:!1,cache:O.cache,pendingSuspenseBoundaries:O.pendingSuspenseBoundaries,transitions:O.transitions},o.updateQueue.baseState=k,o.memoizedState=k,o.flags&256){b=Gi(Error(r(423)),o),o=Wb(s,o,g,f,b);break e}else if(g!==b){b=Gi(Error(r(424)),o),o=Wb(s,o,g,f,b);break e}else for(yr=ua(o.stateNode.containerInfo.firstChild),vr=o,Qe=!0,Yr=null,f=rb(o,null,g,f),o.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(qi(),g===b){o=In(s,o,f);break e}Qt(s,o,g,f)}o=o.child}return o;case 5:return ob(o),s===null&&ih(o),g=o.type,b=o.pendingProps,k=s!==null?s.memoizedProps:null,O=b.children,Xf(g,b)?O=null:k!==null&&Xf(g,k)&&(o.flags|=32),Ub(s,o),Qt(s,o,O,f),o.child;case 6:return s===null&&ih(o),null;case 13:return Kb(s,o,f);case 4:return hh(o,o.stateNode.containerInfo),g=o.pendingProps,s===null?o.child=Wi(o,null,g,f):Qt(s,o,g,f),o.child;case 11:return g=o.type,b=o.pendingProps,b=o.elementType===g?b:Xr(g,b),Lb(s,o,g,b,f);case 7:return Qt(s,o,o.pendingProps,f),o.child;case 8:return Qt(s,o,o.pendingProps.children,f),o.child;case 12:return Qt(s,o,o.pendingProps.children,f),o.child;case 10:e:{if(g=o.type._context,b=o.pendingProps,k=o.memoizedProps,O=b.value,Ke(fc,g._currentValue),g._currentValue=O,k!==null)if(Gr(k.value,O)){if(k.children===b.children&&!ir.current){o=In(s,o,f);break e}}else for(k=o.child,k!==null&&(k.return=o);k!==null;){var R=k.dependencies;if(R!==null){O=k.child;for(var I=R.firstContext;I!==null;){if(I.context===g){if(k.tag===1){I=Rn(-1,f&-f),I.tag=2;var U=k.updateQueue;if(U!==null){U=U.shared;var J=U.pending;J===null?I.next=I:(I.next=J.next,J.next=I),U.pending=I}}k.lanes|=f,I=k.alternate,I!==null&&(I.lanes|=f),uh(k.return,f,o),R.lanes|=f;break}I=I.next}}else if(k.tag===10)O=k.type===o.type?null:k.child;else if(k.tag===18){if(O=k.return,O===null)throw Error(r(341));O.lanes|=f,R=O.alternate,R!==null&&(R.lanes|=f),uh(O,f,o),O=k.sibling}else O=k.child;if(O!==null)O.return=k;else for(O=k;O!==null;){if(O===o){O=null;break}if(k=O.sibling,k!==null){k.return=O.return,O=k;break}O=O.return}k=O}Qt(s,o,b.children,f),o=o.child}return o;case 9:return b=o.type,g=o.pendingProps.children,Vi(o,f),b=Rr(b),g=g(b),o.flags|=1,Qt(s,o,g,f),o.child;case 14:return g=o.type,b=Xr(g,o.pendingProps),b=Xr(g.type,b),$b(s,o,g,b,f);case 15:return Bb(s,o,o.type,o.pendingProps,f);case 17:return g=o.type,b=o.pendingProps,b=o.elementType===g?b:Xr(g,b),kc(s,o),o.tag=1,sr(g)?(s=!0,sc(o)):s=!1,Vi(o,f),Ab(o,g,b),Eh(o,g,b,f),Ah(null,o,g,!0,s,f);case 19:return Hb(s,o,f);case 22:return Fb(s,o,f)}throw Error(r(156,o.tag))};function vw(s,o){return X0(s,o)}function ST(s,o,f,g){this.tag=s,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(s,o,f,g){return new ST(s,o,f,g)}function Xh(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ET(s){if(typeof s=="function")return Xh(s)?1:0;if(s!=null){if(s=s.$$typeof,s===Y)return 11;if(s===G)return 14}return 2}function wa(s,o){var f=s.alternate;return f===null?(f=Mr(s.tag,o,s.key,s.mode),f.elementType=s.elementType,f.type=s.type,f.stateNode=s.stateNode,f.alternate=s,s.alternate=f):(f.pendingProps=o,f.type=s.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=s.flags&14680064,f.childLanes=s.childLanes,f.lanes=s.lanes,f.child=s.child,f.memoizedProps=s.memoizedProps,f.memoizedState=s.memoizedState,f.updateQueue=s.updateQueue,o=s.dependencies,f.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},f.sibling=s.sibling,f.index=s.index,f.ref=s.ref,f}function Dc(s,o,f,g,b,k){var O=2;if(g=s,typeof s=="function")Xh(s)&&(O=1);else if(typeof s=="string")O=5;else e:switch(s){case T:return Za(f.children,b,k,o);case M:O=8,b|=8;break;case z:return s=Mr(12,f,o,b|2),s.elementType=z,s.lanes=k,s;case Z:return s=Mr(13,f,o,b),s.elementType=Z,s.lanes=k,s;case se:return s=Mr(19,f,o,b),s.elementType=se,s.lanes=k,s;case re:return Mc(f,b,k,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case W:O=10;break e;case V:O=9;break e;case Y:O=11;break e;case G:O=14;break e;case le:O=16,g=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return o=Mr(O,f,o,b),o.elementType=s,o.type=g,o.lanes=k,o}function Za(s,o,f,g){return s=Mr(7,s,g,o),s.lanes=f,s}function Mc(s,o,f,g){return s=Mr(22,s,g,o),s.elementType=re,s.lanes=f,s.stateNode={isHidden:!1},s}function Jh(s,o,f){return s=Mr(6,s,null,o),s.lanes=f,s}function Qh(s,o,f){return o=Mr(4,s.children!==null?s.children:[],s.key,o),o.lanes=f,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function PT(s,o,f,g,b){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sf(0),this.expirationTimes=Sf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sf(0),this.identifierPrefix=g,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function Zh(s,o,f,g,b,k,O,R,I){return s=new PT(s,o,f,R,I),o===1?(o=1,k===!0&&(o|=8)):o=0,k=Mr(3,null,null,o),s.current=k,k.stateNode=s,k.memoizedState={element:g,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},fh(k),s}function NT(s,o,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:S,key:g==null?null:""+g,children:s,containerInfo:o,implementation:f}}function yw(s){if(!s)return fa;s=s._reactInternals;e:{if(Ua(s)!==s||s.tag!==1)throw Error(r(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(sr(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(r(171))}if(s.tag===1){var f=s.type;if(sr(f))return Vx(s,f,o)}return o}function xw(s,o,f,g,b,k,O,R,I){return s=Zh(f,g,!0,s,b,k,O,R,I),s.context=yw(null),f=s.current,g=Zt(),b=xa(f),k=Rn(g,b),k.callback=o??null,ma(f,k,b),s.current.lanes=b,Qs(s,b,g),cr(s,g),s}function Lc(s,o,f,g){var b=o.current,k=Zt(),O=xa(b);return f=yw(f),o.context===null?o.context=f:o.pendingContext=f,o=Rn(k,O),o.payload={element:s},g=g===void 0?null:g,g!==null&&(o.callback=g),s=ma(b,o,O),s!==null&&(Zr(s,b,O,k),pc(s,b,O)),O}function $c(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function bw(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var f=s.retryLane;s.retryLane=f!==0&&f<o?f:o}}function ep(s,o){bw(s,o),(s=s.alternate)&&bw(s,o)}function OT(){return null}var ww=typeof reportError=="function"?reportError:function(s){console.error(s)};function tp(s){this._internalRoot=s}Bc.prototype.render=tp.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(r(409));Lc(s,o,null,null)},Bc.prototype.unmount=tp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Xa(function(){Lc(null,s,null,null)}),o[Nn]=null}};function Bc(s){this._internalRoot=s}Bc.prototype.unstable_scheduleHydration=function(s){if(s){var o=ax();s={blockedOn:null,target:s,priority:o};for(var f=0;f<oa.length&&o!==0&&o<oa[f].priority;f++);oa.splice(f,0,s),f===0&&ox(s)}};function rp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Fc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function jw(){}function AT(s,o,f,g,b){if(b){if(typeof g=="function"){var k=g;g=function(){var U=$c(O);k.call(U)}}var O=xw(o,g,s,0,null,!1,!1,"",jw);return s._reactRootContainer=O,s[Nn]=O.current,ho(s.nodeType===8?s.parentNode:s),Xa(),O}for(;b=s.lastChild;)s.removeChild(b);if(typeof g=="function"){var R=g;g=function(){var U=$c(I);R.call(U)}}var I=Zh(s,0,!1,null,null,!1,!1,"",jw);return s._reactRootContainer=I,s[Nn]=I.current,ho(s.nodeType===8?s.parentNode:s),Xa(function(){Lc(o,I,f,g)}),I}function Uc(s,o,f,g,b){var k=f._reactRootContainer;if(k){var O=k;if(typeof b=="function"){var R=b;b=function(){var I=$c(O);R.call(I)}}Lc(o,O,s,b)}else O=AT(f,o,s,b,g);return $c(O)}rx=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var f=Js(o.pendingLanes);f!==0&&(Ef(o,f|1),cr(o,ut()),(Ie&6)===0&&(Ji=ut()+500,ha()))}break;case 13:Xa(function(){var g=Tn(s,1);if(g!==null){var b=Zt();Zr(g,s,1,b)}}),ep(s,1)}},Pf=function(s){if(s.tag===13){var o=Tn(s,134217728);if(o!==null){var f=Zt();Zr(o,s,134217728,f)}ep(s,134217728)}},nx=function(s){if(s.tag===13){var o=xa(s),f=Tn(s,o);if(f!==null){var g=Zt();Zr(f,s,o,g)}ep(s,o)}},ax=function(){return Be},ix=function(s,o){var f=Be;try{return Be=s,o()}finally{Be=f}},xf=function(s,o,f){switch(o){case"input":if(Vr(s,f),o=f.name,f.type==="radio"&&o!=null){for(f=s;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<f.length;o++){var g=f[o];if(g!==s&&g.form===s.form){var b=ac(g);if(!b)throw Error(r(90));ee(g),Vr(g,b)}}}break;case"textarea":I0(s,f);break;case"select":o=f.value,o!=null&&Ni(s,!!f.multiple,o,!1)}},q0=Hh,W0=Xa;var CT={usingClientEntryPoint:!1,Events:[go,$i,ac,U0,z0,Hh]},Ao={findFiberByHostInstance:za,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TT={bundleType:Ao.bundleType,version:Ao.version,rendererPackageName:Ao.rendererPackageName,rendererConfig:Ao.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=G0(s),s===null?null:s.stateNode},findFiberByHostInstance:Ao.findFiberByHostInstance||OT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zc.isDisabled&&zc.supportsFiber)try{Bl=zc.inject(TT),un=zc}catch{}}return ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CT,ur.createPortal=function(s,o){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rp(o))throw Error(r(200));return NT(s,o,null,f)},ur.createRoot=function(s,o){if(!rp(s))throw Error(r(299));var f=!1,g="",b=ww;return o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onRecoverableError!==void 0&&(b=o.onRecoverableError)),o=Zh(s,1,!1,null,null,f,!1,g,b),s[Nn]=o.current,ho(s.nodeType===8?s.parentNode:s),new tp(o)},ur.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=G0(o),s=s===null?null:s.stateNode,s},ur.flushSync=function(s){return Xa(s)},ur.hydrate=function(s,o,f){if(!Fc(o))throw Error(r(200));return Uc(null,s,o,!0,f)},ur.hydrateRoot=function(s,o,f){if(!rp(s))throw Error(r(405));var g=f!=null&&f.hydratedSources||null,b=!1,k="",O=ww;if(f!=null&&(f.unstable_strictMode===!0&&(b=!0),f.identifierPrefix!==void 0&&(k=f.identifierPrefix),f.onRecoverableError!==void 0&&(O=f.onRecoverableError)),o=xw(o,null,s,1,f??null,b,!1,k,O),s[Nn]=o.current,ho(s),g)for(s=0;s<g.length;s++)f=g[s],b=f._getVersion,b=b(f._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[f,b]:o.mutableSourceEagerHydrationData.push(f,b);return new Bc(o)},ur.render=function(s,o,f){if(!Fc(o))throw Error(r(200));return Uc(null,s,o,!1,f)},ur.unmountComponentAtNode=function(s){if(!Fc(s))throw Error(r(40));return s._reactRootContainer?(Xa(function(){Uc(null,null,s,!1,function(){s._reactRootContainer=null,s[Nn]=null})}),!0):!1},ur.unstable_batchedUpdates=Hh,ur.unstable_renderSubtreeIntoContainer=function(s,o,f,g){if(!Fc(f))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return Uc(s,o,f,!1,g)},ur.version="18.3.1-next-f1338f8080-20240426",ur}var Aw;function PS(){if(Aw)return ip.exports;Aw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ip.exports=FT(),ip.exports}var Cw;function UT(){if(Cw)return qc;Cw=1;var e=PS();return qc.createRoot=e.createRoot,qc.hydrateRoot=e.hydrateRoot,qc}var zT=UT();const qT=ln(zT);var NS=PS();function Yo(){return Yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yo.apply(this,arguments)}var Na;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Na||(Na={}));const Tw="popstate";function WT(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:l,hash:c}=n.location;return Gm("",{pathname:i,search:l,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:yu(a)}return VT(t,r,null,e)}function ht(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function OS(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function KT(){return Math.random().toString(36).substr(2,8)}function Rw(e,t){return{usr:e.state,key:e.key,idx:t}}function Gm(e,t,r,n){return r===void 0&&(r=null),Yo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ks(t):t,{state:r,key:t&&t.key||n||KT()})}function yu(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ks(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function VT(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,l=a.history,c=Na.Pop,d=null,h=p();h==null&&(h=0,l.replaceState(Yo({},l.state,{idx:h}),""));function p(){return(l.state||{idx:null}).idx}function m(){c=Na.Pop;let _=p(),E=_==null?null:_-h;h=_,d&&d({action:c,location:w.location,delta:E})}function v(_,E){c=Na.Push;let A=Gm(w.location,_,E);h=p()+1;let P=Rw(A,h),C=w.createHref(A);try{l.pushState(P,"",C)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(C)}i&&d&&d({action:c,location:w.location,delta:1})}function y(_,E){c=Na.Replace;let A=Gm(w.location,_,E);h=p();let P=Rw(A,h),C=w.createHref(A);l.replaceState(P,"",C),i&&d&&d({action:c,location:w.location,delta:0})}function j(_){let E=a.location.origin!=="null"?a.location.origin:a.location.href,A=typeof _=="string"?_:yu(_);return A=A.replace(/ $/,"%20"),ht(E,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,E)}let w={get action(){return c},get location(){return e(a,l)},listen(_){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(Tw,m),d=_,()=>{a.removeEventListener(Tw,m),d=null}},createHref(_){return t(a,_)},createURL:j,encodeLocation(_){let E=j(_);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:v,replace:y,go(_){return l.go(_)}};return w}var Iw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Iw||(Iw={}));function HT(e,t,r){return r===void 0&&(r="/"),GT(e,t,r)}function GT(e,t,r,n){let a=typeof t=="string"?ks(t):t,i=dv(a.pathname||"/",r);if(i==null)return null;let l=AS(e);YT(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let h=oR(i);c=aR(l[d],h)}return c}function AS(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,l,c)=>{let d={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};d.relativePath.startsWith("/")&&(ht(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let h=Oa([n,d.relativePath]),p=r.concat(d);i.children&&i.children.length>0&&(ht(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),AS(i.children,t,p,h)),!(i.path==null&&!i.index)&&t.push({path:h,score:rR(h,i.index),routesMeta:p})};return e.forEach((i,l)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))a(i,l);else for(let d of CS(i.path))a(i,l,d)}),t}function CS(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let l=CS(n.join("/")),c=[];return c.push(...l.map(d=>d===""?i:[i,d].join("/"))),a&&c.push(...l),c.map(d=>e.startsWith("/")&&d===""?"/":d)}function YT(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:nR(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const XT=/^:[\w-]+$/,JT=3,QT=2,ZT=1,eR=10,tR=-2,Dw=e=>e==="*";function rR(e,t){let r=e.split("/"),n=r.length;return r.some(Dw)&&(n+=tR),t&&(n+=QT),r.filter(a=>!Dw(a)).reduce((a,i)=>a+(XT.test(i)?JT:i===""?ZT:eR),n)}function nR(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function aR(e,t,r){let{routesMeta:n}=e,a={},i="/",l=[];for(let c=0;c<n.length;++c){let d=n[c],h=c===n.length-1,p=i==="/"?t:t.slice(i.length)||"/",m=iR({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},p),v=d.route;if(!m)return null;Object.assign(a,m.params),l.push({params:a,pathname:Oa([i,m.pathname]),pathnameBase:dR(Oa([i,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(i=Oa([i,m.pathnameBase]))}return l}function iR(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=sR(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],l=i.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:n.reduce((h,p,m)=>{let{paramName:v,isOptional:y}=p;if(v==="*"){let w=c[m]||"";l=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const j=c[m];return y&&!j?h[v]=void 0:h[v]=(j||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:l,pattern:e}}function sR(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),OS(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(n.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function oR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return OS(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function dv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function lR(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?ks(e):e;return{pathname:r?r.startsWith("/")?r:cR(r,t):t,search:fR(n),hash:hR(a)}}function cR(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function lp(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uR(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function fv(e,t){let r=uR(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function hv(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=ks(e):(a=Yo({},e),ht(!a.pathname||!a.pathname.includes("?"),lp("?","pathname","search",a)),ht(!a.pathname||!a.pathname.includes("#"),lp("#","pathname","hash",a)),ht(!a.search||!a.search.includes("#"),lp("#","search","hash",a)));let i=e===""||a.pathname==="",l=i?"/":a.pathname,c;if(l==null)c=r;else{let m=t.length-1;if(!n&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),m-=1;a.pathname=v.join("/")}c=m>=0?t[m]:"/"}let d=lR(a,c),h=l&&l!=="/"&&l.endsWith("/"),p=(i||l===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(h||p)&&(d.pathname+="/"),d}const Oa=e=>e.join("/").replace(/\/\/+/g,"/"),dR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),fR=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,hR=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function pR(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const TS=["post","put","patch","delete"];new Set(TS);const mR=["get",...TS];new Set(mR);function Xo(){return Xo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xo.apply(this,arguments)}const pv=x.createContext(null),gR=x.createContext(null),Da=x.createContext(null),hd=x.createContext(null),Sn=x.createContext({outlet:null,matches:[],isDataRoute:!1}),RS=x.createContext(null);function vR(e,t){let{relative:r}=t===void 0?{}:t;Ss()||ht(!1);let{basename:n,navigator:a}=x.useContext(Da),{hash:i,pathname:l,search:c}=DS(e,{relative:r}),d=l;return n!=="/"&&(d=l==="/"?n:Oa([n,l])),a.createHref({pathname:d,search:c,hash:i})}function Ss(){return x.useContext(hd)!=null}function Es(){return Ss()||ht(!1),x.useContext(hd).location}function IS(e){x.useContext(Da).static||x.useLayoutEffect(e)}function En(){let{isDataRoute:e}=x.useContext(Sn);return e?TR():yR()}function yR(){Ss()||ht(!1);let e=x.useContext(pv),{basename:t,future:r,navigator:n}=x.useContext(Da),{matches:a}=x.useContext(Sn),{pathname:i}=Es(),l=JSON.stringify(fv(a,r.v7_relativeSplatPath)),c=x.useRef(!1);return IS(()=>{c.current=!0}),x.useCallback(function(h,p){if(p===void 0&&(p={}),!c.current)return;if(typeof h=="number"){n.go(h);return}let m=hv(h,JSON.parse(l),i,p.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Oa([t,m.pathname])),(p.replace?n.replace:n.push)(m,p.state,p)},[t,n,l,i,e])}const xR=x.createContext(null);function bR(e){let t=x.useContext(Sn).outlet;return t&&x.createElement(xR.Provider,{value:e},t)}function pd(){let{matches:e}=x.useContext(Sn),t=e[e.length-1];return t?t.params:{}}function DS(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=x.useContext(Da),{matches:a}=x.useContext(Sn),{pathname:i}=Es(),l=JSON.stringify(fv(a,n.v7_relativeSplatPath));return x.useMemo(()=>hv(e,JSON.parse(l),i,r==="path"),[e,l,i,r])}function wR(e,t){return jR(e,t)}function jR(e,t,r,n){Ss()||ht(!1);let{navigator:a}=x.useContext(Da),{matches:i}=x.useContext(Sn),l=i[i.length-1],c=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let h=Es(),p;if(t){var m;let _=typeof t=="string"?ks(t):t;d==="/"||(m=_.pathname)!=null&&m.startsWith(d)||ht(!1),p=_}else p=h;let v=p.pathname||"/",y=v;if(d!=="/"){let _=d.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(_.length).join("/")}let j=HT(e,{pathname:y}),w=PR(j&&j.map(_=>Object.assign({},_,{params:Object.assign({},c,_.params),pathname:Oa([d,a.encodeLocation?a.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?d:Oa([d,a.encodeLocation?a.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,r,n);return t&&w?x.createElement(hd.Provider,{value:{location:Xo({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Na.Pop}},w):w}function _R(){let e=CR(),t=pR(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:a},r):null,null)}const kR=x.createElement(_R,null);class SR extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(Sn.Provider,{value:this.props.routeContext},x.createElement(RS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ER(e){let{routeContext:t,match:r,children:n}=e,a=x.useContext(pv);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(Sn.Provider,{value:t},n)}function PR(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,c=(a=r)==null?void 0:a.errors;if(c!=null){let p=l.findIndex(m=>m.route.id&&c?.[m.route.id]!==void 0);p>=0||ht(!1),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,h=-1;if(r&&n&&n.v7_partialHydration)for(let p=0;p<l.length;p++){let m=l[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:v,errors:y}=r,j=m.route.loader&&v[m.route.id]===void 0&&(!y||y[m.route.id]===void 0);if(m.route.lazy||j){d=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((p,m,v)=>{let y,j=!1,w=null,_=null;r&&(y=c&&m.route.id?c[m.route.id]:void 0,w=m.route.errorElement||kR,d&&(h<0&&v===0?(RR("route-fallback"),j=!0,_=null):h===v&&(j=!0,_=m.route.hydrateFallbackElement||null)));let E=t.concat(l.slice(0,v+1)),A=()=>{let P;return y?P=w:j?P=_:m.route.Component?P=x.createElement(m.route.Component,null):m.route.element?P=m.route.element:P=p,x.createElement(ER,{match:m,routeContext:{outlet:p,matches:E,isDataRoute:r!=null},children:P})};return r&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?x.createElement(SR,{location:r.location,revalidation:r.revalidation,component:w,error:y,children:A(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):A()},null)}var MS=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(MS||{}),LS=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(LS||{});function NR(e){let t=x.useContext(pv);return t||ht(!1),t}function OR(e){let t=x.useContext(gR);return t||ht(!1),t}function AR(e){let t=x.useContext(Sn);return t||ht(!1),t}function $S(e){let t=AR(),r=t.matches[t.matches.length-1];return r.route.id||ht(!1),r.route.id}function CR(){var e;let t=x.useContext(RS),r=OR(),n=$S();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function TR(){let{router:e}=NR(MS.UseNavigateStable),t=$S(LS.UseNavigateStable),r=x.useRef(!1);return IS(()=>{r.current=!0}),x.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Xo({fromRouteId:t},i)))},[e,t])}const Mw={};function RR(e,t,r){Mw[e]||(Mw[e]=!0)}function IR(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath}function Jo(e){let{to:t,replace:r,state:n,relative:a}=e;Ss()||ht(!1);let{future:i,static:l}=x.useContext(Da),{matches:c}=x.useContext(Sn),{pathname:d}=Es(),h=En(),p=hv(t,fv(c,i.v7_relativeSplatPath),d,a==="path"),m=JSON.stringify(p);return x.useEffect(()=>h(JSON.parse(m),{replace:r,state:n,relative:a}),[h,m,a,r,n]),null}function DR(e){return bR(e.context)}function it(e){ht(!1)}function MR(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Na.Pop,navigator:i,static:l=!1,future:c}=e;Ss()&&ht(!1);let d=t.replace(/^\/*/,"/"),h=x.useMemo(()=>({basename:d,navigator:i,static:l,future:Xo({v7_relativeSplatPath:!1},c)}),[d,c,i,l]);typeof n=="string"&&(n=ks(n));let{pathname:p="/",search:m="",hash:v="",state:y=null,key:j="default"}=n,w=x.useMemo(()=>{let _=dv(p,d);return _==null?null:{location:{pathname:_,search:m,hash:v,state:y,key:j},navigationType:a}},[d,p,m,v,y,j,a]);return w==null?null:x.createElement(Da.Provider,{value:h},x.createElement(hd.Provider,{children:r,value:w}))}function LR(e){let{children:t,location:r}=e;return wR(Ym(t),r)}new Promise(()=>{});function Ym(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,a)=>{if(!x.isValidElement(n))return;let i=[...t,a];if(n.type===x.Fragment){r.push.apply(r,Ym(n.props.children,i));return}n.type!==it&&ht(!1),!n.props.index||!n.props.children||ht(!1);let l={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Ym(n.props.children,i)),r.push(l)}),r}function Xm(){return Xm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xm.apply(this,arguments)}function $R(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function BR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function FR(e,t){return e.button===0&&(!t||t==="_self")&&!BR(e)}function Jm(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function UR(e,t){let r=Jm(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const zR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],qR="6";try{window.__reactRouterVersion=qR}catch{}const WR="startTransition",Lw=ES[WR];function KR(e){let{basename:t,children:r,future:n,window:a}=e,i=x.useRef();i.current==null&&(i.current=WT({window:a,v5Compat:!0}));let l=i.current,[c,d]=x.useState({action:l.action,location:l.location}),{v7_startTransition:h}=n||{},p=x.useCallback(m=>{h&&Lw?Lw(()=>d(m)):d(m)},[d,h]);return x.useLayoutEffect(()=>l.listen(p),[l,p]),x.useEffect(()=>IR(n),[n]),x.createElement(MR,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:l,future:n})}const VR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ke=x.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:l,state:c,target:d,to:h,preventScrollReset:p,viewTransition:m}=t,v=$R(t,zR),{basename:y}=x.useContext(Da),j,w=!1;if(typeof h=="string"&&HR.test(h)&&(j=h,VR))try{let P=new URL(window.location.href),C=h.startsWith("//")?new URL(P.protocol+h):new URL(h),N=dv(C.pathname,y);C.origin===P.origin&&N!=null?h=N+C.search+C.hash:w=!0}catch{}let _=vR(h,{relative:a}),E=GR(h,{replace:l,state:c,target:d,preventScrollReset:p,relative:a,viewTransition:m});function A(P){n&&n(P),P.defaultPrevented||E(P)}return x.createElement("a",Xm({},v,{href:j||_,onClick:w||i?n:A,ref:r,target:d}))});var $w;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})($w||($w={}));var Bw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Bw||(Bw={}));function GR(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:l,viewTransition:c}=t===void 0?{}:t,d=En(),h=Es(),p=DS(e,{relative:l});return x.useCallback(m=>{if(FR(m,r)){m.preventDefault();let v=n!==void 0?n:yu(h)===yu(p);d(e,{replace:v,state:a,preventScrollReset:i,relative:l,viewTransition:c})}},[h,d,p,n,a,r,e,i,l,c])}function BS(e){let t=x.useRef(Jm(e)),r=x.useRef(!1),n=Es(),a=x.useMemo(()=>UR(n.search,r.current?null:t.current),[n.search]),i=En(),l=x.useCallback((c,d)=>{const h=Jm(typeof c=="function"?c(a):c);r.current=!0,i("?"+h,d)},[i,a]);return[a,l]}var Qm=function(e,t){return Qm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},Qm(e,t)};function FS(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Qm(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var xu=function(){return xu=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},xu.apply(this,arguments)};function Ps(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function US(e,t,r,n){var a=arguments.length,i=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(i=(a<3?l(i):a>3?l(t,r,i):l(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function zS(e,t){return function(r,n){t(r,n,e)}}function qS(e,t,r,n,a,i){function l(E){if(E!==void 0&&typeof E!="function")throw new TypeError("Function expected");return E}for(var c=n.kind,d=c==="getter"?"get":c==="setter"?"set":"value",h=!t&&e?n.static?e:e.prototype:null,p=t||(h?Object.getOwnPropertyDescriptor(h,n.name):{}),m,v=!1,y=r.length-1;y>=0;y--){var j={};for(var w in n)j[w]=w==="access"?{}:n[w];for(var w in n.access)j.access[w]=n.access[w];j.addInitializer=function(E){if(v)throw new TypeError("Cannot add initializers after decoration has completed");i.push(l(E||null))};var _=(0,r[y])(c==="accessor"?{get:p.get,set:p.set}:p[d],j);if(c==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(m=l(_.get))&&(p.get=m),(m=l(_.set))&&(p.set=m),(m=l(_.init))&&a.unshift(m)}else(m=l(_))&&(c==="field"?a.unshift(m):p[d]=m)}h&&Object.defineProperty(h,n.name,p),v=!0}function WS(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function KS(e){return typeof e=="symbol"?e:"".concat(e)}function VS(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function HS(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ge(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function c(p){try{h(n.next(p))}catch(m){l(m)}}function d(p){try{h(n.throw(p))}catch(m){l(m)}}function h(p){p.done?i(p.value):a(p.value).then(c,d)}h((n=n.apply(e,t||[])).next())})}function GS(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=c(0),l.throw=c(1),l.return=c(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(h){return function(p){return d([h,p])}}function d(h){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(r=0)),r;)try{if(n=1,a&&(i=h[0]&2?a.return:h[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,h[1])).done)return i;switch(a=0,i&&(h=[h[0]&2,i.value]),h[0]){case 0:case 1:i=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,a=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!i||h[1]>i[0]&&h[1]<i[3])){r.label=h[1];break}if(h[0]===6&&r.label<i[1]){r.label=i[1],i=h;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(h);break}i[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(p){h=[6,p],a=0}finally{n=i=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var md=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});function YS(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&md(t,e,r)}function bu(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function mv(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],l;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(c){l={error:c}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(l)throw l.error}}return i}function XS(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(mv(arguments[t]));return e}function JS(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var i=arguments[t],l=0,c=i.length;l<c;l++,a++)n[a]=i[l];return n}function QS(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function ps(e){return this instanceof ps?(this.v=e,this):new ps(e)}function ZS(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",l),a[Symbol.asyncIterator]=function(){return this},a;function l(y){return function(j){return Promise.resolve(j).then(y,m)}}function c(y,j){n[y]&&(a[y]=function(w){return new Promise(function(_,E){i.push([y,w,_,E])>1||d(y,w)})},j&&(a[y]=j(a[y])))}function d(y,j){try{h(n[y](j))}catch(w){v(i[0][3],w)}}function h(y){y.value instanceof ps?Promise.resolve(y.value.v).then(p,m):v(i[0][2],y)}function p(y){d("next",y)}function m(y){d("throw",y)}function v(y,j){y(j),i.shift(),i.length&&d(i[0][0],i[0][1])}}function eE(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,i){t[a]=e[a]?function(l){return(r=!r)?{value:ps(e[a](l)),done:!1}:i?i(l):l}:i}}function tE(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof bu=="function"?bu(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(l){return new Promise(function(c,d){l=e[i](l),a(c,d,l.done,l.value)})}}function a(i,l,c,d){Promise.resolve(d).then(function(h){i({value:h,done:c})},l)}}function rE(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var YR=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},Zm=function(e){return Zm=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Zm(e)};function nE(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Zm(e),n=0;n<r.length;n++)r[n]!=="default"&&md(t,e,r[n]);return YR(t,e),t}function aE(e){return e&&e.__esModule?e:{default:e}}function iE(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function sE(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function oE(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function lE(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var XR=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function cE(e){function t(i){e.error=e.hasError?new XR(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(a,function(l){return t(l),a()})}else n|=1}catch(l){t(l)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function uE(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,i,l){return n?t?".jsx":".js":a&&(!i||!l)?r:a+i+"."+l.toLowerCase()+"js"}):e}const JR={__extends:FS,__assign:xu,__rest:Ps,__decorate:US,__param:zS,__esDecorate:qS,__runInitializers:WS,__propKey:KS,__setFunctionName:VS,__metadata:HS,__awaiter:ge,__generator:GS,__createBinding:md,__exportStar:YS,__values:bu,__read:mv,__spread:XS,__spreadArrays:JS,__spreadArray:QS,__await:ps,__asyncGenerator:ZS,__asyncDelegator:eE,__asyncValues:tE,__makeTemplateObject:rE,__importStar:nE,__importDefault:aE,__classPrivateFieldGet:iE,__classPrivateFieldSet:sE,__classPrivateFieldIn:oE,__addDisposableResource:lE,__disposeResources:cE,__rewriteRelativeImportExtension:uE},QR=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:lE,get __assign(){return xu},__asyncDelegator:eE,__asyncGenerator:ZS,__asyncValues:tE,__await:ps,__awaiter:ge,__classPrivateFieldGet:iE,__classPrivateFieldIn:oE,__classPrivateFieldSet:sE,__createBinding:md,__decorate:US,__disposeResources:cE,__esDecorate:qS,__exportStar:YS,__extends:FS,__generator:GS,__importDefault:aE,__importStar:nE,__makeTemplateObject:rE,__metadata:HS,__param:zS,__propKey:KS,__read:mv,__rest:Ps,__rewriteRelativeImportExtension:uE,__runInitializers:WS,__setFunctionName:VS,__spread:XS,__spreadArray:QS,__spreadArrays:JS,__values:bu,default:JR},Symbol.toStringTag,{value:"Module"})),ZR=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class gv extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Fw extends gv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Uw extends gv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class zw extends gv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var eg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(eg||(eg={}));class eI{constructor(t,{headers:r={},customFetch:n,region:a=eg.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=ZR(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ge(this,arguments,void 0,function*(r,n={}){var a;try{const{headers:i,method:l,body:c,signal:d}=n;let h={},{region:p}=n;p||(p=this.region);const m=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,m.searchParams.set("forceFunctionRegion",p));let v;c&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",v=c):typeof c=="string"?(h["Content-Type"]="text/plain",v=c):typeof FormData<"u"&&c instanceof FormData?v=c:(h["Content-Type"]="application/json",v=JSON.stringify(c)):v=c;const y=yield this.fetch(m.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),i),body:v,signal:d}).catch(E=>{throw E.name==="AbortError"?E:new Fw(E)}),j=y.headers.get("x-relay-error");if(j&&j==="true")throw new Uw(y);if(!y.ok)throw new zw(y);let w=((a=y.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),_;return w==="application/json"?_=yield y.json():w==="application/octet-stream"||w==="application/pdf"?_=yield y.blob():w==="text/event-stream"?_=y:w==="multipart/form-data"?_=yield y.formData():_=yield y.text(),{data:_,error:null,response:y}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new Fw(i)}:{data:null,error:i,response:i instanceof zw||i instanceof Uw?i.context:void 0}}})}}var Vt={};const Ns=IT(QR);var Wc={},Kc={},Vc={},Hc={},Gc={},Yc={},qw;function dE(){if(qw)return Yc;qw=1,Object.defineProperty(Yc,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Yc.default=e,Yc}var Ww;function fE(){if(Ww)return Gc;Ww=1,Object.defineProperty(Gc,"__esModule",{value:!0});const t=Ns.__importDefault(dE());class r{constructor(a){var i,l;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(i=a.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=a.signal,this.isMaybeSingle=(l=a.isMaybeSingle)!==null&&l!==void 0?l:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,i){return this.headers=new Headers(this.headers),this.headers.set(a,i),this}then(a,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var h,p,m,v;let y=null,j=null,w=null,_=d.status,E=d.statusText;if(d.ok){if(this.method!=="HEAD"){const N=await d.text();N===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?j=N:j=JSON.parse(N))}const P=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),C=(m=d.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");P&&C&&C.length>1&&(w=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(y={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,w=null,_=406,E="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const P=await d.text();try{y=JSON.parse(P),Array.isArray(y)&&d.status===404&&(j=[],y=null,_=200,E="OK")}catch{d.status===404&&P===""?(_=204,E="No Content"):y={message:P}}if(y&&this.isMaybeSingle&&(!((v=y?.details)===null||v===void 0)&&v.includes("0 rows"))&&(y=null,_=200,E="OK"),y&&this.shouldThrowOnError)throw new t.default(y)}return{error:y,data:j,count:w,status:_,statusText:E}});return this.shouldThrowOnError||(c=c.catch(d=>{var h,p,m;return{error:{message:`${(h=d?.name)!==null&&h!==void 0?h:"FetchError"}: ${d?.message}`,details:`${(p=d?.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(m=d?.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),c.then(a,i)}returns(){return this}overrideTypes(){return this}}return Gc.default=r,Gc}var Kw;function hE(){if(Kw)return Hc;Kw=1,Object.defineProperty(Hc,"__esModule",{value:!0});const t=Ns.__importDefault(fE());class r extends t.default{select(a){let i=!1;const l=(a??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:l,foreignTable:c,referencedTable:d=c}={}){const h=d?`${d}.order`:"order",p=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${p?`${p},`:""}${a}.${i?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:l=i}={}){const c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${a}`),this}range(a,i,{foreignTable:l,referencedTable:c=l}={}){const d=typeof c>"u"?"offset":`${c}.offset`,h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${a}`),this.url.searchParams.set(h,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:l=!1,buffers:c=!1,wal:d=!1,format:h="text"}={}){var p;const m=[a?"analyze":null,i?"verbose":null,l?"settings":null,c?"buffers":null,d?"wal":null].filter(Boolean).join("|"),v=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${v}"; options=${m};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Hc.default=r,Hc}var Vw;function vv(){if(Vw)return Vc;Vw=1,Object.defineProperty(Vc,"__esModule",{value:!0});const t=Ns.__importDefault(hE()),r=new RegExp("[,()]");class n extends t.default{eq(i,l){return this.url.searchParams.append(i,`eq.${l}`),this}neq(i,l){return this.url.searchParams.append(i,`neq.${l}`),this}gt(i,l){return this.url.searchParams.append(i,`gt.${l}`),this}gte(i,l){return this.url.searchParams.append(i,`gte.${l}`),this}lt(i,l){return this.url.searchParams.append(i,`lt.${l}`),this}lte(i,l){return this.url.searchParams.append(i,`lte.${l}`),this}like(i,l){return this.url.searchParams.append(i,`like.${l}`),this}likeAllOf(i,l){return this.url.searchParams.append(i,`like(all).{${l.join(",")}}`),this}likeAnyOf(i,l){return this.url.searchParams.append(i,`like(any).{${l.join(",")}}`),this}ilike(i,l){return this.url.searchParams.append(i,`ilike.${l}`),this}ilikeAllOf(i,l){return this.url.searchParams.append(i,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(i,l){return this.url.searchParams.append(i,`ilike(any).{${l.join(",")}}`),this}is(i,l){return this.url.searchParams.append(i,`is.${l}`),this}in(i,l){const c=Array.from(new Set(l)).map(d=>typeof d=="string"&&r.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(i,`in.(${c})`),this}contains(i,l){return typeof l=="string"?this.url.searchParams.append(i,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(i,`cs.{${l.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(l)}`),this}containedBy(i,l){return typeof l=="string"?this.url.searchParams.append(i,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(i,`cd.{${l.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(l)}`),this}rangeGt(i,l){return this.url.searchParams.append(i,`sr.${l}`),this}rangeGte(i,l){return this.url.searchParams.append(i,`nxl.${l}`),this}rangeLt(i,l){return this.url.searchParams.append(i,`sl.${l}`),this}rangeLte(i,l){return this.url.searchParams.append(i,`nxr.${l}`),this}rangeAdjacent(i,l){return this.url.searchParams.append(i,`adj.${l}`),this}overlaps(i,l){return typeof l=="string"?this.url.searchParams.append(i,`ov.${l}`):this.url.searchParams.append(i,`ov.{${l.join(",")}}`),this}textSearch(i,l,{config:c,type:d}={}){let h="";d==="plain"?h="pl":d==="phrase"?h="ph":d==="websearch"&&(h="w");const p=c===void 0?"":`(${c})`;return this.url.searchParams.append(i,`${h}fts${p}.${l}`),this}match(i){return Object.entries(i).forEach(([l,c])=>{this.url.searchParams.append(l,`eq.${c}`)}),this}not(i,l,c){return this.url.searchParams.append(i,`not.${l}.${c}`),this}or(i,{foreignTable:l,referencedTable:c=l}={}){const d=c?`${c}.or`:"or";return this.url.searchParams.append(d,`(${i})`),this}filter(i,l,c){return this.url.searchParams.append(i,`${l}.${c}`),this}}return Vc.default=n,Vc}var Hw;function pE(){if(Hw)return Kc;Hw=1,Object.defineProperty(Kc,"__esModule",{value:!0});const t=Ns.__importDefault(vv());class r{constructor(a,{headers:i={},schema:l,fetch:c}){this.url=a,this.headers=new Headers(i),this.schema=l,this.fetch=c}select(a,i){const{head:l=!1,count:c}=i??{},d=l?"HEAD":"GET";let h=!1;const p=(a??"*").split("").map(m=>/\s/.test(m)&&!h?"":(m==='"'&&(h=!h),m)).join("");return this.url.searchParams.set("select",p),c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:l=!0}={}){var c;const d="POST";if(i&&this.headers.append("Prefer",`count=${i}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const h=a.reduce((p,m)=>p.concat(Object.keys(m)),[]);if(h.length>0){const p=[...new Set(h)].map(m=>`"${m}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:l=!1,count:c,defaultToNull:d=!0}={}){var h;const p="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),c&&this.headers.append("Prefer",`count=${c}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const m=a.reduce((v,y)=>v.concat(Object.keys(y)),[]);if(m.length>0){const v=[...new Set(m)].map(y=>`"${y}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(a,{count:i}={}){var l;const c="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:a}={}){var i;const l="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Kc.default=r,Kc}var Gw;function tI(){if(Gw)return Wc;Gw=1,Object.defineProperty(Wc,"__esModule",{value:!0});const e=Ns,t=e.__importDefault(pE()),r=e.__importDefault(vv());class n{constructor(i,{headers:l={},schema:c,fetch:d}={}){this.url=i,this.headers=new Headers(l),this.schemaName=c,this.fetch=d}from(i){const l=new URL(`${this.url}/${i}`);return new t.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,l={},{head:c=!1,get:d=!1,count:h}={}){var p;let m;const v=new URL(`${this.url}/rpc/${i}`);let y;c||d?(m=c?"HEAD":"GET",Object.entries(l).filter(([w,_])=>_!==void 0).map(([w,_])=>[w,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([w,_])=>{v.searchParams.append(w,_)})):(m="POST",y=l);const j=new Headers(this.headers);return h&&j.set("Prefer",`count=${h}`),new r.default({method:m,url:v,headers:j,schema:this.schemaName,body:y,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return Wc.default=n,Wc}var Yw;function rI(){if(Yw)return Vt;Yw=1,Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.PostgrestError=Vt.PostgrestBuilder=Vt.PostgrestTransformBuilder=Vt.PostgrestFilterBuilder=Vt.PostgrestQueryBuilder=Vt.PostgrestClient=void 0;const e=Ns,t=e.__importDefault(tI());Vt.PostgrestClient=t.default;const r=e.__importDefault(pE());Vt.PostgrestQueryBuilder=r.default;const n=e.__importDefault(vv());Vt.PostgrestFilterBuilder=n.default;const a=e.__importDefault(hE());Vt.PostgrestTransformBuilder=a.default;const i=e.__importDefault(fE());Vt.PostgrestBuilder=i.default;const l=e.__importDefault(dE());return Vt.PostgrestError=l.default,Vt.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:i.default,PostgrestError:l.default},Vt}var mE=rI();const gE=ln(mE),nI=kS({__proto__:null,default:gE},[mE]),{PostgrestClient:aI,PostgrestQueryBuilder:OG,PostgrestFilterBuilder:AG,PostgrestTransformBuilder:CG,PostgrestBuilder:TG,PostgrestError:RG}=gE||nI;class iI{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const sI="2.80.0",oI=`realtime-js/${sI}`,lI="1.0.0",tg=1e4,cI=1e3,uI=100;var Ko;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ko||(Ko={}));var jt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(jt||(jt={}));var nn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(nn||(nn={}));var rg;(function(e){e.websocket="websocket"})(rg||(rg={}));var si;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(si||(si={}));class dI{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let l=this.HEADER_LENGTH+2;const c=n.decode(t.slice(l,l+a));l=l+a;const d=n.decode(t.slice(l,l+i));l=l+i;const h=JSON.parse(n.decode(t.slice(l,t.byteLength)));return{ref:null,topic:c,event:d,payload:h}}}class vE{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ve;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ve||(Ve={}));const Xw=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,l)=>(i[l]=fI(l,e,t,a),i),{}):{}},fI=(e,t,r,n)=>{const a=t.find(c=>c.name===e),i=a?.type,l=r[e];return i&&!n.includes(i)?yE(i,l):ng(l)},yE=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return gI(t,r)}switch(e){case Ve.bool:return hI(t);case Ve.float4:case Ve.float8:case Ve.int2:case Ve.int4:case Ve.int8:case Ve.numeric:case Ve.oid:return pI(t);case Ve.json:case Ve.jsonb:return mI(t);case Ve.timestamp:return vI(t);case Ve.abstime:case Ve.date:case Ve.daterange:case Ve.int4range:case Ve.int8range:case Ve.money:case Ve.reltime:case Ve.text:case Ve.time:case Ve.timestamptz:case Ve.timetz:case Ve.tsrange:case Ve.tstzrange:return ng(t);default:return ng(t)}},ng=e=>e,hI=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},pI=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},mI=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},gI=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const l=e.slice(1,r);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(c=>yE(t,c))}return e},vI=e=>typeof e=="string"?e.replace(" ","T"):e,xE=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class cp{constructor(t,r,n={},a=tg){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Jw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Jw||(Jw={}));class Vo{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vo.syncState(this.state,a,i,l),this.pendingDiffs.forEach(d=>{this.state=Vo.syncDiff(this.state,d,i,l)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Vo.syncDiff(this.state,a,i,l),c())}),this.onJoin((a,i,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:l})}),this.onLeave((a,i,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),l=this.transformState(r),c={},d={};return this.map(i,(h,p)=>{l[h]||(d[h]=p)}),this.map(l,(h,p)=>{const m=i[h];if(m){const v=p.map(_=>_.presence_ref),y=m.map(_=>_.presence_ref),j=p.filter(_=>y.indexOf(_.presence_ref)<0),w=m.filter(_=>v.indexOf(_.presence_ref)<0);j.length>0&&(c[h]=j),w.length>0&&(d[h]=w)}else c[h]=p}),this.syncDiff(i,{joins:c,leaves:d},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(c,d)=>{var h;const p=(h=t[c])!==null&&h!==void 0?h:[];if(t[c]=this.cloneDeep(d),p.length>0){const m=t[c].map(y=>y.presence_ref),v=p.filter(y=>m.indexOf(y.presence_ref)<0);t[c].unshift(...v)}n(c,p,d)}),this.map(l,(c,d)=>{let h=t[c];if(!h)return;const p=d.map(m=>m.presence_ref);h=h.filter(m=>p.indexOf(m.presence_ref)<0),t[c]=h,a(c,h,d),h.length===0&&delete t[c]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Qw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Qw||(Qw={}));var Ho;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ho||(Ho={}));var Mn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Mn||(Mn={}));class yv{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=jt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new cp(this,nn.join,this.params,this.timeout),this.rejoinTimer=new vE(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=jt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=jt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(nn.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new Vo(this),this.broadcastEndpointURL=xE(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==jt.closed){const{config:{broadcast:l,presence:c,private:d}}=this.params,h=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(y=>y.filter))!==null&&a!==void 0?a:[],p=!!this.bindings[Ho.PRESENCE]&&this.bindings[Ho.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,m={},v={broadcast:l,presence:Object.assign(Object.assign({},c),{enabled:p}),postgres_changes:h,private:d};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(y=>t?.(Mn.CHANNEL_ERROR,y)),this._onClose(()=>t?.(Mn.CLOSED)),this.updateJoinPayload(Object.assign({config:v},m)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:y})=>{var j;if(this.socket.setAuth(),y===void 0){t?.(Mn.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,_=(j=w?.length)!==null&&j!==void 0?j:0,E=[];for(let A=0;A<_;A++){const P=w[A],{filter:{event:C,schema:N,table:S,filter:T}}=P,M=y&&y[A];if(M&&M.event===C&&M.schema===N&&M.table===S&&M.filter===T)E.push(Object.assign(Object.assign({},P),{id:M.id}));else{this.unsubscribe(),this.state=jt.errored,t?.(Mn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,t&&t(Mn.SUBSCRIBED);return}}).receive("error",y=>{this.state=jt.errored,t?.(Mn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t?.(Mn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===jt.joined&&t===Ho.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(c.status===202)return{success:!0};let d=c.statusText;try{const h=await c.json();d=h.error||h.message||d}catch{}return Promise.reject(new Error(d))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:l}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=h.body)===null||a===void 0?void 0:a.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var l,c,d;const h=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&i("ok"),h.receive("ok",()=>i("ok")),h.receive("error",()=>i("error")),h.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=jt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(nn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new cp(this,nn.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=jt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new cp(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>uI){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const l=t.toLocaleLowerCase(),{close:c,error:d,leave:h,join:p}=nn;if(n&&[c,d,h,p].indexOf(l)>=0&&n!==this._joinRef())return;let v=this._onMessage(l,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(y=>{var j,w,_;return((j=y.filter)===null||j===void 0?void 0:j.event)==="*"||((_=(w=y.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===l}).map(y=>y.callback(v,n)):(i=this.bindings[l])===null||i===void 0||i.filter(y=>{var j,w,_,E,A,P;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in y){const C=y.id,N=(j=y.filter)===null||j===void 0?void 0:j.event;return C&&((w=r.ids)===null||w===void 0?void 0:w.includes(C))&&(N==="*"||N?.toLocaleLowerCase()===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const C=(A=(E=y?.filter)===null||E===void 0?void 0:E.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return C==="*"||C===((P=r?.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===l}).map(y=>{if(typeof v=="object"&&"ids"in v){const j=v.data,{schema:w,table:_,commit_timestamp:E,type:A,errors:P}=j;v=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:E,eventType:A,new:{},old:{},errors:P}),this._getPayloadRecords(j))}y.callback(v,n)})}_isClosed(){return this.state===jt.closed}_isJoined(){return this.state===jt.joined}_isJoining(){return this.state===jt.joining}_isLeaving(){return this.state===jt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&yv.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(nn.close,{},t)}_onError(t){this._on(nn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=jt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Xw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Xw(t.columns,t.old_record)),r}}const up=()=>{},Xc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},yI=[1e3,2e3,5e3,1e4],xI=1e4,bI=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class wI{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=tg,this.transport=null,this.heartbeatIntervalMs=Xc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=up,this.ref=0,this.reconnectTimer=null,this.logger=up,this.conn=null,this.sendBuffer=[],this.serializer=new dI,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${rg.websocket}`,this.httpEndpoint=xE(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=iI.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:lI}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ko.connecting:return si.Connecting;case Ko.open:return si.Open;case Ko.closing:return si.Closing;default:return si.Closed}}isConnected(){return this.connectionState()===si.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new yv(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,l=()=>{this.encode(t,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(cI,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Xc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:l}=r,c=l?`(${l})`:"",d=i.status||"";this.log("receive",`${d} ${n} ${a} ${c}`.trim(),i),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(a,i,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(nn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([bI],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:oI};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(nn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new vE(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Xc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,l,c,d,h,p;if(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:tg,this.heartbeatIntervalMs=(a=t?.heartbeatIntervalMs)!==null&&a!==void 0?a:Xc.HEARTBEAT_INTERVAL,this.worker=(i=t?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(l=t?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(c=t?.heartbeatCallback)!==null&&c!==void 0?c:up,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t?.reconnectAfterMs)!==null&&d!==void 0?d:(m=>yI[m-1]||xI),this.encode=(h=t?.encode)!==null&&h!==void 0?h:((m,v)=>v(JSON.stringify(m))),this.decode=(p=t?.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class xv extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function st(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class jI extends xv{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ag extends xv{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const bv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),_I=()=>Response,ig=e=>{if(Array.isArray(e))return e.map(r=>ig(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=ig(n)}),t},kI=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},dp=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},SI=(e,t,r)=>ge(void 0,void 0,void 0,function*(){const n=yield _I();e instanceof n&&!r?.noResolveJson?e.json().then(a=>{const i=e.status||500,l=a?.statusCode||i+"";t(new jI(dp(a),i,l))}).catch(a=>{t(new ag(dp(a),a))}):t(new ag(dp(e),e))}),EI=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"||!n?a:(kI(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,t?.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function pl(e,t,r,n,a,i){return ge(this,void 0,void 0,function*(){return new Promise((l,c)=>{e(r,EI(t,n,a,i)).then(d=>{if(!d.ok)throw d;return n?.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>SI(d,c,n))})})}function Qo(e,t,r,n){return ge(this,void 0,void 0,function*(){return pl(e,"GET",t,r,n)})}function rn(e,t,r,n,a){return ge(this,void 0,void 0,function*(){return pl(e,"POST",t,n,a,r)})}function sg(e,t,r,n,a){return ge(this,void 0,void 0,function*(){return pl(e,"PUT",t,n,a,r)})}function PI(e,t,r,n){return ge(this,void 0,void 0,function*(){return pl(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function wv(e,t,r,n,a){return ge(this,void 0,void 0,function*(){return pl(e,"DELETE",t,n,a,r)})}class NI{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return ge(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(st(t))return{data:null,error:t};throw t}})}}var bE;class OI{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[bE]="BlobDownloadBuilder",this.promise=null}asStream(){return new NI(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ge(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(st(t))return{data:null,error:t};throw t}})}}bE=Symbol.toStringTag;const AI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Zw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class CI{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=bv(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return ge(this,void 0,void 0,function*(){try{let i;const l=Object.assign(Object.assign({},Zw),a);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),d&&i.append("metadata",this.encodeMetadata(d)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",l.cacheControl),d&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(d))):(i=n,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,d&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(d))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!l.duplex&&(l.duplex="half")),a?.headers&&(c=Object.assign(Object.assign({},c),a.headers));const h=this._removeEmptyFolders(r),p=this._getFinalPath(h),m=yield(t=="PUT"?sg:rn)(this.fetch,`${this.url}/object/${p}`,i,Object.assign({headers:c},l?.duplex?{duplex:l.duplex}:{}));return{data:{path:h,id:m.Id,fullPath:m.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}upload(t,r,n){return ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return ge(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),l=this._getFinalPath(i),c=new URL(this.url+`/object/upload/sign/${l}`);c.searchParams.set("token",r);try{let d;const h=Object.assign({upsert:Zw.upsert},a),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",h.cacheControl)):(d=n,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType);const m=yield sg(this.fetch,c.toString(),d,{headers:p});return{data:{path:i,fullPath:m.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(st(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,r){return ge(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r?.upsert&&(a["x-upsert"]="true");const i=yield rn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),l=new URL(this.url+i.url),c=l.searchParams.get("token");if(!c)throw new xv("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:c},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}update(t,r,n){return ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return ge(this,void 0,void 0,function*(){try{return{data:yield rn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a))return{data:null,error:a};throw a}})}copy(t,r,n){return ge(this,void 0,void 0,function*(){try{return{data:{path:(yield rn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return ge(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield rn(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${l}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return ge(this,void 0,void 0,function*(){try{const a=yield rn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof r?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(r?.transform||{}),l=i?`?${i}`:"",c=this._getFinalPath(t),d=()=>Qo(this.fetch,`${this.url}/${a}/${c}${l}`,{headers:this.headers,noResolveJson:!0});return new OI(d,this.shouldThrowOnError)}info(t){return ge(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Qo(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ig(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}exists(t){return ge(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield PI(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n)&&n instanceof ag){const a=n.originalError;if([400,404].includes(a?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r?.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const c=typeof r?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(r?.transform||{});d!==""&&a.push(d);let h=a.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${n}${h}`)}}}remove(t){return ge(this,void 0,void 0,function*(){try{return{data:yield wv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}list(t,r,n){return ge(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},AI),r),{prefix:t||""});return{data:yield rn(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a))return{data:null,error:a};throw a}})}listV2(t,r){return ge(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield rn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const wE="2.80.0",jE={"X-Client-Info":`storage-js/${wE}`};class TI{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jE),r),this.fetch=bv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return ge(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Qo(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}getBucket(t){return ge(this,void 0,void 0,function*(){try{return{data:yield Qo(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}createBucket(t){return ge(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield rn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return ge(this,void 0,void 0,function*(){try{return{data:yield sg(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ge(this,void 0,void 0,function*(){try{return{data:yield rn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ge(this,void 0,void 0,function*(){try{return{data:yield wv(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class RI{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jE),r),this.fetch=bv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ge(this,void 0,void 0,function*(){try{return{data:yield rn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}listBuckets(t){return ge(this,void 0,void 0,function*(){try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Qo(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ge(this,void 0,void 0,function*(){try{return{data:yield wv(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}}const jv={"X-Client-Info":`storage-js/${wE}`,"Content-Type":"application/json"};class _E extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function kr(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class fp extends _E{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class II extends _E{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var ej;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(ej||(ej={}));const _v=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),DI=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},tj=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),MI=(e,t,r)=>ge(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!r?.noResolveJson){const a=e.status||500,i=e;if(typeof i.json=="function")i.json().then(l=>{const c=l?.statusCode||l?.code||a+"";t(new fp(tj(l),a,c))}).catch(()=>{const l=a+"",c=i.statusText||`HTTP ${a} error`;t(new fp(c,a,l))});else{const l=a+"",c=i.statusText||`HTTP ${a} error`;t(new fp(c,a,l))}}else t(new II(tj(e),e))}),LI=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return n?(DI(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function $I(e,t,r,n,a,i){return ge(this,void 0,void 0,function*(){return new Promise((l,c)=>{e(r,LI(t,n,a,i)).then(d=>{if(!d.ok)throw d;if(n?.noResolveJson)return d;const h=d.headers.get("content-type");return!h||!h.includes("application/json")?{}:d.json()}).then(d=>l(d)).catch(d=>MI(d,c,n))})})}function Sr(e,t,r,n,a){return ge(this,void 0,void 0,function*(){return $I(e,"POST",t,n,a,r)})}class BI{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jv),r),this.fetch=_v(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return ge(this,void 0,void 0,function*(){try{return{data:(yield Sr(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}getIndex(t,r){return ge(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kr(n))return{data:null,error:n};throw n}})}listIndexes(t){return ge(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return ge(this,void 0,void 0,function*(){try{return{data:(yield Sr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kr(n))return{data:null,error:n};throw n}})}}class FI{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jv),r),this.fetch=_v(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return ge(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Sr(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}getVectors(t){return ge(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}listVectors(t){return ge(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Sr(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}queryVectors(t){return ge(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}deleteVectors(t){return ge(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Sr(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}}class UI{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jv),r),this.fetch=_v(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ge(this,void 0,void 0,function*(){try{return{data:(yield Sr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}getBucket(t){return ge(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}listBuckets(){return ge(this,arguments,void 0,function*(t={}){try{return{data:yield Sr(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ge(this,void 0,void 0,function*(){try{return{data:(yield Sr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}}class zI extends UI{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new qI(this.url,this.headers,t,this.fetch)}}class qI extends BI{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ge(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ge(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ge(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ge(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new WI(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class WI extends FI{constructor(t,r,n,a,i){super(t,r,i),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ge(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ge(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ge(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ge(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ge(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class KI extends TI{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new CI(this.url,this.headers,t,this.fetch)}get vectors(){return new zI(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new RI(this.url+"/iceberg",this.headers,this.fetch)}}const VI="2.80.0";let zo="";typeof Deno<"u"?zo="deno":typeof document<"u"?zo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?zo="react-native":zo="node";const HI={"X-Client-Info":`supabase-js-${zo}/${VI}`},GI={headers:HI},YI={schema:"public"},XI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},JI={},QI=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ZI=()=>Headers,eD=(e,t,r)=>{const n=QI(r),a=ZI();return async(i,l)=>{var c;const d=(c=await t())!==null&&c!==void 0?c:e;let h=new a(l?.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${d}`),n(i,Object.assign(Object.assign({},l),{headers:h}))}};function tD(e){return e.endsWith("/")?e:e+"/"}function rD(e,t){var r,n;const{db:a,auth:i,realtime:l,global:c}=e,{db:d,auth:h,realtime:p,global:m}=t,v={db:Object.assign(Object.assign({},d),a),auth:Object.assign(Object.assign({},h),i),realtime:Object.assign(Object.assign({},p),l),storage:{},global:Object.assign(Object.assign(Object.assign({},m),c),{headers:Object.assign(Object.assign({},(r=m?.headers)!==null&&r!==void 0?r:{}),(n=c?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}function nD(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(tD(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const kE="2.80.0",ss=30*1e3,og=3,hp=og*ss,aD="http://localhost:9999",iD="supabase.auth.token",sD={"X-Client-Info":`gotrue-js/${kE}`},lg="X-Supabase-Api-Version",SE={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},oD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,lD=600*1e3;class Zo extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ve(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class cD extends Zo{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function uD(e){return ve(e)&&e.name==="AuthApiError"}class oi extends Zo{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ma extends Zo{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class en extends Ma{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function dD(e){return ve(e)&&e.name==="AuthSessionMissingError"}class Zi extends Ma{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Jc extends Ma{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Qc extends Ma{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function fD(e){return ve(e)&&e.name==="AuthImplicitGrantRedirectError"}class rj extends Ma{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class cg extends Ma{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function pp(e){return ve(e)&&e.name==="AuthRetryableFetchError"}class nj extends Ma{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ug extends Ma{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const wu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),aj=` 	
\r=`.split(""),hD=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<aj.length;t+=1)e[aj[t].charCodeAt(0)]=-2;for(let t=0;t<wu.length;t+=1)e[wu[t].charCodeAt(0)]=t;return e})();function ij(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(wu[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(wu[n]),t.queuedBits-=6}}function EE(e,t,r){const n=hD[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function sj(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=l=>{gD(l,n,r)};for(let l=0;l<e.length;l+=1)EE(e.charCodeAt(l),a,i);return t.join("")}function pD(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function mD(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}pD(n,t)}}function gD(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function cs(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)EE(e.charCodeAt(a),r,n);return new Uint8Array(t)}function vD(e){const t=[];return mD(e,r=>t.push(r)),new Uint8Array(t)}function li(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>ij(a,r,n)),ij(null,r,n),t.join("")}function yD(e){return Math.round(Date.now()/1e3)+e}function xD(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ht=()=>typeof window<"u"&&typeof document<"u",ei={tested:!1,writable:!1},PE=()=>{if(!Ht())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ei.tested)return ei.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ei.tested=!0,ei.writable=!0}catch{ei.tested=!0,ei.writable=!1}return ei.writable};function bD(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const NE=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),wD=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",os=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ti=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},_a=async(e,t)=>{await e.removeItem(t)};class gd{constructor(){this.promise=new gd.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}gd.promiseConstructor=Promise;function mp(e){const t=e.split(".");if(t.length!==3)throw new ug("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!oD.test(t[n]))throw new ug("JWT not in base64url format");return{header:JSON.parse(sj(t[0])),payload:JSON.parse(sj(t[1])),signature:cs(t[2]),raw:{header:t[0],payload:t[1]}}}async function jD(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function _D(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const l=await e(i);if(!t(i,null,l)){n(l);return}}catch(l){if(!t(i,l)){a(l);return}}})()})}function kD(e){return("0"+e.toString(16)).substr(-2)}function SD(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,kD).join("")}async function ED(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function PD(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await ED(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function es(e,t,r=!1){const n=SD();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await os(e,`${t}-code-verifier`,a);const i=await PD(n);return[i,n===i?"plain":"s256"]}const ND=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function OD(e){const t=e.headers.get(lg);if(!t||!t.match(ND))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function AD(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function CD(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const TD=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ts(e){if(!TD.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function gp(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function RD(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function oj(e){return JSON.parse(JSON.stringify(e))}const ri=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ID=[502,503,504];async function lj(e){var t;if(!wD(e))throw new cg(ri(e),0);if(ID.includes(e.status))throw new cg(ri(e),e.status);let r;try{r=await e.json()}catch(i){throw new oi(ri(i),i)}let n;const a=OD(e);if(a&&a.getTime()>=SE["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new nj(ri(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new en}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0))throw new nj(ri(r),e.status,r.weak_password.reasons);throw new cD(ri(r),e.status||500,n)}const DD=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function _e(e,t,r,n){var a;const i=Object.assign({},n?.headers);i[lg]||(i[lg]=SE["2024-01-01"].name),n?.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const l=(a=n?.query)!==null&&a!==void 0?a:{};n?.redirectTo&&(l.redirect_to=n.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await MD(e,t,r+c,{headers:i,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(d):{data:Object.assign({},d),error:null}}async function MD(e,t,r,n,a,i){const l=DD(t,n,a,i);let c;try{c=await e(r,Object.assign({},l))}catch(d){throw console.error(d),new cg(ri(d),0)}if(c.ok||await lj(c),n?.noResolveJson)return c;try{return await c.json()}catch(d){await lj(d)}}function tn(e){var t;let r=null;BD(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=yD(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function cj(e){const t=tn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ea(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function LD(e){return{data:e,error:null}}function $D(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,l=Ps(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},d=Object.assign({},l);return{data:{properties:c,user:d},error:null}}function uj(e){return e}function BD(e){return e.access_token&&e.refresh_token&&e.expires_in}const vp=["global","local","others"];class FD{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=NE(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=vp[0]){if(vp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${vp.join(", ")}`);try{return await _e(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await _e(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ea})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Ps(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n?.newEmail,delete a.newEmail),await _e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:$D,redirectTo:r?.redirectTo})}catch(r){if(ve(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await _e(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ea})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,l,c,d;try{const h={nextPage:null,lastPage:0,total:0},p=await _e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:uj});if(p.error)throw p.error;const m=await p.json(),v=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,y=(d=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(j=>{const w=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(j.split(";")[1].split("=")[1]);h[`${_}Page`]=w}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},m),h),error:null}}catch(h){if(ve(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){ts(t);try{return await _e(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ea})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){ts(t);try{return await _e(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ea})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){ts(t);try{return await _e(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ea})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){ts(t.userId);try{const{data:r,error:n}=await _e(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _deleteFactor(t){ts(t.userId),ts(t.id);try{return{data:await _e(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,l,c,d;try{const h={nextPage:null,lastPage:0,total:0},p=await _e(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:uj});if(p.error)throw p.error;const m=await p.json(),v=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,y=(d=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(j=>{const w=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(j.split(";")[1].split("=")[1]);h[`${_}Page`]=w}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},m),h),error:null}}catch(h){if(ve(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(t){try{return await _e(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await _e(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await _e(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ve(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await _e(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await _e(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}}function dj(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const rs={debug:!!(globalThis&&PE()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class OE extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class UD extends OE{}async function zD(e,t,r){rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),rs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new UD(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(rs.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function qD(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function AE(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function WD(e){return parseInt(e,16)}function KD(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function VD(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:l,notBefore:c,requestId:d,resources:h,scheme:p,uri:m,version:v}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const y=AE(e.address),j=p?`${p}://${n}`:n,w=e.statement?`${e.statement}
`:"",_=`${j} wants you to sign in with your Ethereum account:
${y}

${w}`;let E=`URI: ${m}
Version: ${v}
Chain ID: ${r}${l?`
Nonce: ${l}`:""}
Issued At: ${i.toISOString()}`;if(a&&(E+=`
Expiration Time: ${a.toISOString()}`),c&&(E+=`
Not Before: ${c.toISOString()}`),d&&(E+=`
Request ID: ${d}`),h){let A=`
Resources:`;for(const P of h){if(!P||typeof P!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${P}`);A+=`
- ${P}`}E+=A}return`${_}
${E}`}class mt extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class ju extends mt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function HD({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new mt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new mt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new mt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new mt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new mt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new mt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new mt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new mt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(CE(l)){if(i.rp.id!==l)return new mt({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new mt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new mt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function GD({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new mt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new mt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(CE(n)){if(r.rpId!==n)return new mt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new mt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class YD{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const XD=new YD;function JD(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=Ps(e,["challenge","user","excludeCredentials"]),i=cs(t).buffer,l=Object.assign(Object.assign({},r),{id:cs(r.id).buffer}),c=Object.assign(Object.assign({},a),{challenge:i,user:l});if(n&&n.length>0){c.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const h=n[d];c.excludeCredentials[d]=Object.assign(Object.assign({},h),{id:cs(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return c}function QD(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Ps(e,["challenge","allowCredentials"]),a=cs(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];i.allowCredentials[l]=Object.assign(Object.assign({},c),{id:cs(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return i}function ZD(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:li(new Uint8Array(e.response.attestationObject)),clientDataJSON:li(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function eM(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:li(new Uint8Array(a.authenticatorData)),clientDataJSON:li(new Uint8Array(a.clientDataJSON)),signature:li(new Uint8Array(a.signature)),userHandle:a.userHandle?li(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function CE(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function fj(){var e,t;return!!(Ht()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function tM(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ju("Browser returned unexpected credential type",t)}:{data:null,error:new ju("Empty credential response",t)}}catch(t){return{data:null,error:HD({error:t,options:e})}}}async function rM(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ju("Browser returned unexpected credential type",t)}:{data:null,error:new ju("Empty credential response",t)}}catch(t){return{data:null,error:GD({error:t,options:e})}}}const nM={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},aM={userVerification:"preferred",hints:["security-key"]};function _u(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const l=a[i];if(l!==void 0)if(Array.isArray(l))n[i]=l;else if(r(l))n[i]=l;else if(t(l)){const c=n[i];t(c)?n[i]=_u(c,l):n[i]=_u(l)}else n[i]=l}return n}function iM(e,t){return _u(nM,e,t||{})}function sM(e,t){return _u(aM,e,t||{})}class oM{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:c};const d=a??XD.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:h}=l.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${n}`),h.displayName||(h.displayName=h.name)}switch(l.webauthn.type){case"create":{const h=iM(l.webauthn.credential_options.publicKey,i?.create),{data:p,error:m}=await tM({publicKey:h,signal:d});return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}case"request":{const h=sM(l.webauthn.credential_options.publicKey,i?.request),{data:p,error:m}=await rM(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:h,signal:d}));return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}}}catch(l){return ve(l)?{data:null,error:l}:{data:null,error:new oi("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}},i){if(!r)return{data:null,error:new Zo("rpId is required for WebAuthn authentication")};try{if(!fj())return{data:null,error:new oi("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!l)return{data:null,error:c};const{webauthn:d}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:n,credential_response:d.credential_response}})}catch(l){return ve(l)?{data:null,error:l}:{data:null,error:new oi("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a},i){if(!r)return{data:null,error:new Zo("rpId is required for WebAuthn registration")};try{if(!fj())return{data:null,error:new oi("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(p=>{var m;return(m=p.data)===null||m===void 0?void 0:m.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:c};const{data:d,error:h}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:h}}catch(l){return ve(l)?{data:null,error:l}:{data:null,error:new oi("Unexpected error in register",l)}}}}qD();const lM={url:aD,storageKey:iD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:sD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function hj(e,t,r){return await r()}const ns={};class el{get jwks(){var t,r;return(r=(t=ns[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){ns[this.storageKey]=Object.assign(Object.assign({},ns[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=ns[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ns[this.storageKey]=Object.assign(Object.assign({},ns[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},lM),t);if(this.storageKey=i.storageKey,this.instanceID=(r=el.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,el.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Ht()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new FD({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=NE(i.fetch),this.lock=i.lock||hj,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:Ht()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=zD:this.lock=hj,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new oM(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:PE()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=dj(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=dj(this.memoryStorage)),Ht()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${kE}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Ht()&&(r=bD(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Ht()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),fD(i)){const d=(t=i.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:l,redirectType:c}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ve(r)?this._returnResult({error:r}):this._returnResult({error:new oi("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:tn}),{data:l,error:c}=i;if(c||!l)return this._returnResult({data:{user:null,session:null},error:c});const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(i){if(ve(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:p,password:m,options:v}=t;let y=null,j=null;this.flowType==="pkce"&&([y,j]=await es(this.storage,this.storageKey)),i=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:p,password:m,data:(r=v?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:y,code_challenge_method:j},xform:tn})}else if("phone"in t){const{phone:p,password:m,options:v}=t;i=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:m,data:(n=v?.data)!==null&&n!==void 0?n:{},channel:(a=v?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:tn})}else throw new Jc("You must provide either an email or phone number and a password");const{data:l,error:c}=i;if(c||!l)return this._returnResult({data:{user:null,session:null},error:c});const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(i){if(ve(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:l,options:c}=t;r=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:cj})}else if("phone"in t){const{phone:i,password:l,options:c}=t;r=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:cj})}else throw new Jc("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new Zi;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(ve(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,l,c,d,h,p,m,v;let y,j;if("message"in t)y=t.message,j=t.signature;else{const{chain:w,wallet:_,statement:E,options:A}=t;let P;if(Ht())if(typeof _=="object")P=_;else{const z=window;if("ethereum"in z&&typeof z.ethereum=="object"&&"request"in z.ethereum&&typeof z.ethereum.request=="function")P=z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=_}const C=new URL((r=A?.url)!==null&&r!==void 0?r:window.location.href),N=await P.request({method:"eth_requestAccounts"}).then(z=>z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=AE(N[0]);let T=(n=A?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!T){const z=await P.request({method:"eth_chainId"});T=WD(z)}const M={domain:C.host,address:S,statement:E,uri:C.href,version:"1",chainId:T,nonce:(a=A?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(l=(i=A?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(c=A?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(d=A?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(h=A?.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(p=A?.signInWithEthereum)===null||p===void 0?void 0:p.resources};y=VD(M),j=await P.request({method:"personal_sign",params:[KD(y),S]})}try{const{data:w,error:_}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:j},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:tn});if(_)throw _;if(!w||!w.session||!w.user){const E=new Zi;return this._returnResult({data:{user:null,session:null},error:E})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:_})}catch(w){if(ve(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(t){var r,n,a,i,l,c,d,h,p,m,v,y;let j,w;if("message"in t)j=t.message,w=t.signature;else{const{chain:_,wallet:E,statement:A,options:P}=t;let C;if(Ht())if(typeof E=="object")C=E;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))C=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=E}const N=new URL((r=P?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in C&&C.signIn){const S=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P?.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),A?{statement:A}:null));let T;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")T=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)T=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)j=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),w=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${N.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(a=(n=P?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=P?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((l=P?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((c=P?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((d=P?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((h=P?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((m=(p=P?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||m===void 0)&&m.length?["Resources",...P.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const S=await C.signMessage(new TextEncoder().encode(j),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=S}}try{const{data:_,error:E}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:li(w)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:tn});if(E)throw E;if(!_||!_.session||!_.user){const A=new Zi;return this._returnResult({data:{user:null,session:null},error:A})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:E})}catch(_){if(ve(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const r=await ti(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:l}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:tn});if(await _a(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!i||!i.session||!i.user){const c=new Zi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:l})}catch(i){if(ve(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:l}=t,c=await _e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:l,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:tn}),{data:d,error:h}=c;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d||!d.session||!d.user){const p=new Zi;return this._returnResult({data:{user:null,session:null},error:p})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:h})}catch(r){if(ve(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,i,l;try{if("email"in t){const{email:c,options:d}=t;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await es(this.storage,this.storageKey));const{error:m}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=d?.data)!==null&&r!==void 0?r:{},create_user:(n=d?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in t){const{phone:c,options:d}=t,{data:h,error:p}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(a=d?.data)!==null&&a!==void 0?a:{},create_user:(i=d?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(l=d?.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:p})}throw new Jc("You must provide either an email or phone number.")}catch(c){if(ve(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:c}=await _e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:tn});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,h=l.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(a){if(ve(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,l=null;this.flowType==="pkce"&&([i,l]=await es(this.storage,this.storageKey));const c=await _e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:l}),headers:this.headers,xform:LD});return this._returnResult(c)}catch(i){if(ve(i))return this._returnResult({data:null,error:i});throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new en;const{error:a}=await _e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(ve(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:l}=await _e(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:l,error:c}=await _e(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l?.message_id},error:c})}throw new Jc("You must provide either an email or phone number and a type")}catch(r){if(ve(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ti(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<hp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const l=await ti(this.userStorage,this.storageKey+"-user");l?.user?t.user=l.user:t.user=gp()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=RD(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ea}):await this._useSession(async r=>{var n,a,i;const{data:l,error:c}=r;if(c)throw c;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new en}:await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Ea})})}catch(r){if(ve(r))return dD(r)&&(await this._removeSession(),await _a(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new en;const l=a.session;let c=null,d=null;this.flowType==="pkce"&&t.email!=null&&([c,d]=await es(this.storage,this.storageKey));const{data:h,error:p}=await _e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:d}),jwt:l.access_token,xform:Ea});if(p)throw p;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(n){if(ve(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new en;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:l}=mp(t.access_token);if(l.exp&&(n=l.exp,a=n<=r),a){const{data:c,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c)return{data:{user:null,session:null},error:null};i=c}else{const{data:c,error:d}=await this._getUser(t.access_token);if(d)throw d;i={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(ve(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:c}=r;if(c)throw c;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new en;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ve(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Ht())throw new Qc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Qc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new rj("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new rj("No code detected.");const{data:A,error:P}=await this._exchangeCodeForSession(t.code);if(P)throw P;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:l,expires_in:c,expires_at:d,token_type:h}=t;if(!i||!c||!l||!h)throw new Qc("No session defined in URL");const p=Math.round(Date.now()/1e3),m=parseInt(c);let v=p+m;d&&(v=parseInt(d));const y=v-p;y*1e3<=ss&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${m}s`);const j=v-m;p-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,v,p):p-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,v,p);const{data:w,error:_}=await this._getUser(i);if(_)throw _;const E={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:m,expires_at:v,refresh_token:l,token_type:h,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:E,redirectType:t.type},error:null})}catch(n){if(ve(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ti(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({error:i});const l=(n=a.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:c}=await this.admin.signOut(l,t);if(c&&!(uD(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return t!=="others"&&(await this._removeSession(),await _a(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=xD(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await es(this.storage,this.storageKey,!0));try{return await _e(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(ve(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(ve(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var l,c,d,h,p;const{data:m,error:v}=i;if(v)throw v;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await _e(this.fetch,"GET",y,{headers:this.headers,jwt:(p=(h=m.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(a)throw a;return Ht()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:t.provider,url:n?.url},error:null})}catch(n){if(ve(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:l,provider:c,token:d,access_token:h,nonce:p}=t,m=await _e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:c,id_token:d,access_token:h,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:tn}),{data:v,error:y}=m;return y?this._returnResult({data:{user:null,session:null},error:y}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new Zi}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:y}))}catch(a){if(ve(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:l}=r;if(l)throw l;return await _e(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(ve(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await _D(async a=>(a>0&&await jD(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await _e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:tn})),(a,i)=>{const l=200*Math.pow(2,a);return i&&pp(i)&&Date.now()+l-n<ss})}catch(n){if(this._debug(r,"error",n),ve(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ht()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await ti(this.storage,this.storageKey);if(a&&this.userStorage){let l=await ti(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:a.user},await os(this.userStorage,this.storageKey+"-user",l)),a.user=(t=l?.user)!==null&&t!==void 0?t:gp()}else if(a&&!a.user&&!a.user){const l=await ti(this.storage,this.storageKey+"-user");l&&l?.user?(a.user=l.user,await _a(this.storage,this.storageKey+"-user"),await os(this.storage,this.storageKey,a)):a.user=gp()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<hp;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${hp}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:l}=await this._callRefreshToken(a.refresh_token);l&&(console.error(l),pp(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(a.access_token);!c&&l?.user?(a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new en;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new gd;const{data:i,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!i.session)throw new en;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const c={data:i.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(i){if(this._debug(a,"error",i),ve(i)){const l={data:null,error:i};return pp(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,r)}catch(d){i.push(d)}});if(await Promise.all(l),i.length>0){for(let c=0;c<i.length;c+=1)console.error(i[c]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await os(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=oj(a);await os(this.storage,this.storageKey,i)}else{const a=oj(r);await os(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await _a(this.storage,this.storageKey),await _a(this.storage,this.storageKey+"-code-verifier"),await _a(this.storage,this.storageKey+"-user"),this.userStorage&&await _a(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ht()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ss);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/ss);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${ss}ms, refresh threshold is ${og} ticks`),a<=og&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof OE)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ht()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,l]=await es(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(c.toString())}if(n?.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n?.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await _e(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ve(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:l}=r;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:h}=await _e(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(t.factorType==="totp"&&d.type==="totp"&&(!((a=d?.totp)===null||a===void 0)&&a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(r){if(ve(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?ZD(t.webauthn.credential_response):eM(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:d}=await _e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:d}))})}catch(r){if(ve(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const l=await _e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});if(l.error)return l;const{data:c}=l;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:JD(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:QD(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ve(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r?.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=mp(n.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const h=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await _e(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new en})})}catch(r){if(ve(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new en});const l=await _e(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&Ht()&&!r?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(n){if(ve(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new en});const l=await _e(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&Ht()&&!r?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(n){if(ve(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(c=>c.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(c=>c.kid===t),n&&this.jwks_cached_at+lD>a)return n;const{data:i,error:l}=await _e(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(c=>c.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:y,error:j}=await this.getSession();if(j||!y.session)return this._returnResult({data:null,error:j});n=y.session.access_token}const{header:a,payload:i,signature:l,raw:{header:c,payload:d}}=mp(n);r?.allowExpired||AD(i.exp);const h=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!h){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:a,signature:l},error:null}}const p=CD(a.alg),m=await crypto.subtle.importKey("jwk",h,p,!0,["verify"]);if(!await crypto.subtle.verify(p,m,l,vD(`${c}.${d}`)))throw new ug("Invalid JWT signature");return{data:{claims:i,header:a,signature:l},error:null}}catch(n){if(ve(n))return this._returnResult({data:null,error:n});throw n}}}el.nextInstanceID={};const cM=el;class uM extends cM{constructor(t){super(t)}}class dM{constructor(t,r,n){var a,i,l;this.supabaseUrl=t,this.supabaseKey=r;const c=nD(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,h={db:YI,realtime:JI,auth:Object.assign(Object.assign({},XI),{storageKey:d}),global:GI},p=rD(n??{},h);this.storageKey=(a=p.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=p.global.headers)!==null&&i!==void 0?i:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(m,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=p.auth)!==null&&l!==void 0?l:{},this.headers,p.global.fetch),this.fetch=eD(r,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new aI(new URL("rest/v1",c).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new KI(this.storageUrl.href,this.headers,this.fetch,n?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new eI(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:l,flowType:c,lock:d,debug:h,throwOnError:p},m,v){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new uM({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),m),storageKey:l,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:c,lock:d,debug:h,throwOnError:p,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(j=>j.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new wI(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const fM=(e,t,r)=>new dM(e,t,r);function hM(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}hM()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const pM="https://aztjjcxaoqtchvvzgbpd.supabase.co",mM="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF6dGpqY3hhb3F0Y2h2dnpnYnBkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE4MjI4ODAsImV4cCI6MjA3NzM5ODg4MH0.3qZBjYJKfpx9_3BoawBMs0948sfh-5ca2_XnOGxEMco",ie=fM(pM,mM,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),TE=x.createContext({session:null,loading:!0,signOut:async()=>{}});function gM({children:e}){const[t,r]=x.useState(null),[n,a]=x.useState(!0);x.useEffect(()=>{ie.auth.getSession().then(({data:{session:c}})=>{r(c),a(!1)});const{data:{subscription:l}}=ie.auth.onAuthStateChange((c,d)=>{r(d),a(!1)});return()=>l.unsubscribe()},[]);const i=async()=>{await ie.auth.signOut()};return u.jsx(TE.Provider,{value:{session:t,loading:n,signOut:i},children:e})}function Jt(){const e=x.useContext(TE);if(e===void 0)throw new Error("useSession must be used within a SessionProvider");return e}const RE=x.createContext({isDark:!1,toggleTheme:()=>{}});function vM({children:e}){const[t,r]=x.useState(()=>{const a=localStorage.getItem("theme");return a?a==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches});x.useEffect(()=>{const a=window.document.documentElement;t?(a.classList.add("dark"),localStorage.setItem("theme","dark")):(a.classList.remove("dark"),localStorage.setItem("theme","light"))},[t]);const n=()=>{r(!t)};return u.jsx(RE.Provider,{value:{isDark:t,toggleTheme:n},children:e})}function yM(){const e=x.useContext(RE);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}var xM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const bM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Pe=(e,t)=>{const r=x.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:c="",children:d,...h},p)=>x.createElement("svg",{ref:p,...xM,width:a,height:a,stroke:n,strokeWidth:l?Number(i)*24/Number(a):i,className:["lucide",`lucide-${bM(e)}`,c].join(" "),...h},[...t.map(([m,v])=>x.createElement(m,v)),...Array.isArray(d)?d:[d]]));return r.displayName=`${e}`,r};const wM=Pe("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);const vd=Pe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const jM=Pe("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);const Kn=Pe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const pr=Pe("Bus",[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]]);const ku=Pe("CalendarRange",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]]);const vn=Pe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const pj=Pe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const mj=Pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const gj=Pe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const mr=Pe("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const fr=Pe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const yn=Pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const tl=Pe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const IE=Pe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const DE=Pe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);const ME=Pe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const LE=Pe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const yd=Pe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);const _M=Pe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);const $E=Pe("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);const dg=Pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const kM=Pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const Os=Pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const xn=Pe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const SM=Pe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const vj=Pe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const yj=Pe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const kv=Pe("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);const xd=Pe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const BE=Pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const EM=Pe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const PM=Pe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const bn=Pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const us=Pe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const NM=Pe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);const Aa=Pe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);const xj=Pe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const OM=Pe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);const Sv=Pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const AM=Pe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const on=Pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const ms=Pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const Ev=Pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function CM(){const[e,t]=x.useState(!1),[r,n]=x.useState(!1),[a,i]=x.useState(!1),[l,c]=x.useState(!1),{session:d,signOut:h}=Jt(),{isDark:p,toggleTheme:m}=yM(),v=En();x.useEffect(()=>{y()},[d]);const y=async()=>{if(!d?.user?.id){i(!1),c(!1);return}const{data:w}=await ie.from("profiles").select("admin, compagnie_id").eq("id",d.user.id).single();i(w?.admin===!0),c(w?.compagnie_id!==null)},j=async()=>{await h(),v("/login")};return u.jsx("nav",{className:"bg-white dark:bg-gray-800 shadow-md sticky top-0 z-50",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"flex justify-between items-center h-16",children:[u.jsxs(ke,{to:"/",className:"flex items-center space-x-2",children:[u.jsx("div",{className:"bg-primary p-2 rounded-lg",children:u.jsx(pr,{className:"h-6 w-6 text-white"})}),u.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Bus Bnin"})]}),u.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[u.jsx(ke,{to:"/",className:"text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-primary transition-colors font-medium",children:"Accueil"}),u.jsx(ke,{to:"/trajets",className:"text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-primary transition-colors font-medium",children:"Trajets"}),u.jsx(ke,{to:"/compagnies",className:"text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-primary transition-colors font-medium",children:"Compagnies"}),u.jsx("button",{onClick:m,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Toggle theme",children:p?u.jsx(xj,{className:"h-5 w-5 text-gray-300"}):u.jsx(yj,{className:"h-5 w-5 text-gray-700"})}),d?u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>n(!r),className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[u.jsx(on,{className:"h-5 w-5 text-gray-700 dark:text-gray-300"}),u.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Mon compte"})]}),r&&u.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg py-2 border border-gray-200 dark:border-gray-700",children:[u.jsxs(ke,{to:"/profile",className:"flex items-center space-x-2 px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>n(!1),children:[u.jsx(on,{className:"h-4 w-4"}),u.jsx("span",{className:"text-sm",children:"Profil"})]}),u.jsxs(ke,{to:"/reservations",className:"flex items-center space-x-2 px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>n(!1),children:[u.jsx(vn,{className:"h-4 w-4"}),u.jsx("span",{className:"text-sm",children:"Mes rservations"})]}),u.jsxs(ke,{to:"/favorites",className:"flex items-center space-x-2 px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>n(!1),children:[u.jsx(yd,{className:"h-4 w-4"}),u.jsx("span",{className:"text-sm",children:"Favoris"})]}),(a||l)&&u.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-2"}),a&&u.jsxs(ke,{to:"/admin",className:"flex items-center space-x-2 px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-error",onClick:()=>n(!1),children:[u.jsx(us,{className:"h-4 w-4"}),u.jsx("span",{className:"text-sm font-semibold",children:"Admin"})]}),l&&u.jsxs(ke,{to:"/compagnie",className:"flex items-center space-x-2 px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-warning",onClick:()=>n(!1),children:[u.jsx(Kn,{className:"h-4 w-4"}),u.jsx("span",{className:"text-sm font-semibold",children:"Ma Compagnie"})]}),u.jsxs("button",{onClick:j,className:"flex items-center space-x-2 px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 w-full text-left text-red-600",children:[u.jsx(kM,{className:"h-4 w-4"}),u.jsx("span",{className:"text-sm",children:"Dconnexion"})]})]})]}):u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(ke,{to:"/login",className:"text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-primary transition-colors font-medium",children:"Connexion"}),u.jsx(ke,{to:"/register",className:"btn-primary",children:"S'inscrire"})]})]}),u.jsx("button",{onClick:()=>t(!e),className:"md:hidden p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:e?u.jsx(Ev,{className:"h-6 w-6 text-gray-700 dark:text-gray-300"}):u.jsx(SM,{className:"h-6 w-6 text-gray-700 dark:text-gray-300"})})]}),e&&u.jsx("div",{className:"md:hidden py-4 border-t border-gray-200 dark:border-gray-700",children:u.jsxs("div",{className:"flex flex-col space-y-3",children:[u.jsx(ke,{to:"/",className:"text-gray-700 dark:text-gray-300 hover:text-primary px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>t(!1),children:"Accueil"}),u.jsx(ke,{to:"/trajets",className:"text-gray-700 dark:text-gray-300 hover:text-primary px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>t(!1),children:"Trajets"}),u.jsx(ke,{to:"/compagnies",className:"text-gray-700 dark:text-gray-300 hover:text-primary px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>t(!1),children:"Compagnies"}),u.jsxs("div",{className:"flex items-center justify-between px-3 py-2",children:[u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Thme"}),u.jsx("button",{onClick:m,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:p?u.jsx(xj,{className:"h-5 w-5"}):u.jsx(yj,{className:"h-5 w-5"})})]}),d?u.jsxs(u.Fragment,{children:[u.jsx(ke,{to:"/profile",className:"text-gray-700 dark:text-gray-300 hover:text-primary px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>t(!1),children:"Mon profil"}),u.jsx(ke,{to:"/reservations",className:"text-gray-700 dark:text-gray-300 hover:text-primary px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>t(!1),children:"Mes rservations"}),u.jsx(ke,{to:"/favorites",className:"text-gray-700 dark:text-gray-300 hover:text-primary px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>t(!1),children:"Favoris"}),a&&u.jsx(ke,{to:"/admin",className:"text-error hover:text-error-dark px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 font-semibold",onClick:()=>t(!1),children:"Admin"}),l&&u.jsx(ke,{to:"/compagnie",className:"text-warning hover:text-warning-dark px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 font-semibold",onClick:()=>t(!1),children:"Ma Compagnie"}),u.jsx("button",{onClick:j,className:"text-red-600 hover:text-red-700 px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-left",children:"Dconnexion"})]}):u.jsxs(u.Fragment,{children:[u.jsx(ke,{to:"/login",className:"text-gray-700 dark:text-gray-300 hover:text-primary px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>t(!1),children:"Connexion"}),u.jsx(ke,{to:"/register",className:"btn-primary",onClick:()=>t(!1),children:"S'inscrire"})]})]})})]})})}function TM(){return u.jsx("footer",{className:"bg-gray-900 text-gray-300",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[u.jsx("div",{className:"bg-primary p-2 rounded-lg",children:u.jsx(pr,{className:"h-5 w-5 text-white"})}),u.jsx("span",{className:"text-xl font-bold text-white",children:"Bus Bnin"})]}),u.jsx("p",{className:"text-sm text-gray-400",children:"Votre compagnon de voyage pour tous vos dplacements en bus  travers le Bnin."})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-white font-semibold mb-4",children:"Liens rapides"}),u.jsxs("ul",{className:"space-y-2 text-sm",children:[u.jsx("li",{children:u.jsx(ke,{to:"/",className:"hover:text-primary transition-colors",children:"Accueil"})}),u.jsx("li",{children:u.jsx(ke,{to:"/trajets",className:"hover:text-primary transition-colors",children:"Trajets"})}),u.jsx("li",{children:u.jsx(ke,{to:"/login",className:"hover:text-primary transition-colors",children:"Connexion"})}),u.jsx("li",{children:u.jsx(ke,{to:"/register",className:"hover:text-primary transition-colors",children:"S'inscrire"})})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-white font-semibold mb-4",children:"Support"}),u.jsxs("ul",{className:"space-y-2 text-sm",children:[u.jsx("li",{children:u.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:"Centre d'aide"})}),u.jsx("li",{children:u.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:"Conditions gnrales"})}),u.jsx("li",{children:u.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:"Politique de confidentialit"})}),u.jsx("li",{children:u.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:"FAQ"})})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-white font-semibold mb-4",children:"Contact"}),u.jsxs("ul",{className:"space-y-3 text-sm",children:[u.jsxs("li",{className:"flex items-center space-x-2",children:[u.jsx(Os,{className:"h-4 w-4"}),u.jsx("span",{children:"contact@busbenin.com"})]}),u.jsxs("li",{className:"flex items-center space-x-2",children:[u.jsx(xd,{className:"h-4 w-4"}),u.jsx("span",{children:"+229 XX XX XX XX"})]}),u.jsxs("li",{className:"flex items-center space-x-2",children:[u.jsx(xn,{className:"h-4 w-4"}),u.jsx("span",{children:"Cotonou, Bnin"})]})]})]})]}),u.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-sm text-center text-gray-400",children:u.jsxs("p",{children:[" ",new Date().getFullYear()," Bus Bnin. Tous droits rservs."]})})]})})}function RM(){return u.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col",children:[u.jsx(CM,{}),u.jsx("main",{className:"flex-1",children:u.jsx(DR,{})}),u.jsx(TM,{})]})}function To({children:e}){const{session:t,loading:r}=Jt(),[n,a]=x.useState(!1),[i,l]=x.useState(!0);x.useEffect(()=>{c()},[t]);const c=async()=>{if(!t?.user?.id){l(!1);return}try{const{data:d,error:h}=await ie.from("profiles").select("admin").eq("id",t.user.id).single();if(h)throw h;a(d?.admin===!0)}catch(d){console.error("Error checking admin status:",d),a(!1)}finally{l(!1)}};return r||i?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t?n?e:u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Accs refus"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Vous n'avez pas les permissions ncessaires pour accder  cette page."}),u.jsx(Jo,{to:"/",replace:!0})]})}):u.jsx(Jo,{to:"/login",replace:!0})}function yp({children:e}){const{session:t,loading:r}=Jt(),[n,a]=x.useState(!1),[i,l]=x.useState(!0);x.useEffect(()=>{c()},[t]);const c=async()=>{if(!t?.user?.id){l(!1);return}try{const{data:d,error:h}=await ie.from("profiles").select("compagnie_id, admin").eq("id",t.user.id).single();if(h)throw h;a(d?.admin===!0||d?.compagnie_id!==null)}catch(d){console.error("Error checking compagnie status:",d),a(!1)}finally{l(!1)}};return r||i?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t?n?e:u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Accs refus"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Vous devez tre assign  une compagnie pour accder  cette page."}),u.jsx(Jo,{to:"/",replace:!0})]})}):u.jsx(Jo,{to:"/login",replace:!0})}function Pv({trajet:e,isFavorite:t,onFavoriteToggle:r}){const{session:n}=Jt(),[a,i]=x.useState(!1),l=async c=>{if(c.preventDefault(),c.stopPropagation(),!!n){i(!0);try{t?await ie.from("favoris").delete().eq("user_id",n.user.id).eq("trajet_id",e.id):await ie.from("favoris").insert({user_id:n.user.id,trajet_id:e.id}),r?.()}catch(d){console.error("Error toggling favorite:",d)}finally{i(!1)}}};return u.jsxs("div",{className:"card hover:shadow-xl transition-shadow duration-200",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:[e.depart,"  ",e.arrivee]}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.compagnie}),u.jsxs("div",{className:"flex items-center space-x-1 mt-2",children:[u.jsx(Aa,{className:"h-4 w-4 text-warning fill-warning"}),u.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.note||"N/A"}),e.nb_avis>0&&u.jsxs("span",{className:"text-xs text-gray-500",children:["(",e.nb_avis," avis)"]})]})]}),u.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[n&&u.jsx("button",{onClick:l,disabled:a,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:u.jsx(yd,{className:`h-5 w-5 ${t?"text-red-500 fill-red-500":"text-gray-400"}`})}),u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:"text-2xl font-bold text-primary",children:e.prix}),u.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 ml-1",children:"FCFA"})]})]})]}),u.jsxs("div",{className:"flex items-center space-x-2 mb-4 text-sm text-gray-600 dark:text-gray-400",children:[u.jsx(yn,{className:"h-4 w-4"}),u.jsx("span",{children:e.horaires?.join(", ")||"Horaires non disponibles"})]}),u.jsxs("div",{className:"flex space-x-3",children:[u.jsx(ke,{to:`/trajet/${e.id}`,className:"flex-1 btn-outline text-center",children:"Voir dtails"}),u.jsxs(ke,{to:`/reservation/${e.id}`,className:"flex-1 btn-primary flex items-center justify-center space-x-2",children:[u.jsx("span",{children:"Rserver"}),u.jsx(vd,{className:"h-4 w-4"})]})]})]})}function IM(){const e=En(),{session:t}=Jt(),[r,n]=x.useState(""),[a,i]=x.useState(""),[l,c]=x.useState([]),[d,h]=x.useState([]),[p,m]=x.useState([]),[v,y]=x.useState([]),[j,w]=x.useState(new Set),[_,E]=x.useState(!0),[A,P]=x.useState(0),[C,N]=x.useState(0);x.useEffect(()=>{S()},[t]);const S=async()=>{E(!0);try{await Promise.all([T(),M(),z(),W(),t&&V()])}finally{E(!1)}},T=async()=>{const{data:G}=await ie.from("destinations").select("id, nom").order("nom",{ascending:!0});c(G||[])},M=async()=>{const{data:G}=await ie.from("trajets").select("id, depart, arrivee, prix, note, nb_avis, horaires, compagnies:compagnie_id(nom)").order("note",{ascending:!1}).order("nb_avis",{ascending:!1}).limit(3),le=(G||[]).map(re=>({...re,compagnie:re?.compagnies?.nom}));h(le)},z=async()=>{const{data:G}=await ie.from("compagnies").select("id, nom, logo_url, trajets(note, nb_avis)").order("nom",{ascending:!0}).limit(10),le=(G||[]).map(H=>{const ae=H.trajets||[];let ne=0,L=0;ae.forEach(ye=>{ye.note&&ye.nb_avis&&(ne+=ye.note*ye.nb_avis,L+=ye.nb_avis)});const K=L>0?(ne/L).toFixed(1):null;return{id:H.id,nom:H.nom,logo_url:H.logo_url,note:K}}),re=le.filter(H=>H.note!==null).sort((H,ae)=>parseFloat(ae.note)-parseFloat(H.note)).slice(0,5);if(re.length<5){const H=le.filter(ae=>ae.note===null).slice(0,5-re.length);re.push(...H)}m(re)},W=async()=>{const{data:G}=await ie.from("trajets").select("id, depart, arrivee, prix, note, compagnies:compagnie_id(nom)").order("prix",{ascending:!0}).limit(3),le=(G||[]).map(re=>({...re,compagnie:re?.compagnies?.nom}));y(le)},V=async()=>{if(!t?.user?.id)return;const{data:G}=await ie.from("favoris").select("trajet_id").eq("user_id",t.user.id);w(new Set((G||[]).map(le=>le.trajet_id)))},Y=()=>{const G=new URLSearchParams;r&&G.set("depart",r),a&&G.set("arrivee",a),e(`/trajets${G.toString()?"?"+G.toString():""}`)},Z=G=>{const le=document.getElementById("destinations-container");if(!le)return;const re=300,H=G==="left"?Math.max(0,A-re):Math.min(le.scrollWidth-le.clientWidth,A+re);le.scrollTo({left:H,behavior:"smooth"}),P(H)},se=G=>{const le=document.getElementById("companies-container");if(!le)return;const re=300,H=G==="left"?Math.max(0,C-re):Math.min(le.scrollWidth-le.clientWidth,C+re);le.scrollTo({left:H,behavior:"smooth"}),N(H)};return u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900",children:[u.jsx("section",{className:"bg-gradient-to-br from-primary to-blue-700 text-white py-20",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Bus Bnin"}),u.jsx("p",{className:"text-xl text-blue-100",children:"Trouvez et rservez facilement vos trajets en bus  travers le Bnin"})]}),u.jsxs("div",{className:"max-w-3xl mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-8",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[u.jsx("div",{className:"p-2 bg-primary-light rounded-lg",children:u.jsx(bn,{className:"h-6 w-6 text-primary"})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Rechercher un trajet"})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Dpart"}),u.jsxs("div",{className:"relative",children:[u.jsx(xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"text",value:r,onChange:G=>n(G.target.value),placeholder:"Ville de dpart",className:"text-gray-400 input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Arrive"}),u.jsxs("div",{className:"relative",children:[u.jsx(xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsx("input",{id:"arrivee",type:"text",value:a,onChange:G=>i(G.target.value),placeholder:"Ville d'arrive",className:"text-gray-400 input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]})]}),u.jsxs("button",{onClick:Y,className:"w-full btn-primary flex items-center justify-center space-x-2",children:[u.jsx(bn,{className:"h-5 w-5"}),u.jsx("span",{children:"Rechercher des trajets"}),u.jsx(vd,{className:"h-5 w-5"})]})]})]})}),u.jsxs("section",{className:"page-container",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[u.jsx("div",{className:"p-2 bg-secondary-light rounded-lg",children:u.jsx(AM,{className:"h-6 w-6 text-primary"})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Destinations populaires"})]}),u.jsxs("div",{className:"relative group",children:[u.jsx("button",{onClick:()=>Z("left"),className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 p-2 bg-white dark:bg-gray-800 rounded-full shadow-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-all opacity-0 group-hover:opacity-100","aria-label":"Dfiler  gauche",children:u.jsx(pj,{className:"h-6 w-6 text-gray-700 dark:text-gray-300"})}),u.jsx("div",{id:"destinations-container",className:"flex overflow-x-hidden gap-3 pb-4 scroll-smooth",children:l.map(G=>u.jsx("button",{onClick:()=>{r?!a&&G.nom!==r&&i(G.nom):n(G.nom)},className:`px-6 py-3 rounded-full font-semibold whitespace-nowrap transition-all ${r===G.nom||a===G.nom?"bg-primary text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"} border-2 ${r===G.nom||a===G.nom?"border-primary":"border-gray-200 dark:border-gray-700"}`,children:G.nom},G.id))}),u.jsx("button",{onClick:()=>Z("right"),className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 p-2 bg-white dark:bg-gray-800 rounded-full shadow-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-all opacity-0 group-hover:opacity-100","aria-label":"Dfiler  droite",children:u.jsx(mj,{className:"h-6 w-6 text-gray-700 dark:text-gray-300"})})]})]}),u.jsxs("section",{className:"page-container",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"p-2 bg-warning-light rounded-lg",children:u.jsx(Aa,{className:"h-6 w-6 text-warning fill-warning"})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Trajets populaires"})]}),u.jsxs("span",{className:"px-4 py-1.5 bg-primary-light text-primary rounded-full text-sm font-semibold",children:["Top ",d.length]})]}),_?u.jsx("div",{className:"text-center py-12",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"})}):u.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(G=>u.jsx(Pv,{trajet:G,isFavorite:j.has(G.id),onFavoriteToggle:V},G.id))})]}),u.jsxs("section",{className:"page-container",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[u.jsx("div",{className:"p-2 bg-secondary-light rounded-lg",children:u.jsx(jM,{className:"h-6 w-6 text-primary"})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Compagnies recommandes"})]}),u.jsxs("div",{className:"relative group",children:[u.jsx("button",{onClick:()=>se("left"),className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 p-2 bg-white dark:bg-gray-800 rounded-full shadow-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-all opacity-0 group-hover:opacity-100","aria-label":"Dfiler  gauche",children:u.jsx(pj,{className:"h-6 w-6 text-gray-700 dark:text-gray-300"})}),u.jsx("div",{id:"companies-container",className:"flex overflow-x-hidden gap-4 pb-4 scroll-smooth",children:p.map(G=>u.jsxs("button",{onClick:()=>e(`/trajets?compagnie=${G.nom}`),className:"card hover:shadow-lg transition-shadow text-center flex-shrink-0 w-40",children:[u.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-primary-light rounded-xl flex items-center justify-center overflow-hidden",children:G.logo_url?u.jsx("img",{src:G.logo_url,alt:G.nom,className:"w-full h-full object-cover"}):u.jsx(Kn,{className:"h-8 w-8 text-primary"})}),u.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-2 truncate",children:G.nom}),G.note&&u.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[u.jsx(Aa,{className:"h-4 w-4 text-warning fill-warning"}),u.jsx("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:G.note})]})]},G.id))}),u.jsx("button",{onClick:()=>se("right"),className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 p-2 bg-white dark:bg-gray-800 rounded-full shadow-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-all opacity-0 group-hover:opacity-100","aria-label":"Dfiler  droite",children:u.jsx(mj,{className:"h-6 w-6 text-gray-700 dark:text-gray-300"})})]})]}),u.jsxs("section",{className:"page-container pb-16",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"p-2 bg-success-light rounded-lg",children:u.jsx(OM,{className:"h-6 w-6 text-success"})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Offres spciales"})]}),u.jsx("span",{className:"px-4 py-1.5 bg-success-light text-success rounded-full text-sm font-semibold",children:"Prix bas"})]}),u.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(G=>u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute -top-2 -right-2 z-10 bg-success text-white px-3 py-1 rounded-full text-xs font-bold shadow-lg",children:"PROMO"}),u.jsxs("div",{className:"card border-2 border-success hover:shadow-xl transition-shadow",children:[u.jsxs("div",{className:"mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:[G.depart,"  ",G.arrivee]}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:G.compagnie}),u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx(Aa,{className:"h-4 w-4 text-warning fill-warning"}),u.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:G.note||"N/A"})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-2xl font-bold text-success",children:G.prix}),u.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 ml-1",children:"FCFA"})]}),u.jsx("button",{onClick:()=>e(`/trajet/${G.id}`),className:"btn-primary",children:"Voir"})]})]})]},G.id))})]})]})}function DM(){const[e,t]=BS(),{session:r}=Jt(),[n,a]=x.useState([]),[i,l]=x.useState(new Set),[c,d]=x.useState(!0),[h,p]=x.useState(!1),[m,v]=x.useState({depart:e.get("depart")||"",arrivee:e.get("arrivee")||"",compagnie:e.get("compagnie")||"",prixMax:""});x.useEffect(()=>{y(),r&&j()},[m,r]);const y=async()=>{d(!0);try{let E=ie.from("trajets").select("id, depart, arrivee, prix, note, nb_avis, horaires, compagnies:compagnie_id(nom)").order("note",{ascending:!1});m.depart&&(E=E.ilike("depart",`%${m.depart}%`)),m.arrivee&&(E=E.ilike("arrivee",`%${m.arrivee}%`)),m.prixMax&&(E=E.lte("prix",parseFloat(m.prixMax)));const{data:A,error:P}=await E;if(P)throw P;let C=(A||[]).map(N=>({...N,compagnie:N?.compagnies?.nom}));m.compagnie&&(C=C.filter(N=>N.compagnie?.toLowerCase().includes(m.compagnie.toLowerCase()))),a(C)}catch(E){console.error("Error loading trajets:",E),a([])}finally{d(!1)}},j=async()=>{if(!r?.user?.id)return;const{data:E}=await ie.from("favoris").select("trajet_id").eq("user_id",r.user.id);l(new Set((E||[]).map(A=>A.trajet_id)))},w=(E,A)=>{const P={...m,[E]:A};v(P);const C=new URLSearchParams;Object.entries(P).forEach(([N,S])=>{S&&C.set(N,S)}),t(C)},_=()=>{v({depart:"",arrivee:"",compagnie:"",prixMax:""}),t(new URLSearchParams)};return u.jsxs("div",{className:"page-container min-h-screen",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Rechercher des trajets"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Trouvez le trajet parfait pour votre voyage"})]}),u.jsxs("div",{className:"card mb-8",children:[u.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Dpart"}),u.jsxs("div",{className:"relative",children:[u.jsx(xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"text",value:m.depart,onChange:E=>w("depart",E.target.value),placeholder:"Ville de dpart",className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Arrive"}),u.jsxs("div",{className:"relative",children:[u.jsx(xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"text",value:m.arrivee,onChange:E=>w("arrivee",E.target.value),placeholder:"Ville d'arrive",className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Compagnie"}),u.jsx("input",{type:"text",value:m.compagnie,onChange:E=>w("compagnie",E.target.value),placeholder:"Nom de la compagnie",className:"input-field dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Prix maximum"}),u.jsx("input",{type:"number",value:m.prixMax,onChange:E=>w("prixMax",E.target.value),placeholder:"Prix max (FCFA)",className:"input-field dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("button",{onClick:_,className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:[u.jsx(Ev,{className:"h-4 w-4"}),u.jsx("span",{children:"Effacer les filtres"})]}),u.jsxs("div",{className:"text-sm font-semibold text-primary",children:[n.length," rsultat",n.length>1?"s":""]})]})]}),c?u.jsxs("div",{className:"text-center py-20",children:[u.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary mx-auto"}),u.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Chargement des trajets..."})]}):n.length===0?u.jsxs("div",{className:"text-center py-20",children:[u.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center",children:u.jsx(bn,{className:"h-12 w-12 text-gray-400"})}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Aucun trajet trouv"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Essayez de modifier vos critres de recherche"}),u.jsx("button",{onClick:_,className:"btn-primary",children:"Rinitialiser la recherche"})]}):u.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(E=>u.jsx(Pv,{trajet:E,isFavorite:i.has(E.id),onFavoriteToggle:j},E.id))})]})}function MM(){const{id:e}=pd(),t=En(),{session:r}=Jt(),[n,a]=x.useState(null),[i,l]=x.useState([]),[c,d]=x.useState(!1),[h,p]=x.useState(!0),[m,v]=x.useState(!1),[y,j]=x.useState({note:5,commentaire:""}),[w,_]=x.useState(!1);x.useEffect(()=>{E(),A(),r&&P()},[e,r]);const E=async()=>{try{const{data:S,error:T}=await ie.from("trajets").select("*, compagnies:compagnie_id(id, nom, telephone, logo_url)").eq("id",e).single();if(T)throw T;console.log(" Trajet loaded:",S),console.log(" Compagnie data:",S?.compagnies),a(S)}catch(S){console.error("Error loading trajet:",S)}finally{p(!1)}},A=async()=>{try{console.log(" Loading avis for trajet:",e);const{data:S,error:T}=await ie.from("avis").select("*").eq("trajet_id",e).order("created_at",{ascending:!1});if(T)throw console.error(" Error loading avis:",T),console.error(" Error details:",{message:T.message,details:T.details,hint:T.hint,code:T.code}),T;console.log(" Avis loaded:",S?.length||0),console.log(" Sample avis:",S?.[0]),l(S||[])}catch(S){console.error(" Exception loading avis:",S),l([])}},P=async()=>{if(!r?.user?.id)return;const{data:S}=await ie.from("favoris").select("id").eq("user_id",r.user.id).eq("trajet_id",e).single();d(!!S)},C=async()=>{if(!r){t("/login");return}try{c?await ie.from("favoris").delete().eq("user_id",r.user.id).eq("trajet_id",e):await ie.from("favoris").insert({user_id:r.user.id,trajet_id:e}),d(!c)}catch(S){console.error("Error toggling favorite:",S)}},N=async S=>{if(S.preventDefault(),!r){t("/login");return}_(!0);try{const{error:T}=await ie.from("avis").insert({user_id:r.user.id,trajet_id:e,note:y.note,commentaire:y.commentaire});if(T)throw T;alert(" Avis ajout avec succs !"),j({note:5,commentaire:""}),v(!1),await A(),await E()}catch(T){console.error("Error submitting review:",T),alert(" Erreur lors de l'ajout de l'avis")}finally{_(!1)}};return h?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n?u.jsx("div",{className:"page-container",children:u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsxs("div",{className:"card mb-6",children:[u.jsxs("div",{className:"flex justify-between items-start mb-6",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:[n.depart,"  ",n.arrivee]}),u.jsx("div",{className:"flex items-center space-x-2",children:u.jsxs(ke,{to:`/compagnies/${n.compagnies?.id}`,className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-primary transition-colors",children:[u.jsx(Kn,{className:"h-5 w-5"}),u.jsx("span",{className:"font-medium",children:n.compagnies?.nom})]})})]}),u.jsx("button",{onClick:C,className:"p-3 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:u.jsx(yd,{className:`h-6 w-6 ${c?"text-red-500 fill-red-500":"text-gray-400"}`})})]}),u.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-6",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"p-3 bg-primary-light rounded-lg",children:u.jsx(Aa,{className:"h-6 w-6 text-warning fill-warning"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Note"}),u.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:n.note||"N/A"})]})]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"p-3 bg-primary-light rounded-lg",children:u.jsx(vj,{className:"h-6 w-6 text-primary"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avis"}),u.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:n.nb_avis||0})]})]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"p-3 bg-success-light rounded-lg",children:u.jsx(xn,{className:"h-6 w-6 text-success"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Gare"}),u.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:n.gare||"N/A"})]})]})]}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-6",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[u.jsx(yn,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"}),u.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:"Horaires disponibles"})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:n.horaires?.map((S,T)=>u.jsx("span",{className:"px-4 py-2 bg-white dark:bg-gray-800 rounded-lg font-medium text-gray-900 dark:text-white border border-gray-200 dark:border-gray-600",children:S},T))||u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Horaires non disponibles"})})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Prix du billet"}),u.jsxs("div",{children:[u.jsx("span",{className:"text-4xl font-bold text-primary",children:n.prix}),u.jsx("span",{className:"text-lg text-gray-600 dark:text-gray-400 ml-2",children:"FCFA"})]})]}),u.jsxs(ke,{to:`/reservation/${n.id}`,className:"btn-primary flex items-center space-x-2 text-lg px-8",children:[u.jsx("span",{children:"Rserver"}),u.jsx(vd,{className:"h-5 w-5"})]})]})]}),u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["Avis des voyageurs (",i.length,")"]}),r&&u.jsx("button",{onClick:()=>v(!m),className:"btn-primary text-sm",children:m?"Annuler":"Laisser un avis"})]}),m&&u.jsxs("form",{onSubmit:N,className:"mb-8 p-6 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[u.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Partagez votre exprience"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Note *"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[[1,2,3,4,5].map(S=>u.jsx("button",{type:"button",onClick:()=>j({...y,note:S}),className:"focus:outline-none",children:u.jsx(Aa,{className:`h-8 w-8 ${S<=y.note?"text-warning fill-warning":"text-gray-300 dark:text-gray-600"}`})},S)),u.jsxs("span",{className:"text-gray-600 dark:text-gray-400 ml-2",children:[y.note,"/5"]})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Commentaire *"}),u.jsx("textarea",{value:y.commentaire,onChange:S=>j({...y,commentaire:S.target.value}),placeholder:"Partagez votre exprience avec ce trajet...",rows:"4",required:!0,className:"input-field dark:bg-gray-800 dark:text-white dark:border-gray-600 resize-none"})]}),u.jsxs("div",{className:"flex justify-end space-x-3",children:[u.jsx("button",{type:"button",onClick:()=>v(!1),className:"btn-secondary",children:"Annuler"}),u.jsx("button",{type:"submit",disabled:w||!y.commentaire.trim(),className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:w?"Publication...":"Publier l'avis"})]})]}),i.length===0?u.jsxs("div",{className:"text-center py-12 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[u.jsx(vj,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Aucun avis pour le moment"})]}):u.jsx("div",{className:"space-y-6",children:i.map(S=>u.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 last:border-0 pb-6 last:pb-0",children:u.jsxs("div",{className:"flex items-start space-x-4",children:[u.jsx("div",{className:"w-10 h-10 bg-primary-light rounded-full flex items-center justify-center",children:u.jsx(on,{className:"h-5 w-5 text-primary"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:"Voyageur"}),u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx(Aa,{className:"h-4 w-4 text-warning fill-warning"}),u.jsxs("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:[S.note,"/5"]})]})]}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:S.commentaire}),u.jsx("p",{className:"text-xs text-gray-500",children:new Date(S.created_at).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})})]})]})},S.id))})]})]})}):u.jsxs("div",{className:"page-container text-center py-20",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Trajet non trouv"}),u.jsx(ke,{to:"/trajets",className:"btn-primary",children:"Retour aux trajets"})]})}function LM(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,i]=x.useState("");x.useEffect(()=>{l()},[]);const l=async()=>{try{const{data:d,error:h}=await ie.from("compagnies").select("*, trajets(count)").order("nom");if(h)throw h;t(d||[])}catch(d){console.error("Error loading compagnies:",d)}finally{n(!1)}},c=e.filter(d=>d.nom?.toLowerCase().includes(a.toLowerCase())||d.adresse?.toLowerCase().includes(a.toLowerCase()));return r?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):u.jsxs("div",{className:"page-container",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Compagnies de transport"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Dcouvrez nos partenaires de transport au Bnin"})]}),u.jsx("div",{className:"card mb-6",children:u.jsxs("div",{className:"relative",children:[u.jsx(bn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"text",value:a,onChange:d=>i(d.target.value),placeholder:"Rechercher une compagnie...",className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})}),c.length===0?u.jsxs("div",{className:"card text-center py-12",children:[u.jsx(Kn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Aucune compagnie trouve"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:a?"Essayez avec un autre terme de recherche":"Aucune compagnie disponible"})]}):u.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(d=>u.jsxs(ke,{to:`/compagnies/${d.id}`,className:"card hover:shadow-xl transition-shadow",children:[u.jsx("div",{className:"flex items-center justify-center h-32 bg-gray-50 dark:bg-gray-700 rounded-lg mb-4",children:d.logo_url?u.jsx("img",{src:d.logo_url,alt:d.nom,className:"h-20 w-auto object-contain"}):u.jsx(Kn,{className:"h-16 w-16 text-gray-400"})}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3",children:d.nom}),u.jsxs("div",{className:"space-y-2 text-sm",children:[d.telephone&&u.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400",children:[u.jsx(xd,{className:"h-4 w-4"}),u.jsx("span",{children:d.telephone})]}),d.adresse&&u.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400",children:[u.jsx(xn,{className:"h-4 w-4"}),u.jsx("span",{className:"line-clamp-1",children:d.adresse})]}),u.jsxs("div",{className:"flex items-center space-x-2 text-primary font-semibold",children:[u.jsx(pr,{className:"h-4 w-4"}),u.jsxs("span",{children:[d.trajets?.[0]?.count||0," trajet",(d.trajets?.[0]?.count||0)>1?"s":""]})]})]}),u.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:u.jsx("span",{className:"text-primary hover:underline text-sm font-medium",children:"Voir les dtails "})})]},d.id))})]})}function $M(){const{id:e}=pd(),[t,r]=x.useState(null),[n,a]=x.useState([]),[i,l]=x.useState(!0);x.useEffect(()=>{c(),d()},[e]);const c=async()=>{try{console.log(" Loading compagnie with ID:",e);const{data:h,error:p}=await ie.from("compagnies").select("*").eq("id",e).single();if(p)throw console.error(" Error loading compagnie:",p),console.error(" Error details:",{message:p.message,details:p.details,hint:p.hint,code:p.code}),p;console.log(" Compagnie loaded:",h),r(h)}catch(h){console.error(" Exception loading compagnie:",h),r(null)}finally{l(!1)}},d=async()=>{try{const{data:h,error:p}=await ie.from("trajets").select("*").eq("compagnie_id",e).order("depart");if(p)throw p;a(h||[])}catch(h){console.error("Error loading trajets:",h)}};return i?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t?u.jsx("div",{className:"page-container",children:u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsx("div",{className:"card mb-6",children:u.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center space-y-6 md:space-y-0 md:space-x-6 mb-6",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:"flex items-center justify-center h-32 w-32 bg-gray-50 dark:bg-gray-700 rounded-lg",children:t.logo_url?u.jsx("img",{src:t.logo_url,alt:t.nom,className:"h-24 w-auto object-contain"}):u.jsx(Kn,{className:"h-16 w-16 text-gray-400"})})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:t.nom}),u.jsxs("div",{className:"space-y-3",children:[t.telephone&&u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"flex items-center justify-center h-10 w-10 bg-primary-light rounded-lg",children:u.jsx(xd,{className:"h-5 w-5 text-primary"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Tlphone"}),u.jsx("a",{href:`tel:${t.telephone}`,className:"font-medium text-gray-900 dark:text-white hover:text-primary",children:t.telephone})]})]}),t.adresse&&u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"flex items-center justify-center h-10 w-10 bg-primary-light rounded-lg",children:u.jsx(xn,{className:"h-5 w-5 text-primary"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Adresse"}),u.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t.adresse})]})]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"flex items-center justify-center h-10 w-10 bg-success-light rounded-lg",children:u.jsx(pr,{className:"h-5 w-5 text-success"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Trajets disponibles"}),u.jsx("p",{className:"font-bold text-xl text-gray-900 dark:text-white",children:n.length})]})]})]})]})]})}),u.jsxs("div",{className:"card",children:[u.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:["Trajets proposs (",n.length,")"]}),n.length===0?u.jsxs("div",{className:"text-center py-12 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[u.jsx(pr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Aucun trajet disponible pour le moment"})]}):u.jsx("div",{className:"space-y-4",children:n.map(h=>u.jsx(ke,{to:`/trajet/${h.id}`,className:"block p-4 bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-lg transition-colors",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[u.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:h.depart}),u.jsx(vd,{className:"h-5 w-5 text-gray-400"}),u.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:h.arrivee})]}),u.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:[h.gare&&u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx(xn,{className:"h-4 w-4"}),u.jsx("span",{children:h.gare})]}),h.note>0&&u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx(Aa,{className:"h-4 w-4 text-warning fill-warning"}),u.jsxs("span",{children:[h.note,"/5"]})]}),h.nb_avis>0&&u.jsxs("span",{children:["(",h.nb_avis," avis)"]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"text-2xl font-bold text-primary mb-1",children:[h.prix," FCFA"]}),u.jsx("span",{className:"text-sm text-primary hover:underline font-medium",children:"Voir le trajet "})]})]})},h.id))})]})]})}):u.jsxs("div",{className:"page-container text-center py-20",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Compagnie non trouve"}),u.jsx(ke,{to:"/compagnies",className:"btn-primary",children:"Retour aux compagnies"})]})}const BM="pk_sandbox_hlyarJ3xqqFPJeqE8uDx_6E7",fg="sk_sandbox_OIfKTKIT8pi0y5R25aXcTp_W",FE="sandbox";console.log(" FedaPay Configuration:",{hasPublicKey:!0,hasSecretKey:!0,publicKeyPrefix:BM?.substring(0,20),mode:FE});const hg=()=>"https://sandbox-api.fedapay.com/v1",UE=()=>({Authorization:`Bearer ${fg}`,"Content-Type":"application/json"}),zE=async({amount:e,description:t,customerId:r,customerEmail:n,customerName:a,customerPhone:i,callbackUrl:l,mobileMoneyOperator:c,onSuccess:d,onError:h,onClose:p})=>{try{if(!fg||fg.length<20)throw new Error("Cl API FedaPay non configure. Veuillez vrifier votre fichier .env");console.log(" Creating FedaPay transaction...");const m={description:t||"Rservation Bus Bnin",amount:e,currency:{iso:"XOF"},customer:{firstname:a?.split(" ")[0]||"Client",lastname:a?.split(" ").slice(1).join(" ")||"BusBenin",email:n,phone_number:{number:i?.replace(/\s+/g,""),country:"BJ"}}};l&&(l.startsWith("http://")||l.startsWith("https://"))&&(m.callback_url=l),c&&(m.mode=c),console.log(" FedaPay Request:",{url:`${hg()}/transactions`,environment:FE,amount:m.amount,customer:m.customer});const v=await fetch(`${hg()}/transactions`,{method:"POST",headers:UE(),body:JSON.stringify(m)}),y=await v.json();if(console.log(" FedaPay Response:",{status:v.status,ok:v.ok,data:y}),!v.ok){const _=y.message||y.error||y.v1?.message||"Erreur lors de la cration de la transaction";throw new Error(`${_} (Status: ${v.status})`)}const j=y["v1/transaction"]||y.transaction||y.v1?.transaction;if(!j)throw new Error("Transaction non retourne par FedaPay");console.log(" Transaction created:",{id:j.id,status:j.status,hasToken:!!j.payment_token,hasUrl:!!j.payment_url});const w=FM(j.payment_url||j.payment_token);return{success:!0,transaction:j,transactionId:j.id,token:j.payment_token,paymentUrl:w,onSuccess:d,onError:h,onClose:p}}catch(m){return console.error(" Error creating transaction:",m),{success:!1,error:m.message||"Erreur lors de la cration de la transaction"}}},qE=(e,t=!0)=>{if(!e){console.error(" No payment URL provided");return}if(console.log(" Opening payment URL:",e),t){const a=(window.screen.width-600)/2,i=(window.screen.height-800)/2;window.open(e,"FedaPayPayment",`width=600,height=800,left=${a},top=${i},resizable=yes,scrollbars=yes`)}else window.location.href=e},FM=e=>e?.startsWith("http://")||e?.startsWith("https://")?e:`https://sandbox-process.fedapay.com/${e}`,Nv=async e=>{try{if(!e)throw new Error("Transaction ID requis");console.log(" Checking transaction status:",e);const t=await fetch(`${hg()}/transactions/${e}`,{method:"GET",headers:UE()}),r=await t.json();if(!t.ok)throw new Error(r.message||"Erreur lors de la vrification de la transaction");const n=r["v1/transaction"]||r.transaction||r.v1?.transaction;return console.log(" Transaction status:",{id:n?.id,status:n?.status,approved:n?.status==="approved"}),{success:!0,status:n?.status,transaction:n}}catch(t){return console.error(" Error checking transaction:",t),{success:!1,error:t.message}}},WE=e=>Math.round(e);function UM(){const{id:e}=pd(),t=En(),{session:r}=Jt(),[n,a]=x.useState(null),[i,l]=x.useState(!0),[c,d]=x.useState(!1),[h,p]=x.useState(!1),[m,v]=x.useState(""),[y,j]=x.useState(null),[w,_]=x.useState({nb_places:1,horaire:"",nom_passager:"",telephone_passager:"",email_passager:r?.user?.email||""});x.useEffect(()=>{E()},[e]);const E=async()=>{try{const{data:S,error:T}=await ie.from("trajets").select("*, compagnies:compagnie_id(nom)").eq("id",e).single();if(T)throw T;a(S)}catch(S){console.error("Error loading trajet:",S),t("/trajets")}finally{l(!1)}},A=async S=>{if(S.preventDefault(),!m){alert(" Veuillez slectionner votre oprateur Mobile Money");return}if(!w.telephone_passager.match(/^\+229\d{8,10}$/)){alert(" Le numro de tlphone doit tre au format +229XXXXXXXX");return}d(!0);try{const T=n.prix*w.nb_places,{data:M,error:z}=await ie.from("reservations").insert({user_id:r.user.id,trajet_id:n.id,nb_places:w.nb_places,horaire:w.horaire,nom_passager:w.nom_passager,telephone_passager:w.telephone_passager,email_passager:w.email_passager,montant_total:T,statut:"en_attente",statut_paiement:"pending"}).select().single();if(z)throw z;j(M),await P(M,T)}catch(T){console.error("Error creating reservation:",T),alert("Une erreur est survenue lors de la rservation"),d(!1)}},P=async(S,T)=>{p(!0);try{console.log(" Starting payment process...");const M=await zE({amount:WE(T),description:`Rservation ${n.depart}  ${n.arrivee} - ${w.nb_places} place(s)`,customerId:r.user.id,customerEmail:w.email_passager||r.user.email,customerName:w.nom_passager,customerPhone:w.telephone_passager,mobileMoneyOperator:m});if(!M.success)throw new Error(M.error||"Erreur lors de la cration de la transaction");if(console.log(" Transaction created:",M.transactionId),await ie.from("reservations").update({fedapay_transaction_id:M.transactionId}).eq("id",S.id),qE(M.paymentUrl,!0),confirm(` Une fentre de paiement FedaPay s'est ouverte.

Veuillez complter votre paiement dans cette fentre.

 Aprs avoir pay, cliquez sur "OK" pour vrifier votre paiement.
 Si vous n'avez pas pay, cliquez sur "Annuler".`)){console.log(" Vrification du paiement..."),await new Promise(V=>setTimeout(V,2e3));const W=await Nv(M.transactionId);console.log(" Statut reu:",W),W.success?W.status==="approved"?(await C(S.id,"approved",M.transactionId),alert(` Paiement confirm !

Votre rservation est valide.`),t("/reservations")):W.status==="pending"?(alert(` Paiement en cours de traitement...

Nous vrifions votre paiement. Cela peut prendre quelques minutes.

Vous pouvez vrifier le statut dans "Mes rservations".`),t("/reservations")):(alert(` Paiement non confirm.

Statut: ${W.status}

Vous pouvez ressayer depuis "Mes rservations".`),t("/reservations")):(alert(` Impossible de vrifier le paiement pour le moment.

Veuillez vrifier le statut dans "Mes rservations" dans quelques instants.`),t("/reservations"))}else alert(` Paiement non effectu.

Votre rservation est sauvegarde.
Vous pouvez la payer plus tard depuis "Mes rservations".`),t("/reservations")}catch(M){console.error(" Payment error:",M),alert(` Erreur : ${M.message}

La rservation est sauvegarde, vous pouvez payer plus tard depuis "Mes rservations".`),t("/reservations")}finally{p(!1),d(!1)}},C=async(S,T,M)=>{try{await ie.from("reservations").update({statut_paiement:T,statut:T==="approved"?"confirmee":"annulee",fedapay_transaction_id:M,updated_at:new Date().toISOString()}).eq("id",S)}catch(z){console.error("Error updating reservation:",z)}};if(i)return u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});if(!n)return null;const N=n.prix*w.nb_places;return u.jsx("div",{className:"page-container",children:u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-8",children:"Rservation de billet"}),u.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[u.jsx("div",{className:"md:col-span-2",children:u.jsxs("form",{onSubmit:A,className:"card space-y-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Dtails du trajet"}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 space-y-2",children:[u.jsxs("p",{className:"text-gray-900 dark:text-white font-semibold",children:[n.depart,"  ",n.arrivee]}),u.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Compagnie: ",n.compagnies?.nom]}),u.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Prix unitaire: ",n.prix," FCFA"]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Nombre de places"}),u.jsxs("div",{className:"relative",children:[u.jsx(ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"number",min:"1",max:"10",value:w.nb_places,onChange:S=>_({...w,nb_places:parseInt(S.target.value)}),required:!0,className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Horaire"}),u.jsxs("div",{className:"relative",children:[u.jsx(yn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsxs("select",{value:w.horaire,onChange:S=>_({...w,horaire:S.target.value}),required:!0,className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600",children:[u.jsx("option",{value:"",children:"Slectionner un horaire"}),n.horaires?.map((S,T)=>u.jsx("option",{value:S,children:S},T))]})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Informations du passager"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Nom complet"}),u.jsxs("div",{className:"relative",children:[u.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"text",value:w.nom_passager,onChange:S=>_({...w,nom_passager:S.target.value}),placeholder:"Jean Dupont",required:!0,className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Tlphone (Mobile Money) *"}),u.jsxs("div",{className:"relative",children:[u.jsx(xd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"tel",value:w.telephone_passager,onChange:S=>_({...w,telephone_passager:S.target.value}),placeholder:"+22997123456",required:!0,className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),u.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"Format: +229XXXXXXXX (ce numro sera utilis pour le paiement Mobile Money)"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),u.jsxs("div",{className:"relative",children:[u.jsx(Os,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"email",value:w.email_passager,onChange:S=>_({...w,email_passager:S.target.value}),placeholder:"email@example.com",className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[u.jsx(tl,{className:"h-5 w-5 text-primary"}),u.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Oprateur Mobile Money"}),u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[u.jsx("button",{type:"button",onClick:()=>v("mtn"),className:`p-4 rounded-xl border-2 transition-all ${m==="mtn"?"border-[#FFCC00] bg-[#FFF9E6]":"border-gray-200 dark:border-gray-700 hover:border-[#FFCC00]"}`,children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("div",{className:`w-12 h-12 rounded-full bg-[#FFCC00] flex items-center justify-center mb-2 ${m==="mtn"?"ring-4 ring-[#FFCC00]/30":""}`,children:u.jsx("span",{className:"text-lg font-bold text-black",children:"MTN"})}),u.jsx("p",{className:`text-sm font-semibold text-center ${m==="mtn"?"text-gray-900 dark:text-gray-900":"text-gray-600"}`,children:"MTN Mobile Money"}),m==="mtn"&&u.jsx(mr,{className:"h-5 w-5 text-[#FFCC00] mt-2"})]})}),u.jsx("button",{type:"button",onClick:()=>v("moov"),className:`p-4 rounded-xl border-2 transition-all ${m==="moov"?"border-[#009CDE] bg-[#E6F7FF]":"border-gray-200 dark:border-gray-700 hover:border-[#009CDE]"}`,children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("div",{className:`w-12 h-12 rounded-full bg-[#009CDE] flex items-center justify-center mb-2 ${m==="moov"?"ring-4 ring-[#009CDE]/30":""}`,children:u.jsx("span",{className:"text-base font-bold text-white",children:"moov"})}),u.jsx("p",{className:`text-sm font-semibold text-center ${m==="moov"?"text-gray-900 dark:text-gray-900":"text-gray-600"}`,children:"Moov Money"}),m==="moov"&&u.jsx(mr,{className:"h-5 w-5 text-[#009CDE] mt-2"})]})}),u.jsx("button",{type:"button",onClick:()=>v("celtiis"),className:`p-4 rounded-xl border-2 transition-all ${m==="celtiis"?"border-[#FF6B00] bg-[#FFF3E6]":"border-gray-200 dark:border-gray-700 hover:border-[#FF6B00]"}`,children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("div",{className:`w-12 h-12 rounded-full bg-[#FF6B00] flex items-center justify-center mb-2 ${m==="celtiis"?"ring-4 ring-[#FF6B00]/30":""}`,children:u.jsx("span",{className:"text-sm font-bold text-white",children:"Celtiis"})}),u.jsx("p",{className:`text-sm font-semibold text-center ${m==="celtiis"?"text-gray-900 dark:text-gray-900":"text-gray-600"}`,children:"Celtiis Cash"}),m==="celtiis"&&u.jsx(mr,{className:"h-5 w-5 text-[#FF6B00] mt-2"})]})})]}),u.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-3",children:"Le numro de tlphone doit correspondre  votre compte Mobile Money"})]}),u.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx(us,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),u.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-300",children:[u.jsx("p",{className:"font-semibold mb-1",children:"Paiement 100% scuris"}),u.jsx("p",{className:"text-xs",children:"Vos donnes bancaires sont cryptes et scurises par FedaPay. Nous ne stockons jamais vos informations de paiement."})]})]})}),u.jsx("button",{type:"submit",disabled:c||h||!m,className:"w-full btn-primary py-4 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:c||h?u.jsxs(u.Fragment,{children:[u.jsx($E,{className:"h-5 w-5 animate-spin"}),u.jsx("span",{children:h?"Paiement en cours...":"Rservation en cours..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(tl,{className:"h-5 w-5"}),u.jsxs("span",{children:["Payer ",N," FCFA"]})]})}),u.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 text-center mt-2",children:"Paiement scuris par FedaPay (Mobile Money)"})]})}),u.jsx("div",{className:"md:col-span-1",children:u.jsxs("div",{className:"card sticky top-24",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Rcapitulatif"}),u.jsxs("div",{className:"space-y-3 mb-6",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Prix unitaire"}),u.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[n.prix," FCFA"]})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Nombre de places"}),u.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:w.nb_places})]}),u.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-3",children:u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:"Total"}),u.jsxs("span",{className:"font-bold text-2xl text-primary",children:[N," FCFA"]})]})})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:u.jsxs("p",{className:"text-xs text-blue-800 dark:text-blue-300",children:[u.jsx("strong",{children:" Note:"})," Une fentre de paiement scurise s'ouvrira aprs validation."]})}),u.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-3 border border-green-200 dark:border-green-800",children:u.jsxs("p",{className:"text-xs text-green-800 dark:text-green-300",children:[u.jsx("strong",{children:" Paiement Mobile Money uniquement"})," - Votre rservation sera confirme aprs le paiement russi."]})})]})]})})]})]})})}function zM(){const{id:e}=pd();BS();const t=En(),{session:r}=Jt(),[n,a]=x.useState(null),[i,l]=x.useState(!0),[c,d]=x.useState(!1),[h,p]=x.useState(null),[m,v]=x.useState("mobile_money");x.useEffect(()=>{y()},[e]);const y=async()=>{try{const{data:_,error:E}=await ie.from("reservations").select("*, trajets(*, compagnies:compagnie_id(nom))").eq("id",e).eq("user_id",r?.user?.id).single();if(E)throw E;if(_.statut_paiement!=="pending"){t("/reservations");return}a(_)}catch(_){console.error("Error loading reservation:",_),t("/reservations")}finally{l(!1)}},j=async()=>{d(!0),p(null);try{const _=WE(n.montant_total);console.log(" Starting payment process...");const E=await zE({amount:_,description:`Rservation ${n.trajets.depart}  ${n.trajets.arrivee}`,customerId:r.user.id,customerEmail:n.email_passager,customerName:n.nom_passager,customerPhone:n.telephone_passager,mobileMoneyOperator:m==="mobile_money"?"mtn":void 0});if(!E.success)throw new Error(E.error||"Erreur lors de la cration de la transaction");console.log(" Transaction created:",E.transactionId),await ie.from("reservations").update({fedapay_transaction_id:E.transactionId}).eq("id",e),qE(E.paymentUrl,!0),alert(` Une fentre de paiement s'est ouverte.

Aprs avoir pay, revenez sur cette page.`),setTimeout(async()=>{const A=await Nv(E.transactionId);A.success&&A.status==="approved"?(await w("approved",E.transactionId),p("success"),setTimeout(()=>t("/reservations"),2e3)):(p("error"),alert(" Paiement en attente ou chou. Vrifiez votre transaction.")),d(!1)},3e3)}catch(_){console.error(" Payment error:",_),p("error"),alert(` Erreur : ${_.message}`),d(!1)}},w=async(_,E)=>{try{await ie.from("reservations").update({statut_paiement:_,statut:_==="approved"?"confirmee":"annulee",fedapay_transaction_id:E,updated_at:new Date().toISOString()}).eq("id",e)}catch(A){console.error("Error updating reservation:",A)}};return i?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n?u.jsx("div",{className:"page-container",children:u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Paiement scuris"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Compltez votre rservation en effectuant le paiement"})]}),u.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"md:col-span-2 space-y-6",children:[h==="success"&&u.jsx("div",{className:"card bg-success-light border-2 border-success",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(mr,{className:"h-8 w-8 text-success"}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-success",children:"Paiement russi !"}),u.jsx("p",{className:"text-sm text-gray-700",children:"Votre rservation a t confirme. Vous allez tre redirig..."})]})]})}),h==="error"&&u.jsx("div",{className:"card bg-error-light border-2 border-error",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(fr,{className:"h-8 w-8 text-error"}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-error",children:"chec du paiement"}),u.jsx("p",{className:"text-sm text-gray-700",children:"Une erreur est survenue. Veuillez ressayer."})]})]})}),u.jsxs("div",{className:"card",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Mthode de paiement"}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("button",{onClick:()=>v("mobile_money"),className:`w-full p-4 rounded-lg border-2 transition-all ${m==="mobile_money"?"border-primary bg-primary-light":"border-gray-200 dark:border-gray-700 hover:border-primary"}`,children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(NM,{className:"h-6 w-6 text-primary"}),u.jsxs("div",{className:"text-left flex-1",children:[u.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:"Mobile Money"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"MTN Mobile Money, Moov Money"})]}),m==="mobile_money"&&u.jsx(mr,{className:"h-5 w-5 text-primary"})]})}),u.jsx("button",{onClick:()=>v("card"),className:`w-full p-4 rounded-lg border-2 transition-all ${m==="card"?"border-primary bg-primary-light":"border-gray-200 dark:border-gray-700 hover:border-primary"}`,children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(tl,{className:"h-6 w-6 text-primary"}),u.jsxs("div",{className:"text-left flex-1",children:[u.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:"Carte bancaire"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Visa, Mastercard"})]}),m==="card"&&u.jsx(mr,{className:"h-5 w-5 text-primary"})]})})]})]}),u.jsx("div",{className:"card bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800",children:u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx(us,{className:"h-6 w-6 text-blue-600 flex-shrink-0 mt-1"}),u.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-300",children:[u.jsx("p",{className:"font-semibold mb-1",children:"Paiement 100% scuris"}),u.jsx("p",{children:"Vos donnes bancaires sont cryptes et scurises par FedaPay. Nous ne stockons jamais vos informations de paiement."})]})]})}),u.jsx("button",{onClick:j,disabled:c||h==="success",className:"w-full btn-primary py-4 text-lg disabled:opacity-50 disabled:cursor-not-allowed",children:c?u.jsxs("span",{className:"flex items-center justify-center space-x-2",children:[u.jsx($E,{className:"h-5 w-5 animate-spin"}),u.jsx("span",{children:"Traitement en cours..."})]}):`Payer ${n.montant_total} FCFA`}),!1,u.jsxs("p",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:['En cliquant sur "Payer", vous acceptez nos'," ",u.jsx("a",{href:"#",className:"text-primary hover:underline",children:"conditions gnrales"})]})]}),u.jsx("div",{className:"md:col-span-1",children:u.jsxs("div",{className:"card sticky top-24",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Rcapitulatif"}),u.jsxs("div",{className:"space-y-3 mb-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Trajet"}),u.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[n.trajets.depart,"  ",n.trajets.arrivee]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Compagnie"}),u.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:n.trajets.compagnies?.nom})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Horaire"}),u.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:n.horaire})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Passager"}),u.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:n.nom_passager})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Places"}),u.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:n.nb_places})]})]}),u.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sous-total"}),u.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[n.montant_total," FCFA"]})]}),u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Frais de service"}),u.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:"0 FCFA"})]}),u.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:"Total  payer"}),u.jsxs("span",{className:"font-bold text-2xl text-primary",children:[n.montant_total," FCFA"]})]})})]})]})})]})]})}):null}function qM(){const e=En(),[t,r]=x.useState({email:"",password:""}),[n,a]=x.useState(!1),[i,l]=x.useState(!1),[c,d]=x.useState(""),h=async p=>{p.preventDefault(),d(""),l(!0);try{const{error:m}=await ie.auth.signInWithPassword({email:t.email,password:t.password});if(m)throw m;e("/")}catch(m){d(m.message||"Une erreur est survenue lors de la connexion")}finally{l(!1)}};return u.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-primary to-blue-700",children:u.jsx("div",{className:"max-w-md w-full",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary rounded-2xl mb-4",children:u.jsx(pr,{className:"h-8 w-8 text-white"})}),u.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Connexion"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Connectez-vous  votre compte Bus Bnin"})]}),c&&u.jsx("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:u.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:c})}),u.jsxs("form",{onSubmit:h,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),u.jsxs("div",{className:"relative",children:[u.jsx(Os,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"email",value:t.email,onChange:p=>r({...t,email:p.target.value}),placeholder:"votre@email.com",required:!0,className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Mot de passe"}),u.jsxs("div",{className:"relative",children:[u.jsx(dg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsx("input",{type:n?"text":"password",value:t.password,onChange:p=>r({...t,password:p.target.value}),placeholder:"",required:!0,className:"input-field pl-10 pr-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"}),u.jsx("button",{type:"button",onClick:()=>a(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n?u.jsx(DE,{className:"h-5 w-5"}):u.jsx(ME,{className:"h-5 w-5"})})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary"}),u.jsx("span",{className:"ml-2 text-sm text-gray-600 dark:text-gray-400",children:"Se souvenir de moi"})]}),u.jsx(ke,{to:"/forgot-password",className:"text-sm font-medium text-primary hover:text-primary-dark",children:"Mot de passe oubli ?"})]}),u.jsx("button",{type:"submit",disabled:i,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Connexion en cours...":"Se connecter"})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Vous n'avez pas de compte ?"," ",u.jsx(ke,{to:"/register",className:"font-medium text-primary hover:text-primary-dark",children:"S'inscrire"})]})})]})})})}function WM(){const e=En(),[t,r]=x.useState({email:"",password:"",confirmPassword:"",username:"",fullName:""}),[n,a]=x.useState(!1),[i,l]=x.useState(!1),[c,d]=x.useState(""),h=async p=>{if(p.preventDefault(),d(""),t.password!==t.confirmPassword){d("Les mots de passe ne correspondent pas");return}if(t.password.length<6){d("Le mot de passe doit contenir au moins 6 caractres");return}l(!0);try{const{data:m,error:v}=await ie.auth.signUp({email:t.email,password:t.password,options:{data:{username:t.username,full_name:t.fullName}}});if(v)throw v;if(m.user){const{error:y}=await ie.from("profiles").insert({id:m.user.id,username:t.username,full_name:t.fullName,email:t.email});y&&y.code!=="23505"&&console.error("Error creating profile:",y)}e("/")}catch(m){d(m.message||"Une erreur est survenue lors de l'inscription")}finally{l(!1)}};return u.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-primary to-blue-700",children:u.jsx("div",{className:"max-w-md w-full",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary rounded-2xl mb-4",children:u.jsx(pr,{className:"h-8 w-8 text-white"})}),u.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Inscription"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Crez votre compte Bus Bnin"})]}),c&&u.jsx("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:u.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:c})}),u.jsxs("form",{onSubmit:h,className:"space-y-5",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Nom complet"}),u.jsxs("div",{className:"relative",children:[u.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"text",value:t.fullName,onChange:p=>r({...t,fullName:p.target.value}),placeholder:"Jean Dupont",required:!0,className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Nom d'utilisateur"}),u.jsxs("div",{className:"relative",children:[u.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"text",value:t.username,onChange:p=>r({...t,username:p.target.value}),placeholder:"jeandupont",required:!0,minLength:3,className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),u.jsxs("div",{className:"relative",children:[u.jsx(Os,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"email",value:t.email,onChange:p=>r({...t,email:p.target.value}),placeholder:"votre@email.com",required:!0,className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Mot de passe"}),u.jsxs("div",{className:"relative",children:[u.jsx(dg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsx("input",{type:n?"text":"password",value:t.password,onChange:p=>r({...t,password:p.target.value}),placeholder:"",required:!0,minLength:6,className:"input-field pl-10 pr-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"}),u.jsx("button",{type:"button",onClick:()=>a(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n?u.jsx(DE,{className:"h-5 w-5"}):u.jsx(ME,{className:"h-5 w-5"})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Confirmer le mot de passe"}),u.jsxs("div",{className:"relative",children:[u.jsx(dg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsx("input",{type:n?"text":"password",value:t.confirmPassword,onChange:p=>r({...t,confirmPassword:p.target.value}),placeholder:"",required:!0,minLength:6,className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]}),u.jsx("button",{type:"submit",disabled:i,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Inscription en cours...":"S'inscrire"})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Vous avez dj un compte ?"," ",u.jsx(ke,{to:"/login",className:"font-medium text-primary hover:text-primary-dark",children:"Se connecter"})]})})]})})})}function KM(){const{session:e}=Jt(),[t,r]=x.useState(null),[n,a]=x.useState(!1),[i,l]=x.useState(!0),[c,d]=x.useState(!1),[h,p]=x.useState({username:"",full_name:"",email:""});x.useEffect(()=>{m()},[e]);const m=async()=>{if(e?.user?.id)try{const{data:y,error:j}=await ie.from("profiles").select("*").eq("id",e.user.id).single();if(j)throw j;r(y),p({username:y.username||"",full_name:y.full_name||"",email:y.email||e.user.email})}catch(y){console.error("Error loading profile:",y)}finally{l(!1)}},v=async()=>{d(!0);try{const{error:y}=await ie.from("profiles").update({username:h.username,full_name:h.full_name,email:h.email,updated_at:new Date().toISOString()}).eq("id",e.user.id);if(y)throw y;await m(),a(!1)}catch(y){console.error("Error updating profile:",y),alert("Une erreur est survenue lors de la mise  jour")}finally{d(!1)}};return i?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):u.jsx("div",{className:"page-container",children:u.jsxs("div",{className:"max-w-3xl mx-auto",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Mon profil"}),n?u.jsxs("div",{className:"flex space-x-2",children:[u.jsxs("button",{onClick:()=>{a(!1),p({username:t.username||"",full_name:t.full_name||"",email:t.email||""})},className:"btn-secondary flex items-center space-x-2",children:[u.jsx(Ev,{className:"h-4 w-4"}),u.jsx("span",{children:"Annuler"})]}),u.jsxs("button",{onClick:v,disabled:c,className:"btn-primary flex items-center space-x-2 disabled:opacity-50",children:[u.jsx(PM,{className:"h-4 w-4"}),u.jsx("span",{children:c?"Enregistrement...":"Enregistrer"})]})]}):u.jsxs("button",{onClick:()=>a(!0),className:"btn-primary flex items-center space-x-2",children:[u.jsx(kv,{className:"h-4 w-4"}),u.jsx("span",{children:"Modifier"})]})]}),u.jsxs("div",{className:"card",children:[u.jsx("div",{className:"flex justify-center mb-8",children:u.jsx("div",{className:"w-32 h-32 bg-primary-light rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-5xl font-bold text-primary",children:h.username?.[0]?.toUpperCase()||h.full_name?.[0]?.toUpperCase()||"U"})})}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Nom complet"}),u.jsxs("div",{className:"relative",children:[u.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"text",value:h.full_name,onChange:y=>p({...h,full_name:y.target.value}),disabled:!n,className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600 disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:cursor-not-allowed"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Nom d'utilisateur"}),u.jsxs("div",{className:"relative",children:[u.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"text",value:h.username,onChange:y=>p({...h,username:y.target.value}),disabled:!n,minLength:3,className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600 disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:cursor-not-allowed"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),u.jsxs("div",{className:"relative",children:[u.jsx(Os,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"email",value:h.email,onChange:y=>p({...h,email:y.target.value}),disabled:!n,className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600 disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:cursor-not-allowed"})]})]}),t&&u.jsx("div",{className:"pt-6 border-t border-gray-200 dark:border-gray-700",children:u.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Compte cr:"})," ",new Date(e.user.created_at).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})]}),t.updated_at&&u.jsxs("p",{children:[u.jsx("strong",{children:"Dernire modification:"})," ",new Date(t.updated_at).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})]})]})})]})]})]})})}function VM(){const{session:e}=Jt(),[t,r]=x.useState([]),[n,a]=x.useState(!0),[i,l]=x.useState(null);x.useEffect(()=>{c()},[e]);const c=async()=>{if(e?.user?.id)try{const{data:v,error:y}=await ie.from("reservations").select(`
          id,
          nb_places,
          horaire,
          montant_total,
          nom_passager,
          telephone_passager,
          email_passager,
          statut,
          statut_paiement,
          fedapay_transaction_id,
          created_at,
          trajets:trajet_id (
            id,
            depart,
            arrivee,
            compagnies:compagnie_id (nom)
          )
        `).eq("user_id",e.user.id).order("created_at",{ascending:!1});if(y)throw y;r(v||[])}catch(v){console.error("Error loading reservations:",v)}finally{a(!1)}},d=async v=>{if(!v.fedapay_transaction_id){alert(" Aucune transaction de paiement trouve");return}try{l(v.id),console.log(" Vrification du statut pour:",v.fedapay_transaction_id);const y=await Nv(v.fedapay_transaction_id);if(y.success){console.log(" Statut rcupr:",y.status);const{error:j}=await ie.from("reservations").update({statut_paiement:y.status,statut:y.status==="approved"?"confirmee":"en_attente"}).eq("id",v.id);if(j)throw console.error("Erreur mise  jour:",j),j;alert({approved:" Paiement confirm ! Votre rservation est valide.",pending:" Paiement en attente. Veuillez complter le paiement.",declined:" Paiement refus. Veuillez ressayer.",canceled:" Paiement annul."}[y.status]||`Statut: ${y.status}`),await c()}else alert(" Impossible de vrifier le statut du paiement")}catch(y){console.error(" Erreur vrification:",y),alert(`Erreur: ${y.message}`)}finally{l(null)}},h=async v=>{if(confirm("tes-vous sr de vouloir annuler cette rservation ?"))try{const{error:y}=await ie.from("reservations").update({statut:"annulee",statut_paiement:"canceled"}).eq("id",v).eq("statut","en_attente");if(y)throw y;alert(" Rservation annule"),await c()}catch(y){console.error(" Erreur annulation:",y),alert(`Erreur: ${y.message}`)}},p=v=>{const y={en_attente:{color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300",icon:gj,label:"En attente"},confirmee:{color:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",icon:mr,label:"Confirme"},annulee:{color:"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400",icon:fr,label:"Annule"},expiree:{color:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",icon:fr,label:"Expire"}},j=y[v]||y.en_attente,w=j.icon;return u.jsxs("span",{className:`inline-flex items-center space-x-1 px-3 py-1 rounded-full text-xs font-semibold ${j.color}`,children:[u.jsx(w,{className:"h-3 w-3"}),u.jsx("span",{children:j.label})]})},m=v=>{const y={pending:{color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300",label:"En attente",icon:gj},approved:{color:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",label:"Pay",icon:mr},declined:{color:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",label:"Refus",icon:fr},canceled:{color:"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400",label:"Annul",icon:fr}},j=y[v]||y.pending,w=j.icon;return u.jsxs("span",{className:`inline-flex items-center space-x-1 px-2 py-1 rounded text-xs font-semibold ${j.color}`,children:[u.jsx(w,{className:"h-3 w-3"}),u.jsx("span",{children:j.label})]})};return n?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):u.jsxs("div",{className:"page-container",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Mes rservations"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Consultez l'historique de vos rservations"})]}),t.length===0?u.jsxs("div",{className:"text-center py-20",children:[u.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center",children:u.jsx(vn,{className:"h-12 w-12 text-gray-400"})}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Aucune rservation"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Vous n'avez pas encore effectu de rservation"}),u.jsx(ke,{to:"/trajets",className:"btn-primary",children:"Rechercher des trajets"})]}):u.jsx("div",{className:"space-y-4",children:t.map(v=>u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:[v.trajets.depart,"  ",v.trajets.arrivee]}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:v.trajets.compagnies?.nom})]}),p(v.statut)]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[u.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400",children:[u.jsx(vn,{className:"h-4 w-4"}),u.jsx("span",{children:new Date(v.created_at).toLocaleDateString("fr-FR")})]}),u.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400",children:[u.jsx(yn,{className:"h-4 w-4"}),u.jsx("span",{children:v.horaire})]}),u.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400",children:[u.jsx(ms,{className:"h-4 w-4"}),u.jsxs("span",{children:[v.nb_places," place",v.nb_places>1?"s":""]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(tl,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"}),m(v.statut_paiement)]})]}),u.jsxs("div",{className:"flex gap-2 mt-3",children:[v.statut_paiement==="pending"&&v.fedapay_transaction_id&&u.jsxs("button",{onClick:()=>d(v),disabled:i===v.id,className:"flex items-center space-x-1 px-3 py-2 rounded-lg bg-blue-50 hover:bg-blue-100 dark:bg-blue-900/30 dark:hover:bg-blue-900/50 text-blue-700 dark:text-blue-300 text-xs font-semibold transition-colors disabled:opacity-50",children:[u.jsx(EM,{className:`h-3 w-3 ${i===v.id?"animate-spin":""}`}),u.jsx("span",{children:i===v.id?"Vrification...":"Vrifier"})]}),v.statut==="en_attente"&&v.statut_paiement==="pending"&&u.jsxs(ke,{to:`/payment/${v.id}`,className:"flex items-center space-x-1 px-3 py-2 rounded-lg bg-primary hover:bg-primary/90 text-white text-xs font-semibold transition-colors",children:[u.jsx(tl,{className:"h-3 w-3"}),u.jsxs("span",{children:["Payer ",v.montant_total," FCFA"]})]}),v.statut==="en_attente"&&u.jsxs("button",{onClick:()=>h(v.id),className:"flex items-center space-x-1 px-3 py-2 rounded-lg bg-red-50 hover:bg-red-100 dark:bg-red-900/30 dark:hover:bg-red-900/50 text-red-700 dark:text-red-300 text-xs font-semibold transition-colors",children:[u.jsx(fr,{className:"h-3 w-3"}),u.jsx("span",{children:"Annuler"})]})]})]}),u.jsx("div",{className:"flex flex-col items-end justify-center",children:u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:"text-2xl font-bold text-primary",children:v.montant_total}),u.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 ml-1",children:"FCFA"})]})})]}),u.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 text-sm text-gray-600 dark:text-gray-400",children:[u.jsxs("div",{children:[u.jsx("strong",{children:"Passager:"})," ",v.nom_passager]}),u.jsxs("div",{children:[u.jsx("strong",{children:"Tlphone:"})," ",v.telephone_passager]}),v.email_passager&&u.jsxs("div",{children:[u.jsx("strong",{children:"Email:"})," ",v.email_passager]})]})})]},v.id))})]})}function HM(){const{session:e}=Jt(),[t,r]=x.useState([]),[n,a]=x.useState(!0);x.useEffect(()=>{i()},[e]);const i=async()=>{if(e?.user?.id)try{const{data:l,error:c}=await ie.from("favoris").select("*, trajets(*, compagnies:compagnie_id(nom))").eq("user_id",e.user.id).order("created_at",{ascending:!1});if(c)throw c;const d=(l||[]).map(h=>({...h.trajets,compagnie:h.trajets?.compagnies?.nom}));r(d)}catch(l){console.error("Error loading favorites:",l)}finally{a(!1)}};return n?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):u.jsxs("div",{className:"page-container",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Mes favoris"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Retrouvez vos trajets prfrs"})]}),t.length===0?u.jsxs("div",{className:"text-center py-20",children:[u.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center",children:u.jsx(yd,{className:"h-12 w-12 text-gray-400"})}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Aucun favori"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Ajoutez des trajets  vos favoris pour les retrouver facilement"}),u.jsx(ke,{to:"/trajets",className:"btn-primary",children:"Explorer les trajets"})]}):u.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(l=>u.jsx(Pv,{trajet:l,isFavorite:!0,onFavoriteToggle:i},l.id))})]})}function KE(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=KE(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Te(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=KE(e))&&(n&&(n+=" "),n+=t);return n}var GM=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Ov(e){if(typeof e!="string")return!1;var t=GM;return t.includes(e)}var YM=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function VE(e){if(typeof e!="string")return!1;var t=YM;return t.includes(e)}function HE(e){return typeof e=="string"&&e.startsWith("data-")}function nr(e){var t=Object.entries(e).filter(r=>{var[n]=r;return VE(n)||HE(n)});return Object.fromEntries(t)}function gi(e){if(e==null)return null;if(x.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return nr(t)}return typeof e=="object"&&!Array.isArray(e)?nr(e):null}function ar(e){var t=Object.entries(e).filter(r=>{var[n]=r;return VE(n)||HE(n)||Ov(n)});return Object.fromEntries(t)}function GE(e){return e==null?null:x.isValidElement(e)?ar(e.props):typeof e=="object"&&!Array.isArray(e)?ar(e):null}var XM=["children","width","height","viewBox","className","style","title","desc"];function pg(){return pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pg.apply(null,arguments)}function JM(e,t){if(e==null)return{};var r,n,a=QM(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function QM(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Av=x.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:l,style:c,title:d,desc:h}=e,p=JM(e,XM),m=i||{width:n,height:a,x:0,y:0},v=Te("recharts-surface",l);return x.createElement("svg",pg({},ar(p),{className:v,width:n,height:a,style:c,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),x.createElement("title",null,d),x.createElement("desc",null,h),r)}),ZM=["children","className"];function mg(){return mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mg.apply(null,arguments)}function e4(e,t){if(e==null)return{};var r,n,a=t4(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function t4(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ct=x.forwardRef((e,t)=>{var{children:r,className:n}=e,a=e4(e,ZM),i=Te("recharts-layer",n);return x.createElement("g",mg({className:i},ar(a),{ref:t}),r)}),YE=x.createContext(null),r4=()=>x.useContext(YE);function He(e){return function(){return e}}const XE=Math.cos,Su=Math.sin,cn=Math.sqrt,Eu=Math.PI,bd=2*Eu,gg=Math.PI,vg=2*gg,ni=1e-6,n4=vg-ni;function JE(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function a4(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return JE;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class i4{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?JE:a4(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,l){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+l}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,c=this._y1,d=n-t,h=a-r,p=l-t,m=c-r,v=p*p+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(v>ni)if(!(Math.abs(m*d-h*p)>ni)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let y=n-l,j=a-c,w=d*d+h*h,_=y*y+j*j,E=Math.sqrt(w),A=Math.sqrt(v),P=i*Math.tan((gg-Math.acos((w+v-_)/(2*E*A)))/2),C=P/A,N=P/E;Math.abs(C-1)>ni&&this._append`L${t+C*p},${r+C*m}`,this._append`A${i},${i},0,0,${+(m*y>p*j)},${this._x1=t+N*d},${this._y1=r+N*h}`}}arc(t,r,n,a,i,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(a),d=n*Math.sin(a),h=t+c,p=r+d,m=1^l,v=l?a-i:i-a;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>ni||Math.abs(this._y1-p)>ni)&&this._append`L${h},${p}`,n&&(v<0&&(v=v%vg+vg),v>n4?this._append`A${n},${n},0,1,${m},${t-c},${r-d}A${n},${n},0,1,${m},${this._x1=h},${this._y1=p}`:v>ni&&this._append`A${n},${n},0,${+(v>=gg)},${m},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Cv(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new i4(t)}function Tv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function QE(e){this._context=e}QE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function wd(e){return new QE(e)}function ZE(e){return e[0]}function eP(e){return e[1]}function tP(e,t){var r=He(!0),n=null,a=wd,i=null,l=Cv(c);e=typeof e=="function"?e:e===void 0?ZE:He(e),t=typeof t=="function"?t:t===void 0?eP:He(t);function c(d){var h,p=(d=Tv(d)).length,m,v=!1,y;for(n==null&&(i=a(y=l())),h=0;h<=p;++h)!(h<p&&r(m=d[h],h,d))===v&&((v=!v)?i.lineStart():i.lineEnd()),v&&i.point(+e(m,h,d),+t(m,h,d));if(y)return i=null,y+""||null}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:He(+d),c):e},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:He(+d),c):t},c.defined=function(d){return arguments.length?(r=typeof d=="function"?d:He(!!d),c):r},c.curve=function(d){return arguments.length?(a=d,n!=null&&(i=a(n)),c):a},c.context=function(d){return arguments.length?(d==null?n=i=null:i=a(n=d),c):n},c}function Zc(e,t,r){var n=null,a=He(!0),i=null,l=wd,c=null,d=Cv(h);e=typeof e=="function"?e:e===void 0?ZE:He(+e),t=typeof t=="function"?t:He(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?eP:He(+r);function h(m){var v,y,j,w=(m=Tv(m)).length,_,E=!1,A,P=new Array(w),C=new Array(w);for(i==null&&(c=l(A=d())),v=0;v<=w;++v){if(!(v<w&&a(_=m[v],v,m))===E)if(E=!E)y=v,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),j=v-1;j>=y;--j)c.point(P[j],C[j]);c.lineEnd(),c.areaEnd()}E&&(P[v]=+e(_,v,m),C[v]=+t(_,v,m),c.point(n?+n(_,v,m):P[v],r?+r(_,v,m):C[v]))}if(A)return c=null,A+""||null}function p(){return tP().defined(a).curve(l).context(i)}return h.x=function(m){return arguments.length?(e=typeof m=="function"?m:He(+m),n=null,h):e},h.x0=function(m){return arguments.length?(e=typeof m=="function"?m:He(+m),h):e},h.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:He(+m),h):n},h.y=function(m){return arguments.length?(t=typeof m=="function"?m:He(+m),r=null,h):t},h.y0=function(m){return arguments.length?(t=typeof m=="function"?m:He(+m),h):t},h.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:He(+m),h):r},h.lineX0=h.lineY0=function(){return p().x(e).y(t)},h.lineY1=function(){return p().x(e).y(r)},h.lineX1=function(){return p().x(n).y(t)},h.defined=function(m){return arguments.length?(a=typeof m=="function"?m:He(!!m),h):a},h.curve=function(m){return arguments.length?(l=m,i!=null&&(c=l(i)),h):l},h.context=function(m){return arguments.length?(m==null?i=c=null:c=l(i=m),h):i},h}class rP{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function s4(e){return new rP(e,!0)}function o4(e){return new rP(e,!1)}const Rv={draw(e,t){const r=cn(t/Eu);e.moveTo(r,0),e.arc(0,0,r,0,bd)}},l4={draw(e,t){const r=cn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},nP=cn(1/3),c4=nP*2,u4={draw(e,t){const r=cn(t/c4),n=r*nP;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},d4={draw(e,t){const r=cn(t),n=-r/2;e.rect(n,n,r,r)}},f4=.8908130915292852,aP=Su(Eu/10)/Su(7*Eu/10),h4=Su(bd/10)*aP,p4=-XE(bd/10)*aP,m4={draw(e,t){const r=cn(t*f4),n=h4*r,a=p4*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const l=bd*i/5,c=XE(l),d=Su(l);e.lineTo(d*r,-c*r),e.lineTo(c*n-d*a,d*n+c*a)}e.closePath()}},xp=cn(3),g4={draw(e,t){const r=-cn(t/(xp*3));e.moveTo(0,r*2),e.lineTo(-xp*r,-r),e.lineTo(xp*r,-r),e.closePath()}},Lr=-.5,$r=cn(3)/2,yg=1/cn(12),v4=(yg/2+1)*3,y4={draw(e,t){const r=cn(t/v4),n=r/2,a=r*yg,i=n,l=r*yg+r,c=-i,d=l;e.moveTo(n,a),e.lineTo(i,l),e.lineTo(c,d),e.lineTo(Lr*n-$r*a,$r*n+Lr*a),e.lineTo(Lr*i-$r*l,$r*i+Lr*l),e.lineTo(Lr*c-$r*d,$r*c+Lr*d),e.lineTo(Lr*n+$r*a,Lr*a-$r*n),e.lineTo(Lr*i+$r*l,Lr*l-$r*i),e.lineTo(Lr*c+$r*d,Lr*d-$r*c),e.closePath()}};function x4(e,t){let r=null,n=Cv(a);e=typeof e=="function"?e:He(e||Rv),t=typeof t=="function"?t:He(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:He(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:He(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Pu(){}function Nu(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function iP(e){this._context=e}iP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Nu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Nu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function b4(e){return new iP(e)}function sP(e){this._context=e}sP.prototype={areaStart:Pu,areaEnd:Pu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Nu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function w4(e){return new sP(e)}function oP(e){this._context=e}oP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Nu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function j4(e){return new oP(e)}function lP(e){this._context=e}lP.prototype={areaStart:Pu,areaEnd:Pu,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function _4(e){return new lP(e)}function bj(e){return e<0?-1:1}function wj(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),l=(r-e._y1)/(a||n<0&&-0),c=(i*a+l*n)/(n+a);return(bj(i)+bj(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(c))||0}function jj(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function bp(e,t,r){var n=e._x0,a=e._y0,i=e._x1,l=e._y1,c=(i-n)/3;e._context.bezierCurveTo(n+c,a+c*t,i-c,l-c*r,i,l)}function Ou(e){this._context=e}Ou.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:bp(this,this._t0,jj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,bp(this,jj(this,r=wj(this,e,t)),r);break;default:bp(this,this._t0,r=wj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function cP(e){this._context=new uP(e)}(cP.prototype=Object.create(Ou.prototype)).point=function(e,t){Ou.prototype.point.call(this,t,e)};function uP(e){this._context=e}uP.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function k4(e){return new Ou(e)}function S4(e){return new cP(e)}function dP(e){this._context=e}dP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=_j(e),a=_j(t),i=0,l=1;l<r;++i,++l)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function _j(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),l=new Array(r);for(a[0]=0,i[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,l[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,l[t]-=n*l[t-1];for(a[r-1]=l[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(l[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function E4(e){return new dP(e)}function jd(e,t){this._context=e,this._t=t}jd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function P4(e){return new jd(e,.5)}function N4(e){return new jd(e,0)}function O4(e){return new jd(e,1)}function gs(e,t){if((l=e.length)>1)for(var r=1,n,a,i=e[t[0]],l,c=i.length;r<l;++r)for(a=i,i=e[t[r]],n=0;n<c;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function xg(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function A4(e,t){return e[t]}function C4(e){const t=[];return t.key=e,t}function T4(){var e=He([]),t=xg,r=gs,n=A4;function a(i){var l=Array.from(e.apply(this,arguments),C4),c,d=l.length,h=-1,p;for(const m of i)for(c=0,++h;c<d;++c)(l[c][h]=[0,+n(m,l[c].key,h,i)]).data=m;for(c=0,p=Tv(t(l));c<d;++c)l[p[c]].index=c;return r(l,p),l}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:He(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:He(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?xg:typeof i=="function"?i:He(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??gs,a):r},a}function R4(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,l;a<i;++a){for(l=r=0;r<n;++r)l+=e[r][a][1]||0;if(l)for(r=0;r<n;++r)e[r][a][1]/=l}gs(e,t)}}function I4(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var l=0,c=0;l<a;++l)c+=e[l][r][1]||0;n[r][1]+=n[r][0]=-c/2}gs(e,t)}}function D4(e,t){if(!(!((l=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,l;n<i;++n){for(var c=0,d=0,h=0;c<l;++c){for(var p=e[t[c]],m=p[n][1]||0,v=p[n-1][1]||0,y=(m-v)/2,j=0;j<c;++j){var w=e[t[j]],_=w[n][1]||0,E=w[n-1][1]||0;y+=_-E}d+=m,h+=y*m}a[n-1][1]+=a[n-1][0]=r,d&&(r-=h/d)}a[n-1][1]+=a[n-1][0]=r,gs(e,t)}}var wp={},jp={},kj;function M4(){return kj||(kj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(jp)),jp}var _p={},Sj;function fP(){return Sj||(Sj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(_p)),_p}var kp={},Ej;function Iv(){return Ej||(Ej=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(kp)),kp}var Sp={},Ep={},Pj;function L4(){return Pj||(Pj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(Ep)),Ep}var Nj;function Dv(){return Nj||(Nj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L4(),r=Iv();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],l=a.length;if(l===0)return i;let c=0,d="",h="",p=!1;for(a.charCodeAt(0)===46&&(i.push(""),c++);c<l;){const m=a[c];h?m==="\\"&&c+1<l?(c++,d+=a[c]):m===h?h="":d+=m:p?m==='"'||m==="'"?h=m:m==="]"?(p=!1,i.push(d),d=""):d+=m:m==="["?(p=!0,d&&(i.push(d),d="")):m==="."?d&&(i.push(d),d=""):d+=m,c++}return d&&i.push(d),i}e.toPath=n})(Sp)),Sp}var Oj;function Mv(){return Oj||(Oj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M4(),r=fP(),n=Iv(),a=Dv();function i(c,d,h){if(c==null)return h;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return h;const p=c[d];return p===void 0?r.isDeepKey(d)?i(c,a.toPath(d),h):h:p}case"number":case"symbol":{typeof d=="number"&&(d=n.toKey(d));const p=c[d];return p===void 0?h:p}default:{if(Array.isArray(d))return l(c,d,h);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return h;const p=c[d];return p===void 0?h:p}}}function l(c,d,h){if(d.length===0)return h;let p=c;for(let m=0;m<d.length;m++){if(p==null||t.isUnsafeProperty(d[m]))return h;p=p[d[m]]}return p===void 0?h:p}e.get=i})(wp)),wp}var Pp,Aj;function $4(){return Aj||(Aj=1,Pp=Mv().get),Pp}var B4=$4();const vi=ln(B4);var Rt=e=>e===0?0:e>0?1:-1,Nr=e=>typeof e=="number"&&e!=+e,Vn=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,fe=e=>(typeof e=="number"||e instanceof Number)&&!Nr(e),wn=e=>fe(e)||typeof e=="string",F4=0,rl=e=>{var t=++F4;return"".concat(e||"").concat(t)},Xt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!fe(t)&&typeof t!="string")return n;var i;if(Vn(t)){if(r==null)return n;var l=t.indexOf("%");i=r*parseFloat(t.slice(0,l))/100}else i=+t;return Nr(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},hP=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function ze(e,t,r){return fe(e)&&fe(t)?e+r*(t-e):t}function pP(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):vi(n,t))===r)}var Je=e=>e===null||typeof e>"u",ml=e=>Je(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),U4=["type","size","sizeType"];function bg(){return bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bg.apply(null,arguments)}function Cj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cj(Object(r),!0).forEach(function(n){z4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z4(e,t,r){return(t=q4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q4(e){var t=W4(e,"string");return typeof t=="symbol"?t:t+""}function W4(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function K4(e,t){if(e==null)return{};var r,n,a=V4(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function V4(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var mP={symbolCircle:Rv,symbolCross:l4,symbolDiamond:u4,symbolSquare:d4,symbolStar:m4,symbolTriangle:g4,symbolWye:y4},H4=Math.PI/180,G4=e=>{var t="symbol".concat(ml(e));return mP[t]||Rv},Y4=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*H4;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},X4=(e,t)=>{mP["symbol".concat(ml(e))]=t},Lv=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=K4(e,U4),i=Tj(Tj({},a),{},{type:t,size:r,sizeType:n}),l="circle";typeof t=="string"&&(l=t);var c=()=>{var v=G4(l),y=x4().type(v).size(Y4(r,n,l)),j=y();if(j!==null)return j},{className:d,cx:h,cy:p}=i,m=ar(i);return h===+h&&p===+p&&r===+r?x.createElement("path",bg({},m,{className:Te("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:c()})):null};Lv.registerSymbol=X4;var $v=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(x.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{Ov(a)&&(n[a]=(i=>r[a](r,i)))}),n},J4=(e,t,r)=>n=>(e(t,r,n),null),gl=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];Ov(a)&&typeof i=="function"&&(n||(n={}),n[a]=J4(i,t,r))}),n};function wg(){return wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wg.apply(null,arguments)}function Rj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Q4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rj(Object(r),!0).forEach(function(n){Bv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bv(e,t,r){return(t=Z4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z4(e){var t=eL(e,"string");return typeof t=="symbol"?t:t+""}function eL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Br=32;class Fv extends x.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,a=Br/2,i=Br/6,l=Br/3,c=t.inactive?n:t.color,d=r??t.type;if(d==="none")return null;if(d==="plainline")return x.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:a,x2:Br,y2:a,className:"recharts-legend-icon"});if(d==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Br,"M").concat(2*l,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(d==="rect")return x.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Br/8,"h").concat(Br,"v").concat(Br*3/4,"h").concat(-Br,"z"),className:"recharts-legend-icon"});if(x.isValidElement(t.legendIcon)){var h=Q4({},t);return delete h.legendIcon,x.cloneElement(t.legendIcon,h)}return x.createElement(Lv,{fill:c,cx:a,cy:a,size:Br,sizeType:"diameter",type:d})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:l}=this.props,c={x:0,y:0,width:Br,height:Br},d={display:n==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((p,m)=>{var v=p.formatter||a,y=Te({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:p.inactive});if(p.type==="none")return null;var j=p.inactive?i:p.color,w=v?v(p.value,p,m):p.value;return x.createElement("li",wg({className:y,style:d,key:"legend-item-".concat(m)},gl(this.props,p,m)),x.createElement(Av,{width:r,height:r,viewBox:c,style:h,"aria-label":"".concat(w," legend icon")},this.renderIcon(p,l)),x.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},w))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}Bv(Fv,"displayName","Legend");Bv(Fv,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Np={},Op={},Ij;function tL(){return Ij||(Ij=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const l=r[i],c=n(l);a.has(c)||a.set(c,l)}return Array.from(a.values())}e.uniqBy=t})(Op)),Op}var Ap={},Dj;function gP(){return Dj||(Dj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Ap)),Ap}var Cp={},Tp={},Rp={},Mj;function rL(){return Mj||(Mj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(Rp)),Rp}var Lj;function Uv(){return Lj||(Lj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rL();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Tp)),Tp}var Ip={},$j;function nL(){return $j||($j=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(Ip)),Ip}var Bj;function aL(){return Bj||(Bj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uv(),r=nL();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(Cp)),Cp}var Dp={},Mp={},Fj;function iL(){return Fj||(Fj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mv();function r(n){return function(a){return t.get(a,n)}}e.property=r})(Mp)),Mp}var Lp={},$p={},Bp={},Fp={},Uj;function vP(){return Uj||(Uj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Fp)),Fp}var Up={},zj;function yP(){return zj||(zj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Up)),Up}var zp={},qj;function xP(){return qj||(qj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(zp)),zp}var Wj;function sL(){return Wj||(Wj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vP(),r=yP(),n=xP();function a(p,m,v){return typeof v!="function"?a(p,m,()=>{}):i(p,m,function y(j,w,_,E,A,P){const C=v(j,w,_,E,A,P);return C!==void 0?!!C:i(j,w,y,P)},new Map)}function i(p,m,v,y){if(m===p)return!0;switch(typeof m){case"object":return l(p,m,v,y);case"function":return Object.keys(m).length>0?i(p,{...m},v,y):n.eq(p,m);default:return t.isObject(p)?typeof m=="string"?m==="":!0:n.eq(p,m)}}function l(p,m,v,y){if(m==null)return!0;if(Array.isArray(m))return d(p,m,v,y);if(m instanceof Map)return c(p,m,v,y);if(m instanceof Set)return h(p,m,v,y);const j=Object.keys(m);if(p==null)return j.length===0;if(j.length===0)return!0;if(y?.has(m))return y.get(m)===p;y?.set(m,p);try{for(let w=0;w<j.length;w++){const _=j[w];if(!r.isPrimitive(p)&&!(_ in p)||m[_]===void 0&&p[_]!==void 0||m[_]===null&&p[_]!==null||!v(p[_],m[_],_,p,m,y))return!1}return!0}finally{y?.delete(m)}}function c(p,m,v,y){if(m.size===0)return!0;if(!(p instanceof Map))return!1;for(const[j,w]of m.entries()){const _=p.get(j);if(v(_,w,j,p,m,y)===!1)return!1}return!0}function d(p,m,v,y){if(m.length===0)return!0;if(!Array.isArray(p))return!1;const j=new Set;for(let w=0;w<m.length;w++){const _=m[w];let E=!1;for(let A=0;A<p.length;A++){if(j.has(A))continue;const P=p[A];let C=!1;if(v(P,_,w,p,m,y)&&(C=!0),C){j.add(A),E=!0;break}}if(!E)return!1}return!0}function h(p,m,v,y){return m.size===0?!0:p instanceof Set?d([...p],[...m],v,y):!1}e.isMatchWith=a,e.isSetMatch=h})(Bp)),Bp}var Kj;function bP(){return Kj||(Kj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sL();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})($p)),$p}var qp={},Wp={},Kp={},Vj;function oL(){return Vj||(Vj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Kp)),Kp}var Vp={},Hj;function wP(){return Hj||(Hj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Vp)),Vp}var Hp={},Gj;function jP(){return Gj||(Gj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",l="[object Symbol]",c="[object Date]",d="[object Map]",h="[object Set]",p="[object Array]",m="[object Function]",v="[object ArrayBuffer]",y="[object Object]",j="[object Error]",w="[object DataView]",_="[object Uint8Array]",E="[object Uint8ClampedArray]",A="[object Uint16Array]",P="[object Uint32Array]",C="[object BigUint64Array]",N="[object Int8Array]",S="[object Int16Array]",T="[object Int32Array]",M="[object BigInt64Array]",z="[object Float32Array]",W="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=v,e.arrayTag=p,e.bigInt64ArrayTag=M,e.bigUint64ArrayTag=C,e.booleanTag=a,e.dataViewTag=w,e.dateTag=c,e.errorTag=j,e.float32ArrayTag=z,e.float64ArrayTag=W,e.functionTag=m,e.int16ArrayTag=S,e.int32ArrayTag=T,e.int8ArrayTag=N,e.mapTag=d,e.numberTag=n,e.objectTag=y,e.regexpTag=t,e.setTag=h,e.stringTag=r,e.symbolTag=l,e.uint16ArrayTag=A,e.uint32ArrayTag=P,e.uint8ArrayTag=_,e.uint8ClampedArrayTag=E})(Hp)),Hp}var Gp={},Yj;function lL(){return Yj||(Yj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Gp)),Gp}var Xj;function _P(){return Xj||(Xj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oL(),r=wP(),n=jP(),a=yP(),i=lL();function l(p,m){return c(p,void 0,p,new Map,m)}function c(p,m,v,y=new Map,j=void 0){const w=j?.(p,m,v,y);if(w!==void 0)return w;if(a.isPrimitive(p))return p;if(y.has(p))return y.get(p);if(Array.isArray(p)){const _=new Array(p.length);y.set(p,_);for(let E=0;E<p.length;E++)_[E]=c(p[E],E,v,y,j);return Object.hasOwn(p,"index")&&(_.index=p.index),Object.hasOwn(p,"input")&&(_.input=p.input),_}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const _=new RegExp(p.source,p.flags);return _.lastIndex=p.lastIndex,_}if(p instanceof Map){const _=new Map;y.set(p,_);for(const[E,A]of p)_.set(E,c(A,E,v,y,j));return _}if(p instanceof Set){const _=new Set;y.set(p,_);for(const E of p)_.add(c(E,void 0,v,y,j));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(i.isTypedArray(p)){const _=new(Object.getPrototypeOf(p)).constructor(p.length);y.set(p,_);for(let E=0;E<p.length;E++)_[E]=c(p[E],E,v,y,j);return _}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const _=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return y.set(p,_),d(_,p,v,y,j),_}if(typeof File<"u"&&p instanceof File){const _=new File([p],p.name,{type:p.type});return y.set(p,_),d(_,p,v,y,j),_}if(typeof Blob<"u"&&p instanceof Blob){const _=new Blob([p],{type:p.type});return y.set(p,_),d(_,p,v,y,j),_}if(p instanceof Error){const _=new p.constructor;return y.set(p,_),_.message=p.message,_.name=p.name,_.stack=p.stack,_.cause=p.cause,d(_,p,v,y,j),_}if(p instanceof Boolean){const _=new Boolean(p.valueOf());return y.set(p,_),d(_,p,v,y,j),_}if(p instanceof Number){const _=new Number(p.valueOf());return y.set(p,_),d(_,p,v,y,j),_}if(p instanceof String){const _=new String(p.valueOf());return y.set(p,_),d(_,p,v,y,j),_}if(typeof p=="object"&&h(p)){const _=Object.create(Object.getPrototypeOf(p));return y.set(p,_),d(_,p,v,y,j),_}return p}function d(p,m,v=p,y,j){const w=[...Object.keys(m),...t.getSymbols(m)];for(let _=0;_<w.length;_++){const E=w[_],A=Object.getOwnPropertyDescriptor(p,E);(A==null||A.writable)&&(p[E]=c(m[E],E,v,y,j))}}function h(p){switch(r.getTag(p)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=c,e.copyProperties=d})(Wp)),Wp}var Jj;function cL(){return Jj||(Jj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_P();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(qp)),qp}var Qj;function uL(){return Qj||(Qj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bP(),r=cL();function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(Lp)),Lp}var Yp={},Xp={},Jp={},Zj;function dL(){return Zj||(Zj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_P(),r=jP();function n(a,i){return t.cloneDeepWith(a,(l,c,d,h)=>{const p=i?.(l,c,d,h);if(p!==void 0)return p;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const m=new a.constructor(a?.valueOf());return t.copyProperties(m,a),m}case r.argumentsTag:{const m={};return t.copyProperties(m,a),m.length=a.length,m[Symbol.iterator]=a[Symbol.iterator],m}default:return}})}e.cloneDeepWith=n})(Jp)),Jp}var e1;function fL(){return e1||(e1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dL();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Xp)),Xp}var Qp={},Zp={},t1;function kP(){return t1||(t1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Zp)),Zp}var em={},r1;function hL(){return r1||(r1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wP();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(em)),em}var n1;function pL(){return n1||(n1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fP(),r=kP(),n=hL(),a=Dv();function i(l,c){let d;if(Array.isArray(c)?d=c:typeof c=="string"&&t.isDeepKey(c)&&l?.[c]==null?d=a.toPath(c):d=[c],d.length===0)return!1;let h=l;for(let p=0;p<d.length;p++){const m=d[p];if((h==null||!Object.hasOwn(h,m))&&!((Array.isArray(h)||n.isArguments(h))&&r.isIndex(m)&&m<h.length))return!1;h=h[m]}return!0}e.has=i})(Qp)),Qp}var a1;function mL(){return a1||(a1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bP(),r=Iv(),n=fL(),a=Mv(),i=pL();function l(c,d){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=r.toKey(c);break}}return d=n.cloneDeep(d),function(h){const p=a.get(h,c);return p===void 0?i.has(h,c):d===void 0?p===void 0:t.isMatch(p,d)}}e.matchesProperty=l})(Yp)),Yp}var i1;function gL(){return i1||(i1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gP(),r=iL(),n=uL(),a=mL();function i(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}e.iteratee=i})(Dp)),Dp}var s1;function vL(){return s1||(s1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tL(),r=gP(),n=aL(),a=gL();function i(l,c=r.identity){return n.isArrayLikeObject(l)?t.uniqBy(Array.from(l),a.iteratee(c)):[]}e.uniqBy=i})(Np)),Np}var tm,o1;function yL(){return o1||(o1=1,tm=vL().uniqBy),tm}var xL=yL();const l1=ln(xL);function SP(e,t,r){return t===!0?l1(e,r):typeof t=="function"?l1(e,t):e}var rm={exports:{}},nm={},am={exports:{}},im={};var c1;function bL(){if(c1)return im;c1=1;var e=_s();function t(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,i=e.useLayoutEffect,l=e.useDebugValue;function c(m,v){var y=v(),j=n({inst:{value:y,getSnapshot:v}}),w=j[0].inst,_=j[1];return i(function(){w.value=y,w.getSnapshot=v,d(w)&&_({inst:w})},[m,y,v]),a(function(){return d(w)&&_({inst:w}),m(function(){d(w)&&_({inst:w})})},[m]),l(y),y}function d(m){var v=m.getSnapshot;m=m.value;try{var y=v();return!r(m,y)}catch{return!0}}function h(m,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return im.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,im}var u1;function wL(){return u1||(u1=1,am.exports=bL()),am.exports}var d1;function jL(){if(d1)return nm;d1=1;var e=_s(),t=wL();function r(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,i=e.useRef,l=e.useEffect,c=e.useMemo,d=e.useDebugValue;return nm.useSyncExternalStoreWithSelector=function(h,p,m,v,y){var j=i(null);if(j.current===null){var w={hasValue:!1,value:null};j.current=w}else w=j.current;j=c(function(){function E(S){if(!A){if(A=!0,P=S,S=v(S),y!==void 0&&w.hasValue){var T=w.value;if(y(T,S))return C=T}return C=S}if(T=C,n(P,S))return T;var M=v(S);return y!==void 0&&y(T,M)?(P=S,T):(P=S,C=M)}var A=!1,P,C,N=m===void 0?null:m;return[function(){return E(p())},N===null?void 0:function(){return E(N())}]},[p,m,v,y]);var _=a(h,j[0],j[1]);return l(function(){w.hasValue=!0,w.value=_},[_]),d(_),_},nm}var f1;function _L(){return f1||(f1=1,rm.exports=jL()),rm.exports}var kL=_L(),zv=x.createContext(null),SL=e=>e,tt=()=>{var e=x.useContext(zv);return e?e.store.dispatch:SL},mu=()=>{},EL=()=>mu,PL=(e,t)=>e===t;function he(e){var t=x.useContext(zv);return kL.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:EL,t?t.store.getState:mu,t?t.store.getState:mu,t?e:mu,PL)}function NL(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function OL(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function AL(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var h1=e=>Array.isArray(e)?e:[e];function CL(e){const t=Array.isArray(e[0])?e[0]:e;return AL(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function TL(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var RL=class{constructor(e){this.value=e}deref(){return this.value}},IL=typeof WeakRef<"u"?WeakRef:RL,DL=0,p1=1;function eu(){return{s:DL,v:void 0,o:null,p:null}}function EP(e,t={}){let r=eu();const{resultEqualityCheck:n}=t;let a,i=0;function l(){let c=r;const{length:d}=arguments;for(let m=0,v=d;m<v;m++){const y=arguments[m];if(typeof y=="function"||typeof y=="object"&&y!==null){let j=c.o;j===null&&(c.o=j=new WeakMap);const w=j.get(y);w===void 0?(c=eu(),j.set(y,c)):c=w}else{let j=c.p;j===null&&(c.p=j=new Map);const w=j.get(y);w===void 0?(c=eu(),j.set(y,c)):c=w}}const h=c;let p;if(c.s===p1)p=c.v;else if(p=e.apply(null,arguments),i++,n){const m=a?.deref?.()??a;m!=null&&n(m,p)&&(p=m,i!==0&&i--),a=typeof p=="object"&&p!==null||typeof p=="function"?new IL(p):p}return h.s=p1,h.v=p,p}return l.clearCache=()=>{r=eu(),l.resetResultsCount()},l.resultsCount=()=>i,l.resetResultsCount=()=>{i=0},l}function ML(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,l=0,c,d={},h=a.pop();typeof h=="object"&&(d=h,h=a.pop()),NL(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...r,...d},{memoize:m,memoizeOptions:v=[],argsMemoize:y=EP,argsMemoizeOptions:j=[]}=p,w=h1(v),_=h1(j),E=CL(a),A=m(function(){return i++,h.apply(null,arguments)},...w),P=y(function(){l++;const N=TL(E,arguments);return c=A.apply(null,N),c},..._);return Object.assign(P,{resultFunc:h,memoizedResultFunc:A,dependencies:E,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:m,argsMemoize:y})};return Object.assign(n,{withTypes:()=>n}),n}var B=ML(EP),LL=Object.assign((e,t=B)=>{OL(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((l,c,d)=>(l[r[d]]=c,l),{}))},{withTypes:()=>LL}),sm={},om={},lm={},m1;function $L(){return m1||(m1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const l=t(n),c=t(a);if(l===c&&l===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?c-l:l-c}return 0};e.compareValues=r})(lm)),lm}var cm={},um={},g1;function PP(){return g1||(g1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(um)),um}var v1;function BL(){return v1||(v1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PP(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,l){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||l!=null&&Object.hasOwn(l,i)}e.isKey=a})(cm)),cm}var y1;function FL(){return y1||(y1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$L(),r=BL(),n=Dv();function a(i,l,c,d){if(i==null)return[];c=d?void 0:c,Array.isArray(i)||(i=Object.values(i)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(y=>String(y));const h=(y,j)=>{let w=y;for(let _=0;_<j.length&&w!=null;++_)w=w[j[_]];return w},p=(y,j)=>j==null||y==null?j:typeof y=="object"&&"key"in y?Object.hasOwn(j,y.key)?j[y.key]:h(j,y.path):typeof y=="function"?y(j):Array.isArray(y)?h(j,y):typeof j=="object"?j[y]:j,m=l.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||r.isKey(y)?y:{key:y,path:n.toPath(y)}));return i.map(y=>({original:y,criteria:m.map(j=>p(j,y))})).slice().sort((y,j)=>{for(let w=0;w<m.length;w++){const _=t.compareValues(y.criteria[w],j.criteria[w],c[w]);if(_!==0)return _}return 0}).map(y=>y.original)}e.orderBy=a})(om)),om}var dm={},x1;function UL(){return x1||(x1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),l=(c,d)=>{for(let h=0;h<c.length;h++){const p=c[h];Array.isArray(p)&&d<i?l(p,d+1):a.push(p)}};return l(r,0),a}e.flatten=t})(dm)),dm}var fm={},b1;function NP(){return b1||(b1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kP(),r=Uv(),n=vP(),a=xP();function i(l,c,d){return n.isObject(d)&&(typeof c=="number"&&r.isArrayLike(d)&&t.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?a.eq(d[c],l):!1}e.isIterateeCall=i})(fm)),fm}var w1;function zL(){return w1||(w1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FL(),r=UL(),n=NP();function a(i,...l){const c=l.length;return c>1&&n.isIterateeCall(i,l[0],l[1])?l=[]:c>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(i,r.flatten(l),["asc"])}e.sortBy=a})(sm)),sm}var hm,j1;function qL(){return j1||(j1=1,hm=zL().sortBy),hm}var WL=qL();const _d=ln(WL);var OP=e=>e.legend.settings,KL=e=>e.legend.size,VL=e=>e.legend.payload,HL=B([VL,OP],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?_d(n,r):n});function GL(){return he(HL)}var tu=1;function AP(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=x.useState({height:0,left:0,top:0,width:0}),n=x.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),l={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(l.height-t.height)>tu||Math.abs(l.left-t.left)>tu||Math.abs(l.top-t.top)>tu||Math.abs(l.width-t.width)>tu)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Lt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var YL=typeof Symbol=="function"&&Symbol.observable||"@@observable",_1=YL,pm=()=>Math.random().toString(36).substring(7).split("").join("."),XL={INIT:`@@redux/INIT${pm()}`,REPLACE:`@@redux/REPLACE${pm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${pm()}`},Au=XL;function qv(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function CP(e,t,r){if(typeof e!="function")throw new Error(Lt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Lt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Lt(1));return r(CP)(e,t)}let n=e,a=t,i=new Map,l=i,c=0,d=!1;function h(){l===i&&(l=new Map,i.forEach((_,E)=>{l.set(E,_)}))}function p(){if(d)throw new Error(Lt(3));return a}function m(_){if(typeof _!="function")throw new Error(Lt(4));if(d)throw new Error(Lt(5));let E=!0;h();const A=c++;return l.set(A,_),function(){if(E){if(d)throw new Error(Lt(6));E=!1,h(),l.delete(A),i=null}}}function v(_){if(!qv(_))throw new Error(Lt(7));if(typeof _.type>"u")throw new Error(Lt(8));if(typeof _.type!="string")throw new Error(Lt(17));if(d)throw new Error(Lt(9));try{d=!0,a=n(a,_)}finally{d=!1}return(i=l).forEach(A=>{A()}),_}function y(_){if(typeof _!="function")throw new Error(Lt(10));n=_,v({type:Au.REPLACE})}function j(){const _=m;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(Lt(11));function A(){const C=E;C.next&&C.next(p())}return A(),{unsubscribe:_(A)}},[_1](){return this}}}return v({type:Au.INIT}),{dispatch:v,subscribe:m,getState:p,replaceReducer:y,[_1]:j}}function JL(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Au.INIT})>"u")throw new Error(Lt(12));if(typeof r(void 0,{type:Au.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Lt(13))})}function TP(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const l=t[i];typeof e[l]=="function"&&(r[l]=e[l])}const n=Object.keys(r);let a;try{JL(r)}catch(i){a=i}return function(l={},c){if(a)throw a;let d=!1;const h={};for(let p=0;p<n.length;p++){const m=n[p],v=r[m],y=l[m],j=v(y,c);if(typeof j>"u")throw c&&c.type,new Error(Lt(14));h[m]=j,d=d||j!==y}return d=d||n.length!==Object.keys(l).length,d?h:l}}function Cu(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function QL(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(Lt(15))};const l={getState:a.getState,dispatch:(d,...h)=>i(d,...h)},c=e.map(d=>d(l));return i=Cu(...c)(a.dispatch),{...a,dispatch:i}}}function RP(e){return qv(e)&&"type"in e&&typeof e.type=="string"}var IP=Symbol.for("immer-nothing"),k1=Symbol.for("immer-draftable"),Or=Symbol.for("immer-state");function an(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var nl=Object.getPrototypeOf;function yi(e){return!!e&&!!e[Or]}function Hn(e){return e?DP(e)||Array.isArray(e)||!!e[k1]||!!e.constructor?.[k1]||vl(e)||Sd(e):!1}var ZL=Object.prototype.constructor.toString(),S1=new WeakMap;function DP(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=S1.get(r);return n===void 0&&(n=Function.toString.call(r),S1.set(r,n)),n===ZL}function Tu(e,t,r=!0){kd(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function kd(e){const t=e[Or];return t?t.type_:Array.isArray(e)?1:vl(e)?2:Sd(e)?3:0}function jg(e,t){return kd(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function MP(e,t,r){const n=kd(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function e$(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function vl(e){return e instanceof Map}function Sd(e){return e instanceof Set}function ai(e){return e.copy_||e.base_}function _g(e,t){if(vl(e))return new Map(e);if(Sd(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=DP(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Or];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const l=a[i],c=n[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(n[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[l]})}return Object.create(nl(e),n)}else{const n=nl(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function Wv(e,t=!1){return Ed(e)||yi(e)||!Hn(e)||(kd(e)>1&&Object.defineProperties(e,{set:ru,add:ru,clear:ru,delete:ru}),Object.freeze(e),t&&Object.values(e).forEach(r=>Wv(r,!0))),e}function t$(){an(2)}var ru={value:t$};function Ed(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var r$={};function xi(e){const t=r$[e];return t||an(0,e),t}var al;function LP(){return al}function n$(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function E1(e,t){t&&(xi("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function kg(e){Sg(e),e.drafts_.forEach(a$),e.drafts_=null}function Sg(e){e===al&&(al=e.parent_)}function P1(e){return al=n$(al,e)}function a$(e){const t=e[Or];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function N1(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Or].modified_&&(kg(t),an(4)),Hn(e)&&(e=Ru(t,e),t.parent_||Iu(t,e)),t.patches_&&xi("Patches").generateReplacementPatches_(r[Or].base_,e,t.patches_,t.inversePatches_)):e=Ru(t,r,[]),kg(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==IP?e:void 0}function Ru(e,t,r){if(Ed(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[Or];if(!a)return Tu(t,(i,l)=>O1(e,a,t,i,l,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return Iu(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let l=i,c=!1;a.type_===3&&(l=new Set(i),i.clear(),c=!0),Tu(l,(d,h)=>O1(e,a,i,d,h,r,c),n),Iu(e,i,!1),r&&e.patches_&&xi("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function O1(e,t,r,n,a,i,l){if(a==null||typeof a!="object"&&!l)return;const c=Ed(a);if(!(c&&!l)){if(yi(a)){const d=i&&t&&t.type_!==3&&!jg(t.assigned_,n)?i.concat(n):void 0,h=Ru(e,a,d);if(MP(r,n,h),yi(h))e.canAutoFreeze_=!1;else return}else l&&r.add(a);if(Hn(a)&&!c){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&c)return;Ru(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(vl(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Iu(e,a)}}}function Iu(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Wv(t,r)}function i$(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:LP(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=Kv;r&&(a=[n],i=il);const{revoke:l,proxy:c}=Proxy.revocable(a,i);return n.draft_=c,n.revoke_=l,c}var Kv={get(e,t){if(t===Or)return e;const r=ai(e);if(!jg(r,t))return s$(e,r,t);const n=r[t];return e.finalized_||!Hn(n)?n:n===mm(e.base_,t)?(gm(e),e.copy_[t]=Pg(n,e)):n},has(e,t){return t in ai(e)},ownKeys(e){return Reflect.ownKeys(ai(e))},set(e,t,r){const n=$P(ai(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=mm(ai(e),t),i=a?.[Or];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(e$(r,a)&&(r!==void 0||jg(e.base_,t)))return!0;gm(e),Eg(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return mm(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,gm(e),Eg(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ai(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){an(11)},getPrototypeOf(e){return nl(e.base_)},setPrototypeOf(){an(12)}},il={};Tu(Kv,(e,t)=>{il[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});il.deleteProperty=function(e,t){return il.set.call(this,e,t,void 0)};il.set=function(e,t,r){return Kv.set.call(this,e[0],t,r,e[0])};function mm(e,t){const r=e[Or];return(r?ai(r):e)[t]}function s$(e,t,r){const n=$P(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function $P(e,t){if(!(t in e))return;let r=nl(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=nl(r)}}function Eg(e){e.modified_||(e.modified_=!0,e.parent_&&Eg(e.parent_))}function gm(e){e.copy_||(e.copy_=_g(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var o$=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const l=this;return function(d=i,...h){return l.produce(d,p=>r.call(this,p,...h))}}typeof r!="function"&&an(6),n!==void 0&&typeof n!="function"&&an(7);let a;if(Hn(t)){const i=P1(this),l=Pg(t,void 0);let c=!0;try{a=r(l),c=!1}finally{c?kg(i):Sg(i)}return E1(i,n),N1(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===IP&&(a=void 0),this.autoFreeze_&&Wv(a,!0),n){const i=[],l=[];xi("Patches").generateReplacementPatches_(t,a,i,l),n(i,l)}return a}else an(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(l,...c)=>this.produceWithPatches(l,d=>t(d,...c));let n,a;return[this.produce(t,r,(l,c)=>{n=l,a=c}),n,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Hn(e)||an(8),yi(e)&&(e=zn(e));const t=P1(this),r=Pg(e,void 0);return r[Or].isManual_=!0,Sg(t),r}finishDraft(e,t){const r=e&&e[Or];(!r||!r.isManual_)&&an(9);const{scope_:n}=r;return E1(n,t),N1(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=xi("Patches").applyPatches_;return yi(e)?n(e,t):this.produce(e,a=>n(a,t))}};function Pg(e,t){const r=vl(e)?xi("MapSet").proxyMap_(e,t):Sd(e)?xi("MapSet").proxySet_(e,t):i$(e,t);return(t?t.scope_:LP()).drafts_.push(r),r}function zn(e){return yi(e)||an(10,e),BP(e)}function BP(e){if(!Hn(e)||Ed(e))return e;const t=e[Or];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=_g(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=_g(e,!0);return Tu(r,(a,i)=>{MP(r,a,BP(i))},n),t&&(t.finalized_=!1),r}var Ng=new o$,FP=Ng.produce,l$=Ng.setUseStrictIteration.bind(Ng);function UP(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var c$=UP(),u$=UP,d$=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Cu:Cu.apply(null,arguments)};function qr(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Pr(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>RP(n)&&n.type===e,r}var zP=class qo extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,qo.prototype)}static get[Symbol.species](){return qo}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new qo(...t[0].concat(this)):new qo(...t.concat(this))}};function A1(e){return Hn(e)?FP(e,()=>{}):e}function nu(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function f$(e){return typeof e=="boolean"}var h$=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let l=new zP;return r&&(f$(r)?l.push(c$):l.push(u$(r.extraArgument))),l},qP="RTK_autoBatch",er=()=>e=>({payload:e,meta:{[qP]:!0}}),C1=e=>t=>{setTimeout(t,e)},WP=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,l=!1;const c=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:C1(10):e.type==="callback"?e.queueNotification:C1(e.timeout),h=()=>{l=!1,i&&(i=!1,c.forEach(p=>p()))};return Object.assign({},n,{subscribe(p){const m=()=>a&&p(),v=n.subscribe(m);return c.add(p),()=>{v(),c.delete(p)}},dispatch(p){try{return a=!p?.meta?.[qP],i=!a,i&&(l||(l=!0,d(h))),n.dispatch(p)}finally{a=!0}}})},p$=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new zP(e);return n&&a.push(WP(typeof n=="object"?n:void 0)),a};function m$(e){const t=h$(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:l=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(qv(r))c=TP(r);else throw new Error(Pr(1));let d;typeof n=="function"?d=n(t):d=t();let h=Cu;a&&(h=d$({trace:!1,...typeof a=="object"&&a}));const p=QL(...d),m=p$(p);let v=typeof l=="function"?l(m):m();const y=h(...v);return CP(c,i,y)}function KP(e){const t={},r=[];let n;const a={addCase(i,l){const c=typeof i=="string"?i:i.type;if(!c)throw new Error(Pr(28));if(c in t)throw new Error(Pr(29));return t[c]=l,a},addAsyncThunk(i,l){return l.pending&&(t[i.pending.type]=l.pending),l.rejected&&(t[i.rejected.type]=l.rejected),l.fulfilled&&(t[i.fulfilled.type]=l.fulfilled),l.settled&&r.push({matcher:i.settled,reducer:l.settled}),a},addMatcher(i,l){return r.push({matcher:i,reducer:l}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}l$(!1);function g$(e){return typeof e=="function"}function v$(e,t){let[r,n,a]=KP(t),i;if(g$(e))i=()=>A1(e());else{const c=A1(e);i=()=>c}function l(c=i(),d){let h=[r[d.type],...n.filter(({matcher:p})=>p(d)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[a]),h.reduce((p,m)=>{if(m)if(yi(p)){const y=m(p,d);return y===void 0?p:y}else{if(Hn(p))return FP(p,v=>m(v,d));{const v=m(p,d);if(v===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return p},c)}return l.getInitialState=i,l}var y$="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",x$=(e=21)=>{let t="",r=e;for(;r--;)t+=y$[Math.random()*64|0];return t},b$=Symbol.for("rtk-slice-createasyncthunk");function w$(e,t){return`${e}/${t}`}function j$({creators:e}={}){const t=e?.asyncThunk?.[b$];return function(n){const{name:a,reducerPath:i=a}=n;if(!a)throw new Error(Pr(11));const l=(typeof n.reducers=="function"?n.reducers(k$()):n.reducers)||{},c=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(P,C){const N=typeof P=="string"?P:P.type;if(!N)throw new Error(Pr(12));if(N in d.sliceCaseReducersByType)throw new Error(Pr(13));return d.sliceCaseReducersByType[N]=C,h},addMatcher(P,C){return d.sliceMatchers.push({matcher:P,reducer:C}),h},exposeAction(P,C){return d.actionCreators[P]=C,h},exposeCaseReducer(P,C){return d.sliceCaseReducersByName[P]=C,h}};c.forEach(P=>{const C=l[P],N={reducerName:P,type:w$(a,P),createNotation:typeof n.reducers=="function"};E$(C)?N$(N,C,h,t):S$(N,C,h)});function p(){const[P={},C=[],N=void 0]=typeof n.extraReducers=="function"?KP(n.extraReducers):[n.extraReducers],S={...P,...d.sliceCaseReducersByType};return v$(n.initialState,T=>{for(let M in S)T.addCase(M,S[M]);for(let M of d.sliceMatchers)T.addMatcher(M.matcher,M.reducer);for(let M of C)T.addMatcher(M.matcher,M.reducer);N&&T.addDefaultCase(N)})}const m=P=>P,v=new Map,y=new WeakMap;let j;function w(P,C){return j||(j=p()),j(P,C)}function _(){return j||(j=p()),j.getInitialState()}function E(P,C=!1){function N(T){let M=T[P];return typeof M>"u"&&C&&(M=nu(y,N,_)),M}function S(T=m){const M=nu(v,C,()=>new WeakMap);return nu(M,T,()=>{const z={};for(const[W,V]of Object.entries(n.selectors??{}))z[W]=_$(V,T,()=>nu(y,T,_),C);return z})}return{reducerPath:P,getSelectors:S,get selectors(){return S(N)},selectSlice:N}}const A={name:a,reducer:w,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:_,...E(i),injectInto(P,{reducerPath:C,...N}={}){const S=C??i;return P.inject({reducerPath:S,reducer:w},N),{...A,...E(S,!0)}}};return A}}function _$(e,t,r,n){function a(i,...l){let c=t(i);return typeof c>"u"&&n&&(c=r()),e(c,...l)}return a.unwrapped=e,a}var Ar=j$();function k$(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function S$({type:e,reducerName:t,createNotation:r},n,a){let i,l;if("reducer"in n){if(r&&!P$(n))throw new Error(Pr(17));i=n.reducer,l=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,l?qr(e,l):qr(e))}function E$(e){return e._reducerDefinitionType==="asyncThunk"}function P$(e){return e._reducerDefinitionType==="reducerWithPrepare"}function N$({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Pr(18));const{payloadCreator:i,fulfilled:l,pending:c,rejected:d,settled:h,options:p}=r,m=a(e,i,p);n.exposeAction(t,m),l&&n.addCase(m.fulfilled,l),c&&n.addCase(m.pending,c),d&&n.addCase(m.rejected,d),h&&n.addMatcher(m.settled,h),n.exposeCaseReducer(t,{fulfilled:l||au,pending:c||au,rejected:d||au,settled:h||au})}function au(){}var O$="task",VP="listener",HP="completed",Vv="cancelled",A$=`task-${Vv}`,C$=`task-${HP}`,Og=`${VP}-${Vv}`,T$=`${VP}-${HP}`,Pd=class{constructor(e){this.code=e,this.message=`${O$} ${Vv} (reason: ${e})`}name="TaskAbortError";message},Hv=(e,t)=>{if(typeof e!="function")throw new TypeError(Pr(32))},Du=()=>{},GP=(e,t=Du)=>(e.catch(t),e),YP=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),fi=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},hi=e=>{if(e.aborted){const{reason:t}=e;throw new Pd(t)}};function XP(e,t){let r=Du;return new Promise((n,a)=>{const i=()=>a(new Pd(e.reason));if(e.aborted){i();return}r=YP(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Du})}var R$=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Pd?"cancelled":"rejected",error:r}}finally{t?.()}},Mu=e=>t=>GP(XP(e,t).then(r=>(hi(e),r))),JP=e=>{const t=Mu(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:ds}=Object,T1={},Nd="listenerMiddleware",I$=(e,t)=>{const r=n=>YP(e,()=>fi(n,e.reason));return(n,a)=>{Hv(n);const i=new AbortController;r(i);const l=R$(async()=>{hi(e),hi(i.signal);const c=await n({pause:Mu(i.signal),delay:JP(i.signal),signal:i.signal});return hi(i.signal),c},()=>fi(i,C$));return a?.autoJoin&&t.push(l.catch(Du)),{result:Mu(e)(l),cancel(){fi(i,A$)}}}},D$=(e,t)=>{const r=async(n,a)=>{hi(t);let i=()=>{};const c=[new Promise((d,h)=>{let p=e({predicate:n,effect:(m,v)=>{v.unsubscribe(),d([m,v.getState(),v.getOriginalState()])}});i=()=>{p(),h()}})];a!=null&&c.push(new Promise(d=>setTimeout(d,a,null)));try{const d=await XP(t,Promise.race(c));return hi(t),d}finally{i()}};return(n,a)=>GP(r(n,a))},QP=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=qr(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Pr(21));return Hv(i),{predicate:a,type:t,effect:i}},ZP=ds(e=>{const{type:t,predicate:r,effect:n}=QP(e);return{id:x$(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Pr(22))}}},{withTypes:()=>ZP}),R1=(e,t)=>{const{type:r,effect:n,predicate:a}=QP(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},Ag=e=>{e.pending.forEach(t=>{fi(t,Og)})},M$=(e,t)=>()=>{for(const r of t.keys())Ag(r);e.clear()},I1=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},eN=ds(qr(`${Nd}/add`),{withTypes:()=>eN}),L$=qr(`${Nd}/removeAll`),tN=ds(qr(`${Nd}/remove`),{withTypes:()=>tN}),$$=(...e)=>{console.error(`${Nd}/error`,...e)},yl=(e={})=>{const t=new Map,r=new Map,n=y=>{const j=r.get(y)??0;r.set(y,j+1)},a=y=>{const j=r.get(y)??1;j===1?r.delete(y):r.set(y,j-1)},{extra:i,onError:l=$$}=e;Hv(l);const c=y=>(y.unsubscribe=()=>t.delete(y.id),t.set(y.id,y),j=>{y.unsubscribe(),j?.cancelActive&&Ag(y)}),d=y=>{const j=R1(t,y)??ZP(y);return c(j)};ds(d,{withTypes:()=>d});const h=y=>{const j=R1(t,y);return j&&(j.unsubscribe(),y.cancelActive&&Ag(j)),!!j};ds(h,{withTypes:()=>h});const p=async(y,j,w,_)=>{const E=new AbortController,A=D$(d,E.signal),P=[];try{y.pending.add(E),n(y),await Promise.resolve(y.effect(j,ds({},w,{getOriginalState:_,condition:(C,N)=>A(C,N).then(Boolean),take:A,delay:JP(E.signal),pause:Mu(E.signal),extra:i,signal:E.signal,fork:I$(E.signal,P),unsubscribe:y.unsubscribe,subscribe:()=>{t.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((C,N,S)=>{C!==E&&(fi(C,Og),S.delete(C))})},cancel:()=>{fi(E,Og),y.pending.delete(E)},throwIfCancelled:()=>{hi(E.signal)}})))}catch(C){C instanceof Pd||I1(l,C,{raisedBy:"effect"})}finally{await Promise.all(P),fi(E,T$),a(y),y.pending.delete(E)}},m=M$(t,r);return{middleware:y=>j=>w=>{if(!RP(w))return j(w);if(eN.match(w))return d(w.payload);if(L$.match(w)){m();return}if(tN.match(w))return h(w.payload);let _=y.getState();const E=()=>{if(_===T1)throw new Error(Pr(23));return _};let A;try{if(A=j(w),t.size>0){const P=y.getState(),C=Array.from(t.values());for(const N of C){let S=!1;try{S=N.predicate(w,P,_)}catch(T){S=!1,I1(l,T,{raisedBy:"predicate"})}S&&p(N,w,y,E)}}}finally{_=T1}return A},startListening:d,stopListening:h,clearListeners:m}};function Pr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var B$={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},rN=Ar({name:"chartLayout",initialState:B$,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:F$,setLayout:U$,setChartSize:z$,setScale:q$}=rN.actions,W$=rN.reducer;function D1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function M1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D1(Object(r),!0).forEach(function(n){K$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K$(e,t,r){return(t=V$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V$(e){var t=H$(e,"string");return typeof t=="symbol"?t:t+""}function H$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lu=Math.PI/180,G$=e=>e*180/Math.PI,gt=(e,t,r,n)=>({x:e+Math.cos(-Lu*n)*r,y:t+Math.sin(-Lu*n)*r}),nN=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Y$=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},X$=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,l=Y$({x:r,y:n},{x:a,y:i});if(l<=0)return{radius:l,angle:0};var c=(r-a)/l,d=Math.acos(c);return n>i&&(d=2*Math.PI-d),{radius:l,angle:G$(d),angleInRadian:d}},J$=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},Q$=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),l=Math.min(a,i);return e+l*360},Z$=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:i}=X$({x:r,y:n},t),{innerRadius:l,outerRadius:c}=t;if(a<l||a>c||a===0)return null;var{startAngle:d,endAngle:h}=J$(t),p=i,m;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;m=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=d}return m?M1(M1({},t),{},{radius:a,angle:Q$(p,t)}):null};function aN(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function L1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L1(Object(r),!0).forEach(function(n){e3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e3(e,t,r){return(t=t3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t3(e){var t=r3(e,"string");return typeof t=="symbol"?t:t+""}function r3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qe(e,t,r){return Je(e)||Je(t)?r:wn(t)?vi(e,t,r):typeof t=="function"?t(e):r}var n3=(e,t,r,n,a)=>{var i,l=-1,c=(i=t?.length)!==null&&i!==void 0?i:0;if(c<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var d=0;d<c;d++){var h=d>0?r[d-1].coordinate:r[c-1].coordinate,p=r[d].coordinate,m=d>=c-1?r[0].coordinate:r[d+1].coordinate,v=void 0;if(Rt(p-h)!==Rt(m-p)){var y=[];if(Rt(m-p)===Rt(a[1]-a[0])){v=m;var j=p+a[1]-a[0];y[0]=Math.min(j,(j+h)/2),y[1]=Math.max(j,(j+h)/2)}else{v=h;var w=m+a[1]-a[0];y[0]=Math.min(p,(w+p)/2),y[1]=Math.max(p,(w+p)/2)}var _=[Math.min(p,(v+p)/2),Math.max(p,(v+p)/2)];if(e>_[0]&&e<=_[1]||e>=y[0]&&e<=y[1]){({index:l}=r[d]);break}}else{var E=Math.min(h,m),A=Math.max(h,m);if(e>(E+p)/2&&e<=(A+p)/2){({index:l}=r[d]);break}}}else if(t){for(var P=0;P<c;P++)if(P===0&&e<=(t[P].coordinate+t[P+1].coordinate)/2||P>0&&P<c-1&&e>(t[P].coordinate+t[P-1].coordinate)/2&&e<=(t[P].coordinate+t[P+1].coordinate)/2||P===c-1&&e>(t[P].coordinate+t[P-1].coordinate)/2){({index:l}=t[P]);break}}return l},a3=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:l,layout:c}=t;if((c==="vertical"||c==="horizontal"&&l==="middle")&&i!=="center"&&fe(e[i]))return Ur(Ur({},e),{},{[i]:e[i]+(n||0)});if((c==="horizontal"||c==="vertical"&&i==="center")&&l!=="middle"&&fe(e[l]))return Ur(Ur({},e),{},{[l]:e[l]+(a||0)})}return e},Pn=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",iN=(e,t,r,n)=>{if(n)return e.map(c=>c.coordinate);var a,i,l=e.map(c=>(c.coordinate===t&&(a=!0),c.coordinate===r&&(i=!0),c.coordinate));return a||l.push(t),i||l.push(r),l},sN=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:l,realScaleType:c,isCategorical:d,categoricalDomain:h,tickCount:p,ticks:m,niceTicks:v,axisType:y}=e;if(!l)return null;var j=c==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,w=a==="category"&&l.bandwidth?l.bandwidth()/j:0;if(w=y==="angleAxis"&&i&&i.length>=2?Rt(i[0]-i[1])*2*w:w,m||v){var _=(m||v||[]).map((E,A)=>{var P=n?n.indexOf(E):E;return{coordinate:l(P)+w,value:E,offset:w,index:A}});return _.filter(E=>!Nr(E.coordinate))}return d&&h?h.map((E,A)=>({coordinate:l(E)+w,value:E,index:A,offset:w})):l.ticks&&p!=null?l.ticks(p).map((E,A)=>({coordinate:l(E)+w,value:E,offset:w,index:A})):l.domain().map((E,A)=>({coordinate:l(E)+w,value:n?n[E]:E,index:A,offset:w}))},$1=1e-4,i3=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-$1,i=Math.max(n[0],n[1])+$1,l=e(t[0]),c=e(t[r-1]);(l<a||l>i||c<a||c>i)&&e.domain([t[0],t[r-1]])}},s3=(e,t)=>{if(!t||t.length!==2||!fe(t[0])||!fe(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!fe(e[0])||e[0]<r)&&(a[0]=r),(!fe(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},o3=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,l=0;l<t;++l){var c=Nr(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=a,e[l][r][1]=a+c,a=e[l][r][1]):(e[l][r][0]=i,e[l][r][1]=i+c,i=e[l][r][1])}},l3=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var l=Nr(e[i][r][1])?e[i][r][0]:e[i][r][1];l>=0?(e[i][r][0]=a,e[i][r][1]=a+l,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},c3={sign:o3,expand:R4,none:gs,silhouette:I4,wiggle:D4,positive:l3},u3=(e,t,r)=>{var n=c3[r],a=T4().keys(t).value((i,l)=>+qe(i,l,0)).order(xg).offset(n);return a(e)};function oN(e){return e==null?void 0:String(e)}function $u(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Je(a[t.dataKey])){var c=pP(r,"value",a[t.dataKey]);if(c)return c.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var d=qe(a,Je(l)?t.dataKey:l);return Je(d)?null:t.scale(d)}var B1=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:l}=e;if(t.type==="category")return r[l]?r[l].coordinate+n:null;var c=qe(i,t.dataKey,t.scale.domain()[l]);return Je(c)?null:t.scale(c)-a/2+n},d3=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},f3=e=>{var t=e.flat(2).filter(fe);return[Math.min(...t),Math.max(...t)]},h3=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],p3=(e,t,r)=>{if(e!=null)return h3(Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:l}=i,c=l.reduce((d,h)=>{var p=aN(h,t,r),m=f3(p);return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],n[0]),Math.max(c[1],n[1])]},[1/0,-1/0]))},F1=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,U1=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bi=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=_d(t,p=>p.coordinate),i=1/0,l=1,c=a.length;l<c;l++){var d=a[l],h=a[l-1];i=Math.min((d.coordinate||0)-(h.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function z1(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return Ur(Ur({},t),{},{dataKey:r,payload:n,value:a,name:i})}function La(e,t){if(e)return String(e);if(typeof t=="string")return t}function m3(e,t,r,n,a){if(r==="horizontal"||r==="vertical"){var i=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return i?{x:e,y:t}:null}return n?Z$({x:e,y:t},n):null}var g3=(e,t,r,n)=>{var a=t.find(h=>h&&h.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,{radius:l}=n;return Ur(Ur(Ur({},n),gt(n.cx,n.cy,l,i)),{},{angle:i,radius:l})}var c=a.coordinate,{angle:d}=n;return Ur(Ur(Ur({},n),gt(n.cx,n.cy,c,d)),{},{angle:d,radius:c})}return{x:0,y:0}},v3=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Jn=e=>e.layout.width,Qn=e=>e.layout.height,y3=e=>e.layout.scale,lN=e=>e.layout.margin,Od=B(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Ad=B(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),cN="data-recharts-item-index",uN="data-recharts-item-data-key",xl=60;function q1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q1(Object(r),!0).forEach(function(n){x3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x3(e,t,r){return(t=b3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b3(e){var t=w3(e,"string");return typeof t=="symbol"?t:t+""}function w3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j3=e=>e.brush.height;function _3(e){var t=Ad(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:xl;return r+a}return r},0)}function k3(e){var t=Ad(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:xl;return r+a}return r},0)}function S3(e){var t=Od(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function E3(e){var t=Od(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var kt=B([Jn,Qn,lN,j3,_3,k3,S3,E3,OP,KL],(e,t,r,n,a,i,l,c,d,h)=>{var p={left:(r.left||0)+a,right:(r.right||0)+i},m={top:(r.top||0)+l,bottom:(r.bottom||0)+c},v=iu(iu({},m),p),y=v.bottom;v.bottom+=n,v=a3(v,d,h);var j=e-v.left-v.right,w=t-v.top-v.bottom;return iu(iu({brushBottom:y},v),{},{width:Math.max(j,0),height:Math.max(w,0)})}),P3=B(kt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Gv=B(Jn,Qn,(e,t)=>({x:0,y:0,width:e,height:t})),N3=x.createContext(null),Bt=()=>x.useContext(N3)!=null,Cd=e=>e.brush,Td=B([Cd,kt,lN],(e,t,r)=>({height:e.height,x:fe(e.x)?e.x:t.left,y:fe(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:fe(e.width)?e.width:t.width})),vm={},ym={},xm={},W1;function O3(){return W1||(W1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let l,c=null;const d=i!=null&&i.includes("leading"),h=i==null||i.includes("trailing"),p=()=>{c!==null&&(r.apply(l,c),l=void 0,c=null)},m=()=>{h&&p(),w()};let v=null;const y=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,m()},n)},j=()=>{v!==null&&(clearTimeout(v),v=null)},w=()=>{j(),l=void 0,c=null},_=()=>{p()},E=function(...A){if(a?.aborted)return;l=this,c=A;const P=v==null;y(),d&&P&&p()};return E.schedule=y,E.cancel=w,E.flush=_,a?.addEventListener("abort",w,{once:!0}),E}e.debounce=t})(xm)),xm}var K1;function A3(){return K1||(K1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O3();function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:l=!1,trailing:c=!0,maxWait:d}=i,h=Array(2);l&&(h[0]="leading"),c&&(h[1]="trailing");let p,m=null;const v=t.debounce(function(...w){p=n.apply(this,w),m=null},a,{edges:h}),y=function(...w){return d!=null&&(m===null&&(m=Date.now()),Date.now()-m>=d)?(p=n.apply(this,w),m=Date.now(),v.cancel(),v.schedule(),p):(v.apply(this,w),p)},j=()=>(v.flush(),p);return y.cancel=v.cancel,y.flush=j,y}e.debounce=r})(ym)),ym}var V1;function C3(){return V1||(V1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A3();function r(n,a=0,i={}){const{leading:l=!0,trailing:c=!0}=i;return t.debounce(n,a,{leading:l,maxWait:a,trailing:c})}e.throttle=r})(vm)),vm}var bm,H1;function T3(){return H1||(H1=1,bm=C3().throttle),bm}var R3=T3();const I3=ln(R3);var Bu=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},dN=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:i,maxHeight:l}=r,c=Vn(n)?e:Number(n),d=Vn(a)?t:Number(a);return i&&i>0&&(c?d=c/i:d&&(c=d*i),l&&d>l&&(d=l)),{calculatedWidth:c,calculatedHeight:d}},D3={width:0,height:0,overflow:"visible"},M3={width:0,overflowX:"visible"},L3={height:0,overflowY:"visible"},$3={},B3=e=>{var{width:t,height:r}=e,n=Vn(t),a=Vn(r);return n&&a?D3:n?M3:a?L3:$3};function F3(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:a,height:i}}function yt(e){return Number.isFinite(e)}function vs(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Cg(){return Cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cg.apply(null,arguments)}function G1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Y1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G1(Object(r),!0).forEach(function(n){U3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U3(e,t,r){return(t=z3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z3(e){var t=q3(e,"string");return typeof t=="symbol"?t:t+""}function q3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fN=x.createContext({width:-1,height:-1});function hN(e){var{children:t,width:r,height:n}=e,a=x.useMemo(()=>({width:r,height:n}),[r,n]);return r<=0||n<=0?null:x.createElement(fN.Provider,{value:a},t)}var Yv=()=>x.useContext(fN),W3=x.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:i,minWidth:l=0,minHeight:c,maxHeight:d,children:h,debounce:p=0,id:m,className:v,onResize:y,style:j={}}=e,w=x.useRef(null),_=x.useRef();_.current=y,x.useImperativeHandle(t,()=>w.current);var[E,A]=x.useState({containerWidth:n.width,containerHeight:n.height}),P=x.useCallback((M,z)=>{A(W=>{var V=Math.round(M),Y=Math.round(z);return W.containerWidth===V&&W.containerHeight===Y?W:{containerWidth:V,containerHeight:Y}})},[]);x.useEffect(()=>{var M=Y=>{var Z,{width:se,height:G}=Y[0].contentRect;P(se,G),(Z=_.current)===null||Z===void 0||Z.call(_,se,G)};p>0&&(M=I3(M,p,{trailing:!0,leading:!1}));var z=new ResizeObserver(M),{width:W,height:V}=w.current.getBoundingClientRect();return P(W,V),z.observe(w.current),()=>{z.disconnect()}},[P,p]);var{containerWidth:C,containerHeight:N}=E;Bu(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:S,calculatedHeight:T}=dN(C,N,{width:a,height:i,aspect:r,maxHeight:d});return Bu(S>0||T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,S,T,a,i,l,c,r),x.createElement("div",{id:m?"".concat(m):void 0,className:Te("recharts-responsive-container",v),style:Y1(Y1({},j),{},{width:a,height:i,minWidth:l,minHeight:c,maxHeight:d}),ref:w},x.createElement("div",{style:B3({width:a,height:i})},x.createElement(hN,{width:S,height:T},h)))}),Rd=x.forwardRef((e,t)=>{var r=Yv();if(vs(r.width)&&vs(r.height))return e.children;var{width:n,height:a}=F3({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:l}=dN(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return fe(i)&&fe(l)?x.createElement(hN,{width:i,height:l},e.children):x.createElement(W3,Cg({},e,{width:n,height:a,ref:t}))}),Id=()=>{var e,t=Bt(),r=he(P3),n=he(Td),a=(e=he(Cd))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},K3={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},pN=()=>{var e;return(e=he(kt))!==null&&e!==void 0?e:K3},Xv=()=>he(Jn),Jv=()=>he(Qn),V3=()=>he(e=>e.layout.margin),Ae=e=>e.layout.layoutType,bl=()=>he(Ae),Dd=e=>{var t=tt(),r=Bt(),{width:n,height:a}=e,i=Yv(),l=n,c=a;return i&&(l=i.width>0?i.width:n,c=i.height>0?i.height:a),x.useEffect(()=>{!r&&vs(l)&&vs(c)&&t(z$({width:l,height:c}))},[t,r,l,c]),null},H3={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},mN=Ar({name:"legend",initialState:H3,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:er()},removeLegendPayload:{reducer(e,t){var r=zn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:er()}}}),{setLegendSize:X1,setLegendSettings:G3,addLegendPayload:gN,removeLegendPayload:vN}=mN.actions,Y3=mN.reducer,X3=["contextPayload"];function Tg(){return Tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tg.apply(null,arguments)}function J1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ys(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J1(Object(r),!0).forEach(function(n){Qv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qv(e,t,r){return(t=J3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J3(e){var t=Q3(e,"string");return typeof t=="symbol"?t:t+""}function Q3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z3(e,t){if(e==null)return{};var r,n,a=e6(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function e6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function t6(e){return e.value}function r6(e){var{contextPayload:t}=e,r=Z3(e,X3),n=SP(t,e.payloadUniqBy,t6),a=ys(ys({},r),{},{payload:n});return x.isValidElement(e.content)?x.cloneElement(e.content,a):typeof e.content=="function"?x.createElement(e.content,a):x.createElement(Fv,a)}function n6(e,t,r,n,a,i){var{layout:l,align:c,verticalAlign:d}=t,h,p;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(c==="center"&&l==="vertical"?h={left:((n||0)-i.width)/2}:h=c==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(d==="middle"?p={top:((a||0)-i.height)/2}:p=d==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),ys(ys({},h),p)}function a6(e){var t=tt();return x.useEffect(()=>{t(G3(e))},[t,e]),null}function i6(e){var t=tt();return x.useEffect(()=>(t(X1(e)),()=>{t(X1({width:0,height:0}))}),[t,e]),null}function s6(e){var t=GL(),r=r4(),n=V3(),{width:a,height:i,wrapperStyle:l,portal:c}=e,[d,h]=AP([t]),p=Xv(),m=Jv();if(p==null||m==null)return null;var v=p-(n.left||0)-(n.right||0),y=As.getWidthOrHeight(e.layout,i,a,v),j=c?l:ys(ys({position:"absolute",width:y?.width||a||"auto",height:y?.height||i||"auto"},n6(l,e,n,p,m,d)),l),w=c??r;if(w==null)return null;var _=x.createElement("div",{className:"recharts-legend-wrapper",style:j,ref:h},x.createElement(a6,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),x.createElement(i6,{width:d.width,height:d.height}),x.createElement(r6,Tg({},e,y,{margin:n,chartWidth:p,chartHeight:m,contextPayload:t})));return NS.createPortal(_,w)}class As extends x.PureComponent{static getWidthOrHeight(t,r,n,a){return t==="vertical"&&fe(r)?{height:r}:t==="horizontal"?{width:n||a}:null}render(){return x.createElement(s6,this.props)}}Qv(As,"displayName","Legend");Qv(As,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Rg(){return Rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rg.apply(null,arguments)}function Q1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q1(Object(r),!0).forEach(function(n){o6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o6(e,t,r){return(t=l6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l6(e){var t=c6(e,"string");return typeof t=="symbol"?t:t+""}function c6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u6(e){return Array.isArray(e)&&wn(e[0])&&wn(e[1])?e.join(" ~ "):e}var d6=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:l,itemSorter:c,wrapperClassName:d,labelClassName:h,label:p,labelFormatter:m,accessibilityLayer:v=!1}=e,y=()=>{if(i&&i.length){var N={padding:0,margin:0},S=(c?_d(i,c):i).map((T,M)=>{if(T.type==="none")return null;var z=T.formatter||l||u6,{value:W,name:V}=T,Y=W,Z=V;if(z){var se=z(W,V,T,M,i);if(Array.isArray(se))[Y,Z]=se;else if(se!=null)Y=se;else return null}var G=wm({display:"block",paddingTop:4,paddingBottom:4,color:T.color||"#000"},n);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:G},wn(Z)?x.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,wn(Z)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},Y),x.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:N},S)}return null},j=wm({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),w=wm({margin:0},a),_=!Je(p),E=_?p:"",A=Te("recharts-default-tooltip",d),P=Te("recharts-tooltip-label",h);_&&m&&i!==void 0&&i!==null&&(E=m(p,i));var C=v?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",Rg({className:A,style:j},C),x.createElement("p",{className:P,style:w},x.isValidElement(E)?E:"".concat(E)),y())},Ro="recharts-tooltip-wrapper",f6={visibility:"hidden"};function h6(e){var{coordinate:t,translateX:r,translateY:n}=e;return Te(Ro,{["".concat(Ro,"-right")]:fe(r)&&t&&fe(t.x)&&r>=t.x,["".concat(Ro,"-left")]:fe(r)&&t&&fe(t.x)&&r<t.x,["".concat(Ro,"-bottom")]:fe(n)&&t&&fe(t.y)&&n>=t.y,["".concat(Ro,"-top")]:fe(n)&&t&&fe(t.y)&&n<t.y})}function Z1(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:l,tooltipDimension:c,viewBox:d,viewBoxDimension:h}=e;if(i&&fe(i[n]))return i[n];var p=r[n]-c-(a>0?a:0),m=r[n]+a;if(t[n])return l[n]?p:m;var v=d[n];if(v==null)return 0;if(l[n]){var y=p,j=v;return y<j?Math.max(m,v):Math.max(p,v)}if(h==null)return 0;var w=m+c,_=v+h;return w>_?Math.max(p,v):Math.max(m,v)}function p6(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function m6(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:l,useTranslate3d:c,viewBox:d}=e,h,p,m;return l.height>0&&l.width>0&&r?(p=Z1({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),m=Z1({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),h=p6({translateX:p,translateY:m,useTranslate3d:c})):h=f6,{cssProperties:h,cssClasses:h6({translateX:p,translateY:m,coordinate:r})}}function e_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function su(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e_(Object(r),!0).forEach(function(n){Ig(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ig(e,t,r){return(t=g6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g6(e){var t=v6(e,"string");return typeof t=="symbol"?t:t+""}function v6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class y6 extends x.PureComponent{constructor(){super(...arguments),Ig(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Ig(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:l,hasPayload:c,isAnimationActive:d,offset:h,position:p,reverseDirection:m,useTranslate3d:v,viewBox:y,wrapperStyle:j,lastBoundingBox:w,innerRef:_,hasPortalFromProps:E}=this.props,{cssClasses:A,cssProperties:P}=m6({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:h,position:p,reverseDirection:m,tooltipBox:{height:w.height,width:w.width},useTranslate3d:v,viewBox:y}),C=E?{}:su(su({transition:d&&t?"transform ".concat(n,"ms ").concat(a):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),N=su(su({},C),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},j);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:A,style:N,ref:_},i)}}var x6=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Zn={devToolsEnabled:!1,isSsr:x6()},yN=()=>he(e=>e.rootProps.accessibilityLayer);function Dg(){return Dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dg.apply(null,arguments)}function t_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function r_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t_(Object(r),!0).forEach(function(n){b6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b6(e,t,r){return(t=w6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w6(e){var t=j6(e,"string");return typeof t=="symbol"?t:t+""}function j6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var n_={curveBasisClosed:w4,curveBasisOpen:j4,curveBasis:b4,curveBumpX:s4,curveBumpY:o4,curveLinearClosed:_4,curveLinear:wd,curveMonotoneX:k4,curveMonotoneY:S4,curveNatural:E4,curveStep:P4,curveStepAfter:O4,curveStepBefore:N4},ou=e=>yt(e.x)&&yt(e.y),Io=e=>e.x,Do=e=>e.y,_6=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(ml(e));return(r==="curveMonotone"||r==="curveBump")&&t?n_["".concat(r).concat(t==="vertical"?"Y":"X")]:n_[r]||wd},k6=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,l=_6(t,a),c=i?r.filter(ou):r,d;if(Array.isArray(n)){var h=i?n.filter(m=>ou(m)):n,p=c.map((m,v)=>r_(r_({},m),{},{base:h[v]}));return a==="vertical"?d=Zc().y(Do).x1(Io).x0(m=>m.base.x):d=Zc().x(Io).y1(Do).y0(m=>m.base.y),d.defined(ou).curve(l),d(p)}return a==="vertical"&&fe(n)?d=Zc().y(Do).x1(Io).x0(n):fe(n)?d=Zc().x(Io).y1(Do).y0(n):d=tP().x(Io).y(Do),d.defined(ou).curve(l),d(c)},fs=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?k6(e):n;return x.createElement("path",Dg({},nr(e),$v(e),{className:Te("recharts-curve",t),d:i===null?void 0:i,ref:a}))},S6=["x","y","top","left","width","height","className"];function Mg(){return Mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mg.apply(null,arguments)}function a_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function E6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a_(Object(r),!0).forEach(function(n){P6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P6(e,t,r){return(t=N6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N6(e){var t=O6(e,"string");return typeof t=="symbol"?t:t+""}function O6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A6(e,t){if(e==null)return{};var r,n,a=C6(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function C6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var T6=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),R6=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:l=0,className:c}=e,d=A6(e,S6),h=E6({x:t,y:r,top:n,left:a,width:i,height:l},d);return!fe(t)||!fe(r)||!fe(i)||!fe(l)||!fe(n)||!fe(a)?null:x.createElement("path",Mg({},ar(h),{className:Te("recharts-cross",c),d:T6(t,r,i,l,n,a)}))};function I6(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function i_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function D6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i_(Object(r),!0).forEach(function(n){M6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M6(e,t,r){return(t=L6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L6(e){var t=$6(e,"string");return typeof t=="symbol"?t:t+""}function $6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function St(e,t){var r=D6({},e),n=t,a=Object.keys(t),i=a.reduce((l,c)=>(l[c]===void 0&&n[c]!==void 0&&(l[c]=n[c]),l),r);return i}function B6(){}function F6(e){return e!=null}function s_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function o_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s_(Object(r),!0).forEach(function(n){U6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U6(e,t,r){return(t=z6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z6(e){var t=q6(e,"string");return typeof t=="symbol"?t:t+""}function q6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W6=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),xN=(e,t,r)=>e.map(n=>"".concat(W6(n)," ").concat(t,"ms ").concat(r)).join(","),K6=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),sl=(e,t)=>Object.keys(t).reduce((r,n)=>o_(o_({},r),{},{[n]:e(n,t[n])}),{});function l_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l_(Object(r),!0).forEach(function(n){V6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V6(e,t,r){return(t=H6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H6(e){var t=G6(e,"string");return typeof t=="symbol"?t:t+""}function G6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fu=(e,t,r)=>e+(t-e)*r,Lg=e=>{var{from:t,to:r}=e;return t!==r},bN=(e,t,r)=>{var n=sl((a,i)=>{if(Lg(i)){var[l,c]=e(i.from,i.to,i.velocity);return $t($t({},i),{},{from:l,velocity:c})}return i},t);return r<1?sl((a,i)=>Lg(i)?$t($t({},i),{},{velocity:Fu(i.velocity,n[a].velocity,r),from:Fu(i.from,n[a].from,r)}):i,t):bN(e,n,r-1)};function Y6(e,t,r,n,a,i){var l,c=n.reduce((v,y)=>$t($t({},v),{},{[y]:{from:e[y],velocity:0,to:t[y]}}),{}),d=()=>sl((v,y)=>y.from,c),h=()=>!Object.values(c).filter(Lg).length,p=null,m=v=>{l||(l=v);var y=v-l,j=y/r.dt;c=bN(r,c,j),a($t($t($t({},e),t),d())),l=v,h()||(p=i.setTimeout(m))};return()=>(p=i.setTimeout(m),()=>{p()})}function X6(e,t,r,n,a,i,l){var c=null,d=a.reduce((m,v)=>$t($t({},m),{},{[v]:[e[v],t[v]]}),{}),h,p=m=>{h||(h=m);var v=(m-h)/n,y=sl((w,_)=>Fu(..._,r(v)),d);if(i($t($t($t({},e),t),y)),v<1)c=l.setTimeout(p);else{var j=sl((w,_)=>Fu(..._,r(1)),d);i($t($t($t({},e),t),j))}};return()=>(c=l.setTimeout(p),()=>{c()})}const J6=(e,t,r,n,a,i)=>{var l=K6(e,t);return r.isStepper===!0?Y6(e,t,r,l,a,i):X6(e,t,r,n,l,a,i)};var Uu=1e-4,wN=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],jN=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),c_=(e,t)=>r=>{var n=wN(e,t);return jN(n,r)},Q6=(e,t)=>r=>{var n=wN(e,t),a=[...n.map((i,l)=>i*l).slice(1),0];return jN(a,r)},u_=function(){for(var t,r,n,a,i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];if(l.length===1)switch(l[0]){case"linear":[t,n,r,a]=[0,0,1,1];break;case"ease":[t,n,r,a]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,a]=[.42,0,1,1];break;case"ease-out":[t,n,r,a]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,a]=[0,0,.58,1];break;default:{var d=l[0].split("(");d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4&&([t,n,r,a]=d[1].split(")")[0].split(",").map(j=>parseFloat(j)))}}else l.length===4&&([t,n,r,a]=l);var h=c_(t,r),p=c_(n,a),m=Q6(t,r),v=j=>j>1?1:j<0?0:j,y=j=>{for(var w=j>1?1:j,_=w,E=0;E<8;++E){var A=h(_)-w,P=m(_);if(Math.abs(A-w)<Uu||P<Uu)return p(_);_=v(_-A/P)}return p(_)};return y.isStepper=!1,y},Z6=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(l,c,d)=>{var h=-(l-c)*r,p=d*n,m=d+(h-p)*a/1e3,v=d*a/1e3+l;return Math.abs(v-c)<Uu&&Math.abs(m)<Uu?[c,0]:[v,m]};return i.isStepper=!0,i.dt=a,i},e5=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return u_(e);case"spring":return Z6();default:if(e.split("(")[0]==="cubic-bezier")return u_(e)}return typeof e=="function"?e:null};function t5(e){var t,r=()=>null,n=!1,a=null,i=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var c=l,[d,...h]=c;if(typeof d=="number"){a=e.setTimeout(i.bind(null,h),d);return}i(d),a=e.setTimeout(i.bind(null,h));return}typeof l=="string"&&(t=l,r(t)),typeof l=="object"&&(t=l,r(t)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,a&&(a(),a=null),i(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>e}}class r5{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=l=>{l-n>=r?t(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{cancelAnimationFrame(a)}}}function n5(){return t5(new r5)}var a5=x.createContext(n5);function i5(e,t){var r=x.useContext(a5);return x.useMemo(()=>t??r(e),[e,t,r])}var s5={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},d_={t:0},jm={t:1};function Cs(e){var t=St(e,s5),{isActive:r,canBegin:n,duration:a,easing:i,begin:l,onAnimationEnd:c,onAnimationStart:d,children:h}=t,p=i5(t.animationId,t.animationManager),[m,v]=x.useState(r?d_:jm),y=x.useRef(null);return x.useEffect(()=>{r||v(jm)},[r]),x.useEffect(()=>{if(!r||!n)return B6;var j=J6(d_,jm,e5(i),a,v,p.getTimeoutController()),w=()=>{y.current=j()};return p.start([d,l,w,a,c]),()=>{p.stop(),y.current&&y.current(),c()}},[r,n,a,i,l,d,c,p]),h(m.t)}function Ts(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=x.useRef(rl(t)),n=x.useRef(e);return n.current!==e&&(r.current=rl(t),n.current=e),r.current}var o5=["radius"],l5=["radius"];function f_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function h_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f_(Object(r),!0).forEach(function(n){c5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c5(e,t,r){return(t=u5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u5(e){var t=d5(e,"string");return typeof t=="symbol"?t:t+""}function d5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zu(){return zu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zu.apply(null,arguments)}function p_(e,t){if(e==null)return{};var r,n,a=f5(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function f5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var m_=(e,t,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),l=n>=0?1:-1,c=r>=0?1:-1,d=n>=0&&r>=0||n<0&&r<0?1:0,h;if(i>0&&a instanceof Array){for(var p=[0,0,0,0],m=0,v=4;m<v;m++)p[m]=a[m]>i?i:a[m];h="M".concat(e,",").concat(t+l*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(d,",").concat(e+c*p[0],",").concat(t)),h+="L ".concat(e+r-c*p[1],",").concat(t),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(d,`,
        `).concat(e+r,",").concat(t+l*p[1])),h+="L ".concat(e+r,",").concat(t+n-l*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(d,`,
        `).concat(e+r-c*p[2],",").concat(t+n)),h+="L ".concat(e+c*p[3],",").concat(t+n),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(t+n-l*p[3])),h+="Z"}else if(i>0&&a===+a&&a>0){var y=Math.min(i,a);h="M ".concat(e,",").concat(t+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+c*y,",").concat(t,`
            L `).concat(e+r-c*y,",").concat(t,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+r,",").concat(t+l*y,`
            L `).concat(e+r,",").concat(t+n-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+r-c*y,",").concat(t+n,`
            L `).concat(e+c*y,",").concat(t+n,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e,",").concat(t+n-l*y," Z")}else h="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return h},h5={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_N=e=>{var t=St(e,h5),r=x.useRef(null),[n,a]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var re=r.current.getTotalLength();re&&a(re)}catch{}},[]);var{x:i,y:l,width:c,height:d,radius:h,className:p}=t,{animationEasing:m,animationDuration:v,animationBegin:y,isAnimationActive:j,isUpdateAnimationActive:w}=t,_=x.useRef(c),E=x.useRef(d),A=x.useRef(i),P=x.useRef(l),C=x.useMemo(()=>({x:i,y:l,width:c,height:d,radius:h}),[i,l,c,d,h]),N=Ts(C,"rectangle-");if(i!==+i||l!==+l||c!==+c||d!==+d||c===0||d===0)return null;var S=Te("recharts-rectangle",p);if(!w){var T=ar(t),{radius:M}=T,z=p_(T,o5);return x.createElement("path",zu({},z,{radius:typeof h=="number"?h:void 0,className:S,d:m_(i,l,c,d,h)}))}var W=_.current,V=E.current,Y=A.current,Z=P.current,se="0px ".concat(n===-1?1:n,"px"),G="".concat(n,"px 0px"),le=xN(["strokeDasharray"],v,typeof m=="string"?m:void 0);return x.createElement(Cs,{animationId:N,key:N,canBegin:n>0,duration:v,easing:m,isActive:w,begin:y},re=>{var H=ze(W,c,re),ae=ze(V,d,re),ne=ze(Y,i,re),L=ze(Z,l,re);r.current&&(_.current=H,E.current=ae,A.current=ne,P.current=L);var K;j?re>0?K={transition:le,strokeDasharray:G}:K={strokeDasharray:se}:K={strokeDasharray:G};var ye=ar(t),{radius:Ee}=ye,je=p_(ye,l5);return x.createElement("path",zu({},je,{radius:typeof h=="number"?h:void 0,className:S,d:m_(ne,L,H,ae,h),ref:r,style:h_(h_({},K),t.style)}))})};function kN(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,l=gt(t,r,n,a),c=gt(t,r,n,i);return{points:[l,c],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function $g(){return $g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$g.apply(null,arguments)}var p5=(e,t)=>{var r=Rt(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},lu=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:l,cornerRadius:c,cornerIsExternal:d}=e,h=c*(l?1:-1)+n,p=Math.asin(c/h)/Lu,m=d?a:a+i*p,v=gt(t,r,h,m),y=gt(t,r,n,m),j=d?a-i*p:a,w=gt(t,r,h*Math.cos(p*Lu),j);return{center:v,circleTangency:y,lineTangency:w,theta:p}},SN=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:l}=e,c=p5(i,l),d=i+c,h=gt(t,r,a,i),p=gt(t,r,a,d),m="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(i>d),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(n>0){var v=gt(t,r,n,i),y=gt(t,r,n,d);m+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(i<=d),`,
            `).concat(v.x,",").concat(v.y," Z")}else m+="L ".concat(t,",").concat(r," Z");return m},m5=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:h}=e,p=Rt(h-d),{circleTangency:m,lineTangency:v,theta:y}=lu({cx:t,cy:r,radius:a,angle:d,sign:p,cornerRadius:i,cornerIsExternal:c}),{circleTangency:j,lineTangency:w,theta:_}=lu({cx:t,cy:r,radius:a,angle:h,sign:-p,cornerRadius:i,cornerIsExternal:c}),E=c?Math.abs(d-h):Math.abs(d-h)-y-_;if(E<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):SN({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:d,endAngle:h});var A="M ".concat(v.x,",").concat(v.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(p<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(E>180),",").concat(+(p<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(p<0),",").concat(w.x,",").concat(w.y,`
  `);if(n>0){var{circleTangency:P,lineTangency:C,theta:N}=lu({cx:t,cy:r,radius:n,angle:d,sign:p,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),{circleTangency:S,lineTangency:T,theta:M}=lu({cx:t,cy:r,radius:n,angle:h,sign:-p,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),z=c?Math.abs(d-h):Math.abs(d-h)-N-M;if(z<0&&i===0)return"".concat(A,"L").concat(t,",").concat(r,"Z");A+="L".concat(T.x,",").concat(T.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(p<0),",").concat(S.x,",").concat(S.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(z>180),",").concat(+(p>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(p<0),",").concat(C.x,",").concat(C.y,"Z")}else A+="L".concat(t,",").concat(r,"Z");return A},g5={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},EN=e=>{var t=St(e,g5),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:d,startAngle:h,endAngle:p,className:m}=t;if(i<a||h===p)return null;var v=Te("recharts-sector",m),y=i-a,j=Xt(l,y,0,!0),w;return j>0&&Math.abs(h-p)<360?w=m5({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(j,y/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:h,endAngle:p}):w=SN({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:h,endAngle:p}),x.createElement("path",$g({},ar(t),{className:v,d:w}))};function v5(e,t,r){var n,a,i,l;if(e==="horizontal")n=t.x,i=n,a=r.top,l=r.top+r.height;else if(e==="vertical")a=t.y,l=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:c,cy:d,innerRadius:h,outerRadius:p,angle:m}=t,v=gt(c,d,h,m),y=gt(c,d,p,m);n=v.x,a=v.y,i=y.x,l=y.y}else return kN(t);return[{x:n,y:a},{x:i,y:l}]}var _m={},km={},Sm={},g_;function y5(){return g_||(g_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PP();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(Sm)),Sm}var v_;function x5(){return v_||(v_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y5();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(km)),km}var y_;function b5(){return y_||(y_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NP(),r=x5();function n(a,i,l){l&&typeof l!="number"&&t.isIterateeCall(a,i,l)&&(i=l=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),l=l===void 0?a<i?1:-1:r.toFinite(l);const c=Math.max(Math.ceil((i-a)/(l||1)),0),d=new Array(c);for(let h=0;h<c;h++)d[h]=a,a+=l;return d}e.range=n})(_m)),_m}var Em,x_;function w5(){return x_||(x_=1,Em=b5().range),Em}var j5=w5();const PN=ln(j5);function Ca(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function _5(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Zv(e){let t,r,n;e.length!==2?(t=Ca,r=(c,d)=>Ca(e(c),d),n=(c,d)=>e(c)-d):(t=e===Ca||e===_5?e:k5,r=e,n=e);function a(c,d,h=0,p=c.length){if(h<p){if(t(d,d)!==0)return p;do{const m=h+p>>>1;r(c[m],d)<0?h=m+1:p=m}while(h<p)}return h}function i(c,d,h=0,p=c.length){if(h<p){if(t(d,d)!==0)return p;do{const m=h+p>>>1;r(c[m],d)<=0?h=m+1:p=m}while(h<p)}return h}function l(c,d,h=0,p=c.length){const m=a(c,d,h,p-1);return m>h&&n(c[m-1],d)>-n(c[m],d)?m-1:m}return{left:a,center:l,right:i}}function k5(){return 0}function NN(e){return e===null?NaN:+e}function*S5(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const E5=Zv(Ca),wl=E5.right;Zv(NN).center;class b_ extends Map{constructor(t,r=O5){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(w_(this,t))}has(t){return super.has(w_(this,t))}set(t,r){return super.set(P5(this,t),r)}delete(t){return super.delete(N5(this,t))}}function w_({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function P5({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function N5({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function O5(e){return e!==null&&typeof e=="object"?e.valueOf():e}function A5(e=Ca){if(e===Ca)return ON;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function ON(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const C5=Math.sqrt(50),T5=Math.sqrt(10),R5=Math.sqrt(2);function qu(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),l=i>=C5?10:i>=T5?5:i>=R5?2:1;let c,d,h;return a<0?(h=Math.pow(10,-a)/l,c=Math.round(e*h),d=Math.round(t*h),c/h<e&&++c,d/h>t&&--d,h=-h):(h=Math.pow(10,a)*l,c=Math.round(e/h),d=Math.round(t/h),c*h<e&&++c,d*h>t&&--d),d<c&&.5<=r&&r<2?qu(e,t,r*2):[c,d,h]}function Bg(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,l]=n?qu(t,e,r):qu(e,t,r);if(!(i>=a))return[];const c=i-a+1,d=new Array(c);if(n)if(l<0)for(let h=0;h<c;++h)d[h]=(i-h)/-l;else for(let h=0;h<c;++h)d[h]=(i-h)*l;else if(l<0)for(let h=0;h<c;++h)d[h]=(a+h)/-l;else for(let h=0;h<c;++h)d[h]=(a+h)*l;return d}function Fg(e,t,r){return t=+t,e=+e,r=+r,qu(e,t,r)[2]}function Ug(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Fg(t,e,r):Fg(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function j_(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function __(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function AN(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?ON:A5(a);n>r;){if(n-r>600){const d=n-r+1,h=t-r+1,p=Math.log(d),m=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*m*(d-m)/d)*(h-d/2<0?-1:1),y=Math.max(r,Math.floor(t-h*m/d+v)),j=Math.min(n,Math.floor(t+(d-h)*m/d+v));AN(e,t,y,j,a)}const i=e[t];let l=r,c=n;for(Mo(e,r,t),a(e[n],i)>0&&Mo(e,r,n);l<c;){for(Mo(e,l,c),++l,--c;a(e[l],i)<0;)++l;for(;a(e[c],i)>0;)--c}a(e[r],i)===0?Mo(e,r,c):(++c,Mo(e,c,n)),c<=t&&(r=c+1),t<=c&&(n=c-1)}return e}function Mo(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function I5(e,t,r){if(e=Float64Array.from(S5(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return __(e);if(t>=1)return j_(e);var n,a=(n-1)*t,i=Math.floor(a),l=j_(AN(e,i).subarray(0,i+1)),c=__(e.subarray(i+1));return l+(c-l)*(a-i)}}function D5(e,t,r=NN){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),l=+r(e[i],i,e),c=+r(e[i+1],i+1,e);return l+(c-l)*(a-i)}}function M5(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Kr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ea(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const zg=Symbol("implicit");function ey(){var e=new b_,t=[],r=[],n=zg;function a(i){let l=e.get(i);if(l===void 0){if(n!==zg)return n;e.set(i,l=t.push(i)-1)}return r[l%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new b_;for(const l of i)e.has(l)||e.set(l,t.push(l)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return ey(t,r).unknown(n)},Kr.apply(a,arguments),a}function ty(){var e=ey().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,l,c=!1,d=0,h=0,p=.5;delete e.unknown;function m(){var v=t().length,y=a<n,j=y?a:n,w=y?n:a;i=(w-j)/Math.max(1,v-d+h*2),c&&(i=Math.floor(i)),j+=(w-j-i*(v-d))*p,l=i*(1-d),c&&(j=Math.round(j),l=Math.round(l));var _=M5(v).map(function(E){return j+i*E});return r(y?_.reverse():_)}return e.domain=function(v){return arguments.length?(t(v),m()):t()},e.range=function(v){return arguments.length?([n,a]=v,n=+n,a=+a,m()):[n,a]},e.rangeRound=function(v){return[n,a]=v,n=+n,a=+a,c=!0,m()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(v){return arguments.length?(c=!!v,m()):c},e.padding=function(v){return arguments.length?(d=Math.min(1,h=+v),m()):d},e.paddingInner=function(v){return arguments.length?(d=Math.min(1,v),m()):d},e.paddingOuter=function(v){return arguments.length?(h=+v,m()):h},e.align=function(v){return arguments.length?(p=Math.max(0,Math.min(1,v)),m()):p},e.copy=function(){return ty(t(),[n,a]).round(c).paddingInner(d).paddingOuter(h).align(p)},Kr.apply(m(),arguments)}function CN(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return CN(t())},e}function L5(){return CN(ty.apply(null,arguments).paddingInner(1))}function ry(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function TN(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function jl(){}var ol=.7,Wu=1/ol,hs="\\s*([+-]?\\d+)\\s*",ll="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",gn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$5=/^#([0-9a-f]{3,8})$/,B5=new RegExp(`^rgb\\(${hs},${hs},${hs}\\)$`),F5=new RegExp(`^rgb\\(${gn},${gn},${gn}\\)$`),U5=new RegExp(`^rgba\\(${hs},${hs},${hs},${ll}\\)$`),z5=new RegExp(`^rgba\\(${gn},${gn},${gn},${ll}\\)$`),q5=new RegExp(`^hsl\\(${ll},${gn},${gn}\\)$`),W5=new RegExp(`^hsla\\(${ll},${gn},${gn},${ll}\\)$`),k_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ry(jl,cl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:S_,formatHex:S_,formatHex8:K5,formatHsl:V5,formatRgb:E_,toString:E_});function S_(){return this.rgb().formatHex()}function K5(){return this.rgb().formatHex8()}function V5(){return RN(this).formatHsl()}function E_(){return this.rgb().formatRgb()}function cl(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=$5.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?P_(t):r===3?new hr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?cu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?cu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=B5.exec(e))?new hr(t[1],t[2],t[3],1):(t=F5.exec(e))?new hr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=U5.exec(e))?cu(t[1],t[2],t[3],t[4]):(t=z5.exec(e))?cu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=q5.exec(e))?A_(t[1],t[2]/100,t[3]/100,1):(t=W5.exec(e))?A_(t[1],t[2]/100,t[3]/100,t[4]):k_.hasOwnProperty(e)?P_(k_[e]):e==="transparent"?new hr(NaN,NaN,NaN,0):null}function P_(e){return new hr(e>>16&255,e>>8&255,e&255,1)}function cu(e,t,r,n){return n<=0&&(e=t=r=NaN),new hr(e,t,r,n)}function H5(e){return e instanceof jl||(e=cl(e)),e?(e=e.rgb(),new hr(e.r,e.g,e.b,e.opacity)):new hr}function qg(e,t,r,n){return arguments.length===1?H5(e):new hr(e,t,r,n??1)}function hr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}ry(hr,qg,TN(jl,{brighter(e){return e=e==null?Wu:Math.pow(Wu,e),new hr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ol:Math.pow(ol,e),new hr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new hr(pi(this.r),pi(this.g),pi(this.b),Ku(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:N_,formatHex:N_,formatHex8:G5,formatRgb:O_,toString:O_}));function N_(){return`#${ci(this.r)}${ci(this.g)}${ci(this.b)}`}function G5(){return`#${ci(this.r)}${ci(this.g)}${ci(this.b)}${ci((isNaN(this.opacity)?1:this.opacity)*255)}`}function O_(){const e=Ku(this.opacity);return`${e===1?"rgb(":"rgba("}${pi(this.r)}, ${pi(this.g)}, ${pi(this.b)}${e===1?")":`, ${e})`}`}function Ku(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function pi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ci(e){return e=pi(e),(e<16?"0":"")+e.toString(16)}function A_(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new sn(e,t,r,n)}function RN(e){if(e instanceof sn)return new sn(e.h,e.s,e.l,e.opacity);if(e instanceof jl||(e=cl(e)),!e)return new sn;if(e instanceof sn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),l=NaN,c=i-a,d=(i+a)/2;return c?(t===i?l=(r-n)/c+(r<n)*6:r===i?l=(n-t)/c+2:l=(t-r)/c+4,c/=d<.5?i+a:2-i-a,l*=60):c=d>0&&d<1?0:l,new sn(l,c,d,e.opacity)}function Y5(e,t,r,n){return arguments.length===1?RN(e):new sn(e,t,r,n??1)}function sn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}ry(sn,Y5,TN(jl,{brighter(e){return e=e==null?Wu:Math.pow(Wu,e),new sn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ol:Math.pow(ol,e),new sn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new hr(Pm(e>=240?e-240:e+120,a,n),Pm(e,a,n),Pm(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new sn(C_(this.h),uu(this.s),uu(this.l),Ku(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ku(this.opacity);return`${e===1?"hsl(":"hsla("}${C_(this.h)}, ${uu(this.s)*100}%, ${uu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function C_(e){return e=(e||0)%360,e<0?e+360:e}function uu(e){return Math.max(0,Math.min(1,e||0))}function Pm(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const ny=e=>()=>e;function X5(e,t){return function(r){return e+r*t}}function J5(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Q5(e){return(e=+e)==1?IN:function(t,r){return r-t?J5(t,r,e):ny(isNaN(t)?r:t)}}function IN(e,t){var r=t-e;return r?X5(e,r):ny(isNaN(e)?t:e)}const T_=(function e(t){var r=Q5(t);function n(a,i){var l=r((a=qg(a)).r,(i=qg(i)).r),c=r(a.g,i.g),d=r(a.b,i.b),h=IN(a.opacity,i.opacity);return function(p){return a.r=l(p),a.g=c(p),a.b=d(p),a.opacity=h(p),a+""}}return n.gamma=e,n})(1);function Z5(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function eB(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function tB(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),l;for(l=0;l<n;++l)a[l]=Rs(e[l],t[l]);for(;l<r;++l)i[l]=t[l];return function(c){for(l=0;l<n;++l)i[l]=a[l](c);return i}}function rB(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Vu(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function nB(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Rs(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Wg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Nm=new RegExp(Wg.source,"g");function aB(e){return function(){return e}}function iB(e){return function(t){return e(t)+""}}function sB(e,t){var r=Wg.lastIndex=Nm.lastIndex=0,n,a,i,l=-1,c=[],d=[];for(e=e+"",t=t+"";(n=Wg.exec(e))&&(a=Nm.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),c[l]?c[l]+=i:c[++l]=i),(n=n[0])===(a=a[0])?c[l]?c[l]+=a:c[++l]=a:(c[++l]=null,d.push({i:l,x:Vu(n,a)})),r=Nm.lastIndex;return r<t.length&&(i=t.slice(r),c[l]?c[l]+=i:c[++l]=i),c.length<2?d[0]?iB(d[0].x):aB(t):(t=d.length,function(h){for(var p=0,m;p<t;++p)c[(m=d[p]).i]=m.x(h);return c.join("")})}function Rs(e,t){var r=typeof t,n;return t==null||r==="boolean"?ny(t):(r==="number"?Vu:r==="string"?(n=cl(t))?(t=n,T_):sB:t instanceof cl?T_:t instanceof Date?rB:eB(t)?Z5:Array.isArray(t)?tB:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?nB:Vu)(e,t)}function ay(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function oB(e,t){t===void 0&&(t=e,e=Rs);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(l){var c=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return i[c](l-c)}}function lB(e){return function(){return e}}function Hu(e){return+e}var R_=[0,1];function rr(e){return e}function Kg(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:lB(isNaN(t)?NaN:.5)}function cB(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function uB(e,t,r){var n=e[0],a=e[1],i=t[0],l=t[1];return a<n?(n=Kg(a,n),i=r(l,i)):(n=Kg(n,a),i=r(i,l)),function(c){return i(n(c))}}function dB(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)a[l]=Kg(e[l],e[l+1]),i[l]=r(t[l],t[l+1]);return function(c){var d=wl(e,c,1,n)-1;return i[d](a[d](c))}}function _l(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Md(){var e=R_,t=R_,r=Rs,n,a,i,l=rr,c,d,h;function p(){var v=Math.min(e.length,t.length);return l!==rr&&(l=cB(e[0],e[v-1])),c=v>2?dB:uB,d=h=null,m}function m(v){return v==null||isNaN(v=+v)?i:(d||(d=c(e.map(n),t,r)))(n(l(v)))}return m.invert=function(v){return l(a((h||(h=c(t,e.map(n),Vu)))(v)))},m.domain=function(v){return arguments.length?(e=Array.from(v,Hu),p()):e.slice()},m.range=function(v){return arguments.length?(t=Array.from(v),p()):t.slice()},m.rangeRound=function(v){return t=Array.from(v),r=ay,p()},m.clamp=function(v){return arguments.length?(l=v?!0:rr,p()):l!==rr},m.interpolate=function(v){return arguments.length?(r=v,p()):r},m.unknown=function(v){return arguments.length?(i=v,m):i},function(v,y){return n=v,a=y,p()}}function iy(){return Md()(rr,rr)}function fB(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Gu(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function xs(e){return e=Gu(Math.abs(e)),e?e[1]:NaN}function hB(e,t){return function(r,n){for(var a=r.length,i=[],l=0,c=e[0],d=0;a>0&&c>0&&(d+c+1>n&&(c=Math.max(1,n-d)),i.push(r.substring(a-=c,a+c)),!((d+=c+1)>n));)c=e[l=(l+1)%e.length];return i.reverse().join(t)}}function pB(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var mB=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ul(e){if(!(t=mB.exec(e)))throw new Error("invalid format: "+e);var t;return new sy({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ul.prototype=sy.prototype;function sy(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}sy.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function gB(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var DN;function vB(e,t){var r=Gu(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(DN=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=n.length;return i===l?n:i>l?n+new Array(i-l+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Gu(e,Math.max(0,t+i-1))[0]}function I_(e,t){var r=Gu(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const D_={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:fB,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>I_(e*100,t),r:I_,s:vB,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function M_(e){return e}var L_=Array.prototype.map,$_=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function yB(e){var t=e.grouping===void 0||e.thousands===void 0?M_:hB(L_.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?M_:pB(L_.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function h(m){m=ul(m);var v=m.fill,y=m.align,j=m.sign,w=m.symbol,_=m.zero,E=m.width,A=m.comma,P=m.precision,C=m.trim,N=m.type;N==="n"?(A=!0,N="g"):D_[N]||(P===void 0&&(P=12),C=!0,N="g"),(_||v==="0"&&y==="=")&&(_=!0,v="0",y="=");var S=w==="$"?r:w==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",T=w==="$"?n:/[%p]/.test(N)?l:"",M=D_[N],z=/[defgprs%]/.test(N);P=P===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function W(V){var Y=S,Z=T,se,G,le;if(N==="c")Z=M(V)+Z,V="";else{V=+V;var re=V<0||1/V<0;if(V=isNaN(V)?d:M(Math.abs(V),P),C&&(V=gB(V)),re&&+V==0&&j!=="+"&&(re=!1),Y=(re?j==="("?j:c:j==="-"||j==="("?"":j)+Y,Z=(N==="s"?$_[8+DN/3]:"")+Z+(re&&j==="("?")":""),z){for(se=-1,G=V.length;++se<G;)if(le=V.charCodeAt(se),48>le||le>57){Z=(le===46?a+V.slice(se+1):V.slice(se))+Z,V=V.slice(0,se);break}}}A&&!_&&(V=t(V,1/0));var H=Y.length+V.length+Z.length,ae=H<E?new Array(E-H+1).join(v):"";switch(A&&_&&(V=t(ae+V,ae.length?E-Z.length:1/0),ae=""),y){case"<":V=Y+V+Z+ae;break;case"=":V=Y+ae+V+Z;break;case"^":V=ae.slice(0,H=ae.length>>1)+Y+V+Z+ae.slice(H);break;default:V=ae+Y+V+Z;break}return i(V)}return W.toString=function(){return m+""},W}function p(m,v){var y=h((m=ul(m),m.type="f",m)),j=Math.max(-8,Math.min(8,Math.floor(xs(v)/3)))*3,w=Math.pow(10,-j),_=$_[8+j/3];return function(E){return y(w*E)+_}}return{format:h,formatPrefix:p}}var du,oy,MN;xB({thousands:",",grouping:[3],currency:["$",""]});function xB(e){return du=yB(e),oy=du.format,MN=du.formatPrefix,du}function bB(e){return Math.max(0,-xs(Math.abs(e)))}function wB(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(xs(t)/3)))*3-xs(Math.abs(e)))}function jB(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,xs(t)-xs(e))+1}function LN(e,t,r,n){var a=Ug(e,t,r),i;switch(n=ul(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=wB(a,l))&&(n.precision=i),MN(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=jB(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=bB(a))&&(n.precision=i-(n.type==="%")*2);break}}return oy(n)}function $a(e){var t=e.domain;return e.ticks=function(r){var n=t();return Bg(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return LN(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,l=n[a],c=n[i],d,h,p=10;for(c<l&&(h=l,l=c,c=h,h=a,a=i,i=h);p-- >0;){if(h=Fg(l,c,r),h===d)return n[a]=l,n[i]=c,t(n);if(h>0)l=Math.floor(l/h)*h,c=Math.ceil(c/h)*h;else if(h<0)l=Math.ceil(l*h)/h,c=Math.floor(c*h)/h;else break;d=h}return e},e}function $N(){var e=iy();return e.copy=function(){return _l(e,$N())},Kr.apply(e,arguments),$a(e)}function BN(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Hu),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return BN(e).unknown(t)},e=arguments.length?Array.from(e,Hu):[0,1],$a(r)}function FN(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],l;return i<a&&(l=r,r=n,n=l,l=a,a=i,i=l),e[r]=t.floor(a),e[n]=t.ceil(i),e}function B_(e){return Math.log(e)}function F_(e){return Math.exp(e)}function _B(e){return-Math.log(-e)}function kB(e){return-Math.exp(-e)}function SB(e){return isFinite(e)?+("1e"+e):e<0?0:e}function EB(e){return e===10?SB:e===Math.E?Math.exp:t=>Math.pow(e,t)}function PB(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function U_(e){return(t,r)=>-e(-t,r)}function ly(e){const t=e(B_,F_),r=t.domain;let n=10,a,i;function l(){return a=PB(n),i=EB(n),r()[0]<0?(a=U_(a),i=U_(i),e(_B,kB)):e(B_,F_),t}return t.base=function(c){return arguments.length?(n=+c,l()):n},t.domain=function(c){return arguments.length?(r(c),l()):r()},t.ticks=c=>{const d=r();let h=d[0],p=d[d.length-1];const m=p<h;m&&([h,p]=[p,h]);let v=a(h),y=a(p),j,w;const _=c==null?10:+c;let E=[];if(!(n%1)&&y-v<_){if(v=Math.floor(v),y=Math.ceil(y),h>0){for(;v<=y;++v)for(j=1;j<n;++j)if(w=v<0?j/i(-v):j*i(v),!(w<h)){if(w>p)break;E.push(w)}}else for(;v<=y;++v)for(j=n-1;j>=1;--j)if(w=v>0?j/i(-v):j*i(v),!(w<h)){if(w>p)break;E.push(w)}E.length*2<_&&(E=Bg(h,p,_))}else E=Bg(v,y,Math.min(y-v,_)).map(i);return m?E.reverse():E},t.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=ul(d)).precision==null&&(d.trim=!0),d=oy(d)),c===1/0)return d;const h=Math.max(1,n*c/t.ticks().length);return p=>{let m=p/i(Math.round(a(p)));return m*n<n-.5&&(m*=n),m<=h?d(p):""}},t.nice=()=>r(FN(r(),{floor:c=>i(Math.floor(a(c))),ceil:c=>i(Math.ceil(a(c)))})),t}function UN(){const e=ly(Md()).domain([1,10]);return e.copy=()=>_l(e,UN()).base(e.base()),Kr.apply(e,arguments),e}function z_(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function q_(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function cy(e){var t=1,r=e(z_(t),q_(t));return r.constant=function(n){return arguments.length?e(z_(t=+n),q_(t)):t},$a(r)}function zN(){var e=cy(Md());return e.copy=function(){return _l(e,zN()).constant(e.constant())},Kr.apply(e,arguments)}function W_(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function NB(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function OB(e){return e<0?-e*e:e*e}function uy(e){var t=e(rr,rr),r=1;function n(){return r===1?e(rr,rr):r===.5?e(NB,OB):e(W_(r),W_(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},$a(t)}function dy(){var e=uy(Md());return e.copy=function(){return _l(e,dy()).exponent(e.exponent())},Kr.apply(e,arguments),e}function AB(){return dy.apply(null,arguments).exponent(.5)}function K_(e){return Math.sign(e)*e*e}function CB(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function qN(){var e=iy(),t=[0,1],r=!1,n;function a(i){var l=CB(e(i));return isNaN(l)?n:r?Math.round(l):l}return a.invert=function(i){return e.invert(K_(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Hu)).map(K_)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return qN(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Kr.apply(a,arguments),$a(a)}function WN(){var e=[],t=[],r=[],n;function a(){var l=0,c=Math.max(1,t.length);for(r=new Array(c-1);++l<c;)r[l-1]=D5(e,l/c);return i}function i(l){return l==null||isNaN(l=+l)?n:t[wl(r,l)]}return i.invertExtent=function(l){var c=t.indexOf(l);return c<0?[NaN,NaN]:[c>0?r[c-1]:e[0],c<r.length?r[c]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let c of l)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(Ca),a()},i.range=function(l){return arguments.length?(t=Array.from(l),a()):t.slice()},i.unknown=function(l){return arguments.length?(n=l,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return WN().domain(e).range(t).unknown(n)},Kr.apply(i,arguments)}function KN(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function l(d){return d!=null&&d<=d?a[wl(n,d,0,r)]:i}function c(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,c()):[e,t]},l.range=function(d){return arguments.length?(r=(a=Array.from(d)).length-1,c()):a.slice()},l.invertExtent=function(d){var h=a.indexOf(d);return h<0?[NaN,NaN]:h<1?[e,n[0]]:h>=r?[n[r-1],t]:[n[h-1],n[h]]},l.unknown=function(d){return arguments.length&&(i=d),l},l.thresholds=function(){return n.slice()},l.copy=function(){return KN().domain([e,t]).range(a).unknown(i)},Kr.apply($a(l),arguments)}function VN(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[wl(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var l=t.indexOf(i);return[e[l-1],e[l]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return VN().domain(e).range(t).unknown(r)},Kr.apply(a,arguments)}const Om=new Date,Am=new Date;function Et(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const l=a(i),c=a.ceil(i);return i-l<c-i?l:c},a.offset=(i,l)=>(t(i=new Date(+i),l==null?1:Math.floor(l)),i),a.range=(i,l,c)=>{const d=[];if(i=a.ceil(i),c=c==null?1:Math.floor(c),!(i<l)||!(c>0))return d;let h;do d.push(h=new Date(+i)),t(i,c),e(i);while(h<i&&i<l);return d},a.filter=i=>Et(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;t(l,-1),!i(l););else for(;--c>=0;)for(;t(l,1),!i(l););}),r&&(a.count=(i,l)=>(Om.setTime(+i),Am.setTime(+l),e(Om),e(Am),Math.floor(r(Om,Am))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?l=>n(l)%i===0:l=>a.count(0,l)%i===0):a)),a}const Yu=Et(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Yu.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Et(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Yu);Yu.range;const Bn=1e3,zr=Bn*60,Fn=zr*60,Gn=Fn*24,fy=Gn*7,V_=Gn*30,Cm=Gn*365,ui=Et(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Bn)},(e,t)=>(t-e)/Bn,e=>e.getUTCSeconds());ui.range;const hy=Et(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Bn)},(e,t)=>{e.setTime(+e+t*zr)},(e,t)=>(t-e)/zr,e=>e.getMinutes());hy.range;const py=Et(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*zr)},(e,t)=>(t-e)/zr,e=>e.getUTCMinutes());py.range;const my=Et(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Bn-e.getMinutes()*zr)},(e,t)=>{e.setTime(+e+t*Fn)},(e,t)=>(t-e)/Fn,e=>e.getHours());my.range;const gy=Et(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Fn)},(e,t)=>(t-e)/Fn,e=>e.getUTCHours());gy.range;const kl=Et(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*zr)/Gn,e=>e.getDate()-1);kl.range;const Ld=Et(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Gn,e=>e.getUTCDate()-1);Ld.range;const HN=Et(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Gn,e=>Math.floor(e/Gn));HN.range;function Ei(e){return Et(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*zr)/fy)}const $d=Ei(0),Xu=Ei(1),TB=Ei(2),RB=Ei(3),bs=Ei(4),IB=Ei(5),DB=Ei(6);$d.range;Xu.range;TB.range;RB.range;bs.range;IB.range;DB.range;function Pi(e){return Et(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/fy)}const Bd=Pi(0),Ju=Pi(1),MB=Pi(2),LB=Pi(3),ws=Pi(4),$B=Pi(5),BB=Pi(6);Bd.range;Ju.range;MB.range;LB.range;ws.range;$B.range;BB.range;const vy=Et(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());vy.range;const yy=Et(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());yy.range;const Yn=Et(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Yn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Et(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Yn.range;const Xn=Et(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Xn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Et(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Xn.range;function GN(e,t,r,n,a,i){const l=[[ui,1,Bn],[ui,5,5*Bn],[ui,15,15*Bn],[ui,30,30*Bn],[i,1,zr],[i,5,5*zr],[i,15,15*zr],[i,30,30*zr],[a,1,Fn],[a,3,3*Fn],[a,6,6*Fn],[a,12,12*Fn],[n,1,Gn],[n,2,2*Gn],[r,1,fy],[t,1,V_],[t,3,3*V_],[e,1,Cm]];function c(h,p,m){const v=p<h;v&&([h,p]=[p,h]);const y=m&&typeof m.range=="function"?m:d(h,p,m),j=y?y.range(h,+p+1):[];return v?j.reverse():j}function d(h,p,m){const v=Math.abs(p-h)/m,y=Zv(([,,_])=>_).right(l,v);if(y===l.length)return e.every(Ug(h/Cm,p/Cm,m));if(y===0)return Yu.every(Math.max(Ug(h,p,m),1));const[j,w]=l[v/l[y-1][2]<l[y][2]/v?y-1:y];return j.every(w)}return[c,d]}const[FB,UB]=GN(Xn,yy,Bd,HN,gy,py),[zB,qB]=GN(Yn,vy,$d,kl,my,hy);function Tm(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Rm(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Lo(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function WB(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,l=e.shortDays,c=e.months,d=e.shortMonths,h=$o(a),p=Bo(a),m=$o(i),v=Bo(i),y=$o(l),j=Bo(l),w=$o(c),_=Bo(c),E=$o(d),A=Bo(d),P={a:re,A:H,b:ae,B:ne,c:null,d:Q_,e:Q_,f:hF,g:_F,G:SF,H:uF,I:dF,j:fF,L:YN,m:pF,M:mF,p:L,q:K,Q:tk,s:rk,S:gF,u:vF,U:yF,V:xF,w:bF,W:wF,x:null,X:null,y:jF,Y:kF,Z:EF,"%":ek},C={a:ye,A:Ee,b:je,B:Ce,c:null,d:Z_,e:Z_,f:AF,g:FF,G:zF,H:PF,I:NF,j:OF,L:JN,m:CF,M:TF,p:Le,q:Re,Q:tk,s:rk,S:RF,u:IF,U:DF,V:MF,w:LF,W:$F,x:null,X:null,y:BF,Y:UF,Z:qF,"%":ek},N={a:W,A:V,b:Y,B:Z,c:se,d:X_,e:X_,f:sF,g:Y_,G:G_,H:J_,I:J_,j:rF,L:iF,m:tF,M:nF,p:z,q:eF,Q:lF,s:cF,S:aF,u:YB,U:XB,V:JB,w:GB,W:QB,x:G,X:le,y:Y_,Y:G_,Z:ZB,"%":oF};P.x=S(r,P),P.X=S(n,P),P.c=S(t,P),C.x=S(r,C),C.X=S(n,C),C.c=S(t,C);function S(q,we){return function(Oe){var ee=[],xt=-1,$e=0,Ft=q.length,Ut,Vr,Ws;for(Oe instanceof Date||(Oe=new Date(+Oe));++xt<Ft;)q.charCodeAt(xt)===37&&(ee.push(q.slice($e,xt)),(Vr=H_[Ut=q.charAt(++xt)])!=null?Ut=q.charAt(++xt):Vr=Ut==="e"?" ":"0",(Ws=we[Ut])&&(Ut=Ws(Oe,Vr)),ee.push(Ut),$e=xt+1);return ee.push(q.slice($e,xt)),ee.join("")}}function T(q,we){return function(Oe){var ee=Lo(1900,void 0,1),xt=M(ee,q,Oe+="",0),$e,Ft;if(xt!=Oe.length)return null;if("Q"in ee)return new Date(ee.Q);if("s"in ee)return new Date(ee.s*1e3+("L"in ee?ee.L:0));if(we&&!("Z"in ee)&&(ee.Z=0),"p"in ee&&(ee.H=ee.H%12+ee.p*12),ee.m===void 0&&(ee.m="q"in ee?ee.q:0),"V"in ee){if(ee.V<1||ee.V>53)return null;"w"in ee||(ee.w=1),"Z"in ee?($e=Rm(Lo(ee.y,0,1)),Ft=$e.getUTCDay(),$e=Ft>4||Ft===0?Ju.ceil($e):Ju($e),$e=Ld.offset($e,(ee.V-1)*7),ee.y=$e.getUTCFullYear(),ee.m=$e.getUTCMonth(),ee.d=$e.getUTCDate()+(ee.w+6)%7):($e=Tm(Lo(ee.y,0,1)),Ft=$e.getDay(),$e=Ft>4||Ft===0?Xu.ceil($e):Xu($e),$e=kl.offset($e,(ee.V-1)*7),ee.y=$e.getFullYear(),ee.m=$e.getMonth(),ee.d=$e.getDate()+(ee.w+6)%7)}else("W"in ee||"U"in ee)&&("w"in ee||(ee.w="u"in ee?ee.u%7:"W"in ee?1:0),Ft="Z"in ee?Rm(Lo(ee.y,0,1)).getUTCDay():Tm(Lo(ee.y,0,1)).getDay(),ee.m=0,ee.d="W"in ee?(ee.w+6)%7+ee.W*7-(Ft+5)%7:ee.w+ee.U*7-(Ft+6)%7);return"Z"in ee?(ee.H+=ee.Z/100|0,ee.M+=ee.Z%100,Rm(ee)):Tm(ee)}}function M(q,we,Oe,ee){for(var xt=0,$e=we.length,Ft=Oe.length,Ut,Vr;xt<$e;){if(ee>=Ft)return-1;if(Ut=we.charCodeAt(xt++),Ut===37){if(Ut=we.charAt(xt++),Vr=N[Ut in H_?we.charAt(xt++):Ut],!Vr||(ee=Vr(q,Oe,ee))<0)return-1}else if(Ut!=Oe.charCodeAt(ee++))return-1}return ee}function z(q,we,Oe){var ee=h.exec(we.slice(Oe));return ee?(q.p=p.get(ee[0].toLowerCase()),Oe+ee[0].length):-1}function W(q,we,Oe){var ee=y.exec(we.slice(Oe));return ee?(q.w=j.get(ee[0].toLowerCase()),Oe+ee[0].length):-1}function V(q,we,Oe){var ee=m.exec(we.slice(Oe));return ee?(q.w=v.get(ee[0].toLowerCase()),Oe+ee[0].length):-1}function Y(q,we,Oe){var ee=E.exec(we.slice(Oe));return ee?(q.m=A.get(ee[0].toLowerCase()),Oe+ee[0].length):-1}function Z(q,we,Oe){var ee=w.exec(we.slice(Oe));return ee?(q.m=_.get(ee[0].toLowerCase()),Oe+ee[0].length):-1}function se(q,we,Oe){return M(q,t,we,Oe)}function G(q,we,Oe){return M(q,r,we,Oe)}function le(q,we,Oe){return M(q,n,we,Oe)}function re(q){return l[q.getDay()]}function H(q){return i[q.getDay()]}function ae(q){return d[q.getMonth()]}function ne(q){return c[q.getMonth()]}function L(q){return a[+(q.getHours()>=12)]}function K(q){return 1+~~(q.getMonth()/3)}function ye(q){return l[q.getUTCDay()]}function Ee(q){return i[q.getUTCDay()]}function je(q){return d[q.getUTCMonth()]}function Ce(q){return c[q.getUTCMonth()]}function Le(q){return a[+(q.getUTCHours()>=12)]}function Re(q){return 1+~~(q.getUTCMonth()/3)}return{format:function(q){var we=S(q+="",P);return we.toString=function(){return q},we},parse:function(q){var we=T(q+="",!1);return we.toString=function(){return q},we},utcFormat:function(q){var we=S(q+="",C);return we.toString=function(){return q},we},utcParse:function(q){var we=T(q+="",!0);return we.toString=function(){return q},we}}}var H_={"-":"",_:" ",0:"0"},It=/^\s*\d+/,KB=/^%/,VB=/[\\^$*+?|[\]().{}]/g;function Me(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function HB(e){return e.replace(VB,"\\$&")}function $o(e){return new RegExp("^(?:"+e.map(HB).join("|")+")","i")}function Bo(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function GB(e,t,r){var n=It.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function YB(e,t,r){var n=It.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function XB(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function JB(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function QB(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function G_(e,t,r){var n=It.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Y_(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function ZB(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function eF(e,t,r){var n=It.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function tF(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function X_(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function rF(e,t,r){var n=It.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function J_(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function nF(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function aF(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function iF(e,t,r){var n=It.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function sF(e,t,r){var n=It.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function oF(e,t,r){var n=KB.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function lF(e,t,r){var n=It.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function cF(e,t,r){var n=It.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Q_(e,t){return Me(e.getDate(),t,2)}function uF(e,t){return Me(e.getHours(),t,2)}function dF(e,t){return Me(e.getHours()%12||12,t,2)}function fF(e,t){return Me(1+kl.count(Yn(e),e),t,3)}function YN(e,t){return Me(e.getMilliseconds(),t,3)}function hF(e,t){return YN(e,t)+"000"}function pF(e,t){return Me(e.getMonth()+1,t,2)}function mF(e,t){return Me(e.getMinutes(),t,2)}function gF(e,t){return Me(e.getSeconds(),t,2)}function vF(e){var t=e.getDay();return t===0?7:t}function yF(e,t){return Me($d.count(Yn(e)-1,e),t,2)}function XN(e){var t=e.getDay();return t>=4||t===0?bs(e):bs.ceil(e)}function xF(e,t){return e=XN(e),Me(bs.count(Yn(e),e)+(Yn(e).getDay()===4),t,2)}function bF(e){return e.getDay()}function wF(e,t){return Me(Xu.count(Yn(e)-1,e),t,2)}function jF(e,t){return Me(e.getFullYear()%100,t,2)}function _F(e,t){return e=XN(e),Me(e.getFullYear()%100,t,2)}function kF(e,t){return Me(e.getFullYear()%1e4,t,4)}function SF(e,t){var r=e.getDay();return e=r>=4||r===0?bs(e):bs.ceil(e),Me(e.getFullYear()%1e4,t,4)}function EF(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Me(t/60|0,"0",2)+Me(t%60,"0",2)}function Z_(e,t){return Me(e.getUTCDate(),t,2)}function PF(e,t){return Me(e.getUTCHours(),t,2)}function NF(e,t){return Me(e.getUTCHours()%12||12,t,2)}function OF(e,t){return Me(1+Ld.count(Xn(e),e),t,3)}function JN(e,t){return Me(e.getUTCMilliseconds(),t,3)}function AF(e,t){return JN(e,t)+"000"}function CF(e,t){return Me(e.getUTCMonth()+1,t,2)}function TF(e,t){return Me(e.getUTCMinutes(),t,2)}function RF(e,t){return Me(e.getUTCSeconds(),t,2)}function IF(e){var t=e.getUTCDay();return t===0?7:t}function DF(e,t){return Me(Bd.count(Xn(e)-1,e),t,2)}function QN(e){var t=e.getUTCDay();return t>=4||t===0?ws(e):ws.ceil(e)}function MF(e,t){return e=QN(e),Me(ws.count(Xn(e),e)+(Xn(e).getUTCDay()===4),t,2)}function LF(e){return e.getUTCDay()}function $F(e,t){return Me(Ju.count(Xn(e)-1,e),t,2)}function BF(e,t){return Me(e.getUTCFullYear()%100,t,2)}function FF(e,t){return e=QN(e),Me(e.getUTCFullYear()%100,t,2)}function UF(e,t){return Me(e.getUTCFullYear()%1e4,t,4)}function zF(e,t){var r=e.getUTCDay();return e=r>=4||r===0?ws(e):ws.ceil(e),Me(e.getUTCFullYear()%1e4,t,4)}function qF(){return"+0000"}function ek(){return"%"}function tk(e){return+e}function rk(e){return Math.floor(+e/1e3)}var as,ZN,eO;WF({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function WF(e){return as=WB(e),ZN=as.format,as.parse,eO=as.utcFormat,as.utcParse,as}function KF(e){return new Date(e)}function VF(e){return e instanceof Date?+e:+new Date(+e)}function xy(e,t,r,n,a,i,l,c,d,h){var p=iy(),m=p.invert,v=p.domain,y=h(".%L"),j=h(":%S"),w=h("%I:%M"),_=h("%I %p"),E=h("%a %d"),A=h("%b %d"),P=h("%B"),C=h("%Y");function N(S){return(d(S)<S?y:c(S)<S?j:l(S)<S?w:i(S)<S?_:n(S)<S?a(S)<S?E:A:r(S)<S?P:C)(S)}return p.invert=function(S){return new Date(m(S))},p.domain=function(S){return arguments.length?v(Array.from(S,VF)):v().map(KF)},p.ticks=function(S){var T=v();return e(T[0],T[T.length-1],S??10)},p.tickFormat=function(S,T){return T==null?N:h(T)},p.nice=function(S){var T=v();return(!S||typeof S.range!="function")&&(S=t(T[0],T[T.length-1],S??10)),S?v(FN(T,S)):p},p.copy=function(){return _l(p,xy(e,t,r,n,a,i,l,c,d,h))},p}function HF(){return Kr.apply(xy(zB,qB,Yn,vy,$d,kl,my,hy,ui,ZN).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function GF(){return Kr.apply(xy(FB,UB,Xn,yy,Bd,Ld,gy,py,ui,eO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Fd(){var e=0,t=1,r,n,a,i,l=rr,c=!1,d;function h(m){return m==null||isNaN(m=+m)?d:l(a===0?.5:(m=(i(m)-r)*a,c?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([e,t]=m,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),h):[e,t]},h.clamp=function(m){return arguments.length?(c=!!m,h):c},h.interpolator=function(m){return arguments.length?(l=m,h):l};function p(m){return function(v){var y,j;return arguments.length?([y,j]=v,l=m(y,j),h):[l(0),l(1)]}}return h.range=p(Rs),h.rangeRound=p(ay),h.unknown=function(m){return arguments.length?(d=m,h):d},function(m){return i=m,r=m(e),n=m(t),a=r===n?0:1/(n-r),h}}function Ba(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function tO(){var e=$a(Fd()(rr));return e.copy=function(){return Ba(e,tO())},ea.apply(e,arguments)}function rO(){var e=ly(Fd()).domain([1,10]);return e.copy=function(){return Ba(e,rO()).base(e.base())},ea.apply(e,arguments)}function nO(){var e=cy(Fd());return e.copy=function(){return Ba(e,nO()).constant(e.constant())},ea.apply(e,arguments)}function by(){var e=uy(Fd());return e.copy=function(){return Ba(e,by()).exponent(e.exponent())},ea.apply(e,arguments)}function YF(){return by.apply(null,arguments).exponent(.5)}function aO(){var e=[],t=rr;function r(n){if(n!=null&&!isNaN(n=+n))return t((wl(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ca),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>I5(e,i/n))},r.copy=function(){return aO(t).domain(e)},ea.apply(r,arguments)}function Ud(){var e=0,t=.5,r=1,n=1,a,i,l,c,d,h=rr,p,m=!1,v;function y(w){return isNaN(w=+w)?v:(w=.5+((w=+p(w))-i)*(n*w<n*i?c:d),h(m?Math.max(0,Math.min(1,w)):w))}y.domain=function(w){return arguments.length?([e,t,r]=w,a=p(e=+e),i=p(t=+t),l=p(r=+r),c=a===i?0:.5/(i-a),d=i===l?0:.5/(l-i),n=i<a?-1:1,y):[e,t,r]},y.clamp=function(w){return arguments.length?(m=!!w,y):m},y.interpolator=function(w){return arguments.length?(h=w,y):h};function j(w){return function(_){var E,A,P;return arguments.length?([E,A,P]=_,h=oB(w,[E,A,P]),y):[h(0),h(.5),h(1)]}}return y.range=j(Rs),y.rangeRound=j(ay),y.unknown=function(w){return arguments.length?(v=w,y):v},function(w){return p=w,a=w(e),i=w(t),l=w(r),c=a===i?0:.5/(i-a),d=i===l?0:.5/(l-i),n=i<a?-1:1,y}}function iO(){var e=$a(Ud()(rr));return e.copy=function(){return Ba(e,iO())},ea.apply(e,arguments)}function sO(){var e=ly(Ud()).domain([.1,1,10]);return e.copy=function(){return Ba(e,sO()).base(e.base())},ea.apply(e,arguments)}function oO(){var e=cy(Ud());return e.copy=function(){return Ba(e,oO()).constant(e.constant())},ea.apply(e,arguments)}function wy(){var e=uy(Ud());return e.copy=function(){return Ba(e,wy()).exponent(e.exponent())},ea.apply(e,arguments)}function XF(){return wy.apply(null,arguments).exponent(.5)}const Wo=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ty,scaleDiverging:iO,scaleDivergingLog:sO,scaleDivergingPow:wy,scaleDivergingSqrt:XF,scaleDivergingSymlog:oO,scaleIdentity:BN,scaleImplicit:zg,scaleLinear:$N,scaleLog:UN,scaleOrdinal:ey,scalePoint:L5,scalePow:dy,scaleQuantile:WN,scaleQuantize:KN,scaleRadial:qN,scaleSequential:tO,scaleSequentialLog:rO,scaleSequentialPow:by,scaleSequentialQuantile:aO,scaleSequentialSqrt:YF,scaleSequentialSymlog:nO,scaleSqrt:AB,scaleSymlog:zN,scaleThreshold:VN,scaleTime:HF,scaleUtc:GF,tickFormat:LN},Symbol.toStringTag,{value:"Module"}));var Fa=e=>e.chartData,jy=B([Fa],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Sl=(e,t,r,n)=>n?jy(e):Fa(e);function wi(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(yt(t)&&yt(r))return!0}return!1}function nk(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function lO(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(yt(r))a=r;else if(typeof r=="function")return;if(yt(n))i=n;else if(typeof n=="function")return;var l=[a,i];if(wi(l))return l}}function JF(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(wi(n))return nk(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,l,c;if(a==="auto")t!=null&&(l=Math.min(...t));else if(fe(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t?.[0]))}catch{}else if(typeof a=="string"&&F1.test(a)){var d=F1.exec(a);if(d==null||t==null)l=void 0;else{var h=+d[1];l=t[0]-h}}else l=t?.[0];if(i==="auto")t!=null&&(c=Math.max(...t));else if(fe(i))c=i;else if(typeof i=="function")try{t!=null&&(c=i(t?.[1]))}catch{}else if(typeof i=="string"&&U1.test(i)){var p=U1.exec(i);if(p==null||t==null)c=void 0;else{var m=+p[1];c=t[1]+m}}else c=t?.[1];var v=[l,c];if(wi(v))return t==null?v:nk(v,t,r)}}}var Is=1e9,QF={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ky,et=!0,Wr="[DecimalError] ",mi=Wr+"Invalid argument: ",_y=Wr+"Exponent out of range: ",Ds=Math.floor,ii=Math.pow,ZF=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Er,Tt=1e7,Xe=7,cO=9007199254740991,Qu=Ds(cO/Xe),ue={};ue.absoluteValue=ue.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ue.comparedTo=ue.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};ue.decimalPlaces=ue.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Xe;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ue.dividedBy=ue.div=function(e){return qn(this,new this.constructor(e))};ue.dividedToIntegerBy=ue.idiv=function(e){var t=this,r=t.constructor;return We(qn(t,new r(e),0,1),r.precision)};ue.equals=ue.eq=function(e){return!this.cmp(e)};ue.exponent=function(){return vt(this)};ue.greaterThan=ue.gt=function(e){return this.cmp(e)>0};ue.greaterThanOrEqualTo=ue.gte=function(e){return this.cmp(e)>=0};ue.isInteger=ue.isint=function(){return this.e>this.d.length-2};ue.isNegative=ue.isneg=function(){return this.s<0};ue.isPositive=ue.ispos=function(){return this.s>0};ue.isZero=function(){return this.s===0};ue.lessThan=ue.lt=function(e){return this.cmp(e)<0};ue.lessThanOrEqualTo=ue.lte=function(e){return this.cmp(e)<1};ue.logarithm=ue.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Er))throw Error(Wr+"NaN");if(r.s<1)throw Error(Wr+(r.s?"NaN":"-Infinity"));return r.eq(Er)?new n(0):(et=!1,t=qn(dl(r,i),dl(e,i),i),et=!0,We(t,a))};ue.minus=ue.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?fO(t,e):uO(t,(e.s=-e.s,e))};ue.modulo=ue.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Wr+"NaN");return r.s?(et=!1,t=qn(r,e,0,1).times(e),et=!0,r.minus(t)):We(new n(r),a)};ue.naturalExponential=ue.exp=function(){return dO(this)};ue.naturalLogarithm=ue.ln=function(){return dl(this)};ue.negated=ue.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ue.plus=ue.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?uO(t,e):fO(t,(e.s=-e.s,e))};ue.precision=ue.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(mi+e);if(t=vt(a)+1,n=a.d.length-1,r=n*Xe+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ue.squareRoot=ue.sqrt=function(){var e,t,r,n,a,i,l,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(Wr+"NaN")}for(e=vt(c),et=!1,a=Math.sqrt(+c),a==0||a==1/0?(t=mn(c.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Ds((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(a.toString()),r=d.precision,a=l=r+3;;)if(i=n,n=i.plus(qn(c,i,l+2)).times(.5),mn(i.d).slice(0,l)===(t=mn(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),a==l&&t=="4999"){if(We(i,r+1,0),i.times(i).eq(c)){n=i;break}}else if(t!="9999")break;l+=4}return et=!0,We(n,r)};ue.times=ue.mul=function(e){var t,r,n,a,i,l,c,d,h,p=this,m=p.constructor,v=p.d,y=(e=new m(e)).d;if(!p.s||!e.s)return new m(0);for(e.s*=p.s,r=p.e+e.e,d=v.length,h=y.length,d<h&&(i=v,v=y,y=i,l=d,d=h,h=l),i=[],l=d+h,n=l;n--;)i.push(0);for(n=h;--n>=0;){for(t=0,a=d+n;a>n;)c=i[a]+y[n]*v[a-n-1]+t,i[a--]=c%Tt|0,t=c/Tt|0;i[a]=(i[a]+t)%Tt|0}for(;!i[--l];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,et?We(e,m.precision):e};ue.toDecimalPlaces=ue.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(jn(e,0,Is),t===void 0?t=n.rounding:jn(t,0,8),We(r,e+vt(r)+1,t))};ue.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=ji(n,!0):(jn(e,0,Is),t===void 0?t=a.rounding:jn(t,0,8),n=We(new a(n),e+1,t),r=ji(n,!0,e+1)),r};ue.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?ji(a):(jn(e,0,Is),t===void 0?t=i.rounding:jn(t,0,8),n=We(new i(a),e+vt(a)+1,t),r=ji(n.abs(),!1,e+vt(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ue.toInteger=ue.toint=function(){var e=this,t=e.constructor;return We(new t(e),vt(e)+1,t.rounding)};ue.toNumber=function(){return+this};ue.toPower=ue.pow=function(e){var t,r,n,a,i,l,c=this,d=c.constructor,h=12,p=+(e=new d(e));if(!e.s)return new d(Er);if(c=new d(c),!c.s){if(e.s<1)throw Error(Wr+"Infinity");return c}if(c.eq(Er))return c;if(n=d.precision,e.eq(Er))return We(c,n);if(t=e.e,r=e.d.length-1,l=t>=r,i=c.s,l){if((r=p<0?-p:p)<=cO){for(a=new d(Er),t=Math.ceil(n/Xe+4),et=!1;r%2&&(a=a.times(c),ik(a.d,t)),r=Ds(r/2),r!==0;)c=c.times(c),ik(c.d,t);return et=!0,e.s<0?new d(Er).div(a):We(a,n)}}else if(i<0)throw Error(Wr+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,c.s=1,et=!1,a=e.times(dl(c,n+h)),et=!0,a=dO(a),a.s=i,a};ue.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=vt(a),n=ji(a,r<=i.toExpNeg||r>=i.toExpPos)):(jn(e,1,Is),t===void 0?t=i.rounding:jn(t,0,8),a=We(new i(a),e,t),r=vt(a),n=ji(a,e<=r||r<=i.toExpNeg,e)),n};ue.toSignificantDigits=ue.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(jn(e,1,Is),t===void 0?t=n.rounding:jn(t,0,8)),We(new n(r),e,t)};ue.toString=ue.valueOf=ue.val=ue.toJSON=ue[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=vt(e),r=e.constructor;return ji(e,t<=r.toExpNeg||t>=r.toExpPos)};function uO(e,t){var r,n,a,i,l,c,d,h,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),et?We(t,m):t;if(d=e.d,h=t.d,l=e.e,a=t.e,d=d.slice(),i=l-a,i){for(i<0?(n=d,i=-i,c=h.length):(n=h,a=l,c=d.length),l=Math.ceil(m/Xe),c=l>c?l+1:c+1,i>c&&(i=c,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(c=d.length,i=h.length,c-i<0&&(i=c,n=h,h=d,d=n),r=0;i;)r=(d[--i]=d[i]+h[i]+r)/Tt|0,d[i]%=Tt;for(r&&(d.unshift(r),++a),c=d.length;d[--c]==0;)d.pop();return t.d=d,t.e=a,et?We(t,m):t}function jn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(mi+e)}function mn(e){var t,r,n,a=e.length-1,i="",l=e[0];if(a>0){for(i+=l,t=1;t<a;t++)n=e[t]+"",r=Xe-n.length,r&&(i+=ka(r)),i+=n;l=e[t],n=l+"",r=Xe-n.length,r&&(i+=ka(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var qn=(function(){function e(n,a){var i,l=0,c=n.length;for(n=n.slice();c--;)i=n[c]*a+l,n[c]=i%Tt|0,l=i/Tt|0;return l&&n.unshift(l),n}function t(n,a,i,l){var c,d;if(i!=l)d=i>l?1:-1;else for(c=d=0;c<i;c++)if(n[c]!=a[c]){d=n[c]>a[c]?1:-1;break}return d}function r(n,a,i){for(var l=0;i--;)n[i]-=l,l=n[i]<a[i]?1:0,n[i]=l*Tt+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,l){var c,d,h,p,m,v,y,j,w,_,E,A,P,C,N,S,T,M,z=n.constructor,W=n.s==a.s?1:-1,V=n.d,Y=a.d;if(!n.s)return new z(n);if(!a.s)throw Error(Wr+"Division by zero");for(d=n.e-a.e,T=Y.length,N=V.length,y=new z(W),j=y.d=[],h=0;Y[h]==(V[h]||0);)++h;if(Y[h]>(V[h]||0)&&--d,i==null?A=i=z.precision:l?A=i+(vt(n)-vt(a))+1:A=i,A<0)return new z(0);if(A=A/Xe+2|0,h=0,T==1)for(p=0,Y=Y[0],A++;(h<N||p)&&A--;h++)P=p*Tt+(V[h]||0),j[h]=P/Y|0,p=P%Y|0;else{for(p=Tt/(Y[0]+1)|0,p>1&&(Y=e(Y,p),V=e(V,p),T=Y.length,N=V.length),C=T,w=V.slice(0,T),_=w.length;_<T;)w[_++]=0;M=Y.slice(),M.unshift(0),S=Y[0],Y[1]>=Tt/2&&++S;do p=0,c=t(Y,w,T,_),c<0?(E=w[0],T!=_&&(E=E*Tt+(w[1]||0)),p=E/S|0,p>1?(p>=Tt&&(p=Tt-1),m=e(Y,p),v=m.length,_=w.length,c=t(m,w,v,_),c==1&&(p--,r(m,T<v?M:Y,v))):(p==0&&(c=p=1),m=Y.slice()),v=m.length,v<_&&m.unshift(0),r(w,m,_),c==-1&&(_=w.length,c=t(Y,w,T,_),c<1&&(p++,r(w,T<_?M:Y,_))),_=w.length):c===0&&(p++,w=[0]),j[h++]=p,c&&w[0]?w[_++]=V[C]||0:(w=[V[C]],_=1);while((C++<N||w[0]!==void 0)&&A--)}return j[0]||j.shift(),y.e=d,We(y,l?i+vt(y)+1:i)}})();function dO(e,t){var r,n,a,i,l,c,d=0,h=0,p=e.constructor,m=p.precision;if(vt(e)>16)throw Error(_y+vt(e));if(!e.s)return new p(Er);for(et=!1,c=m,l=new p(.03125);e.abs().gte(.1);)e=e.times(l),h+=5;for(n=Math.log(ii(2,h))/Math.LN10*2+5|0,c+=n,r=a=i=new p(Er),p.precision=c;;){if(a=We(a.times(e),c),r=r.times(++d),l=i.plus(qn(a,r,c)),mn(l.d).slice(0,c)===mn(i.d).slice(0,c)){for(;h--;)i=We(i.times(i),c);return p.precision=m,t==null?(et=!0,We(i,m)):i}i=l}}function vt(e){for(var t=e.e*Xe,r=e.d[0];r>=10;r/=10)t++;return t}function Im(e,t,r){if(t>e.LN10.sd())throw et=!0,r&&(e.precision=r),Error(Wr+"LN10 precision limit exceeded");return We(new e(e.LN10),t)}function ka(e){for(var t="";e--;)t+="0";return t}function dl(e,t){var r,n,a,i,l,c,d,h,p,m=1,v=10,y=e,j=y.d,w=y.constructor,_=w.precision;if(y.s<1)throw Error(Wr+(y.s?"NaN":"-Infinity"));if(y.eq(Er))return new w(0);if(t==null?(et=!1,h=_):h=t,y.eq(10))return t==null&&(et=!0),Im(w,h);if(h+=v,w.precision=h,r=mn(j),n=r.charAt(0),i=vt(y),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)y=y.times(e),r=mn(y.d),n=r.charAt(0),m++;i=vt(y),n>1?(y=new w("0."+r),i++):y=new w(n+"."+r.slice(1))}else return d=Im(w,h+2,_).times(i+""),y=dl(new w(n+"."+r.slice(1)),h-v).plus(d),w.precision=_,t==null?(et=!0,We(y,_)):y;for(c=l=y=qn(y.minus(Er),y.plus(Er),h),p=We(y.times(y),h),a=3;;){if(l=We(l.times(p),h),d=c.plus(qn(l,new w(a),h)),mn(d.d).slice(0,h)===mn(c.d).slice(0,h))return c=c.times(2),i!==0&&(c=c.plus(Im(w,h+2,_).times(i+""))),c=qn(c,new w(m),h),w.precision=_,t==null?(et=!0,We(c,_)):c;c=d,a+=2}}function ak(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Ds(r/Xe),e.d=[],n=(r+1)%Xe,r<0&&(n+=Xe),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Xe;n<a;)e.d.push(+t.slice(n,n+=Xe));t=t.slice(n),n=Xe-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),et&&(e.e>Qu||e.e<-Qu))throw Error(_y+r)}else e.s=0,e.e=0,e.d=[0];return e}function We(e,t,r){var n,a,i,l,c,d,h,p,m=e.d;for(l=1,i=m[0];i>=10;i/=10)l++;if(n=t-l,n<0)n+=Xe,a=t,h=m[p=0];else{if(p=Math.ceil((n+1)/Xe),i=m.length,p>=i)return e;for(h=i=m[p],l=1;i>=10;i/=10)l++;n%=Xe,a=n-Xe+l}if(r!==void 0&&(i=ii(10,l-a-1),c=h/i%10|0,d=t<0||m[p+1]!==void 0||h%i,d=r<4?(c||d)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||d||r==6&&(n>0?a>0?h/ii(10,l-a):0:m[p-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return d?(i=vt(e),m.length=1,t=t-i-1,m[0]=ii(10,(Xe-t%Xe)%Xe),e.e=Ds(-t/Xe)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=p,i=1,p--):(m.length=p+1,i=ii(10,Xe-n),m[p]=a>0?(h/ii(10,l-a)%ii(10,a)|0)*i:0),d)for(;;)if(p==0){(m[0]+=i)==Tt&&(m[0]=1,++e.e);break}else{if(m[p]+=i,m[p]!=Tt)break;m[p--]=0,i=1}for(n=m.length;m[--n]===0;)m.pop();if(et&&(e.e>Qu||e.e<-Qu))throw Error(_y+vt(e));return e}function fO(e,t){var r,n,a,i,l,c,d,h,p,m,v=e.constructor,y=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),et?We(t,y):t;if(d=e.d,m=t.d,n=t.e,h=e.e,d=d.slice(),l=h-n,l){for(p=l<0,p?(r=d,l=-l,c=m.length):(r=m,n=h,c=d.length),a=Math.max(Math.ceil(y/Xe),c)+2,l>a&&(l=a,r.length=1),r.reverse(),a=l;a--;)r.push(0);r.reverse()}else{for(a=d.length,c=m.length,p=a<c,p&&(c=a),a=0;a<c;a++)if(d[a]!=m[a]){p=d[a]<m[a];break}l=0}for(p&&(r=d,d=m,m=r,t.s=-t.s),c=d.length,a=m.length-c;a>0;--a)d[c++]=0;for(a=m.length;a>l;){if(d[--a]<m[a]){for(i=a;i&&d[--i]===0;)d[i]=Tt-1;--d[i],d[a]+=Tt}d[a]-=m[a]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,et?We(t,y):t):new v(0)}function ji(e,t,r){var n,a=vt(e),i=mn(e.d),l=i.length;return t?(r&&(n=r-l)>0?i=i.charAt(0)+"."+i.slice(1)+ka(n):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+ka(-a-1)+i,r&&(n=r-l)>0&&(i+=ka(n))):a>=l?(i+=ka(a+1-l),r&&(n=r-a-1)>0&&(i=i+"."+ka(n))):((n=a+1)<l&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-l)>0&&(a+1===l&&(i+="."),i+=ka(n))),e.s<0?"-"+i:i}function ik(e,t){if(e.length>t)return e.length=t,!0}function hO(e){var t,r,n;function a(i){var l=this;if(!(l instanceof a))return new a(i);if(l.constructor=a,i instanceof a){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(mi+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return ak(l,i.toString())}else if(typeof i!="string")throw Error(mi+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,ZF.test(i))ak(l,i);else throw Error(mi+i)}if(a.prototype=ue,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=hO,a.config=a.set=eU,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function eU(e){if(!e||typeof e!="object")throw Error(Wr+"Object expected");var t,r,n,a=["precision",1,Is,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Ds(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(mi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(mi+r+": "+n);return this}var ky=hO(QF);Er=new ky(1);const Fe=ky;var tU=e=>e,pO={},mO=e=>e===pO,sk=e=>function t(){return arguments.length===0||arguments.length===1&&mO(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},gO=(e,t)=>e===1?t:sk(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(l=>l!==pO).length;return i>=e?t(...n):gO(e-i,sk(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var h=n.map(p=>mO(p)?c.shift():p);return t(...h,...c)}))}),zd=e=>gO(e.length,e),Vg=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},rU=zd((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),nU=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return tU;var a=r.reverse(),i=a[0],l=a.slice(1);return function(){return l.reduce((c,d)=>d(c),i(...arguments))}},Hg=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),vO=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every((l,c)=>{var d;return l===((d=t)===null||d===void 0?void 0:d[c])})||(t=a,r=e(...a)),r}};function yO(e){var t;return e===0?t=1:t=Math.floor(new Fe(e).abs().log(10).toNumber())+1,t}function xO(e,t,r){for(var n=new Fe(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}zd((e,t,r)=>{var n=+e,a=+t;return n+r*(a-n)});zd((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});zd((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var bO=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},wO=(e,t,r)=>{if(e.lte(0))return new Fe(0);var n=yO(e.toNumber()),a=new Fe(10).pow(n),i=e.div(a),l=n!==1?.05:.1,c=new Fe(Math.ceil(i.div(l).toNumber())).add(r).mul(l),d=c.mul(a);return t?new Fe(d.toNumber()):new Fe(Math.ceil(d.toNumber()))},aU=(e,t,r)=>{var n=new Fe(1),a=new Fe(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Fe(10).pow(yO(e)-1),a=new Fe(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Fe(Math.floor(e)))}else e===0?a=new Fe(Math.floor((t-1)/2)):r||(a=new Fe(Math.floor(e)));var l=Math.floor((t-1)/2),c=nU(rU(d=>a.add(new Fe(d-l).mul(n)).toNumber()),Vg);return c(0,t)},jO=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Fe(0),tickMin:new Fe(0),tickMax:new Fe(0)};var l=wO(new Fe(r).sub(t).div(n-1),a,i),c;t<=0&&r>=0?c=new Fe(0):(c=new Fe(t).add(r).div(2),c=c.sub(new Fe(c).mod(l)));var d=Math.ceil(c.sub(t).div(l).toNumber()),h=Math.ceil(new Fe(r).sub(c).div(l).toNumber()),p=d+h+1;return p>n?jO(t,r,n,a,i+1):(p<n&&(h=r>0?h+(n-p):h,d=r>0?d:d+(n-p)),{step:l,tickMin:c.sub(new Fe(d).mul(l)),tickMax:c.add(new Fe(h).mul(l))})};function iU(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[l,c]=bO([t,r]);if(l===-1/0||c===1/0){var d=c===1/0?[l,...Vg(0,n-1).map(()=>1/0)]:[...Vg(0,n-1).map(()=>-1/0),c];return t>r?Hg(d):d}if(l===c)return aU(l,n,a);var{step:h,tickMin:p,tickMax:m}=jO(l,c,i,a,0),v=xO(p,m.add(new Fe(.1).mul(h)),h);return t>r?Hg(v):v}function sU(e,t){var[r,n]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,l]=bO([r,n]);if(i===-1/0||l===1/0)return[r,n];if(i===l)return[i];var c=Math.max(t,2),d=wO(new Fe(l).sub(i).div(c-1),a,0),h=[...xO(new Fe(i),new Fe(l),d),l];return a===!1&&(h=h.map(p=>Math.round(p))),r>n?Hg(h):h}var oU=vO(iU),lU=vO(sU),_O=e=>e.rootProps.maxBarSize,cU=e=>e.rootProps.barGap,kO=e=>e.rootProps.barCategoryGap,uU=e=>e.rootProps.barSize,El=e=>e.rootProps.stackOffset,Sy=e=>e.options.chartName,Ey=e=>e.rootProps.syncId,SO=e=>e.rootProps.syncMethod,Py=e=>e.options.eventEmitter,Ln={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},jr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},qd=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},dU={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ln.angleAxisId,includeHidden:!1,name:void 0,reversed:Ln.reversed,scale:Ln.scale,tick:Ln.tick,tickCount:void 0,ticks:void 0,type:Ln.type,unit:void 0},fU={allowDataOverflow:jr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:jr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:jr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:jr.scale,tick:jr.tick,tickCount:jr.tickCount,ticks:void 0,type:jr.type,unit:void 0},hU={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ln.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ln.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ln.scale,tick:Ln.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},pU={allowDataOverflow:jr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:jr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:jr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:jr.scale,tick:jr.tick,tickCount:jr.tickCount,ticks:void 0,type:"category",unit:void 0},Ny=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?hU:dU,Oy=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?pU:fU,Wd=e=>e.polarOptions,Ay=B([Jn,Qn,kt],nN),EO=B([Wd,Ay],(e,t)=>{if(e!=null)return Xt(e.innerRadius,t,0)}),PO=B([Wd,Ay],(e,t)=>{if(e!=null)return Xt(e.outerRadius,t,t*.8)}),mU=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},NO=B([Wd],mU);B([Ny,NO],qd);var OO=B([Ay,EO,PO],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});B([Oy,OO],qd);var AO=B([Ae,Wd,EO,PO,Jn,Qn],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:l,cy:c,startAngle:d,endAngle:h}=t;return{cx:Xt(l,a,a/2),cy:Xt(c,i,i/2),innerRadius:r,outerRadius:n,startAngle:d,endAngle:h,clockWise:!1}}}),rt=(e,t)=>t,Pl=(e,t,r)=>r;function Kd(e){return e?.id}var Pt=e=>{var t=Ae(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Ms=e=>e.tooltip.settings.axisId,Nt=e=>{var t=Pt(e),r=Ms(e);return Nl(e,t,r)},CO=B([Nt],e=>e?.dataKey);function TO(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,l=new Map;return e.forEach(c=>{var d,h=(d=c.data)!==null&&d!==void 0?d:n;if(!(h==null||h.length===0)){var p=Kd(c);h.forEach((m,v)=>{var y=i==null||a?v:String(qe(m,i,null)),j=qe(m,c.dataKey,0),w;l.has(y)?w=l.get(y):w={},Object.assign(w,{[p]:j}),l.set(y,w)})}}),Array.from(l.values())}function Vd(e){return e.stackId!=null&&e.dataKey!=null}var Hd=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Gd(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function ok(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ok(Object(r),!0).forEach(function(n){gU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ok(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gU(e,t,r){return(t=vU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vU(e){var t=yU(e,"string");return typeof t=="symbol"?t:t+""}function yU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gg=[0,"auto"],br={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},RO=(e,t)=>e.cartesianAxis.xAxis[t],ta=(e,t)=>{var r=RO(e,t);return r??br},wr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Gg,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:xl},IO=(e,t)=>e.cartesianAxis.yAxis[t],ra=(e,t)=>{var r=IO(e,t);return r??wr},xU={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Cy=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??xU},ot=(e,t,r)=>{switch(t){case"xAxis":return ta(e,r);case"yAxis":return ra(e,r);case"zAxis":return Cy(e,r);case"angleAxis":return Ny(e,r);case"radiusAxis":return Oy(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},bU=(e,t,r)=>{switch(t){case"xAxis":return ta(e,r);case"yAxis":return ra(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Nl=(e,t,r)=>{switch(t){case"xAxis":return ta(e,r);case"yAxis":return ra(e,r);case"angleAxis":return Ny(e,r);case"radiusAxis":return Oy(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},DO=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Ty(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Ol=e=>e.graphicalItems.cartesianItems,wU=B([rt,Pl],Ty),Ry=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),Al=B([Ol,ot,wU],Ry,{memoizeOptions:{resultEqualityCheck:Gd}}),MO=B([Al],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Vd)),LO=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),jU=B([Al],LO),Iy=e=>e.map(t=>t.data).filter(Boolean).flat(1),_U=B([Al],Iy,{memoizeOptions:{resultEqualityCheck:Gd}}),Dy=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},My=B([_U,Sl],Dy),Ly=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:qe(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:qe(a,n)}))):e.map(n=>({value:n})),Yd=B([My,ot,Al],Ly);function $O(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function gu(e){if(wn(e)||e instanceof Date){var t=Number(e);if(yt(t))return t}}function lk(e){if(Array.isArray(e)){var t=[gu(e[0]),gu(e[1])];return wi(t)?t:void 0}var r=gu(e);if(r!=null)return[r,r]}function Ls(e){return e.map(gu).filter(F6)}function kU(e,t,r){return!r||typeof t!="number"||Nr(t)?[]:r.length?Ls(r.flatMap(n=>{var a=qe(e,n.dataKey),i,l;if(Array.isArray(a)?[i,l]=a:i=l=a,!(!yt(i)||!yt(l)))return[t-i,t+l]})):[]}var SU=B([MO,Sl,Nt],TO),BO=(e,t,r)=>{var n={},a=t.reduce((i,l)=>(l.stackId==null||(i[l.stackId]==null&&(i[l.stackId]=[]),i[l.stackId].push(l)),i),n);return Object.fromEntries(Object.entries(a).map(i=>{var[l,c]=i,d=c.map(Kd);return[l,{stackedData:u3(e,d,r),graphicalItems:c}]}))},fl=B([SU,MO,El],BO),FO=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var l=p3(e,a,i);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},EU=B([ot],e=>e.allowDataOverflow),$y=e=>{var t;if(e==null||!("domain"in e))return Gg;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Ls(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:Gg},By=B([ot],$y),Fy=B([By,EU],lO),PU=B([fl,Fa,rt,Fy],FO,{memoizeOptions:{resultEqualityCheck:Hd}}),Xd=e=>e.errorBars,NU=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>$O(r,n)),ed=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),l=Math.min(...i),c=Math.max(...i);return[l,c]}},Uy=(e,t,r,n,a)=>{var i,l;if(r.length>0&&e.forEach(c=>{r.forEach(d=>{var h,p,m=(h=n[d.id])===null||h===void 0?void 0:h.filter(E=>$O(a,E)),v=qe(c,(p=t.dataKey)!==null&&p!==void 0?p:d.dataKey),y=kU(c,v,m);if(y.length>=2){var j=Math.min(...y),w=Math.max(...y);(i==null||j<i)&&(i=j),(l==null||w>l)&&(l=w)}var _=lk(v);_!=null&&(i=i==null?_[0]:Math.min(i,_[0]),l=l==null?_[1]:Math.max(l,_[1]))})}),t?.dataKey!=null&&e.forEach(c=>{var d=lk(qe(c,t.dataKey));d!=null&&(i=i==null?d[0]:Math.min(i,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),yt(i)&&yt(l))return[i,l]},OU=B([My,ot,jU,Xd,rt],Uy,{memoizeOptions:{resultEqualityCheck:Hd}});function AU(e){var{value:t}=e;if(wn(t)||t instanceof Date)return t}var CU=(e,t,r)=>{var n=e.map(AU).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&hP(n))?PN(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},UO=e=>e.referenceElements.dots,$s=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),TU=B([UO,rt,Pl],$s),zO=e=>e.referenceElements.areas,RU=B([zO,rt,Pl],$s),qO=e=>e.referenceElements.lines,IU=B([qO,rt,Pl],$s),WO=(e,t)=>{var r=Ls(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},DU=B(TU,rt,WO),KO=(e,t)=>{var r=Ls(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},MU=B([RU,rt],KO),VO=(e,t)=>{var r=Ls(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},LU=B(IU,rt,VO),$U=B(DU,LU,MU,(e,t,r)=>ed(e,r,t)),zy=(e,t,r,n,a,i,l,c)=>{if(r!=null)return r;var d=l==="vertical"&&c==="xAxis"||l==="horizontal"&&c==="yAxis",h=d?ed(n,i,a):ed(i,a);return JF(t,h,e.allowDataOverflow)},BU=B([ot,By,Fy,PU,OU,$U,Ae,rt],zy,{memoizeOptions:{resultEqualityCheck:Hd}}),FU=[0,1],qy=(e,t,r,n,a,i,l)=>{if(!((e==null||r==null||r.length===0)&&l===void 0)){var{dataKey:c,type:d}=e,h=Pn(t,i);return h&&c==null?PN(0,r.length):d==="category"?CU(n,e,h):a==="expand"?FU:l}},Wy=B([ot,Ae,My,Yd,El,rt,BU],qy),HO=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:l}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":l==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":l==="category"?"band":"linear";if(typeof i=="string"){var c="scale".concat(ml(i));return c in Wo?c:"point"}}},Bs=B([ot,Ae,DO,Sy,rt],HO);function UU(e){if(e!=null){if(e in Wo)return Wo[e]();var t="scale".concat(ml(e));if(t in Wo)return Wo[t]()}}function Ky(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=UU(t);if(a!=null){var i=a.domain(r).range(n);return i3(i),i}}}var Vy=(e,t,r)=>{var n=$y(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&wi(e))return oU(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&wi(e))return lU(e,t.tickCount,t.allowDecimals)}},Hy=B([Wy,Nl,Bs],Vy),Gy=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&wi(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],l=t[1],c=r[r.length-1];return[Math.min(a,i),Math.max(l,c)]}return t},zU=B([ot,Wy,Hy,rt],Gy),qU=B(Yd,ot,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Ls(e.map(c=>c.value))).sort((c,d)=>c-d);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var l=n[i+1]-n[i];r=Math.min(r,l)}return r/a}}),GO=B(qU,Ae,kO,kt,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!yt(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var l=Xt(r,e*i),c=e*i/2;return c-l-(c-l)/i*l}return 0}),WU=(e,t)=>{var r=ta(e,t);return r==null||typeof r.padding!="string"?0:GO(e,"xAxis",t,r.padding)},KU=(e,t)=>{var r=ra(e,t);return r==null||typeof r.padding!="string"?0:GO(e,"yAxis",t,r.padding)},VU=B(ta,WU,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),HU=B(ra,KU,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),GU=B([kt,VU,Td,Cd,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),YU=B([kt,Ae,HU,Td,Cd,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:l}=a;return i?[n.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Cl=(e,t,r,n)=>{var a;switch(t){case"xAxis":return GU(e,r,n);case"yAxis":return YU(e,r,n);case"zAxis":return(a=Cy(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return NO(e);case"radiusAxis":return OO(e,r);default:return}},YO=B([ot,Cl],qd),Fs=B([ot,Bs,zU,YO],Ky);B([Al,Xd,rt],NU);function XO(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Jd=(e,t)=>t,Qd=(e,t,r)=>r,XU=B(Od,Jd,Qd,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(XO)),JU=B(Ad,Jd,Qd,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(XO)),JO=(e,t)=>({width:e.width,height:t.height}),QU=(e,t)=>{var r=typeof t.width=="number"?t.width:xl;return{width:r,height:e.height}},QO=B(kt,ta,JO),ZU=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},ez=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},tz=B(Qn,kt,XU,Jd,Qd,(e,t,r,n,a)=>{var i={},l;return r.forEach(c=>{var d=JO(t,c);l==null&&(l=ZU(t,n,e));var h=n==="top"&&!a||n==="bottom"&&a;i[c.id]=l-Number(h)*d.height,l+=(h?-1:1)*d.height}),i}),rz=B(Jn,kt,JU,Jd,Qd,(e,t,r,n,a)=>{var i={},l;return r.forEach(c=>{var d=QU(t,c);l==null&&(l=ez(t,n,e));var h=n==="left"&&!a||n==="right"&&a;i[c.id]=l-Number(h)*d.width,l+=(h?-1:1)*d.width}),i}),nz=(e,t)=>{var r=ta(e,t);if(r!=null)return tz(e,r.orientation,r.mirror)},az=B([kt,ta,nz,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),iz=(e,t)=>{var r=ra(e,t);if(r!=null)return rz(e,r.orientation,r.mirror)},sz=B([kt,ra,iz,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),ZO=B(kt,ra,(e,t)=>{var r=typeof t.width=="number"?t.width:xl;return{width:r,height:e.height}}),ck=(e,t,r)=>{switch(t){case"xAxis":return QO(e,r).width;case"yAxis":return ZO(e,r).height;default:return}},eA=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:l}=r,c=Pn(e,n),d=t.map(h=>h.value);if(l&&c&&i==="category"&&a&&hP(d))return d}},Yy=B([Ae,Yd,ot,rt],eA),tA=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,l=Pn(e,n);if(l&&(a==="number"||i!=="auto"))return t.map(c=>c.value)}},Xy=B([Ae,Yd,Nl,rt],tA),uk=B([Ae,bU,Bs,Fs,Yy,Xy,Cl,Hy,rt],(e,t,r,n,a,i,l,c,d)=>{if(t==null)return null;var h=Pn(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:i,duplicateDomain:a,isCategorical:h,niceTicks:c,range:l,realScaleType:r,scale:n}}),oz=(e,t,r,n,a,i,l,c,d)=>{if(!(t==null||n==null)){var h=Pn(e,d),{type:p,ticks:m,tickCount:v}=t,y=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,j=p==="category"&&n.bandwidth?n.bandwidth()/y:0;j=d==="angleAxis"&&i!=null&&i.length>=2?Rt(i[0]-i[1])*2*j:j;var w=m||a;if(w){var _=w.map((E,A)=>{var P=l?l.indexOf(E):E;return{index:A,coordinate:n(P)+j,value:E,offset:j}});return _.filter(E=>!Nr(E.coordinate))}return h&&c?c.map((E,A)=>({coordinate:n(E)+j,value:E,index:A,offset:j})):n.ticks?n.ticks(v).map(E=>({coordinate:n(E)+j,value:E,offset:j})):n.domain().map((E,A)=>({coordinate:n(E)+j,value:l?l[E]:E,index:A,offset:j}))}},rA=B([Ae,Nl,Bs,Fs,Hy,Cl,Yy,Xy,rt],oz),lz=(e,t,r,n,a,i,l)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var c=Pn(e,l),{tickCount:d}=t,h=0;return h=l==="angleAxis"&&n?.length>=2?Rt(n[0]-n[1])*2*h:h,c&&i?i.map((p,m)=>({coordinate:r(p)+h,value:p,index:m,offset:h})):r.ticks?r.ticks(d).map(p=>({coordinate:r(p)+h,value:p,offset:h})):r.domain().map((p,m)=>({coordinate:r(p)+h,value:a?a[p]:p,index:m,offset:h}))}},_n=B([Ae,Nl,Fs,Cl,Yy,Xy,rt],lz),kn=B(ot,Fs,(e,t)=>{if(!(e==null||t==null))return Zu(Zu({},e),{},{scale:t})}),cz=B([ot,Bs,Wy,YO],Ky);B((e,t,r)=>Cy(e,r),cz,(e,t)=>{if(!(e==null||t==null))return Zu(Zu({},e),{},{scale:t})});var uz=B([Ae,Od,Ad],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),nA=e=>e.options.defaultTooltipEventType,aA=e=>e.options.validateTooltipEventTypes;function iA(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Jy(e,t){var r=nA(e),n=aA(e);return iA(t,r,n)}function dz(e){return he(t=>Jy(t,e))}var sA=(e,t)=>{var r,n=Number(t);if(!(Nr(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},fz=e=>e.tooltip.settings,Pa={active:!1,index:null,dataKey:void 0,coordinate:void 0},hz={itemInteraction:{click:Pa,hover:Pa},axisInteraction:{click:Pa,hover:Pa},keyboardInteraction:Pa,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},oA=Ar({name:"tooltip",initialState:hz,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:er()},removeTooltipEntrySettings:{reducer(e,t){var r=zn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:er()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:pz,removeTooltipEntrySettings:mz,setTooltipSettingsState:gz,setActiveMouseOverItemIndex:lA,mouseLeaveItem:vz,mouseLeaveChart:cA,setActiveClickItemIndex:yz,setMouseOverAxisIndex:uA,setMouseClickAxisIndex:xz,setSyncInteraction:Yg,setKeyboardInteraction:Xg}=oA.actions,bz=oA.reducer;function dk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dk(Object(r),!0).forEach(function(n){wz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wz(e,t,r){return(t=jz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jz(e){var t=_z(e,"string");return typeof t=="symbol"?t:t+""}function _z(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kz(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Sz(e){return e.index!=null}var dA=(e,t,r,n)=>{if(t==null)return Pa;var a=kz(e,t,r);if(a==null)return Pa;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(Sz(a)){if(i)return fu(fu({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return fu(fu({},Pa),{},{coordinate:a.coordinate})},Qy=(e,t)=>{var r=e?.index;if(r==null)return null;var n=Number(r);if(!yt(n))return r;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(n,i)))},fA=(e,t,r,n,a,i,l,c)=>{if(!(i==null||c==null)){var d=l[0],h=d==null?void 0:c(d.positions,i);if(h!=null)return h;var p=a?.[Number(i)];if(p)switch(r){case"horizontal":return{x:p.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:p.coordinate}}}},hA=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var l;return((l=i.settings)===null||l===void 0?void 0:l.dataKey)===a})},Tl=e=>e.options.tooltipPayloadSearcher,Us=e=>e.tooltip;function fk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fk(Object(r),!0).forEach(function(n){Ez(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ez(e,t,r){return(t=Pz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pz(e){var t=Nz(e,"string");return typeof t=="symbol"?t:t+""}function Nz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oz(e,t){return e??t}var pA=(e,t,r,n,a,i,l)=>{if(!(t==null||i==null)){var{chartData:c,computedData:d,dataStartIndex:h,dataEndIndex:p}=r,m=[];return e.reduce((v,y)=>{var j,{dataDefinedOnItem:w,settings:_}=y,E=Oz(w,c),A=Array.isArray(E)?aN(E,h,p):E,P=(j=_?.dataKey)!==null&&j!==void 0?j:n,C=_?.nameKey,N;if(n&&Array.isArray(A)&&!Array.isArray(A[0])&&l==="axis"?N=pP(A,n,a):N=i(A,t,d,C),Array.isArray(N))N.forEach(T=>{var M=hk(hk({},_),{},{name:T.name,unit:T.unit,color:void 0,fill:void 0});v.push(z1({tooltipEntrySettings:M,dataKey:T.dataKey,payload:T.payload,value:qe(T.payload,T.dataKey),name:T.name}))});else{var S;v.push(z1({tooltipEntrySettings:_,dataKey:P,payload:N,value:qe(N,P),name:(S=qe(N,C))!==null&&S!==void 0?S:_?.name}))}return v},m)}},Zy=B([Nt,Ae,DO,Sy,Pt],HO),Az=B([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Cz=B([Pt,Ms],Ty),Rl=B([Az,Nt,Cz],Ry,{memoizeOptions:{resultEqualityCheck:Gd}}),Tz=B([Rl],e=>e.filter(Vd)),Rz=B([Rl],Iy,{memoizeOptions:{resultEqualityCheck:Gd}}),zs=B([Rz,Fa],Dy),Iz=B([Tz,Fa,Nt],TO),e0=B([zs,Nt,Rl],Ly),mA=B([Nt],$y),Dz=B([Nt],e=>e.allowDataOverflow),gA=B([mA,Dz],lO),Mz=B([Rl],e=>e.filter(Vd)),Lz=B([Iz,Mz,El],BO),$z=B([Lz,Fa,Pt,gA],FO),Bz=B([Rl],LO),Fz=B([zs,Nt,Bz,Xd,Pt],Uy,{memoizeOptions:{resultEqualityCheck:Hd}}),Uz=B([UO,Pt,Ms],$s),zz=B([Uz,Pt],WO),qz=B([zO,Pt,Ms],$s),Wz=B([qz,Pt],KO),Kz=B([qO,Pt,Ms],$s),Vz=B([Kz,Pt],VO),Hz=B([zz,Vz,Wz],ed),Gz=B([Nt,mA,gA,$z,Fz,Hz,Ae,Pt],zy),vA=B([Nt,Ae,zs,e0,El,Pt,Gz],qy),Yz=B([vA,Nt,Zy],Vy),Xz=B([Nt,vA,Yz,Pt],Gy),yA=e=>{var t=Pt(e),r=Ms(e),n=!1;return Cl(e,t,r,n)},xA=B([Nt,yA],qd),bA=B([Nt,Zy,Xz,xA],Ky),Jz=B([Ae,e0,Nt,Pt],eA),Qz=B([Ae,e0,Nt,Pt],tA),Zz=(e,t,r,n,a,i,l,c)=>{if(t){var{type:d}=t,h=Pn(e,c);if(n){var p=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,m=d==="category"&&n.bandwidth?n.bandwidth()/p:0;return m=c==="angleAxis"&&a!=null&&a?.length>=2?Rt(a[0]-a[1])*2*m:m,h&&l?l.map((v,y)=>({coordinate:n(v)+m,value:v,index:y,offset:m})):n.domain().map((v,y)=>({coordinate:n(v)+m,value:i?i[v]:v,index:y,offset:m}))}}},na=B([Ae,Nt,Zy,bA,yA,Jz,Qz,Pt],Zz),t0=B([nA,aA,fz],(e,t,r)=>iA(r.shared,e,t)),wA=e=>e.tooltip.settings.trigger,r0=e=>e.tooltip.settings.defaultIndex,Zd=B([Us,t0,wA,r0],dA),Ta=B([Zd,zs],Qy),jA=B([na,Ta],sA),_A=B([Zd],e=>{if(e)return e.dataKey}),kA=B([Us,t0,wA,r0],hA),e8=B([Jn,Qn,Ae,kt,na,r0,kA,Tl],fA),t8=B([Zd,e8],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),r8=B([Zd],e=>e.active),n8=B([kA,Ta,Fa,CO,jA,Tl,t0],pA),a8=B([n8],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function pk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pk(Object(r),!0).forEach(function(n){i8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i8(e,t,r){return(t=s8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s8(e){var t=o8(e,"string");return typeof t=="symbol"?t:t+""}function o8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l8=()=>he(Nt),c8=()=>{var e=l8(),t=he(na),r=he(bA);return bi(mk(mk({},e),{},{scale:r}),t)},SA=()=>he(Sy),n0=(e,t)=>t,EA=(e,t,r)=>r,a0=(e,t,r,n)=>n,u8=B(na,e=>_d(e,t=>t.coordinate)),i0=B([Us,n0,EA,a0],dA),PA=B([i0,zs],Qy),d8=(e,t,r)=>{if(t!=null){var n=Us(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},NA=B([Us,n0,EA,a0],hA),td=B([Jn,Qn,Ae,kt,na,a0,NA,Tl],fA),f8=B([i0,td],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),OA=B(na,PA,sA),h8=B([NA,PA,Fa,CO,OA,Tl,n0],pA),p8=B([i0],e=>({isActive:e.active,activeIndex:e.index})),m8=(e,t,r,n,a,i,l,c)=>{if(!(!e||!t||!n||!a||!i)){var d=m3(e.chartX,e.chartY,t,r,c);if(d){var h=v3(d,t),p=n3(h,l,i,n,a),m=g3(t,i,p,d);return{activeIndex:String(p),activeCoordinate:m}}}};function Jg(){return Jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jg.apply(null,arguments)}function gk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gk(Object(r),!0).forEach(function(n){g8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g8(e,t,r){return(t=v8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v8(e){var t=y8(e,"string");return typeof t=="symbol"?t:t+""}function y8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x8(e){var{coordinate:t,payload:r,index:n,offset:a,tooltipAxisBandSize:i,layout:l,cursor:c,tooltipEventType:d,chartName:h}=e,p=t,m=r,v=n;if(!c||!p||h!=="ScatterChart"&&d!=="axis")return null;var y,j;if(h==="ScatterChart")y=p,j=R6;else if(h==="BarChart")y=I6(l,p,a,i),j=_N;else if(l==="radial"){var{cx:w,cy:_,radius:E,startAngle:A,endAngle:P}=kN(p);y={cx:w,cy:_,startAngle:A,endAngle:P,innerRadius:E,outerRadius:E},j=EN}else y={points:v5(l,p,a)},j=fs;var C=typeof c=="object"&&"className"in c?c.className:void 0,N=hu(hu(hu(hu({stroke:"#ccc",pointerEvents:"none"},a),y),gi(c)),{},{payload:m,payloadIndex:v,className:Te("recharts-tooltip-cursor",C)});return x.isValidElement(c)?x.cloneElement(c,N):x.createElement(j,N)}function b8(e){var t=c8(),r=pN(),n=bl(),a=SA();return x.createElement(x8,Jg({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var AA=x.createContext(null),w8=()=>x.useContext(AA),Dm={exports:{}},vk;function j8(){return vk||(vk=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(d,h,p){this.fn=d,this.context=h,this.once=p||!1}function i(d,h,p,m,v){if(typeof p!="function")throw new TypeError("The listener must be a function");var y=new a(p,m||d,v),j=r?r+h:h;return d._events[j]?d._events[j].fn?d._events[j]=[d._events[j],y]:d._events[j].push(y):(d._events[j]=y,d._eventsCount++),d}function l(d,h){--d._eventsCount===0?d._events=new n:delete d._events[h]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],p,m;if(this._eventsCount===0)return h;for(m in p=this._events)t.call(p,m)&&h.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},c.prototype.listeners=function(h){var p=r?r+h:h,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var v=0,y=m.length,j=new Array(y);v<y;v++)j[v]=m[v].fn;return j},c.prototype.listenerCount=function(h){var p=r?r+h:h,m=this._events[p];return m?m.fn?1:m.length:0},c.prototype.emit=function(h,p,m,v,y,j){var w=r?r+h:h;if(!this._events[w])return!1;var _=this._events[w],E=arguments.length,A,P;if(_.fn){switch(_.once&&this.removeListener(h,_.fn,void 0,!0),E){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,p),!0;case 3:return _.fn.call(_.context,p,m),!0;case 4:return _.fn.call(_.context,p,m,v),!0;case 5:return _.fn.call(_.context,p,m,v,y),!0;case 6:return _.fn.call(_.context,p,m,v,y,j),!0}for(P=1,A=new Array(E-1);P<E;P++)A[P-1]=arguments[P];_.fn.apply(_.context,A)}else{var C=_.length,N;for(P=0;P<C;P++)switch(_[P].once&&this.removeListener(h,_[P].fn,void 0,!0),E){case 1:_[P].fn.call(_[P].context);break;case 2:_[P].fn.call(_[P].context,p);break;case 3:_[P].fn.call(_[P].context,p,m);break;case 4:_[P].fn.call(_[P].context,p,m,v);break;default:if(!A)for(N=1,A=new Array(E-1);N<E;N++)A[N-1]=arguments[N];_[P].fn.apply(_[P].context,A)}}return!0},c.prototype.on=function(h,p,m){return i(this,h,p,m,!1)},c.prototype.once=function(h,p,m){return i(this,h,p,m,!0)},c.prototype.removeListener=function(h,p,m,v){var y=r?r+h:h;if(!this._events[y])return this;if(!p)return l(this,y),this;var j=this._events[y];if(j.fn)j.fn===p&&(!v||j.once)&&(!m||j.context===m)&&l(this,y);else{for(var w=0,_=[],E=j.length;w<E;w++)(j[w].fn!==p||v&&!j[w].once||m&&j[w].context!==m)&&_.push(j[w]);_.length?this._events[y]=_.length===1?_[0]:_:l(this,y)}return this},c.prototype.removeAllListeners=function(h){var p;return h?(p=r?r+h:h,this._events[p]&&l(this,p)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,e.exports=c})(Dm)),Dm.exports}var _8=j8();const k8=ln(_8);var hl=new k8,Qg="recharts.syncEvent.tooltip",yk="recharts.syncEvent.brush";function ef(e,t){if(t){var r=Number.parseInt(t,10);if(!Nr(r))return e?.[r]}}var S8={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},CA=Ar({name:"options",initialState:S8,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),E8=CA.reducer,{createEventEmitter:P8}=CA.actions;function N8(e){return e.tooltip.syncInteraction}var O8={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},TA=Ar({name:"chartData",initialState:O8,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:xk,setDataStartEndIndexes:A8,setComputedData:IG}=TA.actions,C8=TA.reducer,T8=["x","y"];function bk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function is(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bk(Object(r),!0).forEach(function(n){R8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R8(e,t,r){return(t=I8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I8(e){var t=D8(e,"string");return typeof t=="symbol"?t:t+""}function D8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M8(e,t){if(e==null)return{};var r,n,a=L8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function L8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var RA=()=>{};function $8(){var e=he(Ey),t=he(Py),r=tt(),n=he(SO),a=he(na),i=bl(),l=Id(),c=he(d=>d.rootProps.className);x.useEffect(()=>{if(e==null)return RA;var d=(h,p,m)=>{if(t!==m&&e===h){if(n==="index"){var v;if(l&&p!==null&&p!==void 0&&(v=p.payload)!==null&&v!==void 0&&v.coordinate&&p.payload.sourceViewBox){var y=p.payload.coordinate,{x:j,y:w}=y,_=M8(y,T8),{x:E,y:A,width:P,height:C}=p.payload.sourceViewBox,N=is(is({},_),{},{x:l.x+(P?(j-E)/P:0)*l.width,y:l.y+(C?(w-A)/C:0)*l.height});r(is(is({},p),{},{payload:is(is({},p.payload),{},{coordinate:N})}))}else r(p);return}if(a!=null){var S;if(typeof n=="function"){var T={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},M=n(a,T);S=a[M]}else n==="value"&&(S=a.find(le=>String(le.value)===p.payload.label));var{coordinate:z}=p.payload;if(S==null||p.payload.active===!1||z==null||l==null){r(Yg({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:W,y:V}=z,Y=Math.min(W,l.x+l.width),Z=Math.min(V,l.y+l.height),se={x:i==="horizontal"?S.coordinate:Y,y:i==="horizontal"?Z:S.coordinate},G=Yg({active:p.payload.active,coordinate:se,dataKey:p.payload.dataKey,index:String(S.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox});r(G)}}};return hl.on(Qg,d),()=>{hl.off(Qg,d)}},[c,r,t,e,n,a,i,l])}function B8(){var e=he(Ey),t=he(Py),r=tt();x.useEffect(()=>{if(e==null)return RA;var n=(a,i,l)=>{t!==l&&e===a&&r(A8(i))};return hl.on(yk,n),()=>{hl.off(yk,n)}},[r,t,e])}function F8(){var e=tt();x.useEffect(()=>{e(P8())},[e]),$8(),B8()}function U8(e,t,r,n,a,i){var l=he(y=>d8(y,e,t)),c=he(Py),d=he(Ey),h=he(SO),p=he(N8),m=p?.active,v=Id();x.useEffect(()=>{if(!m&&d!=null&&c!=null){var y=Yg({active:i,coordinate:r,dataKey:l,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:v});hl.emit(Qg,d,y,c)}},[m,r,l,a,n,c,d,h,i,v])}function wk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wk(Object(r),!0).forEach(function(n){z8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z8(e,t,r){return(t=q8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q8(e){var t=W8(e,"string");return typeof t=="symbol"?t:t+""}function W8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function K8(e){return e.dataKey}function V8(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(d6,t)}var _k=[],H8={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Zn.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function tf(e){var t=St(e,H8),{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:i,content:l,filterNull:c,isAnimationActive:d,offset:h,payloadUniqBy:p,position:m,reverseDirection:v,useTranslate3d:y,wrapperStyle:j,cursor:w,shared:_,trigger:E,defaultIndex:A,portal:P,axisId:C}=t,N=tt(),S=typeof A=="number"?String(A):A;x.useEffect(()=>{N(gz({shared:_,trigger:E,axisId:C,active:r,defaultIndex:S}))},[N,_,E,C,r,S]);var T=Id(),M=yN(),z=dz(_),{activeIndex:W,isActive:V}=he(je=>p8(je,z,E,S)),Y=he(je=>h8(je,z,E,S)),Z=he(je=>OA(je,z,E,S)),se=he(je=>f8(je,z,E,S)),G=Y,le=w8(),re=r??V,[H,ae]=AP([G,re]),ne=z==="axis"?Z:void 0;U8(z,E,se,ne,W,re);var L=P??le;if(L==null)return null;var K=G??_k;re||(K=_k),c&&K.length&&(K=SP(G.filter(je=>je.value!=null&&(je.hide!==!0||t.includeHidden)),p,K8));var ye=K.length>0,Ee=x.createElement(y6,{allowEscapeViewBox:n,animationDuration:a,animationEasing:i,isAnimationActive:d,active:re,coordinate:se,hasPayload:ye,offset:h,position:m,reverseDirection:v,useTranslate3d:y,viewBox:T,wrapperStyle:j,lastBoundingBox:H,innerRef:ae,hasPortalFromProps:!!P},V8(l,jk(jk({},t),{},{payload:K,label:ne,active:re,coordinate:se,accessibilityLayer:M})));return x.createElement(x.Fragment,null,NS.createPortal(Ee,L),re&&x.createElement(b8,{cursor:w,tooltipEventType:z,coordinate:se,payload:G,index:W}))}var qs=e=>null;qs.displayName="Cell";function G8(e,t,r){return(t=Y8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y8(e){var t=X8(e,"string");return typeof t=="symbol"?t:t+""}function X8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class J8{constructor(t){G8(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function kk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Q8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kk(Object(r),!0).forEach(function(n){Z8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z8(e,t,r){return(t=e7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e7(e){var t=t7(e,"string");return typeof t=="symbol"?t:t+""}function t7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var r7={cacheSize:2e3,enableCache:!0},IA=Q8({},r7),Sk=new J8(IA.cacheSize),n7={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Ek="recharts_measurement_span";function a7(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",l=t.letterSpacing||"",c=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(l,"|").concat(c)}var Pk=(e,t)=>{try{var r=document.getElementById(Ek);r||(r=document.createElement("span"),r.setAttribute("id",Ek),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,n7,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Go=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Zn.isSsr)return{width:0,height:0};if(!IA.enableCache)return Pk(t,r);var n=a7(t,r),a=Sk.get(n);if(a)return a;var i=Pk(t,r);return Sk.set(n,i),i},Nk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ok=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,i7=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,s7=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,DA={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},o7=Object.keys(DA),ls="NaN";function l7(e,t){return e*DA[t]}class dr{static parse(t){var r,[,n,a]=(r=s7.exec(t))!==null&&r!==void 0?r:[];return new dr(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Nr(t)&&(this.unit=""),r!==""&&!i7.test(r)&&(this.num=NaN,this.unit=""),o7.includes(r)&&(this.num=l7(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new dr(NaN,""):new dr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new dr(NaN,""):new dr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new dr(NaN,""):new dr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new dr(NaN,""):new dr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Nr(this.num)}}function MA(e){if(e.includes(ls))return ls;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=Nk.exec(t))!==null&&r!==void 0?r:[],l=dr.parse(n??""),c=dr.parse(i??""),d=a==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return ls;t=t.replace(Nk,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,[,p,m,v]=(h=Ok.exec(t))!==null&&h!==void 0?h:[],y=dr.parse(p??""),j=dr.parse(v??""),w=m==="+"?y.add(j):y.subtract(j);if(w.isNaN())return ls;t=t.replace(Ok,w.toString())}return t}var Ak=/\(([^()]*)\)/;function c7(e){for(var t=e,r;(r=Ak.exec(t))!=null;){var[,n]=r;t=t.replace(Ak,MA(n))}return t}function u7(e){var t=e.replace(/\s+/g,"");return t=c7(t),t=MA(t),t}function d7(e){try{return u7(e)}catch{return ls}}function Mm(e){var t=d7(e.slice(5,-1));return t===ls?"":t}var f7=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],h7=["dx","dy","angle","className","breakAll"];function Zg(){return Zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zg.apply(null,arguments)}function Ck(e,t){if(e==null)return{};var r,n,a=p7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function p7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var LA=/[ \f\n\r\t\v\u2028\u2029]+/,$A=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];Je(t)||(r?a=t.toString().split(""):a=t.toString().split(LA));var i=a.map(c=>({word:c,width:Go(c,n).width})),l=r?0:Go("",n).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},m7=(e,t,r,n,a)=>{var{maxLines:i,children:l,style:c,breakAll:d}=e,h=fe(i),p=l,m=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce((Y,Z)=>{var{word:se,width:G}=Z,le=Y[Y.length-1];if(le&&(n==null||a||le.width+G+r<Number(n)))le.words.push(se),le.width+=G+r;else{var re={words:[se],width:G};Y.push(re)}return Y},[])},v=m(t),y=W=>W.reduce((V,Y)=>V.width>Y.width?V:Y);if(!h||a)return v;var j=v.length>i||y(v).width>Number(n);if(!j)return v;for(var w="",_=W=>{var V=p.slice(0,W),Y=$A({breakAll:d,style:c,children:V+w}).wordsWithComputedWidth,Z=m(Y),se=Z.length>i||y(Z).width>Number(n);return[se,Z]},E=0,A=p.length-1,P=0,C;E<=A&&P<=p.length-1;){var N=Math.floor((E+A)/2),S=N-1,[T,M]=_(S),[z]=_(N);if(!T&&!z&&(E=N+1),T&&z&&(A=N-1),!T&&z){C=M;break}P++}return C||v},Tk=e=>{var t=Je(e)?[]:e.toString().split(LA);return[{words:t}]},g7=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:l}=e;if((t||r)&&!Zn.isSsr){var c,d,h=$A({breakAll:i,children:n,style:a});if(h){var{wordsWithComputedWidth:p,spaceWidth:m}=h;c=p,d=m}else return Tk(n);return m7({breakAll:i,children:n,maxLines:l,style:a},c,d,t,r)}return Tk(n)},Rk="#808080",rf=x.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:l=!1,textAnchor:c="start",verticalAnchor:d="end",fill:h=Rk}=e,p=Ck(e,f7),m=x.useMemo(()=>g7({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:l,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,l,p.style,p.width]),{dx:v,dy:y,angle:j,className:w,breakAll:_}=p,E=Ck(p,h7);if(!wn(r)||!wn(n)||m.length===0)return null;var A=r+(fe(v)?v:0),P=n+(fe(y)?y:0),C;switch(d){case"start":C=Mm("calc(".concat(i,")"));break;case"middle":C=Mm("calc(".concat((m.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:C=Mm("calc(".concat(m.length-1," * -").concat(a,")"));break}var N=[];if(l){var S=m[0].width,{width:T}=p;N.push("scale(".concat(fe(T)?T/S:1,")"))}return j&&N.push("rotate(".concat(j,", ").concat(A,", ").concat(P,")")),N.length&&(E.transform=N.join(" ")),x.createElement("text",Zg({},ar(E),{ref:t,x:A,y:P,className:Te("recharts-text",w),textAnchor:c,fill:h.includes("url")?Rk:h}),m.map((M,z)=>{var W=M.words.join(_?"":" ");return x.createElement("tspan",{x:A,dy:z===0?C:a,key:"".concat(W,"-").concat(z)},W)}))});rf.displayName="Text";var v7=["labelRef"];function y7(e,t){if(e==null)return{};var r,n,a=x7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function x7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ik(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ik(Object(r),!0).forEach(function(n){b7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ik(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b7(e,t,r){return(t=w7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w7(e){var t=j7(e,"string");return typeof t=="symbol"?t:t+""}function j7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $n(){return $n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$n.apply(null,arguments)}var BA=x.createContext(null),_7=e=>{var{x:t,y:r,width:n,height:a,children:i}=e,l=x.useMemo(()=>({x:t,y:r,width:n,height:a}),[t,r,n,a]);return x.createElement(BA.Provider,{value:l},i)},FA=()=>{var e=x.useContext(BA),t=Id();return e||t},k7=x.createContext(null),S7=()=>{var e=x.useContext(k7),t=he(AO);return e||t},E7=e=>{var{value:t,formatter:r}=e,n=Je(e.children)?t:e.children;return typeof r=="function"?r(n):n},s0=e=>e!=null&&typeof e=="function",P7=(e,t)=>{var r=Rt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},N7=(e,t,r,n,a)=>{var{offset:i,className:l}=e,{cx:c,cy:d,innerRadius:h,outerRadius:p,startAngle:m,endAngle:v,clockWise:y}=a,j=(h+p)/2,w=P7(m,v),_=w>=0?1:-1,E,A;switch(t){case"insideStart":E=m+_*i,A=y;break;case"insideEnd":E=v-_*i,A=!y;break;case"end":E=v+_*i,A=y;break;default:throw new Error("Unsupported position ".concat(t))}A=w<=0?A:!A;var P=gt(c,d,j,E),C=gt(c,d,j,E+(A?1:-1)*359),N="M".concat(P.x,",").concat(P.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(A?0:1,`,
    `).concat(C.x,",").concat(C.y),S=Je(e.id)?rl("recharts-radial-line-"):e.id;return x.createElement("text",$n({},n,{dominantBaseline:"central",className:Te("recharts-radial-bar-label",l)}),x.createElement("defs",null,x.createElement("path",{id:S,d:N})),x.createElement("textPath",{xlinkHref:"#".concat(S)},r))},O7=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:l,startAngle:c,endAngle:d}=e,h=(c+d)/2;if(r==="outside"){var{x:p,y:m}=gt(n,a,l+t,h);return{x:p,y:m,textAnchor:p>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var v=(i+l)/2,{x:y,y:j}=gt(n,a,v,h);return{x:y,y:j,textAnchor:"middle",verticalAnchor:"middle"}},UA=e=>"cx"in e&&fe(e.cx),A7=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!UA(r)&&(i=r);var{x:l,y:c,width:d,height:h}=t,p=h>=0?1:-1,m=p*n,v=p>0?"end":"start",y=p>0?"start":"end",j=d>=0?1:-1,w=j*n,_=j>0?"end":"start",E=j>0?"start":"end";if(a==="top"){var A={x:l+d/2,y:c-p*n,textAnchor:"middle",verticalAnchor:v};return ft(ft({},A),i?{height:Math.max(c-i.y,0),width:d}:{})}if(a==="bottom"){var P={x:l+d/2,y:c+h+m,textAnchor:"middle",verticalAnchor:y};return ft(ft({},P),i?{height:Math.max(i.y+i.height-(c+h),0),width:d}:{})}if(a==="left"){var C={x:l-w,y:c+h/2,textAnchor:_,verticalAnchor:"middle"};return ft(ft({},C),i?{width:Math.max(C.x-i.x,0),height:h}:{})}if(a==="right"){var N={x:l+d+w,y:c+h/2,textAnchor:E,verticalAnchor:"middle"};return ft(ft({},N),i?{width:Math.max(i.x+i.width-N.x,0),height:h}:{})}var S=i?{width:d,height:h}:{};return a==="insideLeft"?ft({x:l+w,y:c+h/2,textAnchor:E,verticalAnchor:"middle"},S):a==="insideRight"?ft({x:l+d-w,y:c+h/2,textAnchor:_,verticalAnchor:"middle"},S):a==="insideTop"?ft({x:l+d/2,y:c+m,textAnchor:"middle",verticalAnchor:y},S):a==="insideBottom"?ft({x:l+d/2,y:c+h-m,textAnchor:"middle",verticalAnchor:v},S):a==="insideTopLeft"?ft({x:l+w,y:c+m,textAnchor:E,verticalAnchor:y},S):a==="insideTopRight"?ft({x:l+d-w,y:c+m,textAnchor:_,verticalAnchor:y},S):a==="insideBottomLeft"?ft({x:l+w,y:c+h-m,textAnchor:E,verticalAnchor:v},S):a==="insideBottomRight"?ft({x:l+d-w,y:c+h-m,textAnchor:_,verticalAnchor:v},S):a&&typeof a=="object"&&(fe(a.x)||Vn(a.x))&&(fe(a.y)||Vn(a.y))?ft({x:l+Xt(a.x,d),y:c+Xt(a.y,h),textAnchor:"end",verticalAnchor:"end"},S):ft({x:l+d/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},S)},C7={offset:5};function Sa(e){var t=St(e,C7),{viewBox:r,position:n,value:a,children:i,content:l,className:c="",textBreakAll:d,labelRef:h}=t,p=S7(),m=FA(),v=n==="center"?m:p??m,y=r||v;if(!y||Je(a)&&Je(i)&&!x.isValidElement(l)&&typeof l!="function")return null;var j=ft(ft({},t),{},{viewBox:y});if(x.isValidElement(l)){var{labelRef:w}=j,_=y7(j,v7);return x.cloneElement(l,_)}var E;if(typeof l=="function"){if(E=x.createElement(l,j),x.isValidElement(E))return E}else E=E7(t);var A=UA(y),P=ar(t);if(A&&(n==="insideStart"||n==="insideEnd"||n==="end"))return N7(t,n,E,P,y);var C=A?O7(y,t.offset,t.position):A7(t,y);return x.createElement(rf,$n({ref:h,className:Te("recharts-label",c)},P,C,{breakAll:d}),E)}Sa.displayName="Label";var T7=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?x.createElement(Sa,$n({key:"label-implicit"},n)):wn(e)?x.createElement(Sa,$n({key:"label-implicit",value:e},n)):x.isValidElement(e)?e.type===Sa?x.cloneElement(e,ft({key:"label-implicit"},n)):x.createElement(Sa,$n({key:"label-implicit",content:e},n)):s0(e)?x.createElement(Sa,$n({key:"label-implicit",content:e},n)):e&&typeof e=="object"?x.createElement(Sa,$n({},e,{key:"label-implicit"},n)):null};function R7(e){var{label:t,labelRef:r}=e,n=FA();return T7(t,n,r)||null}var Lm={},$m={},Dk;function I7(){return Dk||(Dk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})($m)),$m}var Bm={},Mk;function D7(){return Mk||(Mk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(Bm)),Bm}var Lk;function M7(){return Lk||(Lk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I7(),r=D7(),n=Uv();function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(Lm)),Lm}var Fm,$k;function L7(){return $k||($k=1,Fm=M7().last),Fm}var $7=L7();const B7=ln($7);var F7=["valueAccessor"],U7=["dataKey","clockWise","id","textBreakAll"];function rd(){return rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rd.apply(null,arguments)}function Bk(e,t){if(e==null)return{};var r,n,a=z7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function z7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var q7=e=>Array.isArray(e.value)?B7(e.value):e.value,zA=x.createContext(void 0),o0=zA.Provider,qA=x.createContext(void 0),W7=qA.Provider;function K7(){return x.useContext(zA)}function V7(){return x.useContext(qA)}function vu(e){var{valueAccessor:t=q7}=e,r=Bk(e,F7),{dataKey:n,clockWise:a,id:i,textBreakAll:l}=r,c=Bk(r,U7),d=K7(),h=V7(),p=d||h;return!p||!p.length?null:x.createElement(ct,{className:"recharts-label-list"},p.map((m,v)=>{var y,j=Je(n)?t(m,v):qe(m&&m.payload,n),w=Je(i)?{}:{id:"".concat(i,"-").concat(v)};return x.createElement(Sa,rd({key:"label-".concat(v)},ar(m),c,w,{fill:(y=r.fill)!==null&&y!==void 0?y:m.fill,parentViewBox:m.parentViewBox,value:j,textBreakAll:l,viewBox:m.viewBox,index:v}))}))}vu.displayName="LabelList";function nf(e){var{label:t}=e;return t?t===!0?x.createElement(vu,{key:"labelList-implicit"}):x.isValidElement(t)||s0(t)?x.createElement(vu,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(vu,rd({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function ev(){return ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ev.apply(null,arguments)}var l0=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=Te("recharts-dot",a);return t===+t&&r===+r&&n===+n?x.createElement("circle",ev({},nr(e),$v(e),{className:i,cx:t,cy:r,r:n})):null},WA=e=>e.graphicalItems.polarItems,H7=B([rt,Pl],Ty),af=B([WA,ot,H7],Ry),G7=B([af],Iy),sf=B([G7,jy],Dy),Y7=B([sf,ot,af],Ly);B([sf,ot,af],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var i,l=qe(n,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:qe(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var Fk=()=>{},X7=B([sf,ot,af,Xd,rt],Uy),J7=B([ot,By,Fy,Fk,X7,Fk,Ae,rt],zy),KA=B([ot,Ae,sf,Y7,El,rt,J7],qy),Q7=B([KA,ot,Bs],Vy);B([ot,KA,Q7,rt],Gy);var Z7={radiusAxis:{},angleAxis:{}},VA=Ar({name:"polarAxis",initialState:Z7,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:DG,removeRadiusAxis:MG,addAngleAxis:LG,removeAngleAxis:$G}=VA.actions,e9=VA.reducer;function Uk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uk(Object(r),!0).forEach(function(n){t9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t9(e,t,r){return(t=r9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r9(e){var t=n9(e,"string");return typeof t=="symbol"?t:t+""}function n9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var a9=(e,t)=>t,c0=B([WA,a9],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),i9=[],u0=(e,t,r)=>r?.length===0?i9:r,HA=B([jy,c0,u0],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if(t?.data!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(i=>zk(zk({},t.presentationProps),i.props))),a!=null)return a}}),s9=B([HA,c0,u0],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var i,l=qe(n,t.nameKey,t.name),c;return r!=null&&(i=r[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?c=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?c=n.fill:c=t.fill,{value:La(l,t.dataKey),color:c,payload:n,type:t.legendType}})}),o9=B([HA,c0,u0,kt],(e,t,r,n)=>{if(!(t==null||e==null))return oq({offset:n,pieSettings:t,displayedData:e,cells:r})}),Um={exports:{}},Ue={};var qk;function l9(){if(qk)return Ue;qk=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),y=Symbol.for("react.client.reference");function j(w){if(typeof w=="object"&&w!==null){var _=w.$$typeof;switch(_){case e:switch(w=w.type,w){case r:case a:case n:case d:case h:case v:return w;default:switch(w=w&&w.$$typeof,w){case l:case c:case m:case p:return w;case i:return w;default:return _}}case t:return _}}}return Ue.ContextConsumer=i,Ue.ContextProvider=l,Ue.Element=e,Ue.ForwardRef=c,Ue.Fragment=r,Ue.Lazy=m,Ue.Memo=p,Ue.Portal=t,Ue.Profiler=a,Ue.StrictMode=n,Ue.Suspense=d,Ue.SuspenseList=h,Ue.isContextConsumer=function(w){return j(w)===i},Ue.isContextProvider=function(w){return j(w)===l},Ue.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},Ue.isForwardRef=function(w){return j(w)===c},Ue.isFragment=function(w){return j(w)===r},Ue.isLazy=function(w){return j(w)===m},Ue.isMemo=function(w){return j(w)===p},Ue.isPortal=function(w){return j(w)===t},Ue.isProfiler=function(w){return j(w)===a},Ue.isStrictMode=function(w){return j(w)===n},Ue.isSuspense=function(w){return j(w)===d},Ue.isSuspenseList=function(w){return j(w)===h},Ue.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===r||w===a||w===n||w===d||w===h||typeof w=="object"&&w!==null&&(w.$$typeof===m||w.$$typeof===p||w.$$typeof===l||w.$$typeof===i||w.$$typeof===c||w.$$typeof===y||w.getModuleId!==void 0)},Ue.typeOf=j,Ue}var Wk;function c9(){return Wk||(Wk=1,Um.exports=l9()),Um.exports}var u9=c9(),Kk=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Vk=null,zm=null,GA=e=>{if(e===Vk&&Array.isArray(zm))return zm;var t=[];return x.Children.forEach(e,r=>{Je(r)||(u9.isFragment(r)?t=t.concat(GA(r.props.children)):t.push(r))}),zm=t,Vk=e,t};function d0(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>Kk(a)):n=[Kk(t)],GA(e).forEach(a=>{var i=vi(a,"type.displayName")||vi(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}var of=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,qm={},Hk;function d9(){return Hk||(Hk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(qm)),qm}var Wm,Gk;function f9(){return Gk||(Gk=1,Wm=d9().isPlainObject),Wm}var h9=f9();const p9=ln(h9);function Yk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yk(Object(r),!0).forEach(function(n){m9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m9(e,t,r){return(t=g9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g9(e){var t=v9(e,"string");return typeof t=="symbol"?t:t+""}function v9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nd(){return nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nd.apply(null,arguments)}var Jk=(e,t,r,n,a)=>{var i=r-n,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+r,",").concat(t),l+="L ".concat(e+r-i/2,",").concat(t+a),l+="L ".concat(e+r-i/2-n,",").concat(t+a),l+="L ".concat(e,",").concat(t," Z"),l},y9={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},x9=e=>{var t=St(e,y9),{x:r,y:n,upperWidth:a,lowerWidth:i,height:l,className:c}=t,{animationEasing:d,animationDuration:h,animationBegin:p,isUpdateAnimationActive:m}=t,v=x.useRef(null),[y,j]=x.useState(-1),w=x.useRef(a),_=x.useRef(i),E=x.useRef(l),A=x.useRef(r),P=x.useRef(n),C=Ts(e,"trapezoid-");if(x.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var se=v.current.getTotalLength();se&&j(se)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||l!==+l||a===0&&i===0||l===0)return null;var N=Te("recharts-trapezoid",c);if(!m)return x.createElement("g",null,x.createElement("path",nd({},ar(t),{className:N,d:Jk(r,n,a,i,l)})));var S=w.current,T=_.current,M=E.current,z=A.current,W=P.current,V="0px ".concat(y===-1?1:y,"px"),Y="".concat(y,"px 0px"),Z=xN(["strokeDasharray"],h,d);return x.createElement(Cs,{animationId:C,key:C,canBegin:y>0,duration:h,easing:d,isActive:m,begin:p},se=>{var G=ze(S,a,se),le=ze(T,i,se),re=ze(M,l,se),H=ze(z,r,se),ae=ze(W,n,se);v.current&&(w.current=G,_.current=le,E.current=re,A.current=H,P.current=ae);var ne=se>0?{transition:Z,strokeDasharray:Y}:{strokeDasharray:V};return x.createElement("path",nd({},ar(t),{className:N,d:Jk(H,ae,G,le,re),ref:v,style:Xk(Xk({},ne),t.style)}))})},b9=["option","shapeType","propTransformer","activeClassName","isActive"];function w9(e,t){if(e==null)return{};var r,n,a=j9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function j9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Qk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ad(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qk(Object(r),!0).forEach(function(n){_9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _9(e,t,r){return(t=k9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k9(e){var t=S9(e,"string");return typeof t=="symbol"?t:t+""}function S9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E9(e,t){return ad(ad({},t),e)}function P9(e,t){return e==="symbols"}function Zk(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return x.createElement(_N,r);case"trapezoid":return x.createElement(x9,r);case"sector":return x.createElement(EN,r);case"symbols":if(P9(t))return x.createElement(Lv,r);break;default:return null}}function N9(e){return x.isValidElement(e)?e.props:e}function YA(e){var{option:t,shapeType:r,propTransformer:n=E9,activeClassName:a="recharts-active-shape",isActive:i}=e,l=w9(e,b9),c;if(x.isValidElement(t))c=x.cloneElement(t,ad(ad({},l),N9(t)));else if(typeof t=="function")c=t(l);else if(p9(t)&&typeof t!="boolean"){var d=n(t,l);c=x.createElement(Zk,{shapeType:r,elementProps:d})}else{var h=l;c=x.createElement(Zk,{shapeType:r,elementProps:h})}return i?x.createElement(ct,{className:a},c):c}var f0=(e,t)=>{var r=tt();return(n,a)=>i=>{e?.(n,a,i),r(lA({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},h0=e=>{var t=tt();return(r,n)=>a=>{e?.(r,n,a),t(vz())}},p0=(e,t)=>{var r=tt();return(n,a)=>i=>{e?.(n,a,i),r(yz({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function lf(e){var{fn:t,args:r}=e,n=tt(),a=Bt();return x.useLayoutEffect(()=>{if(!a){var i=t(r);return n(pz(i)),()=>{n(mz(i))}}},[t,r,n,a]),null}var XA=()=>{};function m0(e){var{legendPayload:t}=e,r=tt(),n=Bt();return x.useLayoutEffect(()=>n?XA:(r(gN(t)),()=>{r(vN(t))}),[r,n,t]),null}function O9(e){var{legendPayload:t}=e,r=tt(),n=he(Ae);return x.useLayoutEffect(()=>n!=="centric"&&n!=="radial"?XA:(r(gN(t)),()=>{r(vN(t))}),[r,n,t]),null}var Km,A9=()=>{var[e]=x.useState(()=>rl("uid-"));return e},C9=(Km=ES.useId)!==null&&Km!==void 0?Km:A9;function T9(e,t){var r=C9();return t||(e?"".concat(e,"-").concat(r):r)}var R9=x.createContext(void 0),cf=e=>{var{id:t,type:r,children:n}=e,a=T9("recharts-".concat(r),t);return x.createElement(R9.Provider,{value:a},n(a))},I9={cartesianItems:[],polarItems:[]},JA=Ar({name:"graphicalItems",initialState:I9,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:er()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=zn(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:er()},removeCartesianGraphicalItem:{reducer(e,t){var r=zn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:er()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:er()},removePolarGraphicalItem:{reducer(e,t){var r=zn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:er()}}}),{addCartesianGraphicalItem:D9,replaceCartesianGraphicalItem:M9,removeCartesianGraphicalItem:L9,addPolarGraphicalItem:$9,removePolarGraphicalItem:B9}=JA.actions,F9=JA.reducer;function g0(e){var t=tt(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(D9(e)):r.current!==e&&t(M9({prev:r.current,next:e})),r.current=e},[t,e]),x.useLayoutEffect(()=>()=>{r.current&&(t(L9(r.current)),r.current=null)},[t]),null}function U9(e){var t=tt();return x.useLayoutEffect(()=>(t($9(e)),()=>{t(B9(e))}),[t,e]),null}var z9=["onMouseEnter","onClick","onMouseLeave"],q9=["id"],W9=["id"];function v0(e,t){if(e==null)return{};var r,n,a=K9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function K9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function eS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eS(Object(r),!0).forEach(function(n){V9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V9(e,t,r){return(t=H9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H9(e){var t=G9(e,"string");return typeof t=="symbol"?t:t+""}function G9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ra(){return Ra=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ra.apply(null,arguments)}function Y9(e){var t=x.useMemo(()=>d0(e.children,qs),[e.children]),r=he(n=>s9(n,e.id,t));return r==null?null:x.createElement(O9,{legendPayload:r})}function X9(e){var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:i,fill:l,name:c,hide:d,tooltipType:h}=e;return{dataDefinedOnItem:n.map(p=>p.tooltipPayload),positions:n.map(p=>p.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:l,dataKey:t,nameKey:r,name:La(c,t),hide:d,type:h,color:l,unit:""}}}var J9=(e,t)=>e>t?"start":e<t?"end":"middle",Q9=(e,t,r)=>Xt(typeof t=="function"?t(e):t,r,r*.8),Z9=(e,t,r)=>{var{top:n,left:a,width:i,height:l}=t,c=nN(i,l),d=a+Xt(e.cx,i,i/2),h=n+Xt(e.cy,l,l/2),p=Xt(e.innerRadius,c,0),m=Q9(r,e.outerRadius,c),v=e.maxRadius||Math.sqrt(i*i+l*l)/2;return{cx:d,cy:h,innerRadius:p,outerRadius:m,maxRadius:v}},eq=(e,t)=>{var r=Rt(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function tq(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var rq=(e,t)=>{if(x.isValidElement(e))return x.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Te("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return x.createElement(fs,Ra({},t,{type:"linear",className:r}))},nq=(e,t,r)=>{if(x.isValidElement(e))return x.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),x.isValidElement(n)))return n;var a=Te("recharts-pie-label-text",tq(e));return x.createElement(rf,Ra({},t,{alignmentBaseline:"middle",className:a}),n)};function aq(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:i,dataKey:l}=r;if(!n||!a||!t)return null;var c=nr(r),d=gi(a),h=gi(i),p=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,m=t.map((v,y)=>{var j=(v.startAngle+v.endAngle)/2,w=gt(v.cx,v.cy,v.outerRadius+p,j),_=Ze(Ze(Ze(Ze({},c),v),{},{stroke:"none"},d),{},{index:y,textAnchor:J9(w.x,v.cx)},w),E=Ze(Ze(Ze(Ze({},c),v),{},{fill:"none",stroke:v.fill},h),{},{index:y,points:[gt(v.cx,v.cy,v.outerRadius,j),w],key:"line"});return x.createElement(ct,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(y)},i&&rq(i,E),nq(a,_,qe(v,l)))});return x.createElement(ct,{className:"recharts-pie-labels"},m)}function iq(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?x.createElement(nf,{label:a}):x.createElement(aq,{sectors:t,props:r,showLabels:n})}function sq(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a}=e,i=he(Ta),{onMouseEnter:l,onClick:c,onMouseLeave:d}=a,h=v0(a,z9),p=f0(l,a.dataKey),m=h0(d),v=p0(c,a.dataKey);return t==null||t.length===0?null:x.createElement(x.Fragment,null,t.map((y,j)=>{if(y?.startAngle===0&&y?.endAngle===0&&t.length!==1)return null;var w=r&&String(j)===i,_=i?n:null,E=w?r:_,A=Ze(Ze({},y),{},{stroke:y.stroke,tabIndex:-1,[cN]:j,[uN]:a.dataKey});return x.createElement(ct,Ra({key:"sector-".concat(y?.startAngle,"-").concat(y?.endAngle,"-").concat(y.midAngle,"-").concat(j),tabIndex:-1,className:"recharts-pie-sector"},gl(h,y,j),{onMouseEnter:p(y,j),onMouseLeave:m(y,j),onClick:v(y,j)}),x.createElement(YA,Ra({option:E,isActive:w,shapeType:"sector"},A)))}))}function oq(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:i}=e,{cornerRadius:l,startAngle:c,endAngle:d,dataKey:h,nameKey:p,tooltipType:m}=r,v=Math.abs(r.minAngle),y=eq(c,d),j=Math.abs(y),w=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,_=n.filter(S=>qe(S,h,0)!==0).length,E=(j>=360?_:_-1)*w,A=j-_*v-E,P=n.reduce((S,T)=>{var M=qe(T,h,0);return S+(fe(M)?M:0)},0),C;if(P>0){var N;C=n.map((S,T)=>{var M=qe(S,h,0),z=qe(S,p,T),W=Z9(r,i,S),V=(fe(M)?M:0)/P,Y,Z=Ze(Ze({},S),a&&a[T]&&a[T].props);T?Y=N.endAngle+Rt(y)*w*(M!==0?1:0):Y=c;var se=Y+Rt(y)*((M!==0?v:0)+V*A),G=(Y+se)/2,le=(W.innerRadius+W.outerRadius)/2,re=[{name:z,value:M,payload:Z,dataKey:h,type:m}],H=gt(W.cx,W.cy,le,G);return N=Ze(Ze(Ze(Ze({},r.presentationProps),{},{percent:V,cornerRadius:l,name:z,tooltipPayload:re,midAngle:G,middleRadius:le,tooltipPosition:H},Z),W),{},{value:M,startAngle:Y,endAngle:se,payload:Z,paddingAngle:Rt(y)*w}),N})}return C}function lq(e){var{showLabels:t,sectors:r,children:n}=e,a=x.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return x.createElement(W7,{value:t?a:void 0},n)}function cq(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:a,animationBegin:i,animationDuration:l,animationEasing:c,activeShape:d,inactiveShape:h,onAnimationStart:p,onAnimationEnd:m}=t,v=Ts(t,"recharts-pie-"),y=r.current,[j,w]=x.useState(!1),_=x.useCallback(()=>{typeof m=="function"&&m(),w(!1)},[m]),E=x.useCallback(()=>{typeof p=="function"&&p(),w(!0)},[p]);return x.createElement(lq,{showLabels:!j,sectors:n},x.createElement(Cs,{animationId:v,begin:i,duration:l,isActive:a,easing:c,onAnimationStart:E,onAnimationEnd:_,key:v},A=>{var P=[],C=n&&n[0],N=C?.startAngle;return n?.forEach((S,T)=>{var M=y&&y[T],z=T>0?vi(S,"paddingAngle",0):0;if(M){var W=ze(M.endAngle-M.startAngle,S.endAngle-S.startAngle,A),V=Ze(Ze({},S),{},{startAngle:N+z,endAngle:N+W+z});P.push(V),N=V.endAngle}else{var{endAngle:Y,startAngle:Z}=S,se=ze(0,Y-Z,A),G=Ze(Ze({},S),{},{startAngle:N+z,endAngle:N+se+z});P.push(G),N=G.endAngle}}),r.current=P,x.createElement(ct,null,x.createElement(sq,{sectors:P,activeShape:d,inactiveShape:h,allOtherPieProps:t}))}),x.createElement(iq,{showLabels:!j,sectors:n,props:t}),t.children)}var uq={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Zn.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function dq(e){var{id:t}=e,r=v0(e,q9),{hide:n,className:a,rootTabIndex:i}=e,l=x.useMemo(()=>d0(e.children,qs),[e.children]),c=he(p=>o9(p,t,l)),d=x.useRef(null),h=Te("recharts-pie",a);return n||c==null?(d.current=null,x.createElement(ct,{tabIndex:i,className:h})):x.createElement(x.Fragment,null,x.createElement(lf,{fn:X9,args:Ze(Ze({},e),{},{sectors:c})}),x.createElement(ct,{tabIndex:i,className:h},x.createElement(cq,{props:Ze(Ze({},r),{},{sectors:c}),previousSectorsRef:d})))}function y0(e){var t=St(e,uq),{id:r}=t,n=v0(t,W9),a=nr(n);return x.createElement(cf,{id:r,type:"pie"},i=>x.createElement(x.Fragment,null,x.createElement(U9,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),x.createElement(Y9,Ra({},n,{id:i})),x.createElement(dq,Ra({},n,{id:i}))))}y0.displayName="Pie";function tS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tS(Object(r),!0).forEach(function(n){fq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fq(e,t,r){return(t=hq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hq(e){var t=pq(e,"string");return typeof t=="symbol"?t:t+""}function pq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mq={xAxis:{},yAxis:{},zAxis:{}},QA=Ar({name:"cartesianAxis",initialState:mq,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:er()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:er()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:er()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:er()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:er()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:er()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==a.width&&Math.abs(n-i[0])<=1)return;var l=[...i,n].slice(-3);e.yAxis[r]=rS(rS({},e.yAxis[r]),{},{width:n,widthHistory:l})}}}}),{addXAxis:gq,removeXAxis:vq,addYAxis:yq,removeYAxis:xq,addZAxis:BG,removeZAxis:FG,updateYAxisWidth:bq}=QA.actions,wq=QA.reducer,jq=B([kt],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),_q=B([jq,Jn,Qn],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),uf=()=>he(_q),kq=()=>he(a8);function nS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nS(Object(r),!0).forEach(function(n){Sq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sq(e,t,r){return(t=Eq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eq(e){var t=Pq(e,"string");return typeof t=="symbol"?t:t+""}function Pq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nq=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i}=e;if(a===!1||t.x==null||t.y==null)return null;var l=aS(aS({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},gi(a)),$v(a)),c;return x.isValidElement(a)?c=x.cloneElement(a,l):typeof a=="function"?c=a(l):c=x.createElement(l0,l),x.createElement(ct,{className:"recharts-active-dot"},c)};function tv(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a}=e,i=he(Ta),l=kq();if(t==null||l==null)return null;var c=t.find(d=>l.includes(d.payload));return Je(c)?null:Nq({point:c,childIndex:Number(i),mainColor:r,dataKey:a,activeDot:n})}var Oq="Invariant failed";function Aq(e,t){throw new Error(Oq)}var Cq=["x","y"];function rv(){return rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rv.apply(null,arguments)}function iS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iS(Object(r),!0).forEach(function(n){Tq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tq(e,t,r){return(t=Rq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rq(e){var t=Iq(e,"string");return typeof t=="symbol"?t:t+""}function Iq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dq(e,t){if(e==null)return{};var r,n,a=Mq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Mq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Lq(e,t){var{x:r,y:n}=e,a=Dq(e,Cq),i="".concat(r),l=parseInt(i,10),c="".concat(n),d=parseInt(c,10),h="".concat(t.height||a.height),p=parseInt(h,10),m="".concat(t.width||a.width),v=parseInt(m,10);return Fo(Fo(Fo(Fo(Fo({},t),a),l?{x:l}:{}),d?{y:d}:{}),{},{height:p,width:v,name:t.name,radius:t.radius})}function x0(e){return x.createElement(YA,rv({shapeType:"rectangle",propTransformer:Lq,activeClassName:"recharts-active-bar"},e))}var $q=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(fe(t))return t;var i=fe(n)||Je(n);return i?t(n,a):(i||Aq(),r)}},Bq={},ZA=Ar({name:"errorBars",initialState:Bq,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:UG,replaceErrorBar:zG,removeErrorBar:qG}=ZA.actions,Fq=ZA.reducer,Uq=["children"];function zq(e,t){if(e==null)return{};var r,n,a=qq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Wq={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Kq=x.createContext(Wq);function eC(e){var{children:t}=e,r=zq(e,Uq);return x.createElement(Kq.Provider,{value:r},t)}function df(e,t){var r,n,a=he(h=>ta(h,e)),i=he(h=>ra(h,t)),l=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:br.allowDataOverflow,c=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:wr.allowDataOverflow,d=l||c;return{needClip:d,needClipX:l,needClipY:c}}function b0(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=uf(),{needClipX:i,needClipY:l,needClip:c}=df(t,r);if(!c)return null;var{x:d,y:h,width:p,height:m}=a;return x.createElement("clipPath",{id:"clipPath-".concat(n)},x.createElement("rect",{x:i?d:d-p/2,y:l?h:h-m/2,width:i?p:p*2,height:l?m:m*2}))}var Vq=["onMouseEnter","onMouseLeave","onClick"],Hq=["value","background","tooltipPosition"],Gq=["id"],Yq=["onMouseEnter","onClick","onMouseLeave"];function Ia(){return Ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ia.apply(null,arguments)}function sS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sS(Object(r),!0).forEach(function(n){Xq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xq(e,t,r){return(t=Jq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jq(e){var t=Qq(e,"string");return typeof t=="symbol"?t:t+""}function Qq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function id(e,t){if(e==null)return{};var r,n,a=Zq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Zq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var eW=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:La(r,t),payload:e}]};function tW(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:l,unit:c}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:La(i,t),hide:l,type:e.tooltipType,color:e.fill,unit:c}}}function rW(e){var t=he(Ta),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:l,onMouseLeave:c,onClick:d}=i,h=id(i,Vq),p=f0(l,n),m=h0(c),v=p0(d,n);if(!a||r==null)return null;var y=gi(a);return x.createElement(x.Fragment,null,r.map((j,w)=>{var{value:_,background:E,tooltipPosition:A}=j,P=id(j,Hq);if(!E)return null;var C=p(j,w),N=m(j,w),S=v(j,w),T=tr(tr(tr(tr(tr({option:a,isActive:String(w)===t},P),{},{fill:"#eee"},E),y),gl(h,j,w)),{},{onMouseEnter:C,onMouseLeave:N,onClick:S,dataKey:n,index:w,className:"recharts-bar-background-rectangle"});return x.createElement(x0,Ia({key:"background-bar-".concat(w)},T))}))}function nW(e){var{showLabels:t,children:r,rects:n}=e,a=n?.map(i=>{var l={x:i.x,y:i.y,width:i.width,height:i.height};return tr(tr({},l),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:l,fill:i.fill})});return x.createElement(o0,{value:t?a:void 0},r)}function aW(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:l}=e,c=he(Ta),d=he(_A),h=r&&String(i)===c&&(d==null||l===d),p=h?r:t;return x.createElement(x0,Ia({},n,{name:String(n.name)},a,{isActive:h,option:p,index:i,dataKey:l}))}function iW(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return x.createElement(x0,Ia({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:i}))}function sW(e){var{data:t,props:r}=e,n=nr(r),{id:a}=n,i=id(n,Gq),{shape:l,dataKey:c,activeBar:d}=r,{onMouseEnter:h,onClick:p,onMouseLeave:m}=r,v=id(r,Yq),y=f0(h,c),j=h0(m),w=p0(p,c);return t?x.createElement(x.Fragment,null,t.map((_,E)=>x.createElement(ct,Ia({key:"rectangle-".concat(_?.x,"-").concat(_?.y,"-").concat(_?.value,"-").concat(E),className:"recharts-bar-rectangle"},gl(v,_,E),{onMouseEnter:y(_,E),onMouseLeave:j(_,E),onClick:w(_,E)}),d?x.createElement(aW,{shape:l,activeBar:d,baseProps:i,entry:_,index:E,dataKey:c}):x.createElement(iW,{shape:l,baseProps:i,entry:_,index:E,dataKey:c})))):null}function oW(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:l,animationDuration:c,animationEasing:d,onAnimationEnd:h,onAnimationStart:p}=t,m=r.current,v=Ts(t,"recharts-bar-"),[y,j]=x.useState(!1),w=!y,_=x.useCallback(()=>{typeof h=="function"&&h(),j(!1)},[h]),E=x.useCallback(()=>{typeof p=="function"&&p(),j(!0)},[p]);return x.createElement(nW,{showLabels:w,rects:n},x.createElement(Cs,{animationId:v,begin:l,duration:c,isActive:i,easing:d,onAnimationEnd:_,onAnimationStart:E,key:v},A=>{var P=A===1?n:n?.map((C,N)=>{var S=m&&m[N];if(S)return tr(tr({},C),{},{x:ze(S.x,C.x,A),y:ze(S.y,C.y,A),width:ze(S.width,C.width,A),height:ze(S.height,C.height,A)});if(a==="horizontal"){var T=ze(0,C.height,A);return tr(tr({},C),{},{y:C.y+C.height-T,height:T})}var M=ze(0,C.width,A);return tr(tr({},C),{},{width:M})});return A>0&&(r.current=P??null),P==null?null:x.createElement(ct,null,x.createElement(sW,{props:t,data:P}))}),x.createElement(nf,{label:t.label}),t.children)}function lW(e){var t=x.useRef(null);return x.createElement(oW,{previousRectanglesRef:t,props:e})}var tC=0,cW=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:qe(e,t)}};class uW extends x.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:l,needClip:c,background:d,id:h}=this.props;if(t||r==null)return null;var p=Te("recharts-bar",a),m=h;return x.createElement(ct,{className:p,id:h},c&&x.createElement("defs",null,x.createElement(b0,{clipPathId:m,xAxisId:i,yAxisId:l})),x.createElement(ct,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(m,")"):void 0},x.createElement(rW,{data:r,dataKey:n,background:d,allOtherBarProps:this.props}),x.createElement(lW,this.props)))}}var dW={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Zn.isSsr,legendType:"rect",minPointSize:tC,xAxisId:0,yAxisId:0};function fW(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:l,animationBegin:c,animationDuration:d,animationEasing:h,isAnimationActive:p}=e,{needClip:m}=df(t,r),v=bl(),y=Bt(),j=d0(e.children,qs),w=he(A=>FW(A,t,r,y,e.id,j));if(v!=="vertical"&&v!=="horizontal")return null;var _,E=w?.[0];return E==null||E.height==null||E.width==null?_=0:_=v==="vertical"?E.height/2:E.width/2,x.createElement(eC,{xAxisId:t,yAxisId:r,data:w,dataPointFormatter:cW,errorBarOffset:_},x.createElement(uW,Ia({},e,{layout:v,needClip:m,data:w,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:l,animationBegin:c,animationDuration:d,animationEasing:h,isAnimationActive:p})))}function hW(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:l,yAxis:c,xAxisTicks:d,yAxisTicks:h,stackedData:p,displayedData:m,offset:v,cells:y,parentViewBox:j}=e,w=t==="horizontal"?c:l,_=p?w.scale.domain():null,E=d3({numericAxis:w});return m.map((A,P)=>{var C,N,S,T,M,z;p?C=s3(p[P],_):(C=qe(A,r),Array.isArray(C)||(C=[E,C]));var W=$q(n,tC)(C[1],P);if(t==="horizontal"){var V,[Y,Z]=[c.scale(C[0]),c.scale(C[1])];N=B1({axis:l,ticks:d,bandSize:i,offset:a.offset,entry:A,index:P}),S=(V=Z??Y)!==null&&V!==void 0?V:void 0,T=a.size;var se=Y-Z;if(M=Nr(se)?0:se,z={x:N,y:v.top,width:T,height:v.height},Math.abs(W)>0&&Math.abs(M)<Math.abs(W)){var G=Rt(M||W)*(Math.abs(W)-Math.abs(M));S-=G,M+=G}}else{var[le,re]=[l.scale(C[0]),l.scale(C[1])];if(N=le,S=B1({axis:c,ticks:h,bandSize:i,offset:a.offset,entry:A,index:P}),T=re-le,M=a.size,z={x:v.left,y:S,width:v.width,height:M},Math.abs(W)>0&&Math.abs(T)<Math.abs(W)){var H=Rt(T||W)*(Math.abs(W)-Math.abs(T));T+=H}}if(N==null||S==null||T==null||M==null)return null;var ae=tr(tr({},A),{},{x:N,y:S,width:T,height:M,value:p?C:C[1],payload:A,background:z,tooltipPosition:{x:N+T/2,y:S+M/2},parentViewBox:j},y&&y[P]&&y[P].props);return ae}).filter(Boolean)}function pW(e){var t=St(e,dW),r=Bt();return x.createElement(cf,{id:t.id,type:"bar"},n=>x.createElement(x.Fragment,null,x.createElement(m0,{legendPayload:eW(t)}),x.createElement(lf,{fn:tW,args:t}),x.createElement(g0,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:oN(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),x.createElement(fW,Ia({},t,{id:n}))))}var nv=x.memo(pW);nv.displayName="Bar";function oS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oS(Object(r),!0).forEach(function(n){mW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mW(e,t,r){return(t=gW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gW(e){var t=vW(e,"string");return typeof t=="symbol"?t:t+""}function vW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yW=(e,t)=>t,xW=(e,t,r)=>r,bW=(e,t,r,n)=>n,wW=(e,t,r,n,a)=>a,Il=B([Ol,wW],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),jW=B([Il],e=>e?.maxBarSize),_W=(e,t,r,n,a,i)=>i,lS=(e,t,r)=>{var n=r??e;if(!Je(n))return Xt(n,t,0)},kW=B([Ae,Ol,yW,xW,bW],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),SW=(e,t,r,n)=>{var a=Ae(e);return a==="horizontal"?fl(e,"yAxis",r,n):fl(e,"xAxis",t,n)},EW=(e,t,r)=>{var n=Ae(e);return n==="horizontal"?ck(e,"xAxis",t):ck(e,"yAxis",r)},PW=(e,t,r)=>{var n={},a=e.filter(Vd),i=e.filter(h=>h.stackId==null),l=a.reduce((h,p)=>(h[p.stackId]||(h[p.stackId]=[]),h[p.stackId].push(p),h),n),c=Object.entries(l).map(h=>{var[p,m]=h,v=m.map(j=>j.dataKey),y=lS(t,r,m[0].barSize);return{stackId:p,dataKeys:v,barSize:y}}),d=i.map(h=>{var p=[h.dataKey].filter(v=>v!=null),m=lS(t,r,h.barSize);return{stackId:void 0,dataKeys:p,barSize:m}});return[...c,...d]},NW=B([kW,uU,EW],PW),OW=(e,t,r,n,a)=>{var i,l,c=Il(e,t,r,n,a);if(c!=null){var d=Ae(e),h=_O(e),{maxBarSize:p}=c,m=Je(p)?h:p,v,y;return d==="horizontal"?(v=kn(e,"xAxis",t,n),y=_n(e,"xAxis",t,n)):(v=kn(e,"yAxis",r,n),y=_n(e,"yAxis",r,n)),(i=(l=bi(v,y,!0))!==null&&l!==void 0?l:m)!==null&&i!==void 0?i:0}},rC=(e,t,r,n)=>{var a=Ae(e),i,l;return a==="horizontal"?(i=kn(e,"xAxis",t,n),l=_n(e,"xAxis",t,n)):(i=kn(e,"yAxis",r,n),l=_n(e,"yAxis",r,n)),bi(i,l)};function AW(e,t,r,n,a){var i=n.length;if(!(i<1)){var l=Xt(e,r,0,!0),c,d=[];if(yt(n[0].barSize)){var h=!1,p=r/i,m=n.reduce((E,A)=>E+(A.barSize||0),0);m+=(i-1)*l,m>=r&&(m-=(i-1)*l,l=0),m>=r&&p>0&&(h=!0,p*=.9,m=i*p);var v=(r-m)/2>>0,y={offset:v-l,size:0};c=n.reduce((E,A)=>{var P,C={stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:y.offset+y.size+l,size:h?p:(P=A.barSize)!==null&&P!==void 0?P:0}},N=[...E,C];return y=N[N.length-1].position,N},d)}else{var j=Xt(t,r,0,!0);r-2*j-(i-1)*l<=0&&(l=0);var w=(r-2*j-(i-1)*l)/i;w>1&&(w>>=0);var _=yt(a)?Math.min(w,a):w;c=n.reduce((E,A,P)=>[...E,{stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:j+(w+l)*P+(w-_)/2,size:_}}],d)}return c}}var CW=(e,t,r,n,a,i,l)=>{var c=Je(l)?t:l,d=AW(r,n,a!==i?a:i,e,c);return a!==i&&d!=null&&(d=d.map(h=>pu(pu({},h),{},{position:pu(pu({},h.position),{},{offset:h.position.offset-a/2})}))),d},TW=B([NW,_O,cU,kO,OW,rC,jW],CW),RW=(e,t,r,n)=>kn(e,"xAxis",t,n),IW=(e,t,r,n)=>kn(e,"yAxis",r,n),DW=(e,t,r,n)=>_n(e,"xAxis",t,n),MW=(e,t,r,n)=>_n(e,"yAxis",r,n),LW=B([TW,Il],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),$W=(e,t)=>{var r=Kd(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(l=>l.key===r)}}}},BW=B([SW,Il],$W),FW=B([kt,Gv,RW,IW,DW,MW,LW,Ae,Sl,rC,BW,Il,_W],(e,t,r,n,a,i,l,c,d,h,p,m,v)=>{var{chartData:y,dataStartIndex:j,dataEndIndex:w}=d;if(!(m==null||l==null||t==null||c!=="horizontal"&&c!=="vertical"||r==null||n==null||a==null||i==null||h==null)){var{data:_}=m,E;if(_!=null&&_.length>0?E=_:E=y?.slice(j,w+1),E!=null)return hW({layout:c,barSettings:m,pos:l,parentViewBox:t,bandSize:h,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:p,displayedData:E,offset:e,cells:v})}}),nC=e=>{var{chartData:t}=e,r=tt(),n=Bt();return x.useEffect(()=>n?()=>{}:(r(xk(t)),()=>{r(xk(void 0))}),[t,r,n]),null},cS={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},aC=Ar({name:"brush",initialState:cS,reducers:{setBrushSettings(e,t){return t.payload==null?cS:t.payload}}}),{setBrushSettings:WG}=aC.actions,UW=aC.reducer;function zW(e,t,r){return(t=qW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qW(e){var t=WW(e,"string");return typeof t=="symbol"?t:t+""}function WW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class w0{static create(t){return new w0(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}zW(w0,"EPS",1e-4);function KW(e){return(e%180+180)%180}var VW=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=KW(a),l=i*Math.PI/180,c=Math.atan(n/r),d=l>c&&l<Math.PI-c?n/Math.sin(l):r/Math.cos(l);return Math.abs(d)},HW={dots:[],areas:[],lines:[]},iC=Ar({name:"referenceElements",initialState:HW,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=zn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=zn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=zn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:KG,removeDot:VG,addArea:HG,removeArea:GG,addLine:YG,removeLine:XG}=iC.actions,GW=iC.reducer,YW=x.createContext(void 0),XW=e=>{var{children:t}=e,[r]=x.useState("".concat(rl("recharts"),"-clip")),n=uf();if(n==null)return null;var{x:a,y:i,width:l,height:c}=n;return x.createElement(YW.Provider,{value:r},x.createElement("defs",null,x.createElement("clipPath",{id:r},x.createElement("rect",{x:a,y:i,height:c,width:l}))),t)};function js(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function sC(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function JW(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return VW(n,r)}function QW(e,t,r){var n=r==="width",{x:a,y:i,width:l,height:c}=e;return t===1?{start:n?a:i,end:n?a+l:i+c}:{start:n?a+l:i+c,end:n?a:i}}function sd(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function ZW(e,t){return sC(e,t+1)}function eK(e,t,r,n,a){for(var i=(n||[]).slice(),{start:l,end:c}=t,d=0,h=1,p=l,m=function(){var j=n?.[d];if(j===void 0)return{v:sC(n,h)};var w=d,_,E=()=>(_===void 0&&(_=r(j,w)),_),A=j.coordinate,P=d===0||sd(e,A,E,p,c);P||(d=0,p=l,h+=1),P&&(p=A+e*(E()/2+a),d+=h)},v;h<=i.length;)if(v=m(),v)return v.v;return[]}function uS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uS(Object(r),!0).forEach(function(n){tK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tK(e,t,r){return(t=rK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rK(e){var t=nK(e,"string");return typeof t=="symbol"?t:t+""}function nK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aK(e,t,r,n,a){for(var i=(n||[]).slice(),l=i.length,{start:c}=t,{end:d}=t,h=function(v){var y=i[v],j,w=()=>(j===void 0&&(j=r(y,v)),j);if(v===l-1){var _=e*(y.coordinate+e*w()/2-d);i[v]=y=Gt(Gt({},y),{},{tickCoord:_>0?y.coordinate-_*e:y.coordinate})}else i[v]=y=Gt(Gt({},y),{},{tickCoord:y.coordinate});var E=sd(e,y.tickCoord,w,c,d);E&&(d=y.tickCoord-e*(w()/2+a),i[v]=Gt(Gt({},y),{},{isShow:!0}))},p=l-1;p>=0;p--)h(p);return i}function iK(e,t,r,n,a,i){var l=(n||[]).slice(),c=l.length,{start:d,end:h}=t;if(i){var p=n[c-1],m=r(p,c-1),v=e*(p.coordinate+e*m/2-h);l[c-1]=p=Gt(Gt({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate});var y=sd(e,p.tickCoord,()=>m,d,h);y&&(h=p.tickCoord-e*(m/2+a),l[c-1]=Gt(Gt({},p),{},{isShow:!0}))}for(var j=i?c-1:c,w=function(A){var P=l[A],C,N=()=>(C===void 0&&(C=r(P,A)),C);if(A===0){var S=e*(P.coordinate-e*N()/2-d);l[A]=P=Gt(Gt({},P),{},{tickCoord:S<0?P.coordinate-S*e:P.coordinate})}else l[A]=P=Gt(Gt({},P),{},{tickCoord:P.coordinate});var T=sd(e,P.tickCoord,N,d,h);T&&(d=P.tickCoord+e*(N()/2+a),l[A]=Gt(Gt({},P),{},{isShow:!0}))},_=0;_<j;_++)w(_);return l}function j0(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:l,orientation:c,interval:d,tickFormatter:h,unit:p,angle:m}=e;if(!a||!a.length||!n)return[];if(fe(d)||Zn.isSsr){var v;return(v=ZW(a,fe(d)?d:0))!==null&&v!==void 0?v:[]}var y=[],j=c==="top"||c==="bottom"?"width":"height",w=p&&j==="width"?Go(p,{fontSize:t,letterSpacing:r}):{width:0,height:0},_=(P,C)=>{var N=typeof h=="function"?h(P.value,C):P.value;return j==="width"?JW(Go(N,{fontSize:t,letterSpacing:r}),w,m):Go(N,{fontSize:t,letterSpacing:r})[j]},E=a.length>=2?Rt(a[1].coordinate-a[0].coordinate):1,A=QW(i,E,j);return d==="equidistantPreserveStart"?eK(E,A,_,a,l):(d==="preserveStart"||d==="preserveStartEnd"?y=iK(E,A,_,a,l,d==="preserveStartEnd"):y=aK(E,A,_,a,l),y.filter(P=>P.isShow))}var sK=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,l=0;if(t){Array.from(t).forEach(p=>{if(p){var m=p.getBoundingClientRect();m.width>l&&(l=m.width)}});var c=r?r.getBoundingClientRect().width:0,d=a+i,h=l+d+c+(r?n:0);return Math.round(h)}return 0},oK=["axisLine","width","height","className","hide","ticks"],lK=["viewBox"],cK=["viewBox"];function av(e,t){if(e==null)return{};var r,n,a=uK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function uK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _i(){return _i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_i.apply(null,arguments)}function dS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dS(Object(r),!0).forEach(function(n){dK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dK(e,t,r){return(t=fK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fK(e){var t=hK(e,"string");return typeof t=="symbol"?t:t+""}function hK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _0={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function pK(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:l,axisLine:c,otherSvgProps:d}=e;if(!c)return null;var h=_t(_t(_t({},d),nr(c)),{},{fill:"none"});if(i==="top"||i==="bottom"){var p=+(i==="top"&&!l||i==="bottom"&&l);h=_t(_t({},h),{},{x1:t,y1:r+p*a,x2:t+n,y2:r+p*a})}else{var m=+(i==="left"&&!l||i==="right"&&l);h=_t(_t({},h),{},{x1:t+m*n,y1:r,x2:t+m*n,y2:r+a})}return x.createElement("line",_i({},h,{className:Te("recharts-cartesian-axis-line",vi(c,"className"))}))}function mK(e,t,r,n,a,i,l,c,d){var h,p,m,v,y,j,w=c?-1:1,_=e.tickSize||l,E=fe(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":h=p=e.coordinate,v=r+ +!c*a,m=v-w*_,j=m-w*d,y=E;break;case"left":m=v=e.coordinate,p=t+ +!c*n,h=p-w*_,y=h-w*d,j=E;break;case"right":m=v=e.coordinate,p=t+ +c*n,h=p+w*_,y=h+w*d,j=E;break;default:h=p=e.coordinate,v=r+ +c*a,m=v+w*_,j=m+w*d,y=E;break}return{line:{x1:h,y1:m,x2:p,y2:v},tick:{x:y,y:j}}}function gK(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function vK(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function yK(e){var{option:t,tickProps:r,value:n}=e,a,i=Te(r.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))a=x.cloneElement(t,_t(_t({},r),{},{className:i}));else if(typeof t=="function")a=t(_t(_t({},r),{},{className:i}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=Te(l,t?.className)),a=x.createElement(rf,_i({},r,{className:l}),n)}return a}function xK(e){var{ticks:t=[],tick:r,tickLine:n,stroke:a,tickFormatter:i,unit:l,padding:c,tickTextProps:d,orientation:h,mirror:p,x:m,y:v,width:y,height:j,tickSize:w,tickMargin:_,fontSize:E,letterSpacing:A,getTicksConfig:P,events:C}=e,N=j0(_t(_t({},P),{},{ticks:t}),E,A),S=gK(h,p),T=vK(h,p),M=nr(P),z=gi(r),W={};typeof n=="object"&&(W=n);var V=_t(_t({},M),{},{fill:"none"},W),Y=N.map((Z,se)=>{var{line:G,tick:le}=mK(Z,m,v,y,j,h,w,p,_),re=_t(_t(_t(_t({textAnchor:S,verticalAnchor:T},M),{},{stroke:"none",fill:a},z),le),{},{index:se,payload:Z,visibleTicksCount:N.length,tickFormatter:i,padding:c},d);return x.createElement(ct,_i({className:"recharts-cartesian-axis-tick",key:"tick-".concat(Z.value,"-").concat(Z.coordinate,"-").concat(Z.tickCoord)},gl(C,Z,se)),n&&x.createElement("line",_i({},V,G,{className:Te("recharts-cartesian-axis-tick-line",vi(n,"className"))})),r&&x.createElement(yK,{option:r,tickProps:re,value:"".concat(typeof i=="function"?i(Z.value,se):Z.value).concat(l||"")}))});return Y.length>0?x.createElement("g",{className:"recharts-cartesian-axis-ticks"},Y):null}var bK=x.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:l,ticks:c}=e,d=av(e,oK),[h,p]=x.useState(""),[m,v]=x.useState(""),y=x.useRef(null);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var w;return sK({ticks:y.current,label:(w=e.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var j=x.useCallback(w=>{if(w){var _=w.getElementsByClassName("recharts-cartesian-axis-tick-value");y.current=_;var E=_[0];if(E){var A=window.getComputedStyle(E),P=A.fontSize,C=A.letterSpacing;(P!==h||C!==m)&&(p(P),v(C))}}},[h,m]);return l||n!=null&&n<=0||a!=null&&a<=0?null:x.createElement(ct,{className:Te("recharts-cartesian-axis",i),ref:j},x.createElement(pK,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:nr(e)}),x.createElement(xK,{ticks:c,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:h,letterSpacing:m,getTicksConfig:e,events:d}),x.createElement(_7,{x:e.x,y:e.y,width:e.width,height:e.height},x.createElement(R7,{label:e.label,labelRef:e.labelRef}),e.children))}),wK=x.memo(bK,(e,t)=>{var{viewBox:r}=e,n=av(e,lK),{viewBox:a}=t,i=av(t,cK);return js(r,a)&&js(n,i)}),k0=x.forwardRef((e,t)=>{var r=St(e,_0);return x.createElement(wK,_i({},r,{ref:t}))});k0.displayName="CartesianAxis";var jK=["x1","y1","x2","y2","key"],_K=["offset"],kK=["xAxisId","yAxisId"],SK=["xAxisId","yAxisId"];function fS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fS(Object(r),!0).forEach(function(n){EK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EK(e,t,r){return(t=PK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PK(e){var t=NK(e,"string");return typeof t=="symbol"?t:t+""}function NK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function di(){return di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},di.apply(null,arguments)}function od(e,t){if(e==null)return{};var r,n,a=OK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function OK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var AK=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:l,ry:c}=e;return x.createElement("rect",{x:n,y:a,ry:c,width:i,height:l,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function oC(e,t){var r;if(x.isValidElement(e))r=x.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:a,x2:i,y2:l,key:c}=t,d=od(t,jK),h=nr(d),{offset:p}=h,m=od(h,_K);r=x.createElement("line",di({},m,{x1:n,y1:a,x2:i,y2:l,fill:"none",key:c}))}return r}function CK(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:l}=e,c=od(e,kK),d=a.map((h,p)=>{var m=Yt(Yt({},c),{},{x1:t,y1:h,x2:t+r,y2:h,key:"line-".concat(p),index:p});return oC(n,m)});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function TK(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:l}=e,c=od(e,SK),d=a.map((h,p)=>{var m=Yt(Yt({},c),{},{x1:h,y1:t,x2:h,y2:t+r,key:"line-".concat(p),index:p});return oC(n,m)});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function RK(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:l,horizontalPoints:c,horizontal:d=!0}=e;if(!d||!t||!t.length)return null;var h=c.map(m=>Math.round(m+a-a)).sort((m,v)=>m-v);a!==h[0]&&h.unshift(0);var p=h.map((m,v)=>{var y=!h[v+1],j=y?a+l-m:h[v+1]-m;if(j<=0)return null;var w=v%t.length;return x.createElement("rect",{key:"react-".concat(v),y:m,x:n,height:j,width:i,stroke:"none",fill:t[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function IK(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:l,height:c,verticalPoints:d}=e;if(!t||!r||!r.length)return null;var h=d.map(m=>Math.round(m+a-a)).sort((m,v)=>m-v);a!==h[0]&&h.unshift(0);var p=h.map((m,v)=>{var y=!h[v+1],j=y?a+l-m:h[v+1]-m;if(j<=0)return null;var w=v%r.length;return x.createElement("rect",{key:"react-".concat(v),x:m,y:i,width:j,height:c,stroke:"none",fill:r[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var DK=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return iN(j0(Yt(Yt(Yt({},_0),r),{},{ticks:sN(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},MK=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return iN(j0(Yt(Yt(Yt({},_0),r),{},{ticks:sN(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},LK={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function S0(e){var t=Xv(),r=Jv(),n=pN(),a=Yt(Yt({},St(e,LK)),{},{x:fe(e.x)?e.x:n.left,y:fe(e.y)?e.y:n.top,width:fe(e.width)?e.width:n.width,height:fe(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:l,x:c,y:d,width:h,height:p,syncWithTicks:m,horizontalValues:v,verticalValues:y}=a,j=Bt(),w=he(z=>uk(z,"xAxis",i,j)),_=he(z=>uk(z,"yAxis",l,j));if(!fe(h)||h<=0||!fe(p)||p<=0||!fe(c)||c!==+c||!fe(d)||d!==+d)return null;var E=a.verticalCoordinatesGenerator||DK,A=a.horizontalCoordinatesGenerator||MK,{horizontalPoints:P,verticalPoints:C}=a;if((!P||!P.length)&&typeof A=="function"){var N=v&&v.length,S=A({yAxis:_?Yt(Yt({},_),{},{ticks:N?v:_.ticks}):void 0,width:t,height:r,offset:n},N?!0:m);Bu(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(P=S)}if((!C||!C.length)&&typeof E=="function"){var T=y&&y.length,M=E({xAxis:w?Yt(Yt({},w),{},{ticks:T?y:w.ticks}):void 0,width:t,height:r,offset:n},T?!0:m);Bu(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(C=M)}return x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(AK,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),x.createElement(RK,di({},a,{horizontalPoints:P})),x.createElement(IK,di({},a,{verticalPoints:C})),x.createElement(CK,di({},a,{offset:n,horizontalPoints:P,xAxis:w,yAxis:_})),x.createElement(TK,di({},a,{offset:n,verticalPoints:C,xAxis:w,yAxis:_})))}S0.displayName="CartesianGrid";var lC=(e,t,r,n)=>kn(e,"xAxis",t,n),cC=(e,t,r,n)=>_n(e,"xAxis",t,n),uC=(e,t,r,n)=>kn(e,"yAxis",r,n),dC=(e,t,r,n)=>_n(e,"yAxis",r,n),$K=B([Ae,lC,uC,cC,dC],(e,t,r,n,a)=>Pn(e,"xAxis")?bi(t,n,!1):bi(r,a,!1)),BK=(e,t,r,n,a)=>a;function FK(e){return e.type==="line"}var UK=B([Ol,BK],(e,t)=>e.filter(FK).find(r=>r.id===t)),zK=B([Ae,lC,uC,cC,dC,UK,$K,Sl],(e,t,r,n,a,i,l,c)=>{var{chartData:d,dataStartIndex:h,dataEndIndex:p}=c;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||l==null)){var{dataKey:m,data:v}=i,y;if(v!=null&&v.length>0?y=v:y=d?.slice(h,p+1),y!=null)return uV({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:m,bandSize:l,displayedData:y})}});function fC(e){var t=gi(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:i}=t,l=Number(a),c=Number(i);return(Number.isNaN(l)||l<0)&&(l=r),(Number.isNaN(c)||c<0)&&(c=n),{r:l,strokeWidth:c}}return{r,strokeWidth:n}}var qK=["id"],WK=["type","layout","connectNulls","needClip"],KK=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function hS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hS(Object(r),!0).forEach(function(n){VK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VK(e,t,r){return(t=HK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HK(e){var t=GK(e,"string");return typeof t=="symbol"?t:t+""}function GK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E0(e,t){if(e==null)return{};var r,n,a=YK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function YK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ki(){return ki=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ki.apply(null,arguments)}var XK=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:La(r,t),payload:e}]};function JK(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:l,hide:c,unit:d}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:La(l,t),hide:c,type:e.tooltipType,color:e.stroke,unit:d}}}var hC=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function QK(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var ZK=(e,t,r)=>{var n=r.reduce((m,v)=>m+v);if(!n)return hC(t,e);for(var a=Math.floor(e/n),i=e%n,l=t-e,c=[],d=0,h=0;d<r.length;h+=r[d],++d)if(h+r[d]>i){c=[...r.slice(0,d),i-h];break}var p=c.length%2===0?[0,l]:[l];return[...QK(r,a),...c,...p].map(m=>"".concat(m,"px")).join(", ")};function eV(e,t){var r;if(x.isValidElement(e))r=x.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=Te("recharts-line-dot",typeof e!="boolean"?e.className:"");r=x.createElement(l0,ki({},t,{className:n}))}return r}function tV(e,t){return e==null?!1:t?!0:e.length===1}function rV(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:l}=n;if(!tV(r,a))return null;var{id:c}=n,d=E0(n,qK),h=of(a),p=nr(d),m=GE(a),v=r.map((j,w)=>{var _=_r(_r(_r({key:"dot-".concat(w),r:3},p),m),{},{index:w,cx:j.x,cy:j.y,dataKey:i,value:j.value,payload:j.payload,points:r});return eV(a,_)}),y={clipPath:l?"url(#clipPath-".concat(h?"":"dots-").concat(t,")"):void 0};return x.createElement(ct,ki({className:"recharts-line-dots",key:"dots"},y),v)}function nV(e){var{showLabels:t,children:r,points:n}=e,a=x.useMemo(()=>n?.map(i=>{var l={x:i.x,y:i.y,width:0,height:0};return _r(_r({},l),{},{value:i.value,payload:i.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[n]);return x.createElement(o0,{value:t?a:null},r)}function pS(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i}=e,{type:l,layout:c,connectNulls:d,needClip:h}=i,p=E0(i,WK),m=_r(_r({},ar(p)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(t,")"):void 0,points:n,type:l,layout:c,connectNulls:d,strokeDasharray:a??i.strokeDasharray});return x.createElement(x.Fragment,null,n?.length>1&&x.createElement(fs,ki({},m,{pathRef:r})),x.createElement(rV,{points:n,clipPathId:t,props:i}))}function aV(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function iV(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:l,strokeDasharray:c,isAnimationActive:d,animationBegin:h,animationDuration:p,animationEasing:m,animateNewValues:v,width:y,height:j,onAnimationEnd:w,onAnimationStart:_}=r,E=a.current,A=Ts(r,"recharts-line-"),[P,C]=x.useState(!1),N=!P,S=x.useCallback(()=>{typeof w=="function"&&w(),C(!1)},[w]),T=x.useCallback(()=>{typeof _=="function"&&_(),C(!0)},[_]),M=aV(n.current),z=i.current;return x.createElement(nV,{points:l,showLabels:N},r.children,x.createElement(Cs,{animationId:A,begin:h,duration:p,isActive:d,easing:m,onAnimationEnd:S,onAnimationStart:T,key:A},W=>{var V=ze(z,M+z,W),Y=Math.min(V,M),Z;if(d)if(c){var se="".concat(c).split(/[,\s]+/gim).map(re=>parseFloat(re));Z=ZK(Y,M,se)}else Z=hC(M,Y);else Z=c==null?void 0:String(c);if(E){var G=E.length/l.length,le=W===1?l:l.map((re,H)=>{var ae=Math.floor(H*G);if(E[ae]){var ne=E[ae];return _r(_r({},re),{},{x:ze(ne.x,re.x,W),y:ze(ne.y,re.y,W)})}return v?_r(_r({},re),{},{x:ze(y*2,re.x,W),y:ze(j/2,re.y,W)}):_r(_r({},re),{},{x:re.x,y:re.y})});return a.current=le,x.createElement(pS,{props:r,points:le,clipPathId:t,pathRef:n,strokeDasharray:Z})}return W>0&&M>0&&(a.current=l,i.current=Y),x.createElement(pS,{props:r,points:l,clipPathId:t,pathRef:n,strokeDasharray:Z})}),x.createElement(nf,{label:r.label}))}function sV(e){var{clipPathId:t,props:r}=e,n=x.useRef(null),a=x.useRef(0),i=x.useRef(null);return x.createElement(iV,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:i})}var oV=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:qe(e.payload,t)});class lV extends x.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:i,yAxisId:l,top:c,left:d,width:h,height:p,id:m,needClip:v}=this.props;if(t)return null;var y=Te("recharts-line",a),j=m,{r:w,strokeWidth:_}=fC(r),E=of(r),A=w*2+_;return x.createElement(x.Fragment,null,x.createElement(ct,{className:y},v&&x.createElement("defs",null,x.createElement(b0,{clipPathId:j,xAxisId:i,yAxisId:l}),!E&&x.createElement("clipPath",{id:"clipPath-dots-".concat(j)},x.createElement("rect",{x:d-A/2,y:c-A/2,width:h+A,height:p+A}))),x.createElement(eC,{xAxisId:i,yAxisId:l,data:n,dataPointFormatter:oV,errorBarOffset:0},x.createElement(sV,{props:this.props,clipPathId:j}))),x.createElement(tv,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var pC={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Zn.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function cV(e){var t=St(e,pC),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:l,connectNulls:c,dot:d,hide:h,isAnimationActive:p,label:m,legendType:v,xAxisId:y,yAxisId:j,id:w}=t,_=E0(t,KK),{needClip:E}=df(y,j),A=uf(),P=bl(),C=Bt(),N=he(W=>zK(W,y,j,C,w));if(P!=="horizontal"&&P!=="vertical"||N==null||A==null)return null;var{height:S,width:T,x:M,y:z}=A;return x.createElement(lV,ki({},_,{id:w,connectNulls:c,dot:d,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:l,isAnimationActive:p,hide:h,label:m,legendType:v,xAxisId:y,yAxisId:j,points:N,layout:P,height:S,width:T,left:M,top:z,needClip:E}))}function uV(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:l,bandSize:c,displayedData:d}=e;return d.map((h,p)=>{var m=qe(h,l);if(t==="horizontal"){var v=$u({axis:r,ticks:a,bandSize:c,entry:h,index:p}),y=Je(m)?null:n.scale(m);return{x:v,y,value:m,payload:h}}var j=Je(m)?null:r.scale(m),w=$u({axis:n,ticks:i,bandSize:c,entry:h,index:p});return j==null||w==null?null:{x:j,y:w,value:m,payload:h}}).filter(Boolean)}function dV(e){var t=St(e,pC),r=Bt();return x.createElement(cf,{id:t.id,type:"line"},n=>x.createElement(x.Fragment,null,x.createElement(m0,{legendPayload:XK(t)}),x.createElement(lf,{fn:JK,args:t}),x.createElement(g0,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),x.createElement(cV,ki({},t,{id:n}))))}var iv=x.memo(dV);iv.displayName="Line";var mC=(e,t,r,n)=>kn(e,"xAxis",t,n),gC=(e,t,r,n)=>_n(e,"xAxis",t,n),vC=(e,t,r,n)=>kn(e,"yAxis",r,n),yC=(e,t,r,n)=>_n(e,"yAxis",r,n),fV=B([Ae,mC,vC,gC,yC],(e,t,r,n,a)=>Pn(e,"xAxis")?bi(t,n,!1):bi(r,a,!1)),hV=(e,t,r,n,a)=>a,xC=B([Ol,hV],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),pV=(e,t,r,n,a)=>{var i,l=xC(e,t,r,n,a);if(l!=null){var c=Ae(e),d=Pn(c,"xAxis"),h;if(d?h=fl(e,"yAxis",r,n):h=fl(e,"xAxis",t,n),h!=null){var{stackId:p}=l,m=Kd(l);if(!(p==null||m==null)){var v=(i=h[p])===null||i===void 0?void 0:i.stackedData;return v?.find(y=>y.key===m)}}}},mV=B([Ae,mC,vC,gC,yC,pV,Sl,fV,xC],(e,t,r,n,a,i,l,c,d)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:m}=l;if(!(d==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||a==null||n.length===0||a.length===0||c==null)){var{data:v}=d,y;if(v&&v.length>0?y=v:y=h?.slice(p,m+1),y!=null){var j=void 0;return MV({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataStartIndex:p,areaSettings:d,stackedData:i,displayedData:y,chartBaseValue:j,bandSize:c})}}}),gV=["id"],vV=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function bC(e,t){if(e==null)return{};var r,n,a=yV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function yV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Un(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mS(Object(r),!0).forEach(function(n){xV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xV(e,t,r){return(t=bV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bV(e){var t=wV(e,"string");return typeof t=="symbol"?t:t+""}function wV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wn(){return Wn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wn.apply(null,arguments)}function ld(e,t){return e&&e!=="none"?e:t}var jV=e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:i,hide:l}=e;return[{inactive:l,dataKey:t,type:i,color:ld(n,a),value:La(r,t),payload:e}]};function _V(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:l,hide:c,unit:d}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:La(l,t),hide:c,type:e.tooltipType,color:ld(n,i),unit:d}}}var kV=(e,t)=>{var r;if(x.isValidElement(e))r=x.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=Te("recharts-area-dot",typeof e!="boolean"?e.className:"");r=x.createElement(l0,Wn({},t,{className:n}))}return r};function SV(e,t){return e==null?!1:t?!0:e.length===1}function EV(e){var{clipPathId:t,points:r,props:n}=e,{needClip:a,dot:i,dataKey:l}=n;if(!SV(r,i))return null;var c=of(i),d=nr(n),h=GE(i),p=r.map((v,y)=>{var j=Un(Un(Un({key:"dot-".concat(y),r:3},d),h),{},{index:y,cx:v.x,cy:v.y,dataKey:l,value:v.value,payload:v.payload,points:r});return kV(i,j)}),m={clipPath:a?"url(#clipPath-".concat(c?"":"dots-").concat(t,")"):void 0};return x.createElement(ct,Wn({className:"recharts-area-dots"},m),p)}function PV(e){var{showLabels:t,children:r,points:n}=e,a=n.map(i=>{var l={x:i.x,y:i.y,width:0,height:0};return Un(Un({},l),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return x.createElement(o0,{value:t?a:null},r)}function gS(e){var{points:t,baseLine:r,needClip:n,clipPathId:a,props:i}=e,{layout:l,type:c,stroke:d,connectNulls:h,isRange:p}=i,{id:m}=i,v=bC(i,gV),y=nr(v);return x.createElement(x.Fragment,null,t?.length>1&&x.createElement(ct,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},x.createElement(fs,Wn({},y,{id:m,points:t,connectNulls:h,type:c,baseLine:r,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&x.createElement(fs,Wn({},y,{className:"recharts-area-curve",layout:l,type:c,connectNulls:h,fill:"none",points:t})),d!=="none"&&p&&x.createElement(fs,Wn({},y,{className:"recharts-area-curve",layout:l,type:c,connectNulls:h,fill:"none",points:r}))),x.createElement(EV,{points:t,props:v,clipPathId:a}))}function NV(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,i=n[0].y,l=n[n.length-1].y;if(!yt(i)||!yt(l))return null;var c=t*Math.abs(i-l),d=Math.max(...n.map(h=>h.x||0));return fe(r)?d=Math.max(r,d):r&&Array.isArray(r)&&r.length&&(d=Math.max(...r.map(h=>h.x||0),d)),fe(d)?x.createElement("rect",{x:0,y:i<l?i:i-c,width:d+(a?parseInt("".concat(a),10):1),height:Math.floor(c)}):null}function OV(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,i=n[0].x,l=n[n.length-1].x;if(!yt(i)||!yt(l))return null;var c=t*Math.abs(i-l),d=Math.max(...n.map(h=>h.y||0));return fe(r)?d=Math.max(r,d):r&&Array.isArray(r)&&r.length&&(d=Math.max(...r.map(h=>h.y||0),d)),fe(d)?x.createElement("rect",{x:i<l?i:i-c,y:0,width:c,height:Math.floor(d+(a?parseInt("".concat(a),10):1))}):null}function AV(e){var{alpha:t,layout:r,points:n,baseLine:a,strokeWidth:i}=e;return r==="vertical"?x.createElement(NV,{alpha:t,points:n,baseLine:a,strokeWidth:i}):x.createElement(OV,{alpha:t,points:n,baseLine:a,strokeWidth:i})}function CV(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i}=e,{points:l,baseLine:c,isAnimationActive:d,animationBegin:h,animationDuration:p,animationEasing:m,onAnimationStart:v,onAnimationEnd:y}=n,j=Ts(n,"recharts-area-"),[w,_]=x.useState(!1),E=!w,A=x.useCallback(()=>{typeof y=="function"&&y(),_(!1)},[y]),P=x.useCallback(()=>{typeof v=="function"&&v(),_(!0)},[v]),C=a.current,N=i.current;return x.createElement(PV,{showLabels:E,points:l},n.children,x.createElement(Cs,{animationId:j,begin:h,duration:p,isActive:d,easing:m,onAnimationEnd:A,onAnimationStart:P,key:j},S=>{if(C){var T=C.length/l.length,M=S===1?l:l.map((W,V)=>{var Y=Math.floor(V*T);if(C[Y]){var Z=C[Y];return Un(Un({},W),{},{x:ze(Z.x,W.x,S),y:ze(Z.y,W.y,S)})}return W}),z;return fe(c)?z=ze(N,c,S):Je(c)||Nr(c)?z=ze(N,0,S):z=c.map((W,V)=>{var Y=Math.floor(V*T);if(Array.isArray(N)&&N[Y]){var Z=N[Y];return Un(Un({},W),{},{x:ze(Z.x,W.x,S),y:ze(Z.y,W.y,S)})}return W}),S>0&&(a.current=M,i.current=z),x.createElement(gS,{points:M,baseLine:z,needClip:t,clipPathId:r,props:n})}return S>0&&(a.current=l,i.current=c),x.createElement(ct,null,d&&x.createElement("defs",null,x.createElement("clipPath",{id:"animationClipPath-".concat(r)},x.createElement(AV,{alpha:S,points:l,baseLine:c,layout:n.layout,strokeWidth:n.strokeWidth}))),x.createElement(ct,{clipPath:"url(#animationClipPath-".concat(r,")")},x.createElement(gS,{points:l,baseLine:c,needClip:t,clipPathId:r,props:n})))}),x.createElement(nf,{label:n.label}))}function TV(e){var{needClip:t,clipPathId:r,props:n}=e,a=x.useRef(null),i=x.useRef();return x.createElement(CV,{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i})}class RV extends x.PureComponent{render(){var{hide:t,dot:r,points:n,className:a,top:i,left:l,needClip:c,xAxisId:d,yAxisId:h,width:p,height:m,id:v,baseLine:y}=this.props;if(t)return null;var j=Te("recharts-area",a),w=v,{r:_,strokeWidth:E}=fC(r),A=of(r),P=_*2+E;return x.createElement(x.Fragment,null,x.createElement(ct,{className:j},c&&x.createElement("defs",null,x.createElement(b0,{clipPathId:w,xAxisId:d,yAxisId:h}),!A&&x.createElement("clipPath",{id:"clipPath-dots-".concat(w)},x.createElement("rect",{x:l-P/2,y:i-P/2,width:p+P,height:m+P}))),x.createElement(TV,{needClip:c,clipPathId:w,props:this.props})),x.createElement(tv,{points:n,mainColor:ld(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(y)&&x.createElement(tv,{points:y,mainColor:ld(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var wC={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!Zn.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function IV(e){var t,r=St(e,wC),{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:l,connectNulls:c,dot:d,fill:h,fillOpacity:p,hide:m,isAnimationActive:v,legendType:y,stroke:j,xAxisId:w,yAxisId:_}=r,E=bC(r,vV),A=bl(),P=SA(),{needClip:C}=df(w,_),N=Bt(),{points:S,isRange:T,baseLine:M}=(t=he(se=>mV(se,w,_,N,e.id)))!==null&&t!==void 0?t:{},z=uf();if(A!=="horizontal"&&A!=="vertical"||z==null||P!=="AreaChart"&&P!=="ComposedChart")return null;var{height:W,width:V,x:Y,y:Z}=z;return!S||!S.length?null:x.createElement(RV,Wn({},E,{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:l,baseLine:M,connectNulls:c,dot:d,fill:h,fillOpacity:p,height:W,hide:m,layout:A,isAnimationActive:v,isRange:T,legendType:y,needClip:C,points:S,stroke:j,width:V,left:Y,top:Z,xAxisId:w,yAxisId:_}))}var DV=(e,t,r,n,a)=>{var i=r??t;if(fe(i))return i;var l=e==="horizontal"?a:n,c=l.scale.domain();if(l.type==="number"){var d=Math.max(c[0],c[1]),h=Math.min(c[0],c[1]);return i==="dataMin"?h:i==="dataMax"||d<0?d:Math.max(Math.min(c[0],c[1]),0)}return i==="dataMin"?c[0]:i==="dataMax"?c[1]:c[0]};function MV(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:a,layout:i,chartBaseValue:l,xAxis:c,yAxis:d,displayedData:h,dataStartIndex:p,xAxisTicks:m,yAxisTicks:v,bandSize:y}=e,j=a&&a.length,w=DV(i,l,r,c,d),_=i==="horizontal",E=!1,A=h.map((C,N)=>{var S;j?S=a[p+N]:(S=qe(C,n),Array.isArray(S)?E=!0:S=[w,S]);var T=S[1]==null||j&&!t&&qe(C,n)==null;return _?{x:$u({axis:c,ticks:m,bandSize:y,entry:C,index:N}),y:T?null:d.scale(S[1]),value:S,payload:C}:{x:T?null:c.scale(S[1]),y:$u({axis:d,ticks:v,bandSize:y,entry:C,index:N}),value:S,payload:C}}),P;return j||E?P=A.map(C=>{var N=Array.isArray(C.value)?C.value[0]:null;return _?{x:C.x,y:N!=null&&C.y!=null?d.scale(N):null,payload:C.payload}:{x:N!=null?c.scale(N):null,y:C.y,payload:C.payload}}):P=_?d.scale(w):c.scale(w),{points:A,baseLine:P,isRange:E}}function LV(e){var t=St(e,wC),r=Bt();return x.createElement(cf,{id:t.id,type:"area"},n=>x.createElement(x.Fragment,null,x.createElement(m0,{legendPayload:jV(t)}),x.createElement(lf,{fn:_V,args:t}),x.createElement(g0,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:oN(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),x.createElement(IV,Wn({},t,{id:n}))))}var jC=x.memo(LV);jC.displayName="Area";var $V=["dangerouslySetInnerHTML","ticks"],BV=["id"],FV=["domain"],UV=["domain"];function sv(){return sv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sv.apply(null,arguments)}function cd(e,t){if(e==null)return{};var r,n,a=zV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function qV(e){var t=tt();return x.useLayoutEffect(()=>(t(gq(e)),()=>{t(vq(e))}),[e,t]),null}var WV=e=>{var{xAxisId:t,className:r}=e,n=he(Gv),a=Bt(),i="xAxis",l=he(_=>Fs(_,i,t,a)),c=he(_=>rA(_,i,t,a)),d=he(_=>QO(_,t)),h=he(_=>az(_,t)),p=he(_=>RO(_,t));if(d==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:m,ticks:v}=e,y=cd(e,$V),{id:j}=p,w=cd(p,BV);return x.createElement(k0,sv({},y,w,{scale:l,x:h.x,y:h.y,width:d.width,height:d.height,className:Te("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:c}))},KV={allowDataOverflow:br.allowDataOverflow,allowDecimals:br.allowDecimals,allowDuplicatedCategory:br.allowDuplicatedCategory,height:br.height,hide:!1,mirror:br.mirror,orientation:br.orientation,padding:br.padding,reversed:br.reversed,scale:br.scale,tickCount:br.tickCount,type:br.type,xAxisId:0},VV=e=>{var t,r,n,a,i,l=St(e,KV);return x.createElement(x.Fragment,null,x.createElement(qV,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(r=l.includeHidden)!==null&&r!==void 0?r:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(n=l.angle)!==null&&n!==void 0?n:0,minTickGap:(a=l.minTickGap)!==null&&a!==void 0?a:5,tick:(i=l.tick)!==null&&i!==void 0?i:!0,tickFormatter:l.tickFormatter}),x.createElement(WV,l))},HV=(e,t)=>{var{domain:r}=e,n=cd(e,FV),{domain:a}=t,i=cd(t,UV);return js(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:js({domain:r},{domain:a}):!1},P0=x.memo(VV,HV);P0.displayName="XAxis";var GV=["dangerouslySetInnerHTML","ticks"],YV=["id"],XV=["domain"],JV=["domain"];function ov(){return ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ov.apply(null,arguments)}function ud(e,t){if(e==null)return{};var r,n,a=QV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function QV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ZV(e){var t=tt();return x.useLayoutEffect(()=>(t(yq(e)),()=>{t(xq(e))}),[e,t]),null}var eH=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=x.useRef(null),l=x.useRef(null),c=he(Gv),d=Bt(),h=tt(),p="yAxis",m=he(N=>Fs(N,p,t,d)),v=he(N=>ZO(N,t)),y=he(N=>sz(N,t)),j=he(N=>rA(N,p,t,d)),w=he(N=>IO(N,t));if(x.useLayoutEffect(()=>{if(!(n!=="auto"||!v||s0(a)||x.isValidElement(a)||w==null)){var N=i.current;if(N){var S=N.getCalculatedWidth();Math.round(v.width)!==Math.round(S)&&h(bq({id:t,width:S}))}}},[j,v,h,a,t,n,w]),v==null||y==null||w==null)return null;var{dangerouslySetInnerHTML:_,ticks:E}=e,A=ud(e,GV),{id:P}=w,C=ud(w,YV);return x.createElement(k0,ov({},A,C,{ref:i,labelRef:l,scale:m,x:y.x,y:y.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:v.width,height:v.height,className:Te("recharts-".concat(p," ").concat(p),r),viewBox:c,ticks:j}))},tH={allowDataOverflow:wr.allowDataOverflow,allowDecimals:wr.allowDecimals,allowDuplicatedCategory:wr.allowDuplicatedCategory,hide:!1,mirror:wr.mirror,orientation:wr.orientation,padding:wr.padding,reversed:wr.reversed,scale:wr.scale,tickCount:wr.tickCount,type:wr.type,width:wr.width,yAxisId:0},rH=e=>{var t,r,n,a,i,l=St(e,tH);return x.createElement(x.Fragment,null,x.createElement(ZV,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(r=l.includeHidden)!==null&&r!==void 0?r:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(n=l.angle)!==null&&n!==void 0?n:0,minTickGap:(a=l.minTickGap)!==null&&a!==void 0?a:5,tick:(i=l.tick)!==null&&i!==void 0?i:!0,tickFormatter:l.tickFormatter}),x.createElement(eH,l))},nH=(e,t)=>{var{domain:r}=e,n=ud(e,XV),{domain:a}=t,i=ud(t,JV);return js(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:js({domain:r},{domain:a}):!1},N0=x.memo(rH,nH);N0.displayName="YAxis";var Vm={exports:{}},Hm={};var vS;function aH(){if(vS)return Hm;vS=1;var e=_s();function t(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,i=e.useEffect,l=e.useMemo,c=e.useDebugValue;return Hm.useSyncExternalStoreWithSelector=function(d,h,p,m,v){var y=a(null);if(y.current===null){var j={hasValue:!1,value:null};y.current=j}else j=y.current;y=l(function(){function _(N){if(!E){if(E=!0,A=N,N=m(N),v!==void 0&&j.hasValue){var S=j.value;if(v(S,N))return P=S}return P=N}if(S=P,r(A,N))return S;var T=m(N);return v!==void 0&&v(S,T)?(A=N,S):(A=N,P=T)}var E=!1,A,P,C=p===void 0?null:p;return[function(){return _(h())},C===null?void 0:function(){return _(C())}]},[h,p,m,v]);var w=n(d,y[0],y[1]);return i(function(){j.hasValue=!0,j.value=w},[w]),c(w),w},Hm}var yS;function iH(){return yS||(yS=1,Vm.exports=aH()),Vm.exports}iH();function sH(e){e()}function oH(){let e=null,t=null;return{clear(){e=null,t=null},notify(){sH(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var xS={notify(){},get:()=>[]};function lH(e,t){let r,n=xS,a=0,i=!1;function l(w){p();const _=n.subscribe(w);let E=!1;return()=>{E||(E=!0,_(),m())}}function c(){n.notify()}function d(){j.onStateChange&&j.onStateChange()}function h(){return i}function p(){a++,r||(r=e.subscribe(d),n=oH())}function m(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=xS)}function v(){i||(i=!0,p())}function y(){i&&(i=!1,m())}const j={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:h,trySubscribe:v,tryUnsubscribe:y,getListeners:()=>n};return j}var cH=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uH=cH(),dH=()=>typeof navigator<"u"&&navigator.product==="ReactNative",fH=dH(),hH=()=>uH||fH?x.useLayoutEffect:x.useEffect,pH=hH(),mH=Symbol.for("react-redux-context"),gH=typeof globalThis<"u"?globalThis:{};function vH(){if(!x.createContext)return{};const e=gH[mH]??=new Map;let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var yH=vH();function xH(e){const{children:t,context:r,serverState:n,store:a}=e,i=x.useMemo(()=>{const d=lH(a);return{store:a,subscription:d,getServerState:n?()=>n:void 0}},[a,n]),l=x.useMemo(()=>a.getState(),[a]);pH(()=>{const{subscription:d}=i;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==a.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[i,l]);const c=r||yH;return x.createElement(c.Provider,{value:i},t)}var bH=xH,wH=(e,t)=>t,O0=B([wH,Ae,AO,Pt,xA,na,u8,kt],m8),A0=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},_C=qr("mouseClick"),kC=yl();kC.startListening({actionCreator:_C,effect:(e,t)=>{var r=e.payload,n=O0(t.getState(),A0(r));n?.activeIndex!=null&&t.dispatch(xz({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var lv=qr("mouseMove"),SC=yl();SC.startListening({actionCreator:lv,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=Jy(n,n.tooltip.settings.shared),i=O0(n,A0(r));a==="axis"&&(i?.activeIndex!=null?t.dispatch(uA({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(cA()))}});var bS={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},EC=Ar({name:"rootProps",initialState:bS,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:bS.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),jH=EC.reducer,{updateOptions:_H}=EC.actions,PC=Ar({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:kH}=PC.actions,SH=PC.reducer,NC=qr("keyDown"),OC=qr("focus"),C0=yl();C0.startListening({actionCreator:NC,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var l=Number(Qy(a,zs(r))),c=na(r);if(i==="Enter"){var d=td(r,"axis","hover",String(a.index));t.dispatch(Xg({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:d}));return}var h=uz(r),p=h==="left-to-right"?1:-1,m=i==="ArrowRight"?1:-1,v=l+m*p;if(!(c==null||v>=c.length||v<0)){var y=td(r,"axis","hover",String(v));t.dispatch(Xg({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:y}))}}}}});C0.startListening({actionCreator:OC,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",l=td(r,"axis","hover",String(i));t.dispatch(Xg({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:l}))}}}});var Fr=qr("externalEvent"),AC=yl();AC.startListening({actionCreator:Fr,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:t8(r),activeDataKey:_A(r),activeIndex:Ta(r),activeLabel:jA(r),activeTooltipIndex:Ta(r),isTooltipActive:r8(r)};e.payload.handler(n,e.payload.reactEvent)}}});var EH=B([Us],e=>e.tooltipItemPayloads),PH=B([EH,Tl,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(c=>c.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var l=t(i,r);return l}}}),CC=qr("touchMove"),TC=yl();TC.startListening({actionCreator:CC,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=Jy(n,n.tooltip.settings.shared);if(a==="axis"){var i=O0(n,A0({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));i?.activeIndex!=null&&t.dispatch(uA({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var l,c=r.touches[0],d=document.elementFromPoint(c.clientX,c.clientY);if(!d||!d.getAttribute)return;var h=d.getAttribute(cN),p=(l=d.getAttribute(uN))!==null&&l!==void 0?l:void 0,m=PH(t.getState(),h,p);t.dispatch(lA({activeDataKey:p,activeIndex:h,activeCoordinate:m}))}}});var NH=TP({brush:UW,cartesianAxis:wq,chartData:C8,errorBars:Fq,graphicalItems:F9,layout:W$,legend:Y3,options:E8,polarAxis:e9,polarOptions:SH,referenceElements:GW,rootProps:jH,tooltip:bz}),OH=function(t){return m$({reducer:NH,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([kC.middleware,SC.middleware,C0.middleware,AC.middleware,TC.middleware]),enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(WP({type:"raf"}))},devTools:Zn.devToolsEnabled})};function RC(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Bt(),i=x.useRef(null);if(a)return r;i.current==null&&(i.current=OH(t));var l=zv;return x.createElement(bH,{context:l,store:i.current},r)}function IC(e){var{layout:t,margin:r}=e,n=tt(),a=Bt();return x.useEffect(()=>{a||(n(U$(t)),n(F$(r)))},[n,a,t,r]),null}function DC(e){var t=tt();return x.useEffect(()=>{t(_H(e))},[t,e]),null}var AH=["children"];function CH(e,t){if(e==null)return{};var r,n,a=TH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function TH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function dd(){return dd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dd.apply(null,arguments)}var RH={width:"100%",height:"100%",display:"block"},IH=x.forwardRef((e,t)=>{var r=Xv(),n=Jv(),a=yN();if(!vs(r)||!vs(n))return null;var{children:i,otherAttributes:l,title:c,desc:d}=e,h,p;return typeof l.tabIndex=="number"?h=l.tabIndex:h=a?0:void 0,typeof l.role=="string"?p=l.role:p=a?"application":void 0,x.createElement(Av,dd({},l,{title:c,desc:d,role:p,tabIndex:h,width:r,height:n,style:RH,ref:t}),i)}),DH=e=>{var{children:t}=e,r=he(Td);if(!r)return null;var{width:n,height:a,y:i,x:l}=r;return x.createElement(Av,{width:n,height:a,x:l,y:i},t)},wS=x.forwardRef((e,t)=>{var{children:r}=e,n=CH(e,AH),a=Bt();return a?x.createElement(DH,null,r):x.createElement(IH,dd({ref:t},n),r)});function MH(){var e=tt(),[t,r]=x.useState(null),n=he(y3);return x.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;yt(i)&&i!==n&&e(q$(i))}},[t,e,n]),r}function jS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function LH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jS(Object(r),!0).forEach(function(n){$H(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $H(e,t,r){return(t=BH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BH(e){var t=FH(e,"string");return typeof t=="symbol"?t:t+""}function FH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Si(){return Si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Si.apply(null,arguments)}var UH=()=>(F8(),null);function fd(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var zH=x.forwardRef((e,t)=>{var r,n,a=x.useRef(null),[i,l]=x.useState({containerWidth:fd((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:fd((n=e.style)===null||n===void 0?void 0:n.height)}),c=x.useCallback((h,p)=>{l(m=>{var v=Math.round(h),y=Math.round(p);return m.containerWidth===v&&m.containerHeight===y?m:{containerWidth:v,containerHeight:y}})},[]),d=x.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null){var{width:p,height:m}=h.getBoundingClientRect();c(p,m);var v=j=>{var{width:w,height:_}=j[0].contentRect;c(w,_)},y=new ResizeObserver(v);y.observe(h),a.current=y}},[t,c]);return x.useEffect(()=>()=>{var h=a.current;h?.disconnect()},[c]),x.createElement(x.Fragment,null,x.createElement(Dd,{width:i.containerWidth,height:i.containerHeight}),x.createElement("div",Si({ref:d},e)))}),qH=x.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=x.useState({containerWidth:fd(r),containerHeight:fd(n)}),l=x.useCallback((d,h)=>{i(p=>{var m=Math.round(d),v=Math.round(h);return p.containerWidth===m&&p.containerHeight===v?p:{containerWidth:m,containerHeight:v}})},[]),c=x.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:h,height:p}=d.getBoundingClientRect();l(h,p)}},[t,l]);return x.createElement(x.Fragment,null,x.createElement(Dd,{width:a.containerWidth,height:a.containerHeight}),x.createElement("div",Si({ref:c},e)))}),WH=x.forwardRef((e,t)=>{var{width:r,height:n}=e;return x.createElement(x.Fragment,null,x.createElement(Dd,{width:r,height:n}),x.createElement("div",Si({ref:t},e)))}),KH=x.forwardRef((e,t)=>{var{width:r,height:n}=e;return Vn(r)||Vn(n)?x.createElement(qH,Si({},e,{ref:t})):x.createElement(WH,Si({},e,{ref:t}))});function VH(e){return e===!0?zH:KH}var HH=x.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:l,onDoubleClick:c,onMouseDown:d,onMouseEnter:h,onMouseLeave:p,onMouseMove:m,onMouseUp:v,onTouchEnd:y,onTouchMove:j,onTouchStart:w,style:_,width:E,responsive:A,dispatchTouchEvents:P=!0}=e,C=x.useRef(null),N=tt(),[S,T]=x.useState(null),[M,z]=x.useState(null),W=MH(),V=Yv(),Y=V?.width>0?V.width:E,Z=V?.height>0?V.height:a,se=x.useCallback(q=>{W(q),typeof t=="function"&&t(q),T(q),z(q),q!=null&&(C.current=q)},[W,t,T,z]),G=x.useCallback(q=>{N(_C(q)),N(Fr({handler:i,reactEvent:q}))},[N,i]),le=x.useCallback(q=>{N(lv(q)),N(Fr({handler:h,reactEvent:q}))},[N,h]),re=x.useCallback(q=>{N(cA()),N(Fr({handler:p,reactEvent:q}))},[N,p]),H=x.useCallback(q=>{N(lv(q)),N(Fr({handler:m,reactEvent:q}))},[N,m]),ae=x.useCallback(()=>{N(OC())},[N]),ne=x.useCallback(q=>{N(NC(q.key))},[N]),L=x.useCallback(q=>{N(Fr({handler:l,reactEvent:q}))},[N,l]),K=x.useCallback(q=>{N(Fr({handler:c,reactEvent:q}))},[N,c]),ye=x.useCallback(q=>{N(Fr({handler:d,reactEvent:q}))},[N,d]),Ee=x.useCallback(q=>{N(Fr({handler:v,reactEvent:q}))},[N,v]),je=x.useCallback(q=>{N(Fr({handler:w,reactEvent:q}))},[N,w]),Ce=x.useCallback(q=>{P&&N(CC(q)),N(Fr({handler:j,reactEvent:q}))},[N,P,j]),Le=x.useCallback(q=>{N(Fr({handler:y,reactEvent:q}))},[N,y]),Re=VH(A);return x.createElement(AA.Provider,{value:S},x.createElement(YE.Provider,{value:M},x.createElement(Re,{width:Y??_?.width,height:Z??_?.height,className:Te("recharts-wrapper",n),style:LH({position:"relative",cursor:"default",width:Y,height:Z},_),onClick:G,onContextMenu:L,onDoubleClick:K,onFocus:ae,onKeyDown:ne,onMouseDown:ye,onMouseEnter:le,onMouseLeave:re,onMouseMove:H,onMouseUp:Ee,onTouchEnd:Le,onTouchMove:Ce,onTouchStart:je,ref:se},x.createElement(UH,null),r)))}),GH=["width","height","responsive","children","className","style","compact","title","desc"];function YH(e,t){if(e==null)return{};var r,n,a=XH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function XH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var MC=x.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:l,style:c,compact:d,title:h,desc:p}=e,m=YH(e,GH),v=nr(m);return d?x.createElement(x.Fragment,null,x.createElement(Dd,{width:r,height:n}),x.createElement(wS,{otherAttributes:v,title:h,desc:p},i)):x.createElement(HH,{className:l,style:c,width:r,height:n,responsive:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(wS,{otherAttributes:v,title:h,desc:p,ref:t},x.createElement(XW,null,i)))});function cv(){return cv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cv.apply(null,arguments)}var JH={top:5,right:5,bottom:5,left:5},QH={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:JH,reverseStackOrder:!1,syncMethod:"index",responsive:!1},T0=x.forwardRef(function(t,r){var n,a=St(t.categoricalChartProps,QH),{chartName:i,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,categoricalChartProps:h}=t,p={chartName:i,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return x.createElement(RC,{preloadedState:{options:p},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:i},x.createElement(nC,{chartData:h.data}),x.createElement(IC,{layout:a.layout,margin:a.margin}),x.createElement(DC,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),x.createElement(MC,cv({},a,{ref:r})))}),ZH=["axis"],eG=x.forwardRef((e,t)=>x.createElement(T0,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ZH,tooltipPayloadSearcher:ef,categoricalChartProps:e,ref:t})),tG=["axis","item"],rG=x.forwardRef((e,t)=>x.createElement(T0,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:tG,tooltipPayloadSearcher:ef,categoricalChartProps:e,ref:t}));function nG(e){var t=tt();return x.useEffect(()=>{t(kH(e))},[t,e]),null}var aG=["layout"];function uv(){return uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uv.apply(null,arguments)}function iG(e,t){if(e==null)return{};var r,n,a=sG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function sG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var oG={top:5,right:5,bottom:5,left:5},lG={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:oG,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},cG=x.forwardRef(function(t,r){var n,a=St(t.categoricalChartProps,lG),{layout:i}=a,l=iG(a,aG),{chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:h,tooltipPayloadSearcher:p}=t,m={chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return x.createElement(RC,{preloadedState:{options:m},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:c},x.createElement(nC,{chartData:a.data}),x.createElement(IC,{layout:i,margin:a.margin}),x.createElement(DC,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),x.createElement(nG,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),x.createElement(MC,uv({},l,{ref:r})))}),uG=["item"],dG={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},LC=x.forwardRef((e,t)=>{var r=St(e,dG);return x.createElement(cG,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:uG,tooltipPayloadSearcher:ef,categoricalChartProps:r,ref:t})}),fG=["axis"],hG=x.forwardRef((e,t)=>x.createElement(T0,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:fG,tooltipPayloadSearcher:ef,categoricalChartProps:e,ref:t}));function pG({data:e,type:t="line"}){if(!e||e.length===0)return u.jsx("div",{className:"flex items-center justify-center h-64 text-gray-400",children:"Aucune donne disponible"});const r=t==="line"?eG:rG;return u.jsx(Rd,{width:"100%",height:300,children:u.jsxs(r,{data:e,children:[u.jsx(S0,{strokeDasharray:"3 3",className:"stroke-gray-200 dark:stroke-gray-700"}),u.jsx(P0,{dataKey:"date",className:"text-gray-600 dark:text-gray-400",style:{fontSize:"12px"}}),u.jsx(N0,{className:"text-gray-600 dark:text-gray-400",style:{fontSize:"12px"}}),u.jsx(tf,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},labelStyle:{fontWeight:"bold",marginBottom:"4px"}}),u.jsx(As,{}),t==="line"?u.jsxs(u.Fragment,{children:[u.jsx(iv,{type:"monotone",dataKey:"reservations",name:"Rservations",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6}}),u.jsx(iv,{type:"monotone",dataKey:"confirmees",name:"Confirmes",stroke:"#10b981",strokeWidth:2,dot:{fill:"#10b981",r:4}})]}):u.jsxs(u.Fragment,{children:[u.jsx(nv,{dataKey:"reservations",name:"Rservations",fill:"#3b82f6"}),u.jsx(nv,{dataKey:"confirmees",name:"Confirmes",fill:"#10b981"})]})]})})}function mG({data:e}){if(!e||e.length===0)return u.jsx("div",{className:"flex items-center justify-center h-64 text-gray-400",children:"Aucune donne de revenus disponible"});const t=r=>`${r.toLocaleString()} FCFA`;return u.jsx(Rd,{width:"100%",height:300,children:u.jsxs(hG,{data:e,children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),u.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),u.jsx(S0,{strokeDasharray:"3 3",className:"stroke-gray-200 dark:stroke-gray-700"}),u.jsx(P0,{dataKey:"date",className:"text-gray-600 dark:text-gray-400",style:{fontSize:"12px"}}),u.jsx(N0,{className:"text-gray-600 dark:text-gray-400",style:{fontSize:"12px"},tickFormatter:t}),u.jsx(tf,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},formatter:t,labelStyle:{fontWeight:"bold",marginBottom:"4px"}}),u.jsx(jC,{type:"monotone",dataKey:"revenue",name:"Revenus",stroke:"#10b981",fillOpacity:1,fill:"url(#colorRevenue)"})]})})}const _S=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4"];function gG({data:e}){if(!e||e.length===0)return u.jsx("div",{className:"flex items-center justify-center h-64 text-gray-400",children:"Aucune donne de compagnies disponible"});const t=r=>`${r.value}`;return u.jsx(Rd,{width:"100%",height:300,children:u.jsxs(LC,{children:[u.jsx(y0,{data:e,cx:"50%",cy:"50%",labelLine:!1,label:t,outerRadius:100,fill:"#8884d8",dataKey:"count",nameKey:"name",children:e.map((r,n)=>u.jsx(qs,{fill:_S[n%_S.length]},`cell-${n}`))}),u.jsx(tf,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},formatter:(r,n)=>[`${r} rservations`,n]}),u.jsx(As,{verticalAlign:"bottom",height:36,formatter:r=>u.jsx("span",{className:"text-sm",children:r})})]})})}const vG={"En attente":"#f59e0b",Confirme:"#10b981",Annule:"#ef4444",Expire:"#6b7280"};function yG({data:e}){if(!e||e.length===0)return u.jsx("div",{className:"flex items-center justify-center h-64 text-gray-400",children:"Aucune donne de statut disponible"});const t=r=>`${(r.value/e.reduce((a,i)=>a+i.value,0)*100).toFixed(0)}%`;return u.jsx(Rd,{width:"100%",height:300,children:u.jsxs(LC,{children:[u.jsx(y0,{data:e,cx:"50%",cy:"50%",labelLine:!1,label:t,outerRadius:100,fill:"#8884d8",dataKey:"value",nameKey:"name",children:e.map((r,n)=>u.jsx(qs,{fill:vG[r.name]||"#6b7280"},`cell-${n}`))}),u.jsx(tf,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},formatter:r=>[`${r} rservations`]}),u.jsx(As,{verticalAlign:"bottom",height:36,formatter:r=>u.jsx("span",{className:"text-sm",children:r})})]})})}function xG(){const[e,t]=x.useState({totalUsers:0,totalReservations:0,totalTrajets:0,totalRevenue:0,pendingReservations:0,confirmedReservations:0,canceledReservations:0}),[r,n]=x.useState([]),[a,i]=x.useState(!0),[l,c]=x.useState({reservations:[],revenue:[],compagnies:[],status:[]});x.useEffect(()=>{d(),h(),p()},[]);const d=async()=>{try{console.log(" Loading dashboard stats...");const{count:v,error:y}=await ie.from("profiles").select("*",{count:"exact",head:!0});y&&console.error("Error loading users count:",y);const{count:j,error:w}=await ie.from("reservations").select("*",{count:"exact",head:!0});w&&console.error("Error loading reservations count:",w);const{count:_}=await ie.from("trajets").select("*",{count:"exact",head:!0}),{count:E}=await ie.from("reservations").select("*",{count:"exact",head:!0}).eq("statut","en_attente"),{count:A}=await ie.from("reservations").select("*",{count:"exact",head:!0}).eq("statut","confirmee"),{count:P}=await ie.from("reservations").select("*",{count:"exact",head:!0}).eq("statut","annulee"),{data:C}=await ie.from("reservations").select("montant_total").eq("statut_paiement","approved"),N=C?.reduce((S,T)=>S+parseFloat(T.montant_total||0),0)||0;t({totalUsers:v||0,totalReservations:j||0,totalTrajets:_||0,totalRevenue:N,pendingReservations:E||0,confirmedReservations:A||0,canceledReservations:P||0})}catch(v){console.error("Error loading stats:",v)}finally{i(!1)}},h=async()=>{try{console.log(" Loading recent reservations...");const{data:v,error:y}=await ie.from("reservations").select(`
          *,
          trajets(
            depart,
            arrivee,
            compagnies:compagnie_id(nom)
          )
        `).order("created_at",{ascending:!1}).limit(5);if(y)throw console.error(" Error loading reservations:",y),y;console.log(" Reservations loaded:",v?.length||0),console.log(" Sample data:",v?.[0]),n(v||[])}catch(v){console.error(" Exception loading recent reservations:",v),n([])}},p=async()=>{try{const{data:v}=await ie.from("reservations").select("created_at, statut, montant_total, statut_paiement, trajets(compagnies:compagnie_id(nom))").order("created_at",{ascending:!0});if(!v)return;const y=[];for(let A=6;A>=0;A--){const P=new Date;P.setDate(P.getDate()-A);const C=P.toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"}),N=v.filter(S=>new Date(S.created_at).toDateString()===P.toDateString());y.push({date:C,reservations:N.length,confirmees:N.filter(S=>S.statut==="confirmee").length})}const j=y.map(A=>({date:A.date,revenue:v.filter(P=>{const C=new Date(P.created_at),N=A.date.split("/").reverse().join("-");return C.toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"})===A.date&&P.statut_paiement==="approved"}).reduce((P,C)=>P+parseFloat(C.montant_total||0),0)})),w={};v.forEach(A=>{const P=A.trajets?.compagnies?.nom||"Autre";w[P]=(w[P]||0)+1});const _=Object.entries(w).map(([A,P])=>({name:A,count:P})).sort((A,P)=>P.count-A.count).slice(0,7),E=[{name:"En attente",value:v.filter(A=>A.statut==="en_attente").length},{name:"Confirme",value:v.filter(A=>A.statut==="confirmee").length},{name:"Annule",value:v.filter(A=>A.statut==="annulee").length},{name:"Expire",value:v.filter(A=>A.statut==="expiree").length}].filter(A=>A.value>0);c({reservations:y,revenue:j,compagnies:_,status:E})}catch(v){console.error("Error loading chart data:",v)}},m=v=>{const y={en_attente:{color:"bg-warning-light text-warning",icon:yn},confirmee:{color:"bg-success-light text-success",icon:mr},annulee:{color:"bg-error-light text-error",icon:fr}},{color:j,icon:w}=y[v]||y.en_attente;return u.jsxs("span",{className:`inline-flex items-center space-x-1 px-2 py-1 rounded text-xs font-semibold ${j}`,children:[u.jsx(w,{className:"h-3 w-3"}),u.jsx("span",{children:v})]})};return a?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):u.jsxs("div",{className:"page-container",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Dashboard Admin"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Vue d'ensemble de la plateforme Bus Bnin"})]}),u.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[u.jsx("div",{className:"card",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Utilisateurs"}),u.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.totalUsers})]}),u.jsx("div",{className:"p-3 bg-primary-light rounded-lg",children:u.jsx(ms,{className:"h-8 w-8 text-primary"})})]})}),u.jsx("div",{className:"card",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Rservations"}),u.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.totalReservations})]}),u.jsx("div",{className:"p-3 bg-success-light rounded-lg",children:u.jsx(vn,{className:"h-8 w-8 text-success"})})]})}),u.jsx("div",{className:"card",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Trajets"}),u.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.totalTrajets})]}),u.jsx("div",{className:"p-3 bg-warning-light rounded-lg",children:u.jsx(pr,{className:"h-8 w-8 text-warning"})})]})}),u.jsx("div",{className:"card",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Revenu Total"}),u.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[e.totalRevenue.toLocaleString()," FCFA"]})]}),u.jsx("div",{className:"p-3 bg-success-light rounded-lg",children:u.jsx(IE,{className:"h-8 w-8 text-success"})})]})})]}),u.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[u.jsx("div",{className:"card border-l-4 border-warning",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"En attente"}),u.jsx("p",{className:"text-3xl font-bold text-warning",children:e.pendingReservations})]}),u.jsx(yn,{className:"h-10 w-10 text-warning"})]})}),u.jsx("div",{className:"card border-l-4 border-success",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Confirmes"}),u.jsx("p",{className:"text-3xl font-bold text-success",children:e.confirmedReservations})]}),u.jsx(mr,{className:"h-10 w-10 text-success"})]})}),u.jsx("div",{className:"card border-l-4 border-error",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Annules"}),u.jsx("p",{className:"text-3xl font-bold text-error",children:e.canceledReservations})]}),u.jsx(fr,{className:"h-10 w-10 text-error"})]})})]}),u.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[u.jsx(ke,{to:"/admin/trajets",className:"card hover:shadow-lg transition-shadow",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"p-3 bg-primary-light rounded-lg",children:u.jsx(pr,{className:"h-6 w-6 text-primary"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Grer les trajets"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Ajouter, modifier ou supprimer"})]})]})}),u.jsx(ke,{to:"/admin/compagnies",className:"card hover:shadow-lg transition-shadow",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"p-3 bg-success-light rounded-lg",children:u.jsx(wM,{className:"h-6 w-6 text-success"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Grer les compagnies"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Liste des transporteurs"})]})]})}),u.jsx(ke,{to:"/admin/reservations",className:"card hover:shadow-lg transition-shadow",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"p-3 bg-warning-light rounded-lg",children:u.jsx(vn,{className:"h-6 w-6 text-warning"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Grer les rservations"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Voir et modifier"})]})]})}),u.jsx(ke,{to:"/admin/users",className:"card hover:shadow-lg transition-shadow",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"p-3 bg-error-light rounded-lg",children:u.jsx(ms,{className:"h-6 w-6 text-error"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Grer les utilisateurs"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Modifier les rles"})]})]})})]}),u.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 mb-8",children:[u.jsxs("div",{className:"card",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Rservations (7 derniers jours)"}),u.jsx(pG,{data:l.reservations,type:"line"})]}),u.jsxs("div",{className:"card",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Revenus (7 derniers jours)"}),u.jsx(mG,{data:l.revenue})]})]}),u.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 mb-8",children:[u.jsxs("div",{className:"card",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Rservations par compagnie"}),u.jsx(gG,{data:l.compagnies})]}),u.jsxs("div",{className:"card",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Statuts des rservations"}),u.jsx(yG,{data:l.status})]})]}),u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Rservations rcentes"}),u.jsx(ke,{to:"/admin/reservations",className:"text-primary hover:underline text-sm font-medium",children:"Voir tout"})]}),r.length===0?u.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400 py-8",children:"Aucune rservation rcente"}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[u.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Client"}),u.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Trajet"}),u.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Montant"}),u.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Statut"}),u.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Date"})]})}),u.jsx("tbody",{children:r.map(v=>u.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[u.jsxs("td",{className:"py-3 px-4",children:[u.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:v.nom_passager||"N/A"}),u.jsx("p",{className:"text-xs text-gray-500",children:v.telephone_passager})]}),u.jsx("td",{className:"py-3 px-4",children:u.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[v.trajets?.depart,"  ",v.trajets?.arrivee]})}),u.jsx("td",{className:"py-3 px-4",children:u.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[v.montant_total," FCFA"]})}),u.jsx("td",{className:"py-3 px-4",children:m(v.statut)}),u.jsx("td",{className:"py-3 px-4",children:u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:new Date(v.created_at).toLocaleDateString("fr-FR")})})]},v.id))})]})})]})]})}function bG(){const[e,t]=x.useState([]),[r,n]=x.useState([]),[a,i]=x.useState(!0),[l,c]=x.useState(!1),[d,h]=x.useState(null),[p,m]=x.useState(""),[v,y]=x.useState({depart:"",arrivee:"",prix:"",horaires:"",gare:"",compagnie_id:""});x.useEffect(()=>{j()},[]);const j=async()=>{i(!0);try{await Promise.all([w(),_()])}finally{i(!1)}},w=async()=>{const{data:S,error:T}=await ie.from("trajets").select("*, compagnies:compagnie_id(nom)").order("created_at",{ascending:!1});T||t(S||[])},_=async()=>{const{data:S,error:T}=await ie.from("compagnies").select("id, nom").order("nom");T||n(S||[])},E=async S=>{S.preventDefault();const T=v.horaires.split(",").map(z=>z.trim()).filter(z=>z),M={depart:v.depart,arrivee:v.arrivee,prix:parseFloat(v.prix),horaires:T,gare:v.gare||null,compagnie_id:v.compagnie_id||null};try{d?await ie.from("trajets").update(M).eq("id",d.id):await ie.from("trajets").insert(M),await w(),C()}catch(z){console.error("Error saving trajet:",z),alert("Erreur lors de l'enregistrement")}},A=S=>{h(S),y({depart:S.depart,arrivee:S.arrivee,prix:S.prix,horaires:S.horaires?.join(", ")||"",gare:S.gare||"",compagnie_id:S.compagnie_id||""}),c(!0)},P=async S=>{if(confirm("tes-vous sr de vouloir supprimer ce trajet ?"))try{await ie.from("trajets").delete().eq("id",S),await w()}catch(T){console.error("Error deleting trajet:",T),alert("Erreur lors de la suppression")}},C=()=>{y({depart:"",arrivee:"",prix:"",horaires:"",gare:"",compagnie_id:""}),h(null),c(!1)},N=e.filter(S=>S.depart?.toLowerCase().includes(p.toLowerCase())||S.arrivee?.toLowerCase().includes(p.toLowerCase())||S.compagnies?.nom?.toLowerCase().includes(p.toLowerCase()));return u.jsxs("div",{className:"page-container",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Gestion des trajets"}),u.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[e.length," trajet",e.length>1?"s":""," au total"]})]}),u.jsxs("button",{onClick:()=>c(!l),className:"btn-primary flex items-center space-x-2",children:[u.jsx(BE,{className:"h-5 w-5"}),u.jsx("span",{children:"Nouveau trajet"})]})]}),l&&u.jsxs("div",{className:"card mb-8",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:d?"Modifier le trajet":"Ajouter un trajet"}),u.jsxs("form",{onSubmit:E,className:"space-y-4",children:[u.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Dpart *"}),u.jsx("input",{type:"text",value:v.depart,onChange:S=>y({...v,depart:S.target.value}),required:!0,className:"input-field dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Arrive *"}),u.jsx("input",{type:"text",value:v.arrivee,onChange:S=>y({...v,arrivee:S.target.value}),required:!0,className:"input-field dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Prix (FCFA) *"}),u.jsx("input",{type:"number",value:v.prix,onChange:S=>y({...v,prix:S.target.value}),required:!0,min:"0",className:"input-field dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Compagnie"}),u.jsxs("select",{value:v.compagnie_id,onChange:S=>y({...v,compagnie_id:S.target.value}),className:"input-field dark:bg-gray-700 dark:text-white dark:border-gray-600",children:[u.jsx("option",{value:"",children:"Slectionner une compagnie"}),r.map(S=>u.jsx("option",{value:S.id,children:S.nom},S.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Gare"}),u.jsx("input",{type:"text",value:v.gare,onChange:S=>y({...v,gare:S.target.value}),className:"input-field dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Horaires (spars par des virgules)"}),u.jsx("input",{type:"text",value:v.horaires,onChange:S=>y({...v,horaires:S.target.value}),placeholder:"06:00, 09:00, 12:00",className:"input-field dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]}),u.jsxs("div",{className:"flex space-x-3",children:[u.jsx("button",{type:"submit",className:"btn-primary",children:d?"Mettre  jour":"Ajouter"}),u.jsx("button",{type:"button",onClick:C,className:"btn-secondary",children:"Annuler"})]})]})]}),u.jsx("div",{className:"card mb-6",children:u.jsxs("div",{className:"relative",children:[u.jsx(bn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"text",value:p,onChange:S=>m(S.target.value),placeholder:"Rechercher un trajet...",className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})}),a?u.jsx("div",{className:"text-center py-12",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"})}):u.jsx("div",{className:"card overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[u.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Trajet"}),u.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Compagnie"}),u.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Prix"}),u.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Horaires"}),u.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Note"}),u.jsx("th",{className:"text-right py-3 px-4 font-semibold",children:"Actions"})]})}),u.jsx("tbody",{children:N.map(S=>u.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800",children:[u.jsxs("td",{className:"py-3 px-4",children:[u.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[S.depart,"  ",S.arrivee]}),S.gare&&u.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Gare: ",S.gare]})]}),u.jsx("td",{className:"py-3 px-4 text-gray-700 dark:text-gray-300",children:S.compagnies?.nom||"N/A"}),u.jsxs("td",{className:"py-3 px-4 font-semibold text-primary",children:[S.prix," FCFA"]}),u.jsx("td",{className:"py-3 px-4 text-sm text-gray-600 dark:text-gray-400",children:S.horaires?.join(", ")||"N/A"}),u.jsx("td",{className:"py-3 px-4",children:u.jsxs("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:[S.note||"N/A"," (",S.nb_avis||0," avis)"]})}),u.jsx("td",{className:"py-3 px-4",children:u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsx("button",{onClick:()=>A(S),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:u.jsx(kv,{className:"h-4 w-4 text-primary"})}),u.jsx("button",{onClick:()=>P(S.id),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:u.jsx(Sv,{className:"h-4 w-4 text-error"})})]})})]},S.id))})]})})]})}function wG(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,i]=x.useState(!1),[l,c]=x.useState(null),[d,h]=x.useState({nom:"",logo_url:"",telephone:"",adresse:""});x.useEffect(()=>{p()},[]);const p=async()=>{n(!0);const{data:w,error:_}=await ie.from("compagnies").select("*").order("nom");_||t(w||[]),n(!1)},m=async w=>{w.preventDefault();try{l?await ie.from("compagnies").update(d).eq("id",l.id):await ie.from("compagnies").insert(d),await p(),j()}catch(_){console.error("Error saving compagnie:",_),alert("Erreur lors de l'enregistrement")}},v=w=>{c(w),h({nom:w.nom,logo_url:w.logo_url||"",telephone:w.telephone||"",adresse:w.adresse||""}),i(!0)},y=async w=>{if(confirm("tes-vous sr de vouloir supprimer cette compagnie ?"))try{await ie.from("compagnies").delete().eq("id",w),await p()}catch(_){console.error("Error deleting compagnie:",_),alert("Erreur lors de la suppression")}},j=()=>{h({nom:"",logo_url:"",telephone:"",adresse:""}),c(null),i(!1)};return u.jsxs("div",{className:"page-container",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Gestion des compagnies"}),u.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[e.length," compagnie",e.length>1?"s":""," au total"]})]}),u.jsxs("button",{onClick:()=>i(!a),className:"btn-primary flex items-center space-x-2",children:[u.jsx(BE,{className:"h-5 w-5"}),u.jsx("span",{children:"Nouvelle compagnie"})]})]}),a&&u.jsxs("div",{className:"card mb-8",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:l?"Modifier la compagnie":"Ajouter une compagnie"}),u.jsxs("form",{onSubmit:m,className:"space-y-4",children:[u.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Nom *"}),u.jsx("input",{type:"text",value:d.nom,onChange:w=>h({...d,nom:w.target.value}),required:!0,className:"input-field dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Tlphone"}),u.jsx("input",{type:"tel",value:d.telephone,onChange:w=>h({...d,telephone:w.target.value}),className:"input-field dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"URL du logo"}),u.jsx("input",{type:"url",value:d.logo_url,onChange:w=>h({...d,logo_url:w.target.value}),placeholder:"https://...",className:"input-field dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Adresse"}),u.jsx("input",{type:"text",value:d.adresse,onChange:w=>h({...d,adresse:w.target.value}),className:"input-field dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]}),u.jsxs("div",{className:"flex space-x-3",children:[u.jsx("button",{type:"submit",className:"btn-primary",children:l?"Mettre  jour":"Ajouter"}),u.jsx("button",{type:"button",onClick:j,className:"btn-secondary",children:"Annuler"})]})]})]}),r?u.jsx("div",{className:"text-center py-12",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"})}):u.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(w=>u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-12 h-12 bg-primary-light rounded-lg flex items-center justify-center overflow-hidden",children:w.logo_url?u.jsx("img",{src:w.logo_url,alt:w.nom,className:"w-full h-full object-cover"}):u.jsx(Kn,{className:"h-6 w-6 text-primary"})}),u.jsx("div",{children:u.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:w.nom})})]}),u.jsxs("div",{className:"flex space-x-1",children:[u.jsx("button",{onClick:()=>v(w),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:u.jsx(kv,{className:"h-4 w-4 text-primary"})}),u.jsx("button",{onClick:()=>y(w.id),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:u.jsx(Sv,{className:"h-4 w-4 text-error"})})]})]}),u.jsxs("div",{className:"space-y-2 text-sm",children:[w.telephone&&u.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[u.jsx("strong",{children:"Tl:"})," ",w.telephone]}),w.adresse&&u.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[u.jsx("strong",{children:"Adresse:"})," ",w.adresse]}),u.jsxs("p",{className:"text-gray-500 dark:text-gray-500 text-xs",children:["Cre le ",new Date(w.created_at).toLocaleDateString("fr-FR")]})]})]},w.id))})]})}function jG(){const[e,t]=x.useState([]),[r,n]=x.useState([]),[a,i]=x.useState(!0),[l,c]=x.useState(""),[d,h]=x.useState("all"),[p,m]=x.useState("all"),[v,y]=x.useState(""),[j,w]=x.useState("");x.useEffect(()=>{_(),E()},[]);const _=async()=>{i(!0);try{console.log(" Loading all reservations...");const{data:S,error:T}=await ie.from("reservations").select(`
          *,
          trajets(
            depart,
            arrivee,
            compagnies:compagnie_id(nom)
          )
        `).order("created_at",{ascending:!1});if(T)throw console.error(" Error loading reservations:",T),console.error(" Error details:",{message:T.message,details:T.details,hint:T.hint,code:T.code}),T;console.log(" Reservations loaded:",S?.length||0),console.log(" First reservation:",S?.[0]),t(S||[])}catch(S){console.error(" Exception in loadReservations:",S),t([])}finally{i(!1)}},E=async()=>{try{const{data:S,error:T}=await ie.from("compagnies").select("id, nom").order("nom");if(T)throw T;n(S||[])}catch(S){console.error("Error loading compagnies:",S)}},A=async(S,T)=>{try{await ie.from("reservations").update({statut:T,updated_at:new Date().toISOString()}).eq("id",S),await _()}catch(M){console.error("Error updating reservation:",M),alert("Erreur lors de la mise  jour")}},P=S=>{const T={en_attente:{color:"bg-warning-light text-warning",icon:yn,label:"En attente"},confirmee:{color:"bg-success-light text-success",icon:mr,label:"Confirme"},annulee:{color:"bg-error-light text-error",icon:fr,label:"Annule"},expiree:{color:"bg-gray-200 text-gray-700",icon:fr,label:"Expire"}},{color:M,icon:z,label:W}=T[S]||T.en_attente;return u.jsxs("span",{className:`inline-flex items-center space-x-1 px-3 py-1 rounded-full text-sm font-semibold ${M}`,children:[u.jsx(z,{className:"h-4 w-4"}),u.jsx("span",{children:W})]})},C=S=>{const T={pending:{color:"bg-warning-light text-warning",label:"En attente"},approved:{color:"bg-success-light text-success",label:"Pay"},declined:{color:"bg-error-light text-error",label:"Refus"},canceled:{color:"bg-gray-200 text-gray-700",label:"Annul"}},{color:M,label:z}=T[S]||T.pending;return u.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${M}`,children:z})},N=e.filter(S=>{const T=S.nom_passager?.toLowerCase().includes(l.toLowerCase())||S.telephone_passager?.includes(l)||S.trajets?.depart?.toLowerCase().includes(l.toLowerCase())||S.trajets?.arrivee?.toLowerCase().includes(l.toLowerCase()),M=d==="all"||S.statut===d,z=p==="all"||S.trajets?.compagnies?.nom===p;let W=!0;if(v||j){const V=new Date(S.created_at);if(v){const Y=new Date(v);Y.setHours(0,0,0,0),W=W&&V>=Y}if(j){const Y=new Date(j);Y.setHours(23,59,59,999),W=W&&V<=Y}}return T&&M&&z&&W});return u.jsxs("div",{className:"page-container",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Gestion des rservations"}),u.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[e.length," rservation",e.length>1?"s":""," au total"]})]}),u.jsxs("div",{className:"card mb-6",children:[u.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-5 gap-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx(bn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"text",value:l,onChange:S=>c(S.target.value),placeholder:"Rechercher...",className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),u.jsxs("div",{className:"relative",children:[u.jsx(LE,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsxs("select",{value:d,onChange:S=>h(S.target.value),className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600",children:[u.jsx("option",{value:"all",children:"Tous les statuts"}),u.jsx("option",{value:"en_attente",children:"En attente"}),u.jsx("option",{value:"confirmee",children:"Confirme"}),u.jsx("option",{value:"annulee",children:"Annule"}),u.jsx("option",{value:"expiree",children:"Expire"})]})]}),u.jsxs("div",{className:"relative",children:[u.jsx(ku,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"date",value:v,onChange:S=>y(S.target.value),placeholder:"Date dbut",className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),u.jsxs("div",{className:"relative",children:[u.jsx(ku,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"date",value:j,onChange:S=>w(S.target.value),placeholder:"Date fin",className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),u.jsxs("div",{className:"relative",children:[u.jsx(Kn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsxs("select",{value:p,onChange:S=>m(S.target.value),className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600",children:[u.jsx("option",{value:"all",children:"Toutes les compagnies"}),r.map(S=>u.jsx("option",{value:S.nom,children:S.nom},S.id))]})]})]}),(v||j||l||d!=="all"||p!=="all")&&u.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[u.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[N.length," rsultat",N.length>1?"s":""," trouv",N.length>1?"s":""]}),u.jsx("button",{onClick:()=>{c(""),h("all"),m("all"),y(""),w("")},className:"text-sm text-primary hover:text-primary-dark font-medium",children:"Rinitialiser les filtres"})]})]}),a?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-4",children:"Chargement des rservations..."})]}):N.length===0?u.jsxs("div",{className:"card text-center py-12",children:[u.jsx(vn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Aucune rservation trouve"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:l||d!=="all"?"Essayez de modifier vos filtres de recherche":"Les rservations des clients apparatront ici"})]}):u.jsx("div",{className:"space-y-4",children:N.map(S=>u.jsx("div",{className:"card",children:u.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:S.nom_passager}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:S.telephone_passager})]}),u.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[P(S.statut),C(S.statut_paiement)]})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 text-sm",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Compagnie"}),u.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:S.trajets?.compagnies?.nom||"N/A"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Trajet"}),u.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[S.trajets?.depart,"  ",S.trajets?.arrivee]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Horaire"}),u.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:S.horaire})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Places"}),u.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:S.nb_places})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Montant"}),u.jsxs("p",{className:"font-semibold text-primary",children:[S.montant_total," FCFA"]})]})]})]}),S.statut==="en_attente"&&u.jsxs("div",{className:"flex flex-col space-y-2",children:[u.jsx("button",{onClick:()=>A(S.id,"confirmee"),className:"btn-primary text-sm",children:"Confirmer"}),u.jsx("button",{onClick:()=>A(S.id,"annulee"),className:"btn-secondary text-sm",children:"Annuler"})]})]})},S.id))})]})}function _G(){const[e,t]=x.useState([]),[r,n]=x.useState([]),[a,i]=x.useState(!0),[l,c]=x.useState(""),[d,h]=x.useState("all"),[p,m]=x.useState(null),[v,y]=x.useState(!1);x.useEffect(()=>{j(),w()},[]);const j=async()=>{i(!0);try{console.log(" Loading users...");const{data:N,error:S}=await ie.from("profiles").select("*").order("updated_at",{ascending:!1});if(S)throw console.error(" Error loading users:",S),S;console.log(" Users loaded:",N?.length||0),console.log(" First user:",N?.[0]),t(N||[])}catch(N){console.error(" Exception in loadUsers:",N),t([])}finally{i(!1)}},w=async()=>{try{const{data:N,error:S}=await ie.from("compagnies").select("id, nom").order("nom");if(S)throw S;n(N||[])}catch(N){console.error("Error loading compagnies:",N)}},_=async(N,S)=>{try{const{error:T}=await ie.from("profiles").update({admin:S}).eq("id",N);if(T)throw T;await j(),alert("Rle mis  jour avec succs")}catch(T){console.error("Error updating user role:",T),alert("Erreur lors de la mise  jour du rle")}},E=async(N,S)=>{try{console.log(" Updating compagnie:",{userId:N,compagnieId:S});const T=S===""?null:S;console.log(" Update value:",T);const{data:M,error:z}=await ie.from("profiles").update({compagnie_id:T}).eq("id",N).select();if(z)throw console.error(" Supabase error:",z),z;console.log(" Update result:",M),await j(),alert("Compagnie mise  jour avec succs")}catch(T){console.error(" Error updating user compagnie:",T),alert(`Erreur lors de la mise  jour de la compagnie: ${T.message}`)}},A=async N=>{if(confirm("tes-vous sr de vouloir supprimer cet utilisateur ?"))try{const{error:S}=await ie.from("profiles").delete().eq("id",N);if(S)throw S;await j(),alert("Utilisateur supprim avec succs")}catch(S){console.error("Error deleting user:",S),alert("Erreur lors de la suppression. Note: Vous ne pouvez pas supprimer un utilisateur avec des rservations.")}},P=(N,S)=>{let T;N?T={color:"bg-error-light text-error",icon:us,label:"Admin"}:S?T={color:"bg-warning-light text-warning",icon:Kn,label:"Compagnie"}:T={color:"bg-primary-light text-primary",icon:on,label:"Utilisateur"};const{color:M,icon:z,label:W}=T;return u.jsxs("span",{className:`inline-flex items-center space-x-1 px-3 py-1 rounded-full text-sm font-semibold ${M}`,children:[u.jsx(z,{className:"h-4 w-4"}),u.jsx("span",{children:W})]})},C=e.filter(N=>{const S=N.username?.toLowerCase().includes(l.toLowerCase())||N.email?.toLowerCase().includes(l.toLowerCase())||N.full_name?.toLowerCase().includes(l.toLowerCase()),T=d==="all"||d==="admin"&&N.admin||d==="user"&&!N.admin;return S&&T});return u.jsxs("div",{className:"page-container",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Gestion des utilisateurs"}),u.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[e.length," utilisateur",e.length>1?"s":""," au total"]})]}),u.jsxs("div",{className:"card mb-6",children:[u.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx(bn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"text",value:l,onChange:N=>c(N.target.value),placeholder:"Rechercher par nom, email...",className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),u.jsxs("div",{className:"relative",children:[u.jsx(us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsxs("select",{value:d,onChange:N=>h(N.target.value),className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600",children:[u.jsx("option",{value:"all",children:"Tous les rles"}),u.jsx("option",{value:"user",children:"Utilisateurs"}),u.jsx("option",{value:"admin",children:"Administrateurs"})]})]})]}),(l||d!=="all")&&u.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[u.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[C.length," rsultat",C.length>1?"s":""," trouv",C.length>1?"s":""]}),u.jsx("button",{onClick:()=>{c(""),h("all")},className:"text-sm text-primary hover:text-primary-dark font-medium",children:"Rinitialiser les filtres"})]})]}),a?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-4",children:"Chargement des utilisateurs..."})]}):C.length===0?u.jsxs("div",{className:"card text-center py-12",children:[u.jsx(ms,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Aucun utilisateur trouv"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:l||d!=="all"?"Essayez de modifier vos filtres de recherche":"Les utilisateurs inscrits apparatront ici"})]}):u.jsx("div",{className:"grid gap-4",children:C.map(N=>u.jsx("div",{className:"card",children:u.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[N.avatar_url?u.jsx("img",{src:N.avatar_url,alt:N.username,className:"w-12 h-12 rounded-full object-cover"}):u.jsx("div",{className:"w-12 h-12 rounded-full bg-primary-light flex items-center justify-center",children:u.jsx(on,{className:"h-6 w-6 text-primary"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:N.full_name||N.username||"Sans nom"}),u.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[u.jsx(Os,{className:"h-4 w-4"}),u.jsx("span",{children:N.email||"Email non renseign"})]})]})]}),u.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[P(N.admin,N.compagnie_id),N.compagnie_id&&u.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:["ID: ",N.compagnie_id.substring(0,8)]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 text-sm",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Nom d'utilisateur"}),u.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:N.username||"Non dfini"})]}),u.jsxs("div",{children:[u.jsxs("p",{className:"text-gray-600 dark:text-gray-400 flex items-center space-x-1",children:[u.jsx(vn,{className:"h-4 w-4"}),u.jsx("span",{children:"Mis  jour le"})]}),u.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:new Date(N.updated_at).toLocaleDateString("fr-FR")})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"ID"}),u.jsxs("p",{className:"font-mono text-xs text-gray-900 dark:text-white truncate",children:[N.id.substring(0,8),"..."]})]})]})]}),u.jsxs("div",{className:"flex flex-col space-y-2 lg:w-56",children:[u.jsxs("select",{value:N.admin?"admin":"user",onChange:S=>_(N.id,S.target.value==="admin"),className:"input-field text-sm dark:bg-gray-700 dark:text-white dark:border-gray-600",children:[u.jsx("option",{value:"user",children:"Utilisateur"}),u.jsx("option",{value:"admin",children:"Admin"})]}),u.jsxs("select",{value:N.compagnie_id||"",onChange:S=>E(N.id,S.target.value),className:"input-field text-sm dark:bg-gray-700 dark:text-white dark:border-gray-600",disabled:N.admin,children:[u.jsx("option",{value:"",children:"Aucune compagnie"}),r.map(S=>u.jsx("option",{value:S.id,children:S.nom},S.id))]}),u.jsxs("button",{onClick:()=>A(N.id),className:"btn-secondary text-sm flex items-center justify-center space-x-2",children:[u.jsx(Sv,{className:"h-4 w-4"}),u.jsx("span",{children:"Supprimer"})]})]})]})},N.id))}),u.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mt-8",children:[u.jsx("div",{className:"card border-l-4 border-primary",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Total utilisateurs"}),u.jsx("p",{className:"text-3xl font-bold text-primary",children:e.length})]}),u.jsx(ms,{className:"h-10 w-10 text-primary"})]})}),u.jsx("div",{className:"card border-l-4 border-error",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Administrateurs"}),u.jsx("p",{className:"text-3xl font-bold text-error",children:e.filter(N=>N.admin).length})]}),u.jsx(us,{className:"h-10 w-10 text-error"})]})}),u.jsx("div",{className:"card border-l-4 border-success",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Utilisateurs actifs"}),u.jsx("p",{className:"text-3xl font-bold text-success",children:e.filter(N=>!N.admin).length})]}),u.jsx(on,{className:"h-10 w-10 text-success"})]})})]})]})}function kG(){const{session:e}=Jt(),[t,r]=x.useState(null),[n,a]=x.useState({totalTrajets:0,totalReservations:0,revenue:0,confirmedReservations:0,pendingReservations:0,canceledReservations:0}),[i,l]=x.useState([]),[c,d]=x.useState(!0);x.useEffect(()=>{h()},[e]);const h=async()=>{if(e?.user?.id)try{const{data:y,error:j}=await ie.from("profiles").select("compagnie_id, admin, compagnies(id, nom, logo_url, telephone, adresse)").eq("id",e.user.id).single();if(j)throw j;if(y.admin&&!y.compagnie_id)return;r(y.compagnies),y.compagnie_id&&(await p(y.compagnie_id),await m(y.compagnie_id))}catch(y){console.error("Error loading compagnie data:",y)}finally{d(!1)}},p=async y=>{try{const{data:j,error:w}=await ie.from("trajets").select("id").eq("compagnie_id",y);if(w)throw w;const _=j?.map(E=>E.id)||[];if(_.length>0){const{data:E,error:A}=await ie.from("reservations").select("statut, montant_total, statut_paiement").in("trajet_id",_);if(A)throw A;const P=E?.length||0,C=E?.filter(M=>M.statut==="confirmee").length||0,N=E?.filter(M=>M.statut==="en_attente").length||0,S=E?.filter(M=>M.statut==="annulee").length||0,T=E?.filter(M=>M.statut_paiement==="approved").reduce((M,z)=>M+parseFloat(z.montant_total||0),0)||0;a({totalTrajets:j?.length||0,totalReservations:P,revenue:T,confirmedReservations:C,pendingReservations:N,canceledReservations:S})}}catch(j){console.error("Error loading stats:",j)}},m=async y=>{try{const{data:j,error:w}=await ie.from("trajets").select("id").eq("compagnie_id",y);if(w)throw w;const _=j?.map(E=>E.id)||[];if(_.length>0){const{data:E,error:A}=await ie.from("reservations").select(`
            *,
            trajets(depart, arrivee)
          `).in("trajet_id",_).order("created_at",{ascending:!1}).limit(5);if(A)throw A;l(E||[])}}catch(j){console.error("Error loading recent reservations:",j)}},v=y=>{const j={en_attente:{color:"bg-warning-light text-warning",icon:yn,label:"En attente"},confirmee:{color:"bg-success-light text-success",icon:mr,label:"Confirme"},annulee:{color:"bg-error-light text-error",icon:fr,label:"Annule"}},{color:w,icon:_,label:E}=j[y]||j.en_attente;return u.jsxs("span",{className:`inline-flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-semibold ${w}`,children:[u.jsx(_,{className:"h-3 w-3"}),u.jsx("span",{children:E})]})};return c?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t?u.jsxs("div",{className:"page-container",children:[u.jsx("div",{className:"mb-8",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[t.logo_url?u.jsx("img",{src:t.logo_url,alt:t.nom,className:"w-16 h-16 rounded-lg object-cover"}):u.jsx("div",{className:"w-16 h-16 rounded-lg bg-primary-light flex items-center justify-center",children:u.jsx(pr,{className:"h-8 w-8 text-primary"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:t.nom}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Tableau de bord de votre compagnie"})]})]})}),u.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[u.jsx("div",{className:"card border-l-4 border-primary",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Trajets actifs"}),u.jsx("p",{className:"text-3xl font-bold text-primary",children:n.totalTrajets})]}),u.jsx(pr,{className:"h-10 w-10 text-primary"})]})}),u.jsx("div",{className:"card border-l-4 border-success",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Rservations"}),u.jsx("p",{className:"text-3xl font-bold text-success",children:n.totalReservations})]}),u.jsx(vn,{className:"h-10 w-10 text-success"})]})}),u.jsx("div",{className:"card border-l-4 border-warning",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Revenu total"}),u.jsxs("p",{className:"text-3xl font-bold text-warning",children:[n.revenue.toLocaleString()," FCFA"]})]}),u.jsx(IE,{className:"h-10 w-10 text-warning"})]})}),u.jsx("div",{className:"card",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Confirmes"}),u.jsx("p",{className:"text-2xl font-bold text-success",children:n.confirmedReservations})]}),u.jsx(mr,{className:"h-8 w-8 text-success"})]})}),u.jsx("div",{className:"card",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"En attente"}),u.jsx("p",{className:"text-2xl font-bold text-warning",children:n.pendingReservations})]}),u.jsx(yn,{className:"h-8 w-8 text-warning"})]})}),u.jsx("div",{className:"card",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Annules"}),u.jsx("p",{className:"text-2xl font-bold text-error",children:n.canceledReservations})]}),u.jsx(fr,{className:"h-8 w-8 text-error"})]})})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[u.jsx(ke,{to:"/compagnie/trajets",className:"card hover:shadow-lg transition-shadow",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"p-3 bg-primary-light rounded-lg",children:u.jsx(pr,{className:"h-6 w-6 text-primary"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Grer mes trajets"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Voir et modifier les trajets"})]})]})}),u.jsx(ke,{to:"/compagnie/reservations",className:"card hover:shadow-lg transition-shadow",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"p-3 bg-success-light rounded-lg",children:u.jsx(vn,{className:"h-6 w-6 text-success"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Grer les rservations"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Confirmer ou annuler"})]})]})})]}),u.jsxs("div",{className:"card",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Rservations rcentes"}),i.length===0?u.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center py-8",children:"Aucune rservation pour le moment"}):u.jsx("div",{className:"space-y-4",children:i.map(y=>u.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:y.nom_passager}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:y.telephone_passager})]}),v(y.statut)]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Trajet:"}),u.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[y.trajets?.depart,"  ",y.trajets?.arrivee]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Places:"}),u.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:y.nb_places})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Montant:"}),u.jsxs("p",{className:"font-semibold text-primary",children:[y.montant_total," FCFA"]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Date:"}),u.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:new Date(y.created_at).toLocaleDateString("fr-FR")})]})]})]},y.id))})]})]}):u.jsx("div",{className:"page-container",children:u.jsxs("div",{className:"card text-center py-12",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Aucune compagnie assigne"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Contactez un administrateur pour tre assign  une compagnie."})]})})}function SG(){const{session:e}=Jt(),[t,r]=x.useState([]),[n,a]=x.useState(null),[i,l]=x.useState(!0),[c,d]=x.useState("");x.useEffect(()=>{h()},[e]);const h=async()=>{if(e?.user?.id)try{const{data:v,error:y}=await ie.from("profiles").select("compagnie_id").eq("id",e.user.id).single();if(y)throw y;v.compagnie_id&&(a(v.compagnie_id),await p(v.compagnie_id))}catch(v){console.error("Error loading:",v)}finally{l(!1)}},p=async v=>{try{const{data:y,error:j}=await ie.from("trajets").select("*").eq("compagnie_id",v).order("created_at",{ascending:!1});if(j)throw j;r(y||[])}catch(y){console.error("Error loading trajets:",y),r([])}},m=t.filter(v=>v.depart?.toLowerCase().includes(c.toLowerCase())||v.arrivee?.toLowerCase().includes(c.toLowerCase())||v.gare?.toLowerCase().includes(c.toLowerCase()));return i?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n?u.jsxs("div",{className:"page-container",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Trajets de ma compagnie"}),u.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[t.length," trajet",t.length>1?"s":""," disponible",t.length>1?"s":""]})]}),u.jsxs("div",{className:"card mb-6",children:[u.jsxs("div",{className:"relative",children:[u.jsx(bn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"text",value:c,onChange:v=>d(v.target.value),placeholder:"Rechercher un trajet (dpart, arrive, gare)...",className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),c&&u.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[u.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[m.length," rsultat",m.length>1?"s":""," trouv",m.length>1?"s":""]}),u.jsx("button",{onClick:()=>d(""),className:"text-sm text-primary hover:text-primary-dark font-medium",children:"Rinitialiser"})]})]}),m.length===0?u.jsxs("div",{className:"card text-center py-12",children:[u.jsx(pr,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Aucun trajet trouv"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:c?"Essayez de modifier votre recherche":"Les trajets de votre compagnie apparatront ici"})]}):u.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(v=>u.jsxs("div",{className:"card hover:shadow-lg transition-shadow",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"p-2 bg-primary-light rounded-lg",children:u.jsx(pr,{className:"h-5 w-5 text-primary"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:v.depart}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Dpart"})]})]}),u.jsx("div",{className:"text-primary font-bold text-xl",children:""})]}),u.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[u.jsx("div",{className:"p-2 bg-success-light rounded-lg",children:u.jsx(xn,{className:"h-5 w-5 text-success"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:v.arrivee}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Arrive"})]})]}),u.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 space-y-3",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Prix"}),u.jsxs("span",{className:"font-bold text-primary text-lg",children:[v.prix," FCFA"]})]}),v.gare&&u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Gare"}),u.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:v.gare})]}),v.horaires&&u.jsxs("div",{children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2 block",children:"Horaires disponibles"}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[JSON.parse(v.horaires).slice(0,4).map((y,j)=>u.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded text-xs font-semibold text-gray-900 dark:text-white",children:y},j)),JSON.parse(v.horaires).length>4&&u.jsxs("span",{className:"px-2 py-1 text-xs text-gray-600 dark:text-gray-400",children:["+",JSON.parse(v.horaires).length-4]})]})]}),v.note>0&&u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Note"}),u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx("span",{className:"font-semibold text-warning",children:v.note.toFixed(1)}),u.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["(",v.nb_avis," avis)"]})]})]})]})]},v.id))})]}):u.jsx("div",{className:"page-container",children:u.jsxs("div",{className:"card text-center py-12",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Aucune compagnie assigne"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Contactez un administrateur pour tre assign  une compagnie."})]})})}function EG(){const{session:e}=Jt(),[t,r]=x.useState([]),[n,a]=x.useState(null),[i,l]=x.useState(!0),[c,d]=x.useState(""),[h,p]=x.useState("all"),[m,v]=x.useState(""),[y,j]=x.useState("");x.useEffect(()=>{w()},[e]);const w=async()=>{if(e?.user?.id)try{const{data:N,error:S}=await ie.from("profiles").select("compagnie_id").eq("id",e.user.id).single();if(S)throw S;N.compagnie_id&&(a(N.compagnie_id),await _(N.compagnie_id))}catch(N){console.error("Error loading:",N)}finally{l(!1)}},_=async N=>{try{const{data:S,error:T}=await ie.from("trajets").select("id").eq("compagnie_id",N);if(T)throw T;const M=S?.map(z=>z.id)||[];if(M.length>0){const{data:z,error:W}=await ie.from("reservations").select(`
            *,
            trajets(depart, arrivee)
          `).in("trajet_id",M).order("created_at",{ascending:!1});if(W)throw W;r(z||[])}}catch(S){console.error("Error loading reservations:",S),r([])}},E=async(N,S)=>{try{await ie.from("reservations").update({statut:S,updated_at:new Date().toISOString()}).eq("id",N),await w()}catch(T){console.error("Error updating reservation:",T),alert("Erreur lors de la mise  jour")}},A=N=>{const S={en_attente:{color:"bg-warning-light text-warning",icon:yn,label:"En attente"},confirmee:{color:"bg-success-light text-success",icon:mr,label:"Confirme"},annulee:{color:"bg-error-light text-error",icon:fr,label:"Annule"},expiree:{color:"bg-gray-200 text-gray-700",icon:fr,label:"Expire"}},{color:T,icon:M,label:z}=S[N]||S.en_attente;return u.jsxs("span",{className:`inline-flex items-center space-x-1 px-3 py-1 rounded-full text-sm font-semibold ${T}`,children:[u.jsx(M,{className:"h-4 w-4"}),u.jsx("span",{children:z})]})},P=N=>{const S={pending:{color:"bg-warning-light text-warning",label:"En attente"},approved:{color:"bg-success-light text-success",label:"Pay"},declined:{color:"bg-error-light text-error",label:"Refus"},canceled:{color:"bg-gray-200 text-gray-700",label:"Annul"}},{color:T,label:M}=S[N]||S.pending;return u.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${T}`,children:M})},C=t.filter(N=>{const S=N.nom_passager?.toLowerCase().includes(c.toLowerCase())||N.telephone_passager?.includes(c)||N.trajets?.depart?.toLowerCase().includes(c.toLowerCase())||N.trajets?.arrivee?.toLowerCase().includes(c.toLowerCase()),T=h==="all"||N.statut===h;let M=!0;if(m||y){const z=new Date(N.created_at);if(m){const W=new Date(m);W.setHours(0,0,0,0),M=M&&z>=W}if(y){const W=new Date(y);W.setHours(23,59,59,999),M=M&&z<=W}}return S&&T&&M});return i?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n?u.jsxs("div",{className:"page-container",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Rservations de ma compagnie"}),u.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[t.length," rservation",t.length>1?"s":""," au total"]})]}),u.jsxs("div",{className:"card mb-6",children:[u.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx(bn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"text",value:c,onChange:N=>d(N.target.value),placeholder:"Rechercher...",className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),u.jsxs("div",{className:"relative",children:[u.jsx(LE,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsxs("select",{value:h,onChange:N=>p(N.target.value),className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600",children:[u.jsx("option",{value:"all",children:"Tous les statuts"}),u.jsx("option",{value:"en_attente",children:"En attente"}),u.jsx("option",{value:"confirmee",children:"Confirme"}),u.jsx("option",{value:"annulee",children:"Annule"}),u.jsx("option",{value:"expiree",children:"Expire"})]})]}),u.jsxs("div",{className:"relative",children:[u.jsx(ku,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"date",value:m,onChange:N=>v(N.target.value),placeholder:"Date dbut",className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),u.jsxs("div",{className:"relative",children:[u.jsx(ku,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"date",value:y,onChange:N=>j(N.target.value),placeholder:"Date fin",className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]}),(m||y||c||h!=="all")&&u.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[u.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[C.length," rsultat",C.length>1?"s":""," trouv",C.length>1?"s":""]}),u.jsx("button",{onClick:()=>{d(""),p("all"),v(""),j("")},className:"text-sm text-primary hover:text-primary-dark font-medium",children:"Rinitialiser les filtres"})]})]}),C.length===0?u.jsxs("div",{className:"card text-center py-12",children:[u.jsx(vn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Aucune rservation trouve"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:c||h!=="all"?"Essayez de modifier vos filtres de recherche":"Les rservations des clients apparatront ici"})]}):u.jsx("div",{className:"space-y-4",children:C.map(N=>u.jsx("div",{className:"card",children:u.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:N.nom_passager}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:N.telephone_passager})]}),u.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[A(N.statut),P(N.statut_paiement)]})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Trajet"}),u.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[N.trajets?.depart,"  ",N.trajets?.arrivee]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Horaire"}),u.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:N.horaire})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Places"}),u.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:N.nb_places})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Montant"}),u.jsxs("p",{className:"font-semibold text-primary",children:[N.montant_total," FCFA"]})]})]})]}),N.statut==="en_attente"&&u.jsxs("div",{className:"flex flex-col space-y-2",children:[u.jsx("button",{onClick:()=>E(N.id,"confirmee"),className:"btn-primary text-sm",children:"Confirmer"}),u.jsx("button",{onClick:()=>E(N.id,"annulee"),className:"btn-secondary text-sm",children:"Annuler"})]})]})},N.id))})]}):u.jsx("div",{className:"page-container",children:u.jsxs("div",{className:"card text-center py-12",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Aucune compagnie assigne"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Contactez un administrateur pour tre assign  une compagnie."})]})})}function PG(){return u.jsx("div",{className:"min-h-screen flex items-center justify-center px-4",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-9xl font-bold text-primary mb-4",children:"404"}),u.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Page non trouve"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8 max-w-md",children:"Dsol, la page que vous recherchez n'existe pas ou a t dplace."}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[u.jsxs(ke,{to:"/",className:"btn-primary flex items-center justify-center space-x-2",children:[u.jsx(_M,{className:"h-5 w-5"}),u.jsx("span",{children:"Retour  l'accueil"})]}),u.jsxs(ke,{to:"/trajets",className:"btn-outline flex items-center justify-center space-x-2",children:[u.jsx(bn,{className:"h-5 w-5"}),u.jsx("span",{children:"Rechercher des trajets"})]})]})]})})}function Uo({children:e}){const{session:t,loading:r}=Jt();return r?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t?e:u.jsx(Jo,{to:"/login",replace:!0})}function NG(){return u.jsx(LR,{children:u.jsxs(it,{path:"/",element:u.jsx(RM,{}),children:[u.jsx(it,{index:!0,element:u.jsx(IM,{})}),u.jsx(it,{path:"trajets",element:u.jsx(DM,{})}),u.jsx(it,{path:"trajet/:id",element:u.jsx(MM,{})}),u.jsx(it,{path:"compagnies",element:u.jsx(LM,{})}),u.jsx(it,{path:"compagnies/:id",element:u.jsx($M,{})}),u.jsx(it,{path:"login",element:u.jsx(qM,{})}),u.jsx(it,{path:"register",element:u.jsx(WM,{})}),u.jsx(it,{path:"reservation/:id",element:u.jsx(Uo,{children:u.jsx(UM,{})})}),u.jsx(it,{path:"profile",element:u.jsx(Uo,{children:u.jsx(KM,{})})}),u.jsx(it,{path:"reservations",element:u.jsx(Uo,{children:u.jsx(VM,{})})}),u.jsx(it,{path:"favorites",element:u.jsx(Uo,{children:u.jsx(HM,{})})}),u.jsx(it,{path:"payment/:id",element:u.jsx(Uo,{children:u.jsx(zM,{})})}),u.jsx(it,{path:"admin",element:u.jsx(To,{children:u.jsx(xG,{})})}),u.jsx(it,{path:"admin/trajets",element:u.jsx(To,{children:u.jsx(bG,{})})}),u.jsx(it,{path:"admin/compagnies",element:u.jsx(To,{children:u.jsx(wG,{})})}),u.jsx(it,{path:"admin/reservations",element:u.jsx(To,{children:u.jsx(jG,{})})}),u.jsx(it,{path:"admin/users",element:u.jsx(To,{children:u.jsx(_G,{})})}),u.jsx(it,{path:"compagnie",element:u.jsx(yp,{children:u.jsx(kG,{})})}),u.jsx(it,{path:"compagnie/trajets",element:u.jsx(yp,{children:u.jsx(SG,{})})}),u.jsx(it,{path:"compagnie/reservations",element:u.jsx(yp,{children:u.jsx(EG,{})})}),u.jsx(it,{path:"*",element:u.jsx(PG,{})})]})})}qT.createRoot(document.getElementById("root")).render(u.jsx(SS.StrictMode,{children:u.jsx(KR,{children:u.jsx(gM,{children:u.jsx(vM,{children:u.jsx(NG,{})})})})}));
