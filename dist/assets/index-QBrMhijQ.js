function ES(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function un(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function DT(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var a=!1;try{a=this instanceof n}catch{}return a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var op={exports:{}},Ro={},lp={exports:{}},Pe={};var Nw;function MT(){if(Nw)return Pe;Nw=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function y($){return $===null||typeof $!="object"?null:($=m&&$[m]||$["@@iterator"],typeof $=="function"?$:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,b={};function k($,H,ye){this.props=$,this.context=H,this.refs=b,this.updater=ye||v}k.prototype.isReactComponent={},k.prototype.setState=function($,H){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,H,"setState")},k.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function N(){}N.prototype=k.prototype;function A($,H,ye){this.props=$,this.context=H,this.refs=b,this.updater=ye||v}var P=A.prototype=new N;P.constructor=A,j(P,k.prototype),P.isPureReactComponent=!0;var C=Array.isArray,E=Object.prototype.hasOwnProperty,S={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function I($,H,ye){var Ee,je={},Ce=null,Le=null;if(H!=null)for(Ee in H.ref!==void 0&&(Le=H.ref),H.key!==void 0&&(Ce=""+H.key),H)E.call(H,Ee)&&!T.hasOwnProperty(Ee)&&(je[Ee]=H[Ee]);var Re=arguments.length-2;if(Re===1)je.children=ye;else if(1<Re){for(var K=Array(Re),we=0;we<Re;we++)K[we]=arguments[we+2];je.children=K}if($&&$.defaultProps)for(Ee in Re=$.defaultProps,Re)je[Ee]===void 0&&(je[Ee]=Re[Ee]);return{$$typeof:e,type:$,key:Ce,ref:Le,props:je,_owner:S.current}}function M($,H){return{$$typeof:e,type:$.type,key:H,ref:$.ref,props:$.props,_owner:$._owner}}function z($){return typeof $=="object"&&$!==null&&$.$$typeof===e}function W($){var H={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(ye){return H[ye]})}var V=/\/+/g;function Q($,H){return typeof $=="object"&&$!==null&&$.key!=null?W(""+$.key):H.toString(36)}function se($,H,ye,Ee,je){var Ce=typeof $;(Ce==="undefined"||Ce==="boolean")&&($=null);var Le=!1;if($===null)Le=!0;else switch(Ce){case"string":case"number":Le=!0;break;case"object":switch($.$$typeof){case e:case t:Le=!0}}if(Le)return Le=$,je=je(Le),$=Ee===""?"."+Q(Le,0):Ee,C(je)?(ye="",$!=null&&(ye=$.replace(V,"$&/")+"/"),se(je,H,ye,"",function(we){return we})):je!=null&&(z(je)&&(je=M(je,ye+(!je.key||Le&&Le.key===je.key?"":(""+je.key).replace(V,"$&/")+"/")+$)),H.push(je)),1;if(Le=0,Ee=Ee===""?".":Ee+":",C($))for(var Re=0;Re<$.length;Re++){Ce=$[Re];var K=Ee+Q(Ce,Re);Le+=se(Ce,H,ye,K,je)}else if(K=y($),typeof K=="function")for($=K.call($),Re=0;!(Ce=$.next()).done;)Ce=Ce.value,K=Ee+Q(Ce,Re++),Le+=se(Ce,H,ye,K,je);else if(Ce==="object")throw H=String($),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return Le}function Y($,H,ye){if($==null)return $;var Ee=[],je=0;return se($,Ee,"","",function(Ce){return H.call(ye,Ce,je++)}),Ee}function oe($){if($._status===-1){var H=$._result;H=H(),H.then(function(ye){($._status===0||$._status===-1)&&($._status=1,$._result=ye)},function(ye){($._status===0||$._status===-1)&&($._status=2,$._result=ye)}),$._status===-1&&($._status=0,$._result=H)}if($._status===1)return $._result.default;throw $._result}var te={current:null},G={transition:null},ie={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:G,ReactCurrentOwner:S};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Pe.Children={map:Y,forEach:function($,H,ye){Y($,function(){H.apply(this,arguments)},ye)},count:function($){var H=0;return Y($,function(){H++}),H},toArray:function($){return Y($,function(H){return H})||[]},only:function($){if(!z($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Pe.Component=k,Pe.Fragment=r,Pe.Profiler=a,Pe.PureComponent=A,Pe.StrictMode=n,Pe.Suspense=d,Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,Pe.act=ae,Pe.cloneElement=function($,H,ye){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var Ee=j({},$.props),je=$.key,Ce=$.ref,Le=$._owner;if(H!=null){if(H.ref!==void 0&&(Ce=H.ref,Le=S.current),H.key!==void 0&&(je=""+H.key),$.type&&$.type.defaultProps)var Re=$.type.defaultProps;for(K in H)E.call(H,K)&&!T.hasOwnProperty(K)&&(Ee[K]=H[K]===void 0&&Re!==void 0?Re[K]:H[K])}var K=arguments.length-2;if(K===1)Ee.children=ye;else if(1<K){Re=Array(K);for(var we=0;we<K;we++)Re[we]=arguments[we+2];Ee.children=Re}return{$$typeof:e,type:$.type,key:je,ref:Ce,props:Ee,_owner:Le}},Pe.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:i,_context:$},$.Consumer=$},Pe.createElement=I,Pe.createFactory=function($){var H=I.bind(null,$);return H.type=$,H},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function($){return{$$typeof:u,render:$}},Pe.isValidElement=z,Pe.lazy=function($){return{$$typeof:p,_payload:{_status:-1,_result:$},_init:oe}},Pe.memo=function($,H){return{$$typeof:h,type:$,compare:H===void 0?null:H}},Pe.startTransition=function($){var H=G.transition;G.transition={};try{$()}finally{G.transition=H}},Pe.unstable_act=ae,Pe.useCallback=function($,H){return te.current.useCallback($,H)},Pe.useContext=function($){return te.current.useContext($)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function($){return te.current.useDeferredValue($)},Pe.useEffect=function($,H){return te.current.useEffect($,H)},Pe.useId=function(){return te.current.useId()},Pe.useImperativeHandle=function($,H,ye){return te.current.useImperativeHandle($,H,ye)},Pe.useInsertionEffect=function($,H){return te.current.useInsertionEffect($,H)},Pe.useLayoutEffect=function($,H){return te.current.useLayoutEffect($,H)},Pe.useMemo=function($,H){return te.current.useMemo($,H)},Pe.useReducer=function($,H,ye){return te.current.useReducer($,H,ye)},Pe.useRef=function($){return te.current.useRef($)},Pe.useState=function($){return te.current.useState($)},Pe.useSyncExternalStore=function($,H,ye){return te.current.useSyncExternalStore($,H,ye)},Pe.useTransition=function(){return te.current.useTransition()},Pe.version="18.3.1",Pe}var Ew;function Ns(){return Ew||(Ew=1,lp.exports=MT()),lp.exports}var Pw;function LT(){if(Pw)return Ro;Pw=1;var e=Ns(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,h){var p,m={},y=null,v=null;h!==void 0&&(y=""+h),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(v=d.ref);for(p in d)n.call(d,p)&&!i.hasOwnProperty(p)&&(m[p]=d[p]);if(u&&u.defaultProps)for(p in d=u.defaultProps,d)m[p]===void 0&&(m[p]=d[p]);return{$$typeof:t,type:u,key:y,ref:v,props:m,_owner:a.current}}return Ro.Fragment=r,Ro.jsx=l,Ro.jsxs=l,Ro}var Ow;function $T(){return Ow||(Ow=1,op.exports=LT()),op.exports}var c=$T(),x=Ns();const PS=un(x),OS=ES({__proto__:null,default:PS},[x]);var Kc={},cp={exports:{}},dr={},up={exports:{}},dp={};var Aw;function BT(){return Aw||(Aw=1,(function(e){function t(G,ie){var ae=G.length;G.push(ie);e:for(;0<ae;){var $=ae-1>>>1,H=G[$];if(0<a(H,ie))G[$]=ie,G[ae]=H,ae=$;else break e}}function r(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var ie=G[0],ae=G.pop();if(ae!==ie){G[0]=ae;e:for(var $=0,H=G.length,ye=H>>>1;$<ye;){var Ee=2*($+1)-1,je=G[Ee],Ce=Ee+1,Le=G[Ce];if(0>a(je,ae))Ce<H&&0>a(Le,je)?(G[$]=Le,G[Ce]=ae,$=Ce):(G[$]=je,G[Ee]=ae,$=Ee);else if(Ce<H&&0>a(Le,ae))G[$]=Le,G[Ce]=ae,$=Ce;else break e}}return ie}function a(G,ie){var ae=G.sortIndex-ie.sortIndex;return ae!==0?ae:G.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],h=[],p=1,m=null,y=3,v=!1,j=!1,b=!1,k=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(G){for(var ie=r(h);ie!==null;){if(ie.callback===null)n(h);else if(ie.startTime<=G)n(h),ie.sortIndex=ie.expirationTime,t(d,ie);else break;ie=r(h)}}function C(G){if(b=!1,P(G),!j)if(r(d)!==null)j=!0,oe(E);else{var ie=r(h);ie!==null&&te(C,ie.startTime-G)}}function E(G,ie){j=!1,b&&(b=!1,N(I),I=-1),v=!0;var ae=y;try{for(P(ie),m=r(d);m!==null&&(!(m.expirationTime>ie)||G&&!W());){var $=m.callback;if(typeof $=="function"){m.callback=null,y=m.priorityLevel;var H=$(m.expirationTime<=ie);ie=e.unstable_now(),typeof H=="function"?m.callback=H:m===r(d)&&n(d),P(ie)}else n(d);m=r(d)}if(m!==null)var ye=!0;else{var Ee=r(h);Ee!==null&&te(C,Ee.startTime-ie),ye=!1}return ye}finally{m=null,y=ae,v=!1}}var S=!1,T=null,I=-1,M=5,z=-1;function W(){return!(e.unstable_now()-z<M)}function V(){if(T!==null){var G=e.unstable_now();z=G;var ie=!0;try{ie=T(!0,G)}finally{ie?Q():(S=!1,T=null)}}else S=!1}var Q;if(typeof A=="function")Q=function(){A(V)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,Y=se.port2;se.port1.onmessage=V,Q=function(){Y.postMessage(null)}}else Q=function(){k(V,0)};function oe(G){T=G,S||(S=!0,Q())}function te(G,ie){I=k(function(){G(e.unstable_now())},ie)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){j||v||(j=!0,oe(E))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(G){switch(y){case 1:case 2:case 3:var ie=3;break;default:ie=y}var ae=y;y=ie;try{return G()}finally{y=ae}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,ie){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ae=y;y=G;try{return ie()}finally{y=ae}},e.unstable_scheduleCallback=function(G,ie,ae){var $=e.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?$+ae:$):ae=$,G){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=ae+H,G={id:p++,callback:ie,priorityLevel:G,startTime:ae,expirationTime:H,sortIndex:-1},ae>$?(G.sortIndex=ae,t(h,G),r(d)===null&&G===r(h)&&(b?(N(I),I=-1):b=!0,te(C,ae-$))):(G.sortIndex=H,t(d,G),j||v||(j=!0,oe(E))),G},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(G){var ie=y;return function(){var ae=y;y=ie;try{return G.apply(this,arguments)}finally{y=ae}}}})(dp)),dp}var Cw;function FT(){return Cw||(Cw=1,up.exports=BT()),up.exports}var Tw;function UT(){if(Tw)return dr;Tw=1;var e=Ns(),t=FT();function r(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,f=1;f<arguments.length;f++)o+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function i(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(a[s]=o,s=0;s<o.length;s++)n.add(o[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function y(s){return d.call(m,s)?!0:d.call(p,s)?!1:h.test(s)?m[s]=!0:(p[s]=!0,!1)}function v(s,o,f,g){if(f!==null&&f.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return g?!1:f!==null?!f.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function j(s,o,f,g){if(o===null||typeof o>"u"||v(s,o,f,g))return!0;if(g)return!1;if(f!==null)switch(f.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function b(s,o,f,g,w,_,O){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=g,this.attributeNamespace=w,this.mustUseProperty=f,this.propertyName=s,this.type=o,this.sanitizeURL=_,this.removeEmptyString=O}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){k[s]=new b(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];k[o]=new b(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){k[s]=new b(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){k[s]=new b(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){k[s]=new b(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){k[s]=new b(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){k[s]=new b(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){k[s]=new b(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){k[s]=new b(s,5,!1,s.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function A(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(N,A);k[o]=new b(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(N,A);k[o]=new b(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(N,A);k[o]=new b(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){k[s]=new b(s,1,!1,s.toLowerCase(),null,!1,!1)}),k.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){k[s]=new b(s,1,!1,s.toLowerCase(),null,!0,!0)});function P(s,o,f,g){var w=k.hasOwnProperty(o)?k[o]:null;(w!==null?w.type!==0:g||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(j(o,f,w,g)&&(f=null),g||w===null?y(o)&&(f===null?s.removeAttribute(o):s.setAttribute(o,""+f)):w.mustUseProperty?s[w.propertyName]=f===null?w.type===3?!1:"":f:(o=w.attributeName,g=w.attributeNamespace,f===null?s.removeAttribute(o):(w=w.type,f=w===3||w===4&&f===!0?"":""+f,g?s.setAttributeNS(g,o,f):s.setAttribute(o,f))))}var C=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),W=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),G=Symbol.iterator;function ie(s){return s===null||typeof s!="object"?null:(s=G&&s[G]||s["@@iterator"],typeof s=="function"?s:null)}var ae=Object.assign,$;function H(s){if($===void 0)try{throw Error()}catch(f){var o=f.stack.trim().match(/\n( *(at )?)/);$=o&&o[1]||""}return`
`+$+s}var ye=!1;function Ee(s,o){if(!s||ye)return"";ye=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(q){var g=q}Reflect.construct(s,[],o)}else{try{o.call()}catch(q){g=q}s.call(o.prototype)}else{try{throw Error()}catch(q){g=q}s()}}catch(q){if(q&&g&&typeof q.stack=="string"){for(var w=q.stack.split(`
`),_=g.stack.split(`
`),O=w.length-1,R=_.length-1;1<=O&&0<=R&&w[O]!==_[R];)R--;for(;1<=O&&0<=R;O--,R--)if(w[O]!==_[R]){if(O!==1||R!==1)do if(O--,R--,0>R||w[O]!==_[R]){var D=`
`+w[O].replace(" at new "," at ");return s.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",s.displayName)),D}while(1<=O&&0<=R);break}}}finally{ye=!1,Error.prepareStackTrace=f}return(s=s?s.displayName||s.name:"")?H(s):""}function je(s){switch(s.tag){case 5:return H(s.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return s=Ee(s.type,!1),s;case 11:return s=Ee(s.type.render,!1),s;case 1:return s=Ee(s.type,!0),s;default:return""}}function Ce(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case T:return"Fragment";case S:return"Portal";case M:return"Profiler";case I:return"StrictMode";case Q:return"Suspense";case se:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case W:return(s.displayName||"Context")+".Consumer";case z:return(s._context.displayName||"Context")+".Provider";case V:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Y:return o=s.displayName||null,o!==null?o:Ce(s.type)||"Memo";case oe:o=s._payload,s=s._init;try{return Ce(s(o))}catch{}}return null}function Le(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(o);case 8:return o===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Re(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function K(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function we(s){var o=K(s)?"checked":"value",f=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),g=""+s[o];if(!s.hasOwnProperty(o)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var w=f.get,_=f.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return w.call(this)},set:function(O){g=""+O,_.call(this,O)}}),Object.defineProperty(s,o,{enumerable:f.enumerable}),{getValue:function(){return g},setValue:function(O){g=""+O},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Oe(s){s._valueTracker||(s._valueTracker=we(s))}function ee(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var f=o.getValue(),g="";return s&&(g=K(s)?s.checked?"true":"false":s.value),s=g,s!==f?(o.setValue(s),!0):!1}function xt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function $e(s,o){var f=o.checked;return ae({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??s._wrapperState.initialChecked})}function Ft(s,o){var f=o.defaultValue==null?"":o.defaultValue,g=o.checked!=null?o.checked:o.defaultChecked;f=Re(o.value!=null?o.value:f),s._wrapperState={initialChecked:g,initialValue:f,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Ut(s,o){o=o.checked,o!=null&&P(s,"checked",o,!1)}function Hr(s,o){Ut(s,o);var f=Re(o.value),g=o.type;if(f!=null)g==="number"?(f===0&&s.value===""||s.value!=f)&&(s.value=""+f):s.value!==""+f&&(s.value=""+f);else if(g==="submit"||g==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?gf(s,o.type,f):o.hasOwnProperty("defaultValue")&&gf(s,o.type,Re(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Vs(s,o,f){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var g=o.type;if(!(g!=="submit"&&g!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,f||o===s.value||(s.value=o),s.defaultValue=o}f=s.name,f!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,f!==""&&(s.name=f)}function gf(s,o,f){(o!=="number"||xt(s.ownerDocument)!==s)&&(f==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+f&&(s.defaultValue=""+f))}var Hs=Array.isArray;function Oi(s,o,f,g){if(s=s.options,o){o={};for(var w=0;w<f.length;w++)o["$"+f[w]]=!0;for(f=0;f<s.length;f++)w=o.hasOwnProperty("$"+s[f].value),s[f].selected!==w&&(s[f].selected=w),w&&g&&(s[f].defaultSelected=!0)}else{for(f=""+Re(f),o=null,w=0;w<s.length;w++){if(s[w].value===f){s[w].selected=!0,g&&(s[w].defaultSelected=!0);return}o!==null||s[w].disabled||(o=s[w])}o!==null&&(o.selected=!0)}}function vf(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(r(91));return ae({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function M0(s,o){var f=o.value;if(f==null){if(f=o.children,o=o.defaultValue,f!=null){if(o!=null)throw Error(r(92));if(Hs(f)){if(1<f.length)throw Error(r(93));f=f[0]}o=f}o==null&&(o=""),f=o}s._wrapperState={initialValue:Re(f)}}function L0(s,o){var f=Re(o.value),g=Re(o.defaultValue);f!=null&&(f=""+f,f!==s.value&&(s.value=f),o.defaultValue==null&&s.defaultValue!==f&&(s.defaultValue=f)),g!=null&&(s.defaultValue=""+g)}function $0(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function B0(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yf(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?B0(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Ll,F0=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,f,g,w){MSApp.execUnsafeLocalFunction(function(){return s(o,f,g,w)})}:s})(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Ll=Ll||document.createElement("div"),Ll.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Ll.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function Gs(s,o){if(o){var f=s.firstChild;if(f&&f===s.lastChild&&f.nodeType===3){f.nodeValue=o;return}}s.textContent=o}var Ys={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},BA=["Webkit","ms","Moz","O"];Object.keys(Ys).forEach(function(s){BA.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),Ys[o]=Ys[s]})});function U0(s,o,f){return o==null||typeof o=="boolean"||o===""?"":f||typeof o!="number"||o===0||Ys.hasOwnProperty(s)&&Ys[s]?(""+o).trim():o+"px"}function z0(s,o){s=s.style;for(var f in o)if(o.hasOwnProperty(f)){var g=f.indexOf("--")===0,w=U0(f,o[f],g);f==="float"&&(f="cssFloat"),g?s.setProperty(f,w):s[f]=w}}var FA=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xf(s,o){if(o){if(FA[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(r(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(r(61))}if(o.style!=null&&typeof o.style!="object")throw Error(r(62))}}function bf(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wf=null;function jf(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var kf=null,Ai=null,Ci=null;function q0(s){if(s=yo(s)){if(typeof kf!="function")throw Error(r(280));var o=s.stateNode;o&&(o=sc(o),kf(s.stateNode,s.type,o))}}function W0(s){Ai?Ci?Ci.push(s):Ci=[s]:Ai=s}function K0(){if(Ai){var s=Ai,o=Ci;if(Ci=Ai=null,q0(s),o)for(s=0;s<o.length;s++)q0(o[s])}}function V0(s,o){return s(o)}function H0(){}var _f=!1;function G0(s,o,f){if(_f)return s(o,f);_f=!0;try{return V0(s,o,f)}finally{_f=!1,(Ai!==null||Ci!==null)&&(H0(),K0())}}function Xs(s,o){var f=s.stateNode;if(f===null)return null;var g=sc(f);if(g===null)return null;f=g[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(f&&typeof f!="function")throw Error(r(231,o,typeof f));return f}var Sf=!1;if(u)try{var Js={};Object.defineProperty(Js,"passive",{get:function(){Sf=!0}}),window.addEventListener("test",Js,Js),window.removeEventListener("test",Js,Js)}catch{Sf=!1}function UA(s,o,f,g,w,_,O,R,D){var q=Array.prototype.slice.call(arguments,3);try{o.apply(f,q)}catch(J){this.onError(J)}}var Qs=!1,$l=null,Bl=!1,Nf=null,zA={onError:function(s){Qs=!0,$l=s}};function qA(s,o,f,g,w,_,O,R,D){Qs=!1,$l=null,UA.apply(zA,arguments)}function WA(s,o,f,g,w,_,O,R,D){if(qA.apply(this,arguments),Qs){if(Qs){var q=$l;Qs=!1,$l=null}else throw Error(r(198));Bl||(Bl=!0,Nf=q)}}function Ua(s){var o=s,f=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(f=o.return),s=o.return;while(s)}return o.tag===3?f:null}function Y0(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function X0(s){if(Ua(s)!==s)throw Error(r(188))}function KA(s){var o=s.alternate;if(!o){if(o=Ua(s),o===null)throw Error(r(188));return o!==s?null:s}for(var f=s,g=o;;){var w=f.return;if(w===null)break;var _=w.alternate;if(_===null){if(g=w.return,g!==null){f=g;continue}break}if(w.child===_.child){for(_=w.child;_;){if(_===f)return X0(w),s;if(_===g)return X0(w),o;_=_.sibling}throw Error(r(188))}if(f.return!==g.return)f=w,g=_;else{for(var O=!1,R=w.child;R;){if(R===f){O=!0,f=w,g=_;break}if(R===g){O=!0,g=w,f=_;break}R=R.sibling}if(!O){for(R=_.child;R;){if(R===f){O=!0,f=_,g=w;break}if(R===g){O=!0,g=_,f=w;break}R=R.sibling}if(!O)throw Error(r(189))}}if(f.alternate!==g)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?s:o}function J0(s){return s=KA(s),s!==null?Q0(s):null}function Q0(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=Q0(s);if(o!==null)return o;s=s.sibling}return null}var Z0=t.unstable_scheduleCallback,ex=t.unstable_cancelCallback,VA=t.unstable_shouldYield,HA=t.unstable_requestPaint,ut=t.unstable_now,GA=t.unstable_getCurrentPriorityLevel,Ef=t.unstable_ImmediatePriority,tx=t.unstable_UserBlockingPriority,Fl=t.unstable_NormalPriority,YA=t.unstable_LowPriority,rx=t.unstable_IdlePriority,Ul=null,fn=null;function XA(s){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(Ul,s,void 0,(s.current.flags&128)===128)}catch{}}var Gr=Math.clz32?Math.clz32:ZA,JA=Math.log,QA=Math.LN2;function ZA(s){return s>>>=0,s===0?32:31-(JA(s)/QA|0)|0}var zl=64,ql=4194304;function Zs(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Wl(s,o){var f=s.pendingLanes;if(f===0)return 0;var g=0,w=s.suspendedLanes,_=s.pingedLanes,O=f&268435455;if(O!==0){var R=O&~w;R!==0?g=Zs(R):(_&=O,_!==0&&(g=Zs(_)))}else O=f&~w,O!==0?g=Zs(O):_!==0&&(g=Zs(_));if(g===0)return 0;if(o!==0&&o!==g&&(o&w)===0&&(w=g&-g,_=o&-o,w>=_||w===16&&(_&4194240)!==0))return o;if((g&4)!==0&&(g|=f&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=g;0<o;)f=31-Gr(o),w=1<<f,g|=s[f],o&=~w;return g}function eC(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tC(s,o){for(var f=s.suspendedLanes,g=s.pingedLanes,w=s.expirationTimes,_=s.pendingLanes;0<_;){var O=31-Gr(_),R=1<<O,D=w[O];D===-1?((R&f)===0||(R&g)!==0)&&(w[O]=eC(R,o)):D<=o&&(s.expiredLanes|=R),_&=~R}}function Pf(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function nx(){var s=zl;return zl<<=1,(zl&4194240)===0&&(zl=64),s}function Of(s){for(var o=[],f=0;31>f;f++)o.push(s);return o}function eo(s,o,f){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-Gr(o),s[o]=f}function rC(s,o){var f=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var g=s.eventTimes;for(s=s.expirationTimes;0<f;){var w=31-Gr(f),_=1<<w;o[w]=0,g[w]=-1,s[w]=-1,f&=~_}}function Af(s,o){var f=s.entangledLanes|=o;for(s=s.entanglements;f;){var g=31-Gr(f),w=1<<g;w&o|s[g]&o&&(s[g]|=o),f&=~w}}var Be=0;function ax(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var ix,Cf,sx,ox,lx,Tf=!1,Kl=[],ia=null,sa=null,oa=null,to=new Map,ro=new Map,la=[],nC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cx(s,o){switch(s){case"focusin":case"focusout":ia=null;break;case"dragenter":case"dragleave":sa=null;break;case"mouseover":case"mouseout":oa=null;break;case"pointerover":case"pointerout":to.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ro.delete(o.pointerId)}}function no(s,o,f,g,w,_){return s===null||s.nativeEvent!==_?(s={blockedOn:o,domEventName:f,eventSystemFlags:g,nativeEvent:_,targetContainers:[w]},o!==null&&(o=yo(o),o!==null&&Cf(o)),s):(s.eventSystemFlags|=g,o=s.targetContainers,w!==null&&o.indexOf(w)===-1&&o.push(w),s)}function aC(s,o,f,g,w){switch(o){case"focusin":return ia=no(ia,s,o,f,g,w),!0;case"dragenter":return sa=no(sa,s,o,f,g,w),!0;case"mouseover":return oa=no(oa,s,o,f,g,w),!0;case"pointerover":var _=w.pointerId;return to.set(_,no(to.get(_)||null,s,o,f,g,w)),!0;case"gotpointercapture":return _=w.pointerId,ro.set(_,no(ro.get(_)||null,s,o,f,g,w)),!0}return!1}function ux(s){var o=za(s.target);if(o!==null){var f=Ua(o);if(f!==null){if(o=f.tag,o===13){if(o=Y0(f),o!==null){s.blockedOn=o,lx(s.priority,function(){sx(f)});return}}else if(o===3&&f.stateNode.current.memoizedState.isDehydrated){s.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Vl(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var f=If(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(f===null){f=s.nativeEvent;var g=new f.constructor(f.type,f);wf=g,f.target.dispatchEvent(g),wf=null}else return o=yo(f),o!==null&&Cf(o),s.blockedOn=f,!1;o.shift()}return!0}function dx(s,o,f){Vl(s)&&f.delete(o)}function iC(){Tf=!1,ia!==null&&Vl(ia)&&(ia=null),sa!==null&&Vl(sa)&&(sa=null),oa!==null&&Vl(oa)&&(oa=null),to.forEach(dx),ro.forEach(dx)}function ao(s,o){s.blockedOn===o&&(s.blockedOn=null,Tf||(Tf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,iC)))}function io(s){function o(w){return ao(w,s)}if(0<Kl.length){ao(Kl[0],s);for(var f=1;f<Kl.length;f++){var g=Kl[f];g.blockedOn===s&&(g.blockedOn=null)}}for(ia!==null&&ao(ia,s),sa!==null&&ao(sa,s),oa!==null&&ao(oa,s),to.forEach(o),ro.forEach(o),f=0;f<la.length;f++)g=la[f],g.blockedOn===s&&(g.blockedOn=null);for(;0<la.length&&(f=la[0],f.blockedOn===null);)ux(f),f.blockedOn===null&&la.shift()}var Ti=C.ReactCurrentBatchConfig,Hl=!0;function sC(s,o,f,g){var w=Be,_=Ti.transition;Ti.transition=null;try{Be=1,Rf(s,o,f,g)}finally{Be=w,Ti.transition=_}}function oC(s,o,f,g){var w=Be,_=Ti.transition;Ti.transition=null;try{Be=4,Rf(s,o,f,g)}finally{Be=w,Ti.transition=_}}function Rf(s,o,f,g){if(Hl){var w=If(s,o,f,g);if(w===null)Jf(s,o,g,Gl,f),cx(s,g);else if(aC(w,s,o,f,g))g.stopPropagation();else if(cx(s,g),o&4&&-1<nC.indexOf(s)){for(;w!==null;){var _=yo(w);if(_!==null&&ix(_),_=If(s,o,f,g),_===null&&Jf(s,o,g,Gl,f),_===w)break;w=_}w!==null&&g.stopPropagation()}else Jf(s,o,g,null,f)}}var Gl=null;function If(s,o,f,g){if(Gl=null,s=jf(g),s=za(s),s!==null)if(o=Ua(s),o===null)s=null;else if(f=o.tag,f===13){if(s=Y0(o),s!==null)return s;s=null}else if(f===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Gl=s,null}function fx(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(GA()){case Ef:return 1;case tx:return 4;case Fl:case YA:return 16;case rx:return 536870912;default:return 16}default:return 16}}var ca=null,Df=null,Yl=null;function hx(){if(Yl)return Yl;var s,o=Df,f=o.length,g,w="value"in ca?ca.value:ca.textContent,_=w.length;for(s=0;s<f&&o[s]===w[s];s++);var O=f-s;for(g=1;g<=O&&o[f-g]===w[_-g];g++);return Yl=w.slice(s,1<g?1-g:void 0)}function Xl(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Jl(){return!0}function px(){return!1}function vr(s){function o(f,g,w,_,O){this._reactName=f,this._targetInst=w,this.type=g,this.nativeEvent=_,this.target=O,this.currentTarget=null;for(var R in s)s.hasOwnProperty(R)&&(f=s[R],this[R]=f?f(_):_[R]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Jl:px,this.isPropagationStopped=px,this}return ae(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Jl)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Jl)},persist:function(){},isPersistent:Jl}),o}var Ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mf=vr(Ri),so=ae({},Ri,{view:0,detail:0}),lC=vr(so),Lf,$f,oo,Ql=ae({},so,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ff,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==oo&&(oo&&s.type==="mousemove"?(Lf=s.screenX-oo.screenX,$f=s.screenY-oo.screenY):$f=Lf=0,oo=s),Lf)},movementY:function(s){return"movementY"in s?s.movementY:$f}}),mx=vr(Ql),cC=ae({},Ql,{dataTransfer:0}),uC=vr(cC),dC=ae({},so,{relatedTarget:0}),Bf=vr(dC),fC=ae({},Ri,{animationName:0,elapsedTime:0,pseudoElement:0}),hC=vr(fC),pC=ae({},Ri,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),mC=vr(pC),gC=ae({},Ri,{data:0}),gx=vr(gC),vC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bC(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=xC[s])?!!o[s]:!1}function Ff(){return bC}var wC=ae({},so,{key:function(s){if(s.key){var o=vC[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Xl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?yC[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ff,charCode:function(s){return s.type==="keypress"?Xl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Xl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),jC=vr(wC),kC=ae({},Ql,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vx=vr(kC),_C=ae({},so,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ff}),SC=vr(_C),NC=ae({},Ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),EC=vr(NC),PC=ae({},Ql,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),OC=vr(PC),AC=[9,13,27,32],Uf=u&&"CompositionEvent"in window,lo=null;u&&"documentMode"in document&&(lo=document.documentMode);var CC=u&&"TextEvent"in window&&!lo,yx=u&&(!Uf||lo&&8<lo&&11>=lo),xx=" ",bx=!1;function wx(s,o){switch(s){case"keyup":return AC.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jx(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ii=!1;function TC(s,o){switch(s){case"compositionend":return jx(o);case"keypress":return o.which!==32?null:(bx=!0,xx);case"textInput":return s=o.data,s===xx&&bx?null:s;default:return null}}function RC(s,o){if(Ii)return s==="compositionend"||!Uf&&wx(s,o)?(s=hx(),Yl=Df=ca=null,Ii=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return yx&&o.locale!=="ko"?null:o.data;default:return null}}var IC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kx(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!IC[s.type]:o==="textarea"}function _x(s,o,f,g){W0(g),o=nc(o,"onChange"),0<o.length&&(f=new Mf("onChange","change",null,f,g),s.push({event:f,listeners:o}))}var co=null,uo=null;function DC(s){zx(s,0)}function Zl(s){var o=Bi(s);if(ee(o))return s}function MC(s,o){if(s==="change")return o}var Sx=!1;if(u){var zf;if(u){var qf="oninput"in document;if(!qf){var Nx=document.createElement("div");Nx.setAttribute("oninput","return;"),qf=typeof Nx.oninput=="function"}zf=qf}else zf=!1;Sx=zf&&(!document.documentMode||9<document.documentMode)}function Ex(){co&&(co.detachEvent("onpropertychange",Px),uo=co=null)}function Px(s){if(s.propertyName==="value"&&Zl(uo)){var o=[];_x(o,uo,s,jf(s)),G0(DC,o)}}function LC(s,o,f){s==="focusin"?(Ex(),co=o,uo=f,co.attachEvent("onpropertychange",Px)):s==="focusout"&&Ex()}function $C(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Zl(uo)}function BC(s,o){if(s==="click")return Zl(o)}function FC(s,o){if(s==="input"||s==="change")return Zl(o)}function UC(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Yr=typeof Object.is=="function"?Object.is:UC;function fo(s,o){if(Yr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var f=Object.keys(s),g=Object.keys(o);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var w=f[g];if(!d.call(o,w)||!Yr(s[w],o[w]))return!1}return!0}function Ox(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ax(s,o){var f=Ox(s);s=0;for(var g;f;){if(f.nodeType===3){if(g=s+f.textContent.length,s<=o&&g>=o)return{node:f,offset:o-s};s=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Ox(f)}}function Cx(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Cx(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Tx(){for(var s=window,o=xt();o instanceof s.HTMLIFrameElement;){try{var f=typeof o.contentWindow.location.href=="string"}catch{f=!1}if(f)s=o.contentWindow;else break;o=xt(s.document)}return o}function Wf(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function zC(s){var o=Tx(),f=s.focusedElem,g=s.selectionRange;if(o!==f&&f&&f.ownerDocument&&Cx(f.ownerDocument.documentElement,f)){if(g!==null&&Wf(f)){if(o=g.start,s=g.end,s===void 0&&(s=o),"selectionStart"in f)f.selectionStart=o,f.selectionEnd=Math.min(s,f.value.length);else if(s=(o=f.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var w=f.textContent.length,_=Math.min(g.start,w);g=g.end===void 0?_:Math.min(g.end,w),!s.extend&&_>g&&(w=g,g=_,_=w),w=Ax(f,_);var O=Ax(f,g);w&&O&&(s.rangeCount!==1||s.anchorNode!==w.node||s.anchorOffset!==w.offset||s.focusNode!==O.node||s.focusOffset!==O.offset)&&(o=o.createRange(),o.setStart(w.node,w.offset),s.removeAllRanges(),_>g?(s.addRange(o),s.extend(O.node,O.offset)):(o.setEnd(O.node,O.offset),s.addRange(o)))}}for(o=[],s=f;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<o.length;f++)s=o[f],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var qC=u&&"documentMode"in document&&11>=document.documentMode,Di=null,Kf=null,ho=null,Vf=!1;function Rx(s,o,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Vf||Di==null||Di!==xt(g)||(g=Di,"selectionStart"in g&&Wf(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),ho&&fo(ho,g)||(ho=g,g=nc(Kf,"onSelect"),0<g.length&&(o=new Mf("onSelect","select",null,o,f),s.push({event:o,listeners:g}),o.target=Di)))}function ec(s,o){var f={};return f[s.toLowerCase()]=o.toLowerCase(),f["Webkit"+s]="webkit"+o,f["Moz"+s]="moz"+o,f}var Mi={animationend:ec("Animation","AnimationEnd"),animationiteration:ec("Animation","AnimationIteration"),animationstart:ec("Animation","AnimationStart"),transitionend:ec("Transition","TransitionEnd")},Hf={},Ix={};u&&(Ix=document.createElement("div").style,"AnimationEvent"in window||(delete Mi.animationend.animation,delete Mi.animationiteration.animation,delete Mi.animationstart.animation),"TransitionEvent"in window||delete Mi.transitionend.transition);function tc(s){if(Hf[s])return Hf[s];if(!Mi[s])return s;var o=Mi[s],f;for(f in o)if(o.hasOwnProperty(f)&&f in Ix)return Hf[s]=o[f];return s}var Dx=tc("animationend"),Mx=tc("animationiteration"),Lx=tc("animationstart"),$x=tc("transitionend"),Bx=new Map,Fx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ua(s,o){Bx.set(s,o),i(o,[s])}for(var Gf=0;Gf<Fx.length;Gf++){var Yf=Fx[Gf],WC=Yf.toLowerCase(),KC=Yf[0].toUpperCase()+Yf.slice(1);ua(WC,"on"+KC)}ua(Dx,"onAnimationEnd"),ua(Mx,"onAnimationIteration"),ua(Lx,"onAnimationStart"),ua("dblclick","onDoubleClick"),ua("focusin","onFocus"),ua("focusout","onBlur"),ua($x,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VC=new Set("cancel close invalid load scroll toggle".split(" ").concat(po));function Ux(s,o,f){var g=s.type||"unknown-event";s.currentTarget=f,WA(g,o,void 0,s),s.currentTarget=null}function zx(s,o){o=(o&4)!==0;for(var f=0;f<s.length;f++){var g=s[f],w=g.event;g=g.listeners;e:{var _=void 0;if(o)for(var O=g.length-1;0<=O;O--){var R=g[O],D=R.instance,q=R.currentTarget;if(R=R.listener,D!==_&&w.isPropagationStopped())break e;Ux(w,R,q),_=D}else for(O=0;O<g.length;O++){if(R=g[O],D=R.instance,q=R.currentTarget,R=R.listener,D!==_&&w.isPropagationStopped())break e;Ux(w,R,q),_=D}}}if(Bl)throw s=Nf,Bl=!1,Nf=null,s}function Ge(s,o){var f=o[nh];f===void 0&&(f=o[nh]=new Set);var g=s+"__bubble";f.has(g)||(qx(o,s,2,!1),f.add(g))}function Xf(s,o,f){var g=0;o&&(g|=4),qx(f,s,g,o)}var rc="_reactListening"+Math.random().toString(36).slice(2);function mo(s){if(!s[rc]){s[rc]=!0,n.forEach(function(f){f!=="selectionchange"&&(VC.has(f)||Xf(f,!1,s),Xf(f,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[rc]||(o[rc]=!0,Xf("selectionchange",!1,o))}}function qx(s,o,f,g){switch(fx(o)){case 1:var w=sC;break;case 4:w=oC;break;default:w=Rf}f=w.bind(null,o,f,s),w=void 0,!Sf||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(w=!0),g?w!==void 0?s.addEventListener(o,f,{capture:!0,passive:w}):s.addEventListener(o,f,!0):w!==void 0?s.addEventListener(o,f,{passive:w}):s.addEventListener(o,f,!1)}function Jf(s,o,f,g,w){var _=g;if((o&1)===0&&(o&2)===0&&g!==null)e:for(;;){if(g===null)return;var O=g.tag;if(O===3||O===4){var R=g.stateNode.containerInfo;if(R===w||R.nodeType===8&&R.parentNode===w)break;if(O===4)for(O=g.return;O!==null;){var D=O.tag;if((D===3||D===4)&&(D=O.stateNode.containerInfo,D===w||D.nodeType===8&&D.parentNode===w))return;O=O.return}for(;R!==null;){if(O=za(R),O===null)return;if(D=O.tag,D===5||D===6){g=_=O;continue e}R=R.parentNode}}g=g.return}G0(function(){var q=_,J=jf(f),Z=[];e:{var X=Bx.get(s);if(X!==void 0){var le=Mf,de=s;switch(s){case"keypress":if(Xl(f)===0)break e;case"keydown":case"keyup":le=jC;break;case"focusin":de="focus",le=Bf;break;case"focusout":de="blur",le=Bf;break;case"beforeblur":case"afterblur":le=Bf;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=mx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=uC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=SC;break;case Dx:case Mx:case Lx:le=hC;break;case $x:le=EC;break;case"scroll":le=lC;break;case"wheel":le=OC;break;case"copy":case"cut":case"paste":le=mC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=vx}var pe=(o&4)!==0,dt=!pe&&s==="scroll",B=pe?X!==null?X+"Capture":null:X;pe=[];for(var L=q,U;L!==null;){U=L;var re=U.stateNode;if(U.tag===5&&re!==null&&(U=re,B!==null&&(re=Xs(L,B),re!=null&&pe.push(go(L,re,U)))),dt)break;L=L.return}0<pe.length&&(X=new le(X,de,null,f,J),Z.push({event:X,listeners:pe}))}}if((o&7)===0){e:{if(X=s==="mouseover"||s==="pointerover",le=s==="mouseout"||s==="pointerout",X&&f!==wf&&(de=f.relatedTarget||f.fromElement)&&(za(de)||de[On]))break e;if((le||X)&&(X=J.window===J?J:(X=J.ownerDocument)?X.defaultView||X.parentWindow:window,le?(de=f.relatedTarget||f.toElement,le=q,de=de?za(de):null,de!==null&&(dt=Ua(de),de!==dt||de.tag!==5&&de.tag!==6)&&(de=null)):(le=null,de=q),le!==de)){if(pe=mx,re="onMouseLeave",B="onMouseEnter",L="mouse",(s==="pointerout"||s==="pointerover")&&(pe=vx,re="onPointerLeave",B="onPointerEnter",L="pointer"),dt=le==null?X:Bi(le),U=de==null?X:Bi(de),X=new pe(re,L+"leave",le,f,J),X.target=dt,X.relatedTarget=U,re=null,za(J)===q&&(pe=new pe(B,L+"enter",de,f,J),pe.target=U,pe.relatedTarget=dt,re=pe),dt=re,le&&de)t:{for(pe=le,B=de,L=0,U=pe;U;U=Li(U))L++;for(U=0,re=B;re;re=Li(re))U++;for(;0<L-U;)pe=Li(pe),L--;for(;0<U-L;)B=Li(B),U--;for(;L--;){if(pe===B||B!==null&&pe===B.alternate)break t;pe=Li(pe),B=Li(B)}pe=null}else pe=null;le!==null&&Wx(Z,X,le,pe,!1),de!==null&&dt!==null&&Wx(Z,dt,de,pe,!0)}}e:{if(X=q?Bi(q):window,le=X.nodeName&&X.nodeName.toLowerCase(),le==="select"||le==="input"&&X.type==="file")var me=MC;else if(kx(X))if(Sx)me=FC;else{me=$C;var xe=LC}else(le=X.nodeName)&&le.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(me=BC);if(me&&(me=me(s,q))){_x(Z,me,f,J);break e}xe&&xe(s,X,q),s==="focusout"&&(xe=X._wrapperState)&&xe.controlled&&X.type==="number"&&gf(X,"number",X.value)}switch(xe=q?Bi(q):window,s){case"focusin":(kx(xe)||xe.contentEditable==="true")&&(Di=xe,Kf=q,ho=null);break;case"focusout":ho=Kf=Di=null;break;case"mousedown":Vf=!0;break;case"contextmenu":case"mouseup":case"dragend":Vf=!1,Rx(Z,f,J);break;case"selectionchange":if(qC)break;case"keydown":case"keyup":Rx(Z,f,J)}var be;if(Uf)e:{switch(s){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Ii?wx(s,f)&&(Se="onCompositionEnd"):s==="keydown"&&f.keyCode===229&&(Se="onCompositionStart");Se&&(yx&&f.locale!=="ko"&&(Ii||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Ii&&(be=hx()):(ca=J,Df="value"in ca?ca.value:ca.textContent,Ii=!0)),xe=nc(q,Se),0<xe.length&&(Se=new gx(Se,s,null,f,J),Z.push({event:Se,listeners:xe}),be?Se.data=be:(be=jx(f),be!==null&&(Se.data=be)))),(be=CC?TC(s,f):RC(s,f))&&(q=nc(q,"onBeforeInput"),0<q.length&&(J=new gx("onBeforeInput","beforeinput",null,f,J),Z.push({event:J,listeners:q}),J.data=be))}zx(Z,o)})}function go(s,o,f){return{instance:s,listener:o,currentTarget:f}}function nc(s,o){for(var f=o+"Capture",g=[];s!==null;){var w=s,_=w.stateNode;w.tag===5&&_!==null&&(w=_,_=Xs(s,f),_!=null&&g.unshift(go(s,_,w)),_=Xs(s,o),_!=null&&g.push(go(s,_,w))),s=s.return}return g}function Li(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Wx(s,o,f,g,w){for(var _=o._reactName,O=[];f!==null&&f!==g;){var R=f,D=R.alternate,q=R.stateNode;if(D!==null&&D===g)break;R.tag===5&&q!==null&&(R=q,w?(D=Xs(f,_),D!=null&&O.unshift(go(f,D,R))):w||(D=Xs(f,_),D!=null&&O.push(go(f,D,R)))),f=f.return}O.length!==0&&s.push({event:o,listeners:O})}var HC=/\r\n?/g,GC=/\u0000|\uFFFD/g;function Kx(s){return(typeof s=="string"?s:""+s).replace(HC,`
`).replace(GC,"")}function ac(s,o,f){if(o=Kx(o),Kx(s)!==o&&f)throw Error(r(425))}function ic(){}var Qf=null,Zf=null;function eh(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var th=typeof setTimeout=="function"?setTimeout:void 0,YC=typeof clearTimeout=="function"?clearTimeout:void 0,Vx=typeof Promise=="function"?Promise:void 0,XC=typeof queueMicrotask=="function"?queueMicrotask:typeof Vx<"u"?function(s){return Vx.resolve(null).then(s).catch(JC)}:th;function JC(s){setTimeout(function(){throw s})}function rh(s,o){var f=o,g=0;do{var w=f.nextSibling;if(s.removeChild(f),w&&w.nodeType===8)if(f=w.data,f==="/$"){if(g===0){s.removeChild(w),io(o);return}g--}else f!=="$"&&f!=="$?"&&f!=="$!"||g++;f=w}while(f);io(o)}function da(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function Hx(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var f=s.data;if(f==="$"||f==="$!"||f==="$?"){if(o===0)return s;o--}else f==="/$"&&o++}s=s.previousSibling}return null}var $i=Math.random().toString(36).slice(2),hn="__reactFiber$"+$i,vo="__reactProps$"+$i,On="__reactContainer$"+$i,nh="__reactEvents$"+$i,QC="__reactListeners$"+$i,ZC="__reactHandles$"+$i;function za(s){var o=s[hn];if(o)return o;for(var f=s.parentNode;f;){if(o=f[On]||f[hn]){if(f=o.alternate,o.child!==null||f!==null&&f.child!==null)for(s=Hx(s);s!==null;){if(f=s[hn])return f;s=Hx(s)}return o}s=f,f=s.parentNode}return null}function yo(s){return s=s[hn]||s[On],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Bi(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function sc(s){return s[vo]||null}var ah=[],Fi=-1;function fa(s){return{current:s}}function Ye(s){0>Fi||(s.current=ah[Fi],ah[Fi]=null,Fi--)}function Ke(s,o){Fi++,ah[Fi]=s.current,s.current=o}var ha={},zt=fa(ha),sr=fa(!1),qa=ha;function Ui(s,o){var f=s.type.contextTypes;if(!f)return ha;var g=s.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===o)return g.__reactInternalMemoizedMaskedChildContext;var w={},_;for(_ in f)w[_]=o[_];return g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=w),w}function or(s){return s=s.childContextTypes,s!=null}function oc(){Ye(sr),Ye(zt)}function Gx(s,o,f){if(zt.current!==ha)throw Error(r(168));Ke(zt,o),Ke(sr,f)}function Yx(s,o,f){var g=s.stateNode;if(o=o.childContextTypes,typeof g.getChildContext!="function")return f;g=g.getChildContext();for(var w in g)if(!(w in o))throw Error(r(108,Le(s)||"Unknown",w));return ae({},f,g)}function lc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ha,qa=zt.current,Ke(zt,s),Ke(sr,sr.current),!0}function Xx(s,o,f){var g=s.stateNode;if(!g)throw Error(r(169));f?(s=Yx(s,o,qa),g.__reactInternalMemoizedMergedChildContext=s,Ye(sr),Ye(zt),Ke(zt,s)):Ye(sr),Ke(sr,f)}var An=null,cc=!1,ih=!1;function Jx(s){An===null?An=[s]:An.push(s)}function eT(s){cc=!0,Jx(s)}function pa(){if(!ih&&An!==null){ih=!0;var s=0,o=Be;try{var f=An;for(Be=1;s<f.length;s++){var g=f[s];do g=g(!0);while(g!==null)}An=null,cc=!1}catch(w){throw An!==null&&(An=An.slice(s+1)),Z0(Ef,pa),w}finally{Be=o,ih=!1}}return null}var zi=[],qi=0,uc=null,dc=0,Tr=[],Rr=0,Wa=null,Cn=1,Tn="";function Ka(s,o){zi[qi++]=dc,zi[qi++]=uc,uc=s,dc=o}function Qx(s,o,f){Tr[Rr++]=Cn,Tr[Rr++]=Tn,Tr[Rr++]=Wa,Wa=s;var g=Cn;s=Tn;var w=32-Gr(g)-1;g&=~(1<<w),f+=1;var _=32-Gr(o)+w;if(30<_){var O=w-w%5;_=(g&(1<<O)-1).toString(32),g>>=O,w-=O,Cn=1<<32-Gr(o)+w|f<<w|g,Tn=_+s}else Cn=1<<_|f<<w|g,Tn=s}function sh(s){s.return!==null&&(Ka(s,1),Qx(s,1,0))}function oh(s){for(;s===uc;)uc=zi[--qi],zi[qi]=null,dc=zi[--qi],zi[qi]=null;for(;s===Wa;)Wa=Tr[--Rr],Tr[Rr]=null,Tn=Tr[--Rr],Tr[Rr]=null,Cn=Tr[--Rr],Tr[Rr]=null}var yr=null,xr=null,Qe=!1,Xr=null;function Zx(s,o){var f=Lr(5,null,null,0);f.elementType="DELETED",f.stateNode=o,f.return=s,o=s.deletions,o===null?(s.deletions=[f],s.flags|=16):o.push(f)}function eb(s,o){switch(s.tag){case 5:var f=s.type;return o=o.nodeType!==1||f.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,yr=s,xr=da(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,yr=s,xr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(f=Wa!==null?{id:Cn,overflow:Tn}:null,s.memoizedState={dehydrated:o,treeContext:f,retryLane:1073741824},f=Lr(18,null,null,0),f.stateNode=o,f.return=s,s.child=f,yr=s,xr=null,!0):!1;default:return!1}}function lh(s){return(s.mode&1)!==0&&(s.flags&128)===0}function ch(s){if(Qe){var o=xr;if(o){var f=o;if(!eb(s,o)){if(lh(s))throw Error(r(418));o=da(f.nextSibling);var g=yr;o&&eb(s,o)?Zx(g,f):(s.flags=s.flags&-4097|2,Qe=!1,yr=s)}}else{if(lh(s))throw Error(r(418));s.flags=s.flags&-4097|2,Qe=!1,yr=s}}}function tb(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;yr=s}function fc(s){if(s!==yr)return!1;if(!Qe)return tb(s),Qe=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!eh(s.type,s.memoizedProps)),o&&(o=xr)){if(lh(s))throw rb(),Error(r(418));for(;o;)Zx(s,o),o=da(o.nextSibling)}if(tb(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var f=s.data;if(f==="/$"){if(o===0){xr=da(s.nextSibling);break e}o--}else f!=="$"&&f!=="$!"&&f!=="$?"||o++}s=s.nextSibling}xr=null}}else xr=yr?da(s.stateNode.nextSibling):null;return!0}function rb(){for(var s=xr;s;)s=da(s.nextSibling)}function Wi(){xr=yr=null,Qe=!1}function uh(s){Xr===null?Xr=[s]:Xr.push(s)}var tT=C.ReactCurrentBatchConfig;function xo(s,o,f){if(s=f.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(r(309));var g=f.stateNode}if(!g)throw Error(r(147,s));var w=g,_=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===_?o.ref:(o=function(O){var R=w.refs;O===null?delete R[_]:R[_]=O},o._stringRef=_,o)}if(typeof s!="string")throw Error(r(284));if(!f._owner)throw Error(r(290,s))}return s}function hc(s,o){throw s=Object.prototype.toString.call(o),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function nb(s){var o=s._init;return o(s._payload)}function ab(s){function o(B,L){if(s){var U=B.deletions;U===null?(B.deletions=[L],B.flags|=16):U.push(L)}}function f(B,L){if(!s)return null;for(;L!==null;)o(B,L),L=L.sibling;return null}function g(B,L){for(B=new Map;L!==null;)L.key!==null?B.set(L.key,L):B.set(L.index,L),L=L.sibling;return B}function w(B,L){return B=ja(B,L),B.index=0,B.sibling=null,B}function _(B,L,U){return B.index=U,s?(U=B.alternate,U!==null?(U=U.index,U<L?(B.flags|=2,L):U):(B.flags|=2,L)):(B.flags|=1048576,L)}function O(B){return s&&B.alternate===null&&(B.flags|=2),B}function R(B,L,U,re){return L===null||L.tag!==6?(L=tp(U,B.mode,re),L.return=B,L):(L=w(L,U),L.return=B,L)}function D(B,L,U,re){var me=U.type;return me===T?J(B,L,U.props.children,re,U.key):L!==null&&(L.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===oe&&nb(me)===L.type)?(re=w(L,U.props),re.ref=xo(B,L,U),re.return=B,re):(re=Lc(U.type,U.key,U.props,null,B.mode,re),re.ref=xo(B,L,U),re.return=B,re)}function q(B,L,U,re){return L===null||L.tag!==4||L.stateNode.containerInfo!==U.containerInfo||L.stateNode.implementation!==U.implementation?(L=rp(U,B.mode,re),L.return=B,L):(L=w(L,U.children||[]),L.return=B,L)}function J(B,L,U,re,me){return L===null||L.tag!==7?(L=Za(U,B.mode,re,me),L.return=B,L):(L=w(L,U),L.return=B,L)}function Z(B,L,U){if(typeof L=="string"&&L!==""||typeof L=="number")return L=tp(""+L,B.mode,U),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case E:return U=Lc(L.type,L.key,L.props,null,B.mode,U),U.ref=xo(B,null,L),U.return=B,U;case S:return L=rp(L,B.mode,U),L.return=B,L;case oe:var re=L._init;return Z(B,re(L._payload),U)}if(Hs(L)||ie(L))return L=Za(L,B.mode,U,null),L.return=B,L;hc(B,L)}return null}function X(B,L,U,re){var me=L!==null?L.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return me!==null?null:R(B,L,""+U,re);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case E:return U.key===me?D(B,L,U,re):null;case S:return U.key===me?q(B,L,U,re):null;case oe:return me=U._init,X(B,L,me(U._payload),re)}if(Hs(U)||ie(U))return me!==null?null:J(B,L,U,re,null);hc(B,U)}return null}function le(B,L,U,re,me){if(typeof re=="string"&&re!==""||typeof re=="number")return B=B.get(U)||null,R(L,B,""+re,me);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case E:return B=B.get(re.key===null?U:re.key)||null,D(L,B,re,me);case S:return B=B.get(re.key===null?U:re.key)||null,q(L,B,re,me);case oe:var xe=re._init;return le(B,L,U,xe(re._payload),me)}if(Hs(re)||ie(re))return B=B.get(U)||null,J(L,B,re,me,null);hc(L,re)}return null}function de(B,L,U,re){for(var me=null,xe=null,be=L,Se=L=0,Ct=null;be!==null&&Se<U.length;Se++){be.index>Se?(Ct=be,be=null):Ct=be.sibling;var De=X(B,be,U[Se],re);if(De===null){be===null&&(be=Ct);break}s&&be&&De.alternate===null&&o(B,be),L=_(De,L,Se),xe===null?me=De:xe.sibling=De,xe=De,be=Ct}if(Se===U.length)return f(B,be),Qe&&Ka(B,Se),me;if(be===null){for(;Se<U.length;Se++)be=Z(B,U[Se],re),be!==null&&(L=_(be,L,Se),xe===null?me=be:xe.sibling=be,xe=be);return Qe&&Ka(B,Se),me}for(be=g(B,be);Se<U.length;Se++)Ct=le(be,B,Se,U[Se],re),Ct!==null&&(s&&Ct.alternate!==null&&be.delete(Ct.key===null?Se:Ct.key),L=_(Ct,L,Se),xe===null?me=Ct:xe.sibling=Ct,xe=Ct);return s&&be.forEach(function(ka){return o(B,ka)}),Qe&&Ka(B,Se),me}function pe(B,L,U,re){var me=ie(U);if(typeof me!="function")throw Error(r(150));if(U=me.call(U),U==null)throw Error(r(151));for(var xe=me=null,be=L,Se=L=0,Ct=null,De=U.next();be!==null&&!De.done;Se++,De=U.next()){be.index>Se?(Ct=be,be=null):Ct=be.sibling;var ka=X(B,be,De.value,re);if(ka===null){be===null&&(be=Ct);break}s&&be&&ka.alternate===null&&o(B,be),L=_(ka,L,Se),xe===null?me=ka:xe.sibling=ka,xe=ka,be=Ct}if(De.done)return f(B,be),Qe&&Ka(B,Se),me;if(be===null){for(;!De.done;Se++,De=U.next())De=Z(B,De.value,re),De!==null&&(L=_(De,L,Se),xe===null?me=De:xe.sibling=De,xe=De);return Qe&&Ka(B,Se),me}for(be=g(B,be);!De.done;Se++,De=U.next())De=le(be,B,Se,De.value,re),De!==null&&(s&&De.alternate!==null&&be.delete(De.key===null?Se:De.key),L=_(De,L,Se),xe===null?me=De:xe.sibling=De,xe=De);return s&&be.forEach(function(IT){return o(B,IT)}),Qe&&Ka(B,Se),me}function dt(B,L,U,re){if(typeof U=="object"&&U!==null&&U.type===T&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case E:e:{for(var me=U.key,xe=L;xe!==null;){if(xe.key===me){if(me=U.type,me===T){if(xe.tag===7){f(B,xe.sibling),L=w(xe,U.props.children),L.return=B,B=L;break e}}else if(xe.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===oe&&nb(me)===xe.type){f(B,xe.sibling),L=w(xe,U.props),L.ref=xo(B,xe,U),L.return=B,B=L;break e}f(B,xe);break}else o(B,xe);xe=xe.sibling}U.type===T?(L=Za(U.props.children,B.mode,re,U.key),L.return=B,B=L):(re=Lc(U.type,U.key,U.props,null,B.mode,re),re.ref=xo(B,L,U),re.return=B,B=re)}return O(B);case S:e:{for(xe=U.key;L!==null;){if(L.key===xe)if(L.tag===4&&L.stateNode.containerInfo===U.containerInfo&&L.stateNode.implementation===U.implementation){f(B,L.sibling),L=w(L,U.children||[]),L.return=B,B=L;break e}else{f(B,L);break}else o(B,L);L=L.sibling}L=rp(U,B.mode,re),L.return=B,B=L}return O(B);case oe:return xe=U._init,dt(B,L,xe(U._payload),re)}if(Hs(U))return de(B,L,U,re);if(ie(U))return pe(B,L,U,re);hc(B,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,L!==null&&L.tag===6?(f(B,L.sibling),L=w(L,U),L.return=B,B=L):(f(B,L),L=tp(U,B.mode,re),L.return=B,B=L),O(B)):f(B,L)}return dt}var Ki=ab(!0),ib=ab(!1),pc=fa(null),mc=null,Vi=null,dh=null;function fh(){dh=Vi=mc=null}function hh(s){var o=pc.current;Ye(pc),s._currentValue=o}function ph(s,o,f){for(;s!==null;){var g=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,g!==null&&(g.childLanes|=o)):g!==null&&(g.childLanes&o)!==o&&(g.childLanes|=o),s===f)break;s=s.return}}function Hi(s,o){mc=s,dh=Vi=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(lr=!0),s.firstContext=null)}function Ir(s){var o=s._currentValue;if(dh!==s)if(s={context:s,memoizedValue:o,next:null},Vi===null){if(mc===null)throw Error(r(308));Vi=s,mc.dependencies={lanes:0,firstContext:s}}else Vi=Vi.next=s;return o}var Va=null;function mh(s){Va===null?Va=[s]:Va.push(s)}function sb(s,o,f,g){var w=o.interleaved;return w===null?(f.next=f,mh(o)):(f.next=w.next,w.next=f),o.interleaved=f,Rn(s,g)}function Rn(s,o){s.lanes|=o;var f=s.alternate;for(f!==null&&(f.lanes|=o),f=s,s=s.return;s!==null;)s.childLanes|=o,f=s.alternate,f!==null&&(f.childLanes|=o),f=s,s=s.return;return f.tag===3?f.stateNode:null}var ma=!1;function gh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ob(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function In(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function ga(s,o,f){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(Ie&2)!==0){var w=g.pending;return w===null?o.next=o:(o.next=w.next,w.next=o),g.pending=o,Rn(s,f)}return w=g.interleaved,w===null?(o.next=o,mh(g)):(o.next=w.next,w.next=o),g.interleaved=o,Rn(s,f)}function gc(s,o,f){if(o=o.updateQueue,o!==null&&(o=o.shared,(f&4194240)!==0)){var g=o.lanes;g&=s.pendingLanes,f|=g,o.lanes=f,Af(s,f)}}function lb(s,o){var f=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var w=null,_=null;if(f=f.firstBaseUpdate,f!==null){do{var O={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};_===null?w=_=O:_=_.next=O,f=f.next}while(f!==null);_===null?w=_=o:_=_.next=o}else w=_=o;f={baseState:g.baseState,firstBaseUpdate:w,lastBaseUpdate:_,shared:g.shared,effects:g.effects},s.updateQueue=f;return}s=f.lastBaseUpdate,s===null?f.firstBaseUpdate=o:s.next=o,f.lastBaseUpdate=o}function vc(s,o,f,g){var w=s.updateQueue;ma=!1;var _=w.firstBaseUpdate,O=w.lastBaseUpdate,R=w.shared.pending;if(R!==null){w.shared.pending=null;var D=R,q=D.next;D.next=null,O===null?_=q:O.next=q,O=D;var J=s.alternate;J!==null&&(J=J.updateQueue,R=J.lastBaseUpdate,R!==O&&(R===null?J.firstBaseUpdate=q:R.next=q,J.lastBaseUpdate=D))}if(_!==null){var Z=w.baseState;O=0,J=q=D=null,R=_;do{var X=R.lane,le=R.eventTime;if((g&X)===X){J!==null&&(J=J.next={eventTime:le,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var de=s,pe=R;switch(X=o,le=f,pe.tag){case 1:if(de=pe.payload,typeof de=="function"){Z=de.call(le,Z,X);break e}Z=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=pe.payload,X=typeof de=="function"?de.call(le,Z,X):de,X==null)break e;Z=ae({},Z,X);break e;case 2:ma=!0}}R.callback!==null&&R.lane!==0&&(s.flags|=64,X=w.effects,X===null?w.effects=[R]:X.push(R))}else le={eventTime:le,lane:X,tag:R.tag,payload:R.payload,callback:R.callback,next:null},J===null?(q=J=le,D=Z):J=J.next=le,O|=X;if(R=R.next,R===null){if(R=w.shared.pending,R===null)break;X=R,R=X.next,X.next=null,w.lastBaseUpdate=X,w.shared.pending=null}}while(!0);if(J===null&&(D=Z),w.baseState=D,w.firstBaseUpdate=q,w.lastBaseUpdate=J,o=w.shared.interleaved,o!==null){w=o;do O|=w.lane,w=w.next;while(w!==o)}else _===null&&(w.shared.lanes=0);Ya|=O,s.lanes=O,s.memoizedState=Z}}function cb(s,o,f){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var g=s[o],w=g.callback;if(w!==null){if(g.callback=null,g=f,typeof w!="function")throw Error(r(191,w));w.call(g)}}}var bo={},pn=fa(bo),wo=fa(bo),jo=fa(bo);function Ha(s){if(s===bo)throw Error(r(174));return s}function vh(s,o){switch(Ke(jo,o),Ke(wo,s),Ke(pn,bo),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:yf(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=yf(o,s)}Ye(pn),Ke(pn,o)}function Gi(){Ye(pn),Ye(wo),Ye(jo)}function ub(s){Ha(jo.current);var o=Ha(pn.current),f=yf(o,s.type);o!==f&&(Ke(wo,s),Ke(pn,f))}function yh(s){wo.current===s&&(Ye(pn),Ye(wo))}var at=fa(0);function yc(s){for(var o=s;o!==null;){if(o.tag===13){var f=o.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var xh=[];function bh(){for(var s=0;s<xh.length;s++)xh[s]._workInProgressVersionPrimary=null;xh.length=0}var xc=C.ReactCurrentDispatcher,wh=C.ReactCurrentBatchConfig,Ga=0,it=null,bt=null,Ot=null,bc=!1,ko=!1,_o=0,rT=0;function qt(){throw Error(r(321))}function jh(s,o){if(o===null)return!1;for(var f=0;f<o.length&&f<s.length;f++)if(!Yr(s[f],o[f]))return!1;return!0}function kh(s,o,f,g,w,_){if(Ga=_,it=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,xc.current=s===null||s.memoizedState===null?sT:oT,s=f(g,w),ko){_=0;do{if(ko=!1,_o=0,25<=_)throw Error(r(301));_+=1,Ot=bt=null,o.updateQueue=null,xc.current=lT,s=f(g,w)}while(ko)}if(xc.current=kc,o=bt!==null&&bt.next!==null,Ga=0,Ot=bt=it=null,bc=!1,o)throw Error(r(300));return s}function _h(){var s=_o!==0;return _o=0,s}function mn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?it.memoizedState=Ot=s:Ot=Ot.next=s,Ot}function Dr(){if(bt===null){var s=it.alternate;s=s!==null?s.memoizedState:null}else s=bt.next;var o=Ot===null?it.memoizedState:Ot.next;if(o!==null)Ot=o,bt=s;else{if(s===null)throw Error(r(310));bt=s,s={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Ot===null?it.memoizedState=Ot=s:Ot=Ot.next=s}return Ot}function So(s,o){return typeof o=="function"?o(s):o}function Sh(s){var o=Dr(),f=o.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=s;var g=bt,w=g.baseQueue,_=f.pending;if(_!==null){if(w!==null){var O=w.next;w.next=_.next,_.next=O}g.baseQueue=w=_,f.pending=null}if(w!==null){_=w.next,g=g.baseState;var R=O=null,D=null,q=_;do{var J=q.lane;if((Ga&J)===J)D!==null&&(D=D.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),g=q.hasEagerState?q.eagerState:s(g,q.action);else{var Z={lane:J,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};D===null?(R=D=Z,O=g):D=D.next=Z,it.lanes|=J,Ya|=J}q=q.next}while(q!==null&&q!==_);D===null?O=g:D.next=R,Yr(g,o.memoizedState)||(lr=!0),o.memoizedState=g,o.baseState=O,o.baseQueue=D,f.lastRenderedState=g}if(s=f.interleaved,s!==null){w=s;do _=w.lane,it.lanes|=_,Ya|=_,w=w.next;while(w!==s)}else w===null&&(f.lanes=0);return[o.memoizedState,f.dispatch]}function Nh(s){var o=Dr(),f=o.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=s;var g=f.dispatch,w=f.pending,_=o.memoizedState;if(w!==null){f.pending=null;var O=w=w.next;do _=s(_,O.action),O=O.next;while(O!==w);Yr(_,o.memoizedState)||(lr=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),f.lastRenderedState=_}return[_,g]}function db(){}function fb(s,o){var f=it,g=Dr(),w=o(),_=!Yr(g.memoizedState,w);if(_&&(g.memoizedState=w,lr=!0),g=g.queue,Eh(mb.bind(null,f,g,s),[s]),g.getSnapshot!==o||_||Ot!==null&&Ot.memoizedState.tag&1){if(f.flags|=2048,No(9,pb.bind(null,f,g,w,o),void 0,null),At===null)throw Error(r(349));(Ga&30)!==0||hb(f,o,w)}return w}function hb(s,o,f){s.flags|=16384,s={getSnapshot:o,value:f},o=it.updateQueue,o===null?(o={lastEffect:null,stores:null},it.updateQueue=o,o.stores=[s]):(f=o.stores,f===null?o.stores=[s]:f.push(s))}function pb(s,o,f,g){o.value=f,o.getSnapshot=g,gb(o)&&vb(s)}function mb(s,o,f){return f(function(){gb(o)&&vb(s)})}function gb(s){var o=s.getSnapshot;s=s.value;try{var f=o();return!Yr(s,f)}catch{return!0}}function vb(s){var o=Rn(s,1);o!==null&&en(o,s,1,-1)}function yb(s){var o=mn();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:So,lastRenderedState:s},o.queue=s,s=s.dispatch=iT.bind(null,it,s),[o.memoizedState,s]}function No(s,o,f,g){return s={tag:s,create:o,destroy:f,deps:g,next:null},o=it.updateQueue,o===null?(o={lastEffect:null,stores:null},it.updateQueue=o,o.lastEffect=s.next=s):(f=o.lastEffect,f===null?o.lastEffect=s.next=s:(g=f.next,f.next=s,s.next=g,o.lastEffect=s)),s}function xb(){return Dr().memoizedState}function wc(s,o,f,g){var w=mn();it.flags|=s,w.memoizedState=No(1|o,f,void 0,g===void 0?null:g)}function jc(s,o,f,g){var w=Dr();g=g===void 0?null:g;var _=void 0;if(bt!==null){var O=bt.memoizedState;if(_=O.destroy,g!==null&&jh(g,O.deps)){w.memoizedState=No(o,f,_,g);return}}it.flags|=s,w.memoizedState=No(1|o,f,_,g)}function bb(s,o){return wc(8390656,8,s,o)}function Eh(s,o){return jc(2048,8,s,o)}function wb(s,o){return jc(4,2,s,o)}function jb(s,o){return jc(4,4,s,o)}function kb(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function _b(s,o,f){return f=f!=null?f.concat([s]):null,jc(4,4,kb.bind(null,o,s),f)}function Ph(){}function Sb(s,o){var f=Dr();o=o===void 0?null:o;var g=f.memoizedState;return g!==null&&o!==null&&jh(o,g[1])?g[0]:(f.memoizedState=[s,o],s)}function Nb(s,o){var f=Dr();o=o===void 0?null:o;var g=f.memoizedState;return g!==null&&o!==null&&jh(o,g[1])?g[0]:(s=s(),f.memoizedState=[s,o],s)}function Eb(s,o,f){return(Ga&21)===0?(s.baseState&&(s.baseState=!1,lr=!0),s.memoizedState=f):(Yr(f,o)||(f=nx(),it.lanes|=f,Ya|=f,s.baseState=!0),o)}function nT(s,o){var f=Be;Be=f!==0&&4>f?f:4,s(!0);var g=wh.transition;wh.transition={};try{s(!1),o()}finally{Be=f,wh.transition=g}}function Pb(){return Dr().memoizedState}function aT(s,o,f){var g=ba(s);if(f={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null},Ob(s))Ab(o,f);else if(f=sb(s,o,f,g),f!==null){var w=Zt();en(f,s,g,w),Cb(f,o,g)}}function iT(s,o,f){var g=ba(s),w={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null};if(Ob(s))Ab(o,w);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var O=o.lastRenderedState,R=_(O,f);if(w.hasEagerState=!0,w.eagerState=R,Yr(R,O)){var D=o.interleaved;D===null?(w.next=w,mh(o)):(w.next=D.next,D.next=w),o.interleaved=w;return}}catch{}finally{}f=sb(s,o,w,g),f!==null&&(w=Zt(),en(f,s,g,w),Cb(f,o,g))}}function Ob(s){var o=s.alternate;return s===it||o!==null&&o===it}function Ab(s,o){ko=bc=!0;var f=s.pending;f===null?o.next=o:(o.next=f.next,f.next=o),s.pending=o}function Cb(s,o,f){if((f&4194240)!==0){var g=o.lanes;g&=s.pendingLanes,f|=g,o.lanes=f,Af(s,f)}}var kc={readContext:Ir,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},sT={readContext:Ir,useCallback:function(s,o){return mn().memoizedState=[s,o===void 0?null:o],s},useContext:Ir,useEffect:bb,useImperativeHandle:function(s,o,f){return f=f!=null?f.concat([s]):null,wc(4194308,4,kb.bind(null,o,s),f)},useLayoutEffect:function(s,o){return wc(4194308,4,s,o)},useInsertionEffect:function(s,o){return wc(4,2,s,o)},useMemo:function(s,o){var f=mn();return o=o===void 0?null:o,s=s(),f.memoizedState=[s,o],s},useReducer:function(s,o,f){var g=mn();return o=f!==void 0?f(o):o,g.memoizedState=g.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},g.queue=s,s=s.dispatch=aT.bind(null,it,s),[g.memoizedState,s]},useRef:function(s){var o=mn();return s={current:s},o.memoizedState=s},useState:yb,useDebugValue:Ph,useDeferredValue:function(s){return mn().memoizedState=s},useTransition:function(){var s=yb(!1),o=s[0];return s=nT.bind(null,s[1]),mn().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,f){var g=it,w=mn();if(Qe){if(f===void 0)throw Error(r(407));f=f()}else{if(f=o(),At===null)throw Error(r(349));(Ga&30)!==0||hb(g,o,f)}w.memoizedState=f;var _={value:f,getSnapshot:o};return w.queue=_,bb(mb.bind(null,g,_,s),[s]),g.flags|=2048,No(9,pb.bind(null,g,_,f,o),void 0,null),f},useId:function(){var s=mn(),o=At.identifierPrefix;if(Qe){var f=Tn,g=Cn;f=(g&~(1<<32-Gr(g)-1)).toString(32)+f,o=":"+o+"R"+f,f=_o++,0<f&&(o+="H"+f.toString(32)),o+=":"}else f=rT++,o=":"+o+"r"+f.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},oT={readContext:Ir,useCallback:Sb,useContext:Ir,useEffect:Eh,useImperativeHandle:_b,useInsertionEffect:wb,useLayoutEffect:jb,useMemo:Nb,useReducer:Sh,useRef:xb,useState:function(){return Sh(So)},useDebugValue:Ph,useDeferredValue:function(s){var o=Dr();return Eb(o,bt.memoizedState,s)},useTransition:function(){var s=Sh(So)[0],o=Dr().memoizedState;return[s,o]},useMutableSource:db,useSyncExternalStore:fb,useId:Pb,unstable_isNewReconciler:!1},lT={readContext:Ir,useCallback:Sb,useContext:Ir,useEffect:Eh,useImperativeHandle:_b,useInsertionEffect:wb,useLayoutEffect:jb,useMemo:Nb,useReducer:Nh,useRef:xb,useState:function(){return Nh(So)},useDebugValue:Ph,useDeferredValue:function(s){var o=Dr();return bt===null?o.memoizedState=s:Eb(o,bt.memoizedState,s)},useTransition:function(){var s=Nh(So)[0],o=Dr().memoizedState;return[s,o]},useMutableSource:db,useSyncExternalStore:fb,useId:Pb,unstable_isNewReconciler:!1};function Jr(s,o){if(s&&s.defaultProps){o=ae({},o),s=s.defaultProps;for(var f in s)o[f]===void 0&&(o[f]=s[f]);return o}return o}function Oh(s,o,f,g){o=s.memoizedState,f=f(g,o),f=f==null?o:ae({},o,f),s.memoizedState=f,s.lanes===0&&(s.updateQueue.baseState=f)}var _c={isMounted:function(s){return(s=s._reactInternals)?Ua(s)===s:!1},enqueueSetState:function(s,o,f){s=s._reactInternals;var g=Zt(),w=ba(s),_=In(g,w);_.payload=o,f!=null&&(_.callback=f),o=ga(s,_,w),o!==null&&(en(o,s,w,g),gc(o,s,w))},enqueueReplaceState:function(s,o,f){s=s._reactInternals;var g=Zt(),w=ba(s),_=In(g,w);_.tag=1,_.payload=o,f!=null&&(_.callback=f),o=ga(s,_,w),o!==null&&(en(o,s,w,g),gc(o,s,w))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var f=Zt(),g=ba(s),w=In(f,g);w.tag=2,o!=null&&(w.callback=o),o=ga(s,w,g),o!==null&&(en(o,s,g,f),gc(o,s,g))}};function Tb(s,o,f,g,w,_,O){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,_,O):o.prototype&&o.prototype.isPureReactComponent?!fo(f,g)||!fo(w,_):!0}function Rb(s,o,f){var g=!1,w=ha,_=o.contextType;return typeof _=="object"&&_!==null?_=Ir(_):(w=or(o)?qa:zt.current,g=o.contextTypes,_=(g=g!=null)?Ui(s,w):ha),o=new o(f,_),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=_c,s.stateNode=o,o._reactInternals=s,g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=w,s.__reactInternalMemoizedMaskedChildContext=_),o}function Ib(s,o,f,g){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(f,g),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(f,g),o.state!==s&&_c.enqueueReplaceState(o,o.state,null)}function Ah(s,o,f,g){var w=s.stateNode;w.props=f,w.state=s.memoizedState,w.refs={},gh(s);var _=o.contextType;typeof _=="object"&&_!==null?w.context=Ir(_):(_=or(o)?qa:zt.current,w.context=Ui(s,_)),w.state=s.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(Oh(s,o,_,f),w.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(o=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),o!==w.state&&_c.enqueueReplaceState(w,w.state,null),vc(s,f,w,g),w.state=s.memoizedState),typeof w.componentDidMount=="function"&&(s.flags|=4194308)}function Yi(s,o){try{var f="",g=o;do f+=je(g),g=g.return;while(g);var w=f}catch(_){w=`
Error generating stack: `+_.message+`
`+_.stack}return{value:s,source:o,stack:w,digest:null}}function Ch(s,o,f){return{value:s,source:null,stack:f??null,digest:o??null}}function Th(s,o){try{console.error(o.value)}catch(f){setTimeout(function(){throw f})}}var cT=typeof WeakMap=="function"?WeakMap:Map;function Db(s,o,f){f=In(-1,f),f.tag=3,f.payload={element:null};var g=o.value;return f.callback=function(){Cc||(Cc=!0,Hh=g),Th(s,o)},f}function Mb(s,o,f){f=In(-1,f),f.tag=3;var g=s.type.getDerivedStateFromError;if(typeof g=="function"){var w=o.value;f.payload=function(){return g(w)},f.callback=function(){Th(s,o)}}var _=s.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(f.callback=function(){Th(s,o),typeof g!="function"&&(ya===null?ya=new Set([this]):ya.add(this));var O=o.stack;this.componentDidCatch(o.value,{componentStack:O!==null?O:""})}),f}function Lb(s,o,f){var g=s.pingCache;if(g===null){g=s.pingCache=new cT;var w=new Set;g.set(o,w)}else w=g.get(o),w===void 0&&(w=new Set,g.set(o,w));w.has(f)||(w.add(f),s=kT.bind(null,s,o,f),o.then(s,s))}function $b(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Bb(s,o,f,g,w){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(o=In(-1,1),o.tag=2,ga(f,o,1))),f.lanes|=1),s):(s.flags|=65536,s.lanes=w,s)}var uT=C.ReactCurrentOwner,lr=!1;function Qt(s,o,f,g){o.child=s===null?ib(o,null,f,g):Ki(o,s.child,f,g)}function Fb(s,o,f,g,w){f=f.render;var _=o.ref;return Hi(o,w),g=kh(s,o,f,g,_,w),f=_h(),s!==null&&!lr?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~w,Dn(s,o,w)):(Qe&&f&&sh(o),o.flags|=1,Qt(s,o,g,w),o.child)}function Ub(s,o,f,g,w){if(s===null){var _=f.type;return typeof _=="function"&&!ep(_)&&_.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(o.tag=15,o.type=_,zb(s,o,_,g,w)):(s=Lc(f.type,null,g,o,o.mode,w),s.ref=o.ref,s.return=o,o.child=s)}if(_=s.child,(s.lanes&w)===0){var O=_.memoizedProps;if(f=f.compare,f=f!==null?f:fo,f(O,g)&&s.ref===o.ref)return Dn(s,o,w)}return o.flags|=1,s=ja(_,g),s.ref=o.ref,s.return=o,o.child=s}function zb(s,o,f,g,w){if(s!==null){var _=s.memoizedProps;if(fo(_,g)&&s.ref===o.ref)if(lr=!1,o.pendingProps=g=_,(s.lanes&w)!==0)(s.flags&131072)!==0&&(lr=!0);else return o.lanes=s.lanes,Dn(s,o,w)}return Rh(s,o,f,g,w)}function qb(s,o,f){var g=o.pendingProps,w=g.children,_=s!==null?s.memoizedState:null;if(g.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(Ji,br),br|=f;else{if((f&1073741824)===0)return s=_!==null?_.baseLanes|f:f,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,Ke(Ji,br),br|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=_!==null?_.baseLanes:f,Ke(Ji,br),br|=g}else _!==null?(g=_.baseLanes|f,o.memoizedState=null):g=f,Ke(Ji,br),br|=g;return Qt(s,o,w,f),o.child}function Wb(s,o){var f=o.ref;(s===null&&f!==null||s!==null&&s.ref!==f)&&(o.flags|=512,o.flags|=2097152)}function Rh(s,o,f,g,w){var _=or(f)?qa:zt.current;return _=Ui(o,_),Hi(o,w),f=kh(s,o,f,g,_,w),g=_h(),s!==null&&!lr?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~w,Dn(s,o,w)):(Qe&&g&&sh(o),o.flags|=1,Qt(s,o,f,w),o.child)}function Kb(s,o,f,g,w){if(or(f)){var _=!0;lc(o)}else _=!1;if(Hi(o,w),o.stateNode===null)Nc(s,o),Rb(o,f,g),Ah(o,f,g,w),g=!0;else if(s===null){var O=o.stateNode,R=o.memoizedProps;O.props=R;var D=O.context,q=f.contextType;typeof q=="object"&&q!==null?q=Ir(q):(q=or(f)?qa:zt.current,q=Ui(o,q));var J=f.getDerivedStateFromProps,Z=typeof J=="function"||typeof O.getSnapshotBeforeUpdate=="function";Z||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(R!==g||D!==q)&&Ib(o,O,g,q),ma=!1;var X=o.memoizedState;O.state=X,vc(o,g,O,w),D=o.memoizedState,R!==g||X!==D||sr.current||ma?(typeof J=="function"&&(Oh(o,f,J,g),D=o.memoizedState),(R=ma||Tb(o,f,R,g,X,D,q))?(Z||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(o.flags|=4194308)):(typeof O.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=g,o.memoizedState=D),O.props=g,O.state=D,O.context=q,g=R):(typeof O.componentDidMount=="function"&&(o.flags|=4194308),g=!1)}else{O=o.stateNode,ob(s,o),R=o.memoizedProps,q=o.type===o.elementType?R:Jr(o.type,R),O.props=q,Z=o.pendingProps,X=O.context,D=f.contextType,typeof D=="object"&&D!==null?D=Ir(D):(D=or(f)?qa:zt.current,D=Ui(o,D));var le=f.getDerivedStateFromProps;(J=typeof le=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(R!==Z||X!==D)&&Ib(o,O,g,D),ma=!1,X=o.memoizedState,O.state=X,vc(o,g,O,w);var de=o.memoizedState;R!==Z||X!==de||sr.current||ma?(typeof le=="function"&&(Oh(o,f,le,g),de=o.memoizedState),(q=ma||Tb(o,f,q,g,X,de,D)||!1)?(J||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(g,de,D),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(g,de,D)),typeof O.componentDidUpdate=="function"&&(o.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof O.componentDidUpdate!="function"||R===s.memoizedProps&&X===s.memoizedState||(o.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||R===s.memoizedProps&&X===s.memoizedState||(o.flags|=1024),o.memoizedProps=g,o.memoizedState=de),O.props=g,O.state=de,O.context=D,g=q):(typeof O.componentDidUpdate!="function"||R===s.memoizedProps&&X===s.memoizedState||(o.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||R===s.memoizedProps&&X===s.memoizedState||(o.flags|=1024),g=!1)}return Ih(s,o,f,g,_,w)}function Ih(s,o,f,g,w,_){Wb(s,o);var O=(o.flags&128)!==0;if(!g&&!O)return w&&Xx(o,f,!1),Dn(s,o,_);g=o.stateNode,uT.current=o;var R=O&&typeof f.getDerivedStateFromError!="function"?null:g.render();return o.flags|=1,s!==null&&O?(o.child=Ki(o,s.child,null,_),o.child=Ki(o,null,R,_)):Qt(s,o,R,_),o.memoizedState=g.state,w&&Xx(o,f,!0),o.child}function Vb(s){var o=s.stateNode;o.pendingContext?Gx(s,o.pendingContext,o.pendingContext!==o.context):o.context&&Gx(s,o.context,!1),vh(s,o.containerInfo)}function Hb(s,o,f,g,w){return Wi(),uh(w),o.flags|=256,Qt(s,o,f,g),o.child}var Dh={dehydrated:null,treeContext:null,retryLane:0};function Mh(s){return{baseLanes:s,cachePool:null,transitions:null}}function Gb(s,o,f){var g=o.pendingProps,w=at.current,_=!1,O=(o.flags&128)!==0,R;if((R=O)||(R=s!==null&&s.memoizedState===null?!1:(w&2)!==0),R?(_=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(w|=1),Ke(at,w&1),s===null)return ch(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(O=g.children,s=g.fallback,_?(g=o.mode,_=o.child,O={mode:"hidden",children:O},(g&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=O):_=$c(O,g,0,null),s=Za(s,g,f,null),_.return=o,s.return=o,_.sibling=s,o.child=_,o.child.memoizedState=Mh(f),o.memoizedState=Dh,s):Lh(o,O));if(w=s.memoizedState,w!==null&&(R=w.dehydrated,R!==null))return dT(s,o,O,g,R,w,f);if(_){_=g.fallback,O=o.mode,w=s.child,R=w.sibling;var D={mode:"hidden",children:g.children};return(O&1)===0&&o.child!==w?(g=o.child,g.childLanes=0,g.pendingProps=D,o.deletions=null):(g=ja(w,D),g.subtreeFlags=w.subtreeFlags&14680064),R!==null?_=ja(R,_):(_=Za(_,O,f,null),_.flags|=2),_.return=o,g.return=o,g.sibling=_,o.child=g,g=_,_=o.child,O=s.child.memoizedState,O=O===null?Mh(f):{baseLanes:O.baseLanes|f,cachePool:null,transitions:O.transitions},_.memoizedState=O,_.childLanes=s.childLanes&~f,o.memoizedState=Dh,g}return _=s.child,s=_.sibling,g=ja(_,{mode:"visible",children:g.children}),(o.mode&1)===0&&(g.lanes=f),g.return=o,g.sibling=null,s!==null&&(f=o.deletions,f===null?(o.deletions=[s],o.flags|=16):f.push(s)),o.child=g,o.memoizedState=null,g}function Lh(s,o){return o=$c({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Sc(s,o,f,g){return g!==null&&uh(g),Ki(o,s.child,null,f),s=Lh(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function dT(s,o,f,g,w,_,O){if(f)return o.flags&256?(o.flags&=-257,g=Ch(Error(r(422))),Sc(s,o,O,g)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(_=g.fallback,w=o.mode,g=$c({mode:"visible",children:g.children},w,0,null),_=Za(_,w,O,null),_.flags|=2,g.return=o,_.return=o,g.sibling=_,o.child=g,(o.mode&1)!==0&&Ki(o,s.child,null,O),o.child.memoizedState=Mh(O),o.memoizedState=Dh,_);if((o.mode&1)===0)return Sc(s,o,O,null);if(w.data==="$!"){if(g=w.nextSibling&&w.nextSibling.dataset,g)var R=g.dgst;return g=R,_=Error(r(419)),g=Ch(_,g,void 0),Sc(s,o,O,g)}if(R=(O&s.childLanes)!==0,lr||R){if(g=At,g!==null){switch(O&-O){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=(w&(g.suspendedLanes|O))!==0?0:w,w!==0&&w!==_.retryLane&&(_.retryLane=w,Rn(s,w),en(g,s,w,-1))}return Zh(),g=Ch(Error(r(421))),Sc(s,o,O,g)}return w.data==="$?"?(o.flags|=128,o.child=s.child,o=_T.bind(null,s),w._reactRetry=o,null):(s=_.treeContext,xr=da(w.nextSibling),yr=o,Qe=!0,Xr=null,s!==null&&(Tr[Rr++]=Cn,Tr[Rr++]=Tn,Tr[Rr++]=Wa,Cn=s.id,Tn=s.overflow,Wa=o),o=Lh(o,g.children),o.flags|=4096,o)}function Yb(s,o,f){s.lanes|=o;var g=s.alternate;g!==null&&(g.lanes|=o),ph(s.return,o,f)}function $h(s,o,f,g,w){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:w}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=g,_.tail=f,_.tailMode=w)}function Xb(s,o,f){var g=o.pendingProps,w=g.revealOrder,_=g.tail;if(Qt(s,o,g.children,f),g=at.current,(g&2)!==0)g=g&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Yb(s,f,o);else if(s.tag===19)Yb(s,f,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}g&=1}if(Ke(at,g),(o.mode&1)===0)o.memoizedState=null;else switch(w){case"forwards":for(f=o.child,w=null;f!==null;)s=f.alternate,s!==null&&yc(s)===null&&(w=f),f=f.sibling;f=w,f===null?(w=o.child,o.child=null):(w=f.sibling,f.sibling=null),$h(o,!1,w,f,_);break;case"backwards":for(f=null,w=o.child,o.child=null;w!==null;){if(s=w.alternate,s!==null&&yc(s)===null){o.child=w;break}s=w.sibling,w.sibling=f,f=w,w=s}$h(o,!0,f,null,_);break;case"together":$h(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Nc(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function Dn(s,o,f){if(s!==null&&(o.dependencies=s.dependencies),Ya|=o.lanes,(f&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(r(153));if(o.child!==null){for(s=o.child,f=ja(s,s.pendingProps),o.child=f,f.return=o;s.sibling!==null;)s=s.sibling,f=f.sibling=ja(s,s.pendingProps),f.return=o;f.sibling=null}return o.child}function fT(s,o,f){switch(o.tag){case 3:Vb(o),Wi();break;case 5:ub(o);break;case 1:or(o.type)&&lc(o);break;case 4:vh(o,o.stateNode.containerInfo);break;case 10:var g=o.type._context,w=o.memoizedProps.value;Ke(pc,g._currentValue),g._currentValue=w;break;case 13:if(g=o.memoizedState,g!==null)return g.dehydrated!==null?(Ke(at,at.current&1),o.flags|=128,null):(f&o.child.childLanes)!==0?Gb(s,o,f):(Ke(at,at.current&1),s=Dn(s,o,f),s!==null?s.sibling:null);Ke(at,at.current&1);break;case 19:if(g=(f&o.childLanes)!==0,(s.flags&128)!==0){if(g)return Xb(s,o,f);o.flags|=128}if(w=o.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),Ke(at,at.current),g)break;return null;case 22:case 23:return o.lanes=0,qb(s,o,f)}return Dn(s,o,f)}var Jb,Bh,Qb,Zb;Jb=function(s,o){for(var f=o.child;f!==null;){if(f.tag===5||f.tag===6)s.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===o)break;for(;f.sibling===null;){if(f.return===null||f.return===o)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Bh=function(){},Qb=function(s,o,f,g){var w=s.memoizedProps;if(w!==g){s=o.stateNode,Ha(pn.current);var _=null;switch(f){case"input":w=$e(s,w),g=$e(s,g),_=[];break;case"select":w=ae({},w,{value:void 0}),g=ae({},g,{value:void 0}),_=[];break;case"textarea":w=vf(s,w),g=vf(s,g),_=[];break;default:typeof w.onClick!="function"&&typeof g.onClick=="function"&&(s.onclick=ic)}xf(f,g);var O;f=null;for(q in w)if(!g.hasOwnProperty(q)&&w.hasOwnProperty(q)&&w[q]!=null)if(q==="style"){var R=w[q];for(O in R)R.hasOwnProperty(O)&&(f||(f={}),f[O]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(a.hasOwnProperty(q)?_||(_=[]):(_=_||[]).push(q,null));for(q in g){var D=g[q];if(R=w?.[q],g.hasOwnProperty(q)&&D!==R&&(D!=null||R!=null))if(q==="style")if(R){for(O in R)!R.hasOwnProperty(O)||D&&D.hasOwnProperty(O)||(f||(f={}),f[O]="");for(O in D)D.hasOwnProperty(O)&&R[O]!==D[O]&&(f||(f={}),f[O]=D[O])}else f||(_||(_=[]),_.push(q,f)),f=D;else q==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,R=R?R.__html:void 0,D!=null&&R!==D&&(_=_||[]).push(q,D)):q==="children"?typeof D!="string"&&typeof D!="number"||(_=_||[]).push(q,""+D):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(a.hasOwnProperty(q)?(D!=null&&q==="onScroll"&&Ge("scroll",s),_||R===D||(_=[])):(_=_||[]).push(q,D))}f&&(_=_||[]).push("style",f);var q=_;(o.updateQueue=q)&&(o.flags|=4)}},Zb=function(s,o,f,g){f!==g&&(o.flags|=4)};function Eo(s,o){if(!Qe)switch(s.tailMode){case"hidden":o=s.tail;for(var f=null;o!==null;)o.alternate!==null&&(f=o),o=o.sibling;f===null?s.tail=null:f.sibling=null;break;case"collapsed":f=s.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function Wt(s){var o=s.alternate!==null&&s.alternate.child===s.child,f=0,g=0;if(o)for(var w=s.child;w!==null;)f|=w.lanes|w.childLanes,g|=w.subtreeFlags&14680064,g|=w.flags&14680064,w.return=s,w=w.sibling;else for(w=s.child;w!==null;)f|=w.lanes|w.childLanes,g|=w.subtreeFlags,g|=w.flags,w.return=s,w=w.sibling;return s.subtreeFlags|=g,s.childLanes=f,o}function hT(s,o,f){var g=o.pendingProps;switch(oh(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(o),null;case 1:return or(o.type)&&oc(),Wt(o),null;case 3:return g=o.stateNode,Gi(),Ye(sr),Ye(zt),bh(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(s===null||s.child===null)&&(fc(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Xr!==null&&(Xh(Xr),Xr=null))),Bh(s,o),Wt(o),null;case 5:yh(o);var w=Ha(jo.current);if(f=o.type,s!==null&&o.stateNode!=null)Qb(s,o,f,g,w),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!g){if(o.stateNode===null)throw Error(r(166));return Wt(o),null}if(s=Ha(pn.current),fc(o)){g=o.stateNode,f=o.type;var _=o.memoizedProps;switch(g[hn]=o,g[vo]=_,s=(o.mode&1)!==0,f){case"dialog":Ge("cancel",g),Ge("close",g);break;case"iframe":case"object":case"embed":Ge("load",g);break;case"video":case"audio":for(w=0;w<po.length;w++)Ge(po[w],g);break;case"source":Ge("error",g);break;case"img":case"image":case"link":Ge("error",g),Ge("load",g);break;case"details":Ge("toggle",g);break;case"input":Ft(g,_),Ge("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!_.multiple},Ge("invalid",g);break;case"textarea":M0(g,_),Ge("invalid",g)}xf(f,_),w=null;for(var O in _)if(_.hasOwnProperty(O)){var R=_[O];O==="children"?typeof R=="string"?g.textContent!==R&&(_.suppressHydrationWarning!==!0&&ac(g.textContent,R,s),w=["children",R]):typeof R=="number"&&g.textContent!==""+R&&(_.suppressHydrationWarning!==!0&&ac(g.textContent,R,s),w=["children",""+R]):a.hasOwnProperty(O)&&R!=null&&O==="onScroll"&&Ge("scroll",g)}switch(f){case"input":Oe(g),Vs(g,_,!0);break;case"textarea":Oe(g),$0(g);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(g.onclick=ic)}g=w,o.updateQueue=g,g!==null&&(o.flags|=4)}else{O=w.nodeType===9?w:w.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=B0(f)),s==="http://www.w3.org/1999/xhtml"?f==="script"?(s=O.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof g.is=="string"?s=O.createElement(f,{is:g.is}):(s=O.createElement(f),f==="select"&&(O=s,g.multiple?O.multiple=!0:g.size&&(O.size=g.size))):s=O.createElementNS(s,f),s[hn]=o,s[vo]=g,Jb(s,o,!1,!1),o.stateNode=s;e:{switch(O=bf(f,g),f){case"dialog":Ge("cancel",s),Ge("close",s),w=g;break;case"iframe":case"object":case"embed":Ge("load",s),w=g;break;case"video":case"audio":for(w=0;w<po.length;w++)Ge(po[w],s);w=g;break;case"source":Ge("error",s),w=g;break;case"img":case"image":case"link":Ge("error",s),Ge("load",s),w=g;break;case"details":Ge("toggle",s),w=g;break;case"input":Ft(s,g),w=$e(s,g),Ge("invalid",s);break;case"option":w=g;break;case"select":s._wrapperState={wasMultiple:!!g.multiple},w=ae({},g,{value:void 0}),Ge("invalid",s);break;case"textarea":M0(s,g),w=vf(s,g),Ge("invalid",s);break;default:w=g}xf(f,w),R=w;for(_ in R)if(R.hasOwnProperty(_)){var D=R[_];_==="style"?z0(s,D):_==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&F0(s,D)):_==="children"?typeof D=="string"?(f!=="textarea"||D!=="")&&Gs(s,D):typeof D=="number"&&Gs(s,""+D):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(a.hasOwnProperty(_)?D!=null&&_==="onScroll"&&Ge("scroll",s):D!=null&&P(s,_,D,O))}switch(f){case"input":Oe(s),Vs(s,g,!1);break;case"textarea":Oe(s),$0(s);break;case"option":g.value!=null&&s.setAttribute("value",""+Re(g.value));break;case"select":s.multiple=!!g.multiple,_=g.value,_!=null?Oi(s,!!g.multiple,_,!1):g.defaultValue!=null&&Oi(s,!!g.multiple,g.defaultValue,!0);break;default:typeof w.onClick=="function"&&(s.onclick=ic)}switch(f){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Wt(o),null;case 6:if(s&&o.stateNode!=null)Zb(s,o,s.memoizedProps,g);else{if(typeof g!="string"&&o.stateNode===null)throw Error(r(166));if(f=Ha(jo.current),Ha(pn.current),fc(o)){if(g=o.stateNode,f=o.memoizedProps,g[hn]=o,(_=g.nodeValue!==f)&&(s=yr,s!==null))switch(s.tag){case 3:ac(g.nodeValue,f,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&ac(g.nodeValue,f,(s.mode&1)!==0)}_&&(o.flags|=4)}else g=(f.nodeType===9?f:f.ownerDocument).createTextNode(g),g[hn]=o,o.stateNode=g}return Wt(o),null;case 13:if(Ye(at),g=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Qe&&xr!==null&&(o.mode&1)!==0&&(o.flags&128)===0)rb(),Wi(),o.flags|=98560,_=!1;else if(_=fc(o),g!==null&&g.dehydrated!==null){if(s===null){if(!_)throw Error(r(318));if(_=o.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[hn]=o}else Wi(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Wt(o),_=!1}else Xr!==null&&(Xh(Xr),Xr=null),_=!0;if(!_)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=f,o):(g=g!==null,g!==(s!==null&&s.memoizedState!==null)&&g&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(at.current&1)!==0?wt===0&&(wt=3):Zh())),o.updateQueue!==null&&(o.flags|=4),Wt(o),null);case 4:return Gi(),Bh(s,o),s===null&&mo(o.stateNode.containerInfo),Wt(o),null;case 10:return hh(o.type._context),Wt(o),null;case 17:return or(o.type)&&oc(),Wt(o),null;case 19:if(Ye(at),_=o.memoizedState,_===null)return Wt(o),null;if(g=(o.flags&128)!==0,O=_.rendering,O===null)if(g)Eo(_,!1);else{if(wt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(O=yc(s),O!==null){for(o.flags|=128,Eo(_,!1),g=O.updateQueue,g!==null&&(o.updateQueue=g,o.flags|=4),o.subtreeFlags=0,g=f,f=o.child;f!==null;)_=f,s=g,_.flags&=14680066,O=_.alternate,O===null?(_.childLanes=0,_.lanes=s,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=O.childLanes,_.lanes=O.lanes,_.child=O.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=O.memoizedProps,_.memoizedState=O.memoizedState,_.updateQueue=O.updateQueue,_.type=O.type,s=O.dependencies,_.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),f=f.sibling;return Ke(at,at.current&1|2),o.child}s=s.sibling}_.tail!==null&&ut()>Qi&&(o.flags|=128,g=!0,Eo(_,!1),o.lanes=4194304)}else{if(!g)if(s=yc(O),s!==null){if(o.flags|=128,g=!0,f=s.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),Eo(_,!0),_.tail===null&&_.tailMode==="hidden"&&!O.alternate&&!Qe)return Wt(o),null}else 2*ut()-_.renderingStartTime>Qi&&f!==1073741824&&(o.flags|=128,g=!0,Eo(_,!1),o.lanes=4194304);_.isBackwards?(O.sibling=o.child,o.child=O):(f=_.last,f!==null?f.sibling=O:o.child=O,_.last=O)}return _.tail!==null?(o=_.tail,_.rendering=o,_.tail=o.sibling,_.renderingStartTime=ut(),o.sibling=null,f=at.current,Ke(at,g?f&1|2:f&1),o):(Wt(o),null);case 22:case 23:return Qh(),g=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==g&&(o.flags|=8192),g&&(o.mode&1)!==0?(br&1073741824)!==0&&(Wt(o),o.subtreeFlags&6&&(o.flags|=8192)):Wt(o),null;case 24:return null;case 25:return null}throw Error(r(156,o.tag))}function pT(s,o){switch(oh(o),o.tag){case 1:return or(o.type)&&oc(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Gi(),Ye(sr),Ye(zt),bh(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return yh(o),null;case 13:if(Ye(at),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Wi()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return Ye(at),null;case 4:return Gi(),null;case 10:return hh(o.type._context),null;case 22:case 23:return Qh(),null;case 24:return null;default:return null}}var Ec=!1,Kt=!1,mT=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Xi(s,o){var f=s.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(g){lt(s,o,g)}else f.current=null}function Fh(s,o,f){try{f()}catch(g){lt(s,o,g)}}var ew=!1;function gT(s,o){if(Qf=Hl,s=Tx(),Wf(s)){if("selectionStart"in s)var f={start:s.selectionStart,end:s.selectionEnd};else e:{f=(f=s.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var w=g.anchorOffset,_=g.focusNode;g=g.focusOffset;try{f.nodeType,_.nodeType}catch{f=null;break e}var O=0,R=-1,D=-1,q=0,J=0,Z=s,X=null;t:for(;;){for(var le;Z!==f||w!==0&&Z.nodeType!==3||(R=O+w),Z!==_||g!==0&&Z.nodeType!==3||(D=O+g),Z.nodeType===3&&(O+=Z.nodeValue.length),(le=Z.firstChild)!==null;)X=Z,Z=le;for(;;){if(Z===s)break t;if(X===f&&++q===w&&(R=O),X===_&&++J===g&&(D=O),(le=Z.nextSibling)!==null)break;Z=X,X=Z.parentNode}Z=le}f=R===-1||D===-1?null:{start:R,end:D}}else f=null}f=f||{start:0,end:0}}else f=null;for(Zf={focusedElem:s,selectionRange:f},Hl=!1,ce=o;ce!==null;)if(o=ce,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,ce=s;else for(;ce!==null;){o=ce;try{var de=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var pe=de.memoizedProps,dt=de.memoizedState,B=o.stateNode,L=B.getSnapshotBeforeUpdate(o.elementType===o.type?pe:Jr(o.type,pe),dt);B.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var U=o.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(re){lt(o,o.return,re)}if(s=o.sibling,s!==null){s.return=o.return,ce=s;break}ce=o.return}return de=ew,ew=!1,de}function Po(s,o,f){var g=o.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var w=g=g.next;do{if((w.tag&s)===s){var _=w.destroy;w.destroy=void 0,_!==void 0&&Fh(o,f,_)}w=w.next}while(w!==g)}}function Pc(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var f=o=o.next;do{if((f.tag&s)===s){var g=f.create;f.destroy=g()}f=f.next}while(f!==o)}}function Uh(s){var o=s.ref;if(o!==null){var f=s.stateNode;switch(s.tag){case 5:s=f;break;default:s=f}typeof o=="function"?o(s):o.current=s}}function tw(s){var o=s.alternate;o!==null&&(s.alternate=null,tw(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[hn],delete o[vo],delete o[nh],delete o[QC],delete o[ZC])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function rw(s){return s.tag===5||s.tag===3||s.tag===4}function nw(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||rw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function zh(s,o,f){var g=s.tag;if(g===5||g===6)s=s.stateNode,o?f.nodeType===8?f.parentNode.insertBefore(s,o):f.insertBefore(s,o):(f.nodeType===8?(o=f.parentNode,o.insertBefore(s,f)):(o=f,o.appendChild(s)),f=f._reactRootContainer,f!=null||o.onclick!==null||(o.onclick=ic));else if(g!==4&&(s=s.child,s!==null))for(zh(s,o,f),s=s.sibling;s!==null;)zh(s,o,f),s=s.sibling}function qh(s,o,f){var g=s.tag;if(g===5||g===6)s=s.stateNode,o?f.insertBefore(s,o):f.appendChild(s);else if(g!==4&&(s=s.child,s!==null))for(qh(s,o,f),s=s.sibling;s!==null;)qh(s,o,f),s=s.sibling}var Dt=null,Qr=!1;function va(s,o,f){for(f=f.child;f!==null;)aw(s,o,f),f=f.sibling}function aw(s,o,f){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(Ul,f)}catch{}switch(f.tag){case 5:Kt||Xi(f,o);case 6:var g=Dt,w=Qr;Dt=null,va(s,o,f),Dt=g,Qr=w,Dt!==null&&(Qr?(s=Dt,f=f.stateNode,s.nodeType===8?s.parentNode.removeChild(f):s.removeChild(f)):Dt.removeChild(f.stateNode));break;case 18:Dt!==null&&(Qr?(s=Dt,f=f.stateNode,s.nodeType===8?rh(s.parentNode,f):s.nodeType===1&&rh(s,f),io(s)):rh(Dt,f.stateNode));break;case 4:g=Dt,w=Qr,Dt=f.stateNode.containerInfo,Qr=!0,va(s,o,f),Dt=g,Qr=w;break;case 0:case 11:case 14:case 15:if(!Kt&&(g=f.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){w=g=g.next;do{var _=w,O=_.destroy;_=_.tag,O!==void 0&&((_&2)!==0||(_&4)!==0)&&Fh(f,o,O),w=w.next}while(w!==g)}va(s,o,f);break;case 1:if(!Kt&&(Xi(f,o),g=f.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=f.memoizedProps,g.state=f.memoizedState,g.componentWillUnmount()}catch(R){lt(f,o,R)}va(s,o,f);break;case 21:va(s,o,f);break;case 22:f.mode&1?(Kt=(g=Kt)||f.memoizedState!==null,va(s,o,f),Kt=g):va(s,o,f);break;default:va(s,o,f)}}function iw(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var f=s.stateNode;f===null&&(f=s.stateNode=new mT),o.forEach(function(g){var w=ST.bind(null,s,g);f.has(g)||(f.add(g),g.then(w,w))})}}function Zr(s,o){var f=o.deletions;if(f!==null)for(var g=0;g<f.length;g++){var w=f[g];try{var _=s,O=o,R=O;e:for(;R!==null;){switch(R.tag){case 5:Dt=R.stateNode,Qr=!1;break e;case 3:Dt=R.stateNode.containerInfo,Qr=!0;break e;case 4:Dt=R.stateNode.containerInfo,Qr=!0;break e}R=R.return}if(Dt===null)throw Error(r(160));aw(_,O,w),Dt=null,Qr=!1;var D=w.alternate;D!==null&&(D.return=null),w.return=null}catch(q){lt(w,o,q)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)sw(o,s),o=o.sibling}function sw(s,o){var f=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Zr(o,s),gn(s),g&4){try{Po(3,s,s.return),Pc(3,s)}catch(pe){lt(s,s.return,pe)}try{Po(5,s,s.return)}catch(pe){lt(s,s.return,pe)}}break;case 1:Zr(o,s),gn(s),g&512&&f!==null&&Xi(f,f.return);break;case 5:if(Zr(o,s),gn(s),g&512&&f!==null&&Xi(f,f.return),s.flags&32){var w=s.stateNode;try{Gs(w,"")}catch(pe){lt(s,s.return,pe)}}if(g&4&&(w=s.stateNode,w!=null)){var _=s.memoizedProps,O=f!==null?f.memoizedProps:_,R=s.type,D=s.updateQueue;if(s.updateQueue=null,D!==null)try{R==="input"&&_.type==="radio"&&_.name!=null&&Ut(w,_),bf(R,O);var q=bf(R,_);for(O=0;O<D.length;O+=2){var J=D[O],Z=D[O+1];J==="style"?z0(w,Z):J==="dangerouslySetInnerHTML"?F0(w,Z):J==="children"?Gs(w,Z):P(w,J,Z,q)}switch(R){case"input":Hr(w,_);break;case"textarea":L0(w,_);break;case"select":var X=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!_.multiple;var le=_.value;le!=null?Oi(w,!!_.multiple,le,!1):X!==!!_.multiple&&(_.defaultValue!=null?Oi(w,!!_.multiple,_.defaultValue,!0):Oi(w,!!_.multiple,_.multiple?[]:"",!1))}w[vo]=_}catch(pe){lt(s,s.return,pe)}}break;case 6:if(Zr(o,s),gn(s),g&4){if(s.stateNode===null)throw Error(r(162));w=s.stateNode,_=s.memoizedProps;try{w.nodeValue=_}catch(pe){lt(s,s.return,pe)}}break;case 3:if(Zr(o,s),gn(s),g&4&&f!==null&&f.memoizedState.isDehydrated)try{io(o.containerInfo)}catch(pe){lt(s,s.return,pe)}break;case 4:Zr(o,s),gn(s);break;case 13:Zr(o,s),gn(s),w=s.child,w.flags&8192&&(_=w.memoizedState!==null,w.stateNode.isHidden=_,!_||w.alternate!==null&&w.alternate.memoizedState!==null||(Vh=ut())),g&4&&iw(s);break;case 22:if(J=f!==null&&f.memoizedState!==null,s.mode&1?(Kt=(q=Kt)||J,Zr(o,s),Kt=q):Zr(o,s),gn(s),g&8192){if(q=s.memoizedState!==null,(s.stateNode.isHidden=q)&&!J&&(s.mode&1)!==0)for(ce=s,J=s.child;J!==null;){for(Z=ce=J;ce!==null;){switch(X=ce,le=X.child,X.tag){case 0:case 11:case 14:case 15:Po(4,X,X.return);break;case 1:Xi(X,X.return);var de=X.stateNode;if(typeof de.componentWillUnmount=="function"){g=X,f=X.return;try{o=g,de.props=o.memoizedProps,de.state=o.memoizedState,de.componentWillUnmount()}catch(pe){lt(g,f,pe)}}break;case 5:Xi(X,X.return);break;case 22:if(X.memoizedState!==null){cw(Z);continue}}le!==null?(le.return=X,ce=le):cw(Z)}J=J.sibling}e:for(J=null,Z=s;;){if(Z.tag===5){if(J===null){J=Z;try{w=Z.stateNode,q?(_=w.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(R=Z.stateNode,D=Z.memoizedProps.style,O=D!=null&&D.hasOwnProperty("display")?D.display:null,R.style.display=U0("display",O))}catch(pe){lt(s,s.return,pe)}}}else if(Z.tag===6){if(J===null)try{Z.stateNode.nodeValue=q?"":Z.memoizedProps}catch(pe){lt(s,s.return,pe)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===s)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===s)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===s)break e;J===Z&&(J=null),Z=Z.return}J===Z&&(J=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:Zr(o,s),gn(s),g&4&&iw(s);break;case 21:break;default:Zr(o,s),gn(s)}}function gn(s){var o=s.flags;if(o&2){try{e:{for(var f=s.return;f!==null;){if(rw(f)){var g=f;break e}f=f.return}throw Error(r(160))}switch(g.tag){case 5:var w=g.stateNode;g.flags&32&&(Gs(w,""),g.flags&=-33);var _=nw(s);qh(s,_,w);break;case 3:case 4:var O=g.stateNode.containerInfo,R=nw(s);zh(s,R,O);break;default:throw Error(r(161))}}catch(D){lt(s,s.return,D)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function vT(s,o,f){ce=s,ow(s)}function ow(s,o,f){for(var g=(s.mode&1)!==0;ce!==null;){var w=ce,_=w.child;if(w.tag===22&&g){var O=w.memoizedState!==null||Ec;if(!O){var R=w.alternate,D=R!==null&&R.memoizedState!==null||Kt;R=Ec;var q=Kt;if(Ec=O,(Kt=D)&&!q)for(ce=w;ce!==null;)O=ce,D=O.child,O.tag===22&&O.memoizedState!==null?uw(w):D!==null?(D.return=O,ce=D):uw(w);for(;_!==null;)ce=_,ow(_),_=_.sibling;ce=w,Ec=R,Kt=q}lw(s)}else(w.subtreeFlags&8772)!==0&&_!==null?(_.return=w,ce=_):lw(s)}}function lw(s){for(;ce!==null;){var o=ce;if((o.flags&8772)!==0){var f=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Kt||Pc(5,o);break;case 1:var g=o.stateNode;if(o.flags&4&&!Kt)if(f===null)g.componentDidMount();else{var w=o.elementType===o.type?f.memoizedProps:Jr(o.type,f.memoizedProps);g.componentDidUpdate(w,f.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var _=o.updateQueue;_!==null&&cb(o,_,g);break;case 3:var O=o.updateQueue;if(O!==null){if(f=null,o.child!==null)switch(o.child.tag){case 5:f=o.child.stateNode;break;case 1:f=o.child.stateNode}cb(o,O,f)}break;case 5:var R=o.stateNode;if(f===null&&o.flags&4){f=R;var D=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&f.focus();break;case"img":D.src&&(f.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var q=o.alternate;if(q!==null){var J=q.memoizedState;if(J!==null){var Z=J.dehydrated;Z!==null&&io(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Kt||o.flags&512&&Uh(o)}catch(X){lt(o,o.return,X)}}if(o===s){ce=null;break}if(f=o.sibling,f!==null){f.return=o.return,ce=f;break}ce=o.return}}function cw(s){for(;ce!==null;){var o=ce;if(o===s){ce=null;break}var f=o.sibling;if(f!==null){f.return=o.return,ce=f;break}ce=o.return}}function uw(s){for(;ce!==null;){var o=ce;try{switch(o.tag){case 0:case 11:case 15:var f=o.return;try{Pc(4,o)}catch(D){lt(o,f,D)}break;case 1:var g=o.stateNode;if(typeof g.componentDidMount=="function"){var w=o.return;try{g.componentDidMount()}catch(D){lt(o,w,D)}}var _=o.return;try{Uh(o)}catch(D){lt(o,_,D)}break;case 5:var O=o.return;try{Uh(o)}catch(D){lt(o,O,D)}}}catch(D){lt(o,o.return,D)}if(o===s){ce=null;break}var R=o.sibling;if(R!==null){R.return=o.return,ce=R;break}ce=o.return}}var yT=Math.ceil,Oc=C.ReactCurrentDispatcher,Wh=C.ReactCurrentOwner,Mr=C.ReactCurrentBatchConfig,Ie=0,At=null,pt=null,Mt=0,br=0,Ji=fa(0),wt=0,Oo=null,Ya=0,Ac=0,Kh=0,Ao=null,cr=null,Vh=0,Qi=1/0,Mn=null,Cc=!1,Hh=null,ya=null,Tc=!1,xa=null,Rc=0,Co=0,Gh=null,Ic=-1,Dc=0;function Zt(){return(Ie&6)!==0?ut():Ic!==-1?Ic:Ic=ut()}function ba(s){return(s.mode&1)===0?1:(Ie&2)!==0&&Mt!==0?Mt&-Mt:tT.transition!==null?(Dc===0&&(Dc=nx()),Dc):(s=Be,s!==0||(s=window.event,s=s===void 0?16:fx(s.type)),s)}function en(s,o,f,g){if(50<Co)throw Co=0,Gh=null,Error(r(185));eo(s,f,g),((Ie&2)===0||s!==At)&&(s===At&&((Ie&2)===0&&(Ac|=f),wt===4&&wa(s,Mt)),ur(s,g),f===1&&Ie===0&&(o.mode&1)===0&&(Qi=ut()+500,cc&&pa()))}function ur(s,o){var f=s.callbackNode;tC(s,o);var g=Wl(s,s===At?Mt:0);if(g===0)f!==null&&ex(f),s.callbackNode=null,s.callbackPriority=0;else if(o=g&-g,s.callbackPriority!==o){if(f!=null&&ex(f),o===1)s.tag===0?eT(fw.bind(null,s)):Jx(fw.bind(null,s)),XC(function(){(Ie&6)===0&&pa()}),f=null;else{switch(ax(g)){case 1:f=Ef;break;case 4:f=tx;break;case 16:f=Fl;break;case 536870912:f=rx;break;default:f=Fl}f=bw(f,dw.bind(null,s))}s.callbackPriority=o,s.callbackNode=f}}function dw(s,o){if(Ic=-1,Dc=0,(Ie&6)!==0)throw Error(r(327));var f=s.callbackNode;if(Zi()&&s.callbackNode!==f)return null;var g=Wl(s,s===At?Mt:0);if(g===0)return null;if((g&30)!==0||(g&s.expiredLanes)!==0||o)o=Mc(s,g);else{o=g;var w=Ie;Ie|=2;var _=pw();(At!==s||Mt!==o)&&(Mn=null,Qi=ut()+500,Ja(s,o));do try{wT();break}catch(R){hw(s,R)}while(!0);fh(),Oc.current=_,Ie=w,pt!==null?o=0:(At=null,Mt=0,o=wt)}if(o!==0){if(o===2&&(w=Pf(s),w!==0&&(g=w,o=Yh(s,w))),o===1)throw f=Oo,Ja(s,0),wa(s,g),ur(s,ut()),f;if(o===6)wa(s,g);else{if(w=s.current.alternate,(g&30)===0&&!xT(w)&&(o=Mc(s,g),o===2&&(_=Pf(s),_!==0&&(g=_,o=Yh(s,_))),o===1))throw f=Oo,Ja(s,0),wa(s,g),ur(s,ut()),f;switch(s.finishedWork=w,s.finishedLanes=g,o){case 0:case 1:throw Error(r(345));case 2:Qa(s,cr,Mn);break;case 3:if(wa(s,g),(g&130023424)===g&&(o=Vh+500-ut(),10<o)){if(Wl(s,0)!==0)break;if(w=s.suspendedLanes,(w&g)!==g){Zt(),s.pingedLanes|=s.suspendedLanes&w;break}s.timeoutHandle=th(Qa.bind(null,s,cr,Mn),o);break}Qa(s,cr,Mn);break;case 4:if(wa(s,g),(g&4194240)===g)break;for(o=s.eventTimes,w=-1;0<g;){var O=31-Gr(g);_=1<<O,O=o[O],O>w&&(w=O),g&=~_}if(g=w,g=ut()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*yT(g/1960))-g,10<g){s.timeoutHandle=th(Qa.bind(null,s,cr,Mn),g);break}Qa(s,cr,Mn);break;case 5:Qa(s,cr,Mn);break;default:throw Error(r(329))}}}return ur(s,ut()),s.callbackNode===f?dw.bind(null,s):null}function Yh(s,o){var f=Ao;return s.current.memoizedState.isDehydrated&&(Ja(s,o).flags|=256),s=Mc(s,o),s!==2&&(o=cr,cr=f,o!==null&&Xh(o)),s}function Xh(s){cr===null?cr=s:cr.push.apply(cr,s)}function xT(s){for(var o=s;;){if(o.flags&16384){var f=o.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var g=0;g<f.length;g++){var w=f[g],_=w.getSnapshot;w=w.value;try{if(!Yr(_(),w))return!1}catch{return!1}}}if(f=o.child,o.subtreeFlags&16384&&f!==null)f.return=o,o=f;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function wa(s,o){for(o&=~Kh,o&=~Ac,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var f=31-Gr(o),g=1<<f;s[f]=-1,o&=~g}}function fw(s){if((Ie&6)!==0)throw Error(r(327));Zi();var o=Wl(s,0);if((o&1)===0)return ur(s,ut()),null;var f=Mc(s,o);if(s.tag!==0&&f===2){var g=Pf(s);g!==0&&(o=g,f=Yh(s,g))}if(f===1)throw f=Oo,Ja(s,0),wa(s,o),ur(s,ut()),f;if(f===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Qa(s,cr,Mn),ur(s,ut()),null}function Jh(s,o){var f=Ie;Ie|=1;try{return s(o)}finally{Ie=f,Ie===0&&(Qi=ut()+500,cc&&pa())}}function Xa(s){xa!==null&&xa.tag===0&&(Ie&6)===0&&Zi();var o=Ie;Ie|=1;var f=Mr.transition,g=Be;try{if(Mr.transition=null,Be=1,s)return s()}finally{Be=g,Mr.transition=f,Ie=o,(Ie&6)===0&&pa()}}function Qh(){br=Ji.current,Ye(Ji)}function Ja(s,o){s.finishedWork=null,s.finishedLanes=0;var f=s.timeoutHandle;if(f!==-1&&(s.timeoutHandle=-1,YC(f)),pt!==null)for(f=pt.return;f!==null;){var g=f;switch(oh(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&oc();break;case 3:Gi(),Ye(sr),Ye(zt),bh();break;case 5:yh(g);break;case 4:Gi();break;case 13:Ye(at);break;case 19:Ye(at);break;case 10:hh(g.type._context);break;case 22:case 23:Qh()}f=f.return}if(At=s,pt=s=ja(s.current,null),Mt=br=o,wt=0,Oo=null,Kh=Ac=Ya=0,cr=Ao=null,Va!==null){for(o=0;o<Va.length;o++)if(f=Va[o],g=f.interleaved,g!==null){f.interleaved=null;var w=g.next,_=f.pending;if(_!==null){var O=_.next;_.next=w,g.next=O}f.pending=g}Va=null}return s}function hw(s,o){do{var f=pt;try{if(fh(),xc.current=kc,bc){for(var g=it.memoizedState;g!==null;){var w=g.queue;w!==null&&(w.pending=null),g=g.next}bc=!1}if(Ga=0,Ot=bt=it=null,ko=!1,_o=0,Wh.current=null,f===null||f.return===null){wt=1,Oo=o,pt=null;break}e:{var _=s,O=f.return,R=f,D=o;if(o=Mt,R.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var q=D,J=R,Z=J.tag;if((J.mode&1)===0&&(Z===0||Z===11||Z===15)){var X=J.alternate;X?(J.updateQueue=X.updateQueue,J.memoizedState=X.memoizedState,J.lanes=X.lanes):(J.updateQueue=null,J.memoizedState=null)}var le=$b(O);if(le!==null){le.flags&=-257,Bb(le,O,R,_,o),le.mode&1&&Lb(_,q,o),o=le,D=q;var de=o.updateQueue;if(de===null){var pe=new Set;pe.add(D),o.updateQueue=pe}else de.add(D);break e}else{if((o&1)===0){Lb(_,q,o),Zh();break e}D=Error(r(426))}}else if(Qe&&R.mode&1){var dt=$b(O);if(dt!==null){(dt.flags&65536)===0&&(dt.flags|=256),Bb(dt,O,R,_,o),uh(Yi(D,R));break e}}_=D=Yi(D,R),wt!==4&&(wt=2),Ao===null?Ao=[_]:Ao.push(_),_=O;do{switch(_.tag){case 3:_.flags|=65536,o&=-o,_.lanes|=o;var B=Db(_,D,o);lb(_,B);break e;case 1:R=D;var L=_.type,U=_.stateNode;if((_.flags&128)===0&&(typeof L.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(ya===null||!ya.has(U)))){_.flags|=65536,o&=-o,_.lanes|=o;var re=Mb(_,R,o);lb(_,re);break e}}_=_.return}while(_!==null)}gw(f)}catch(me){o=me,pt===f&&f!==null&&(pt=f=f.return);continue}break}while(!0)}function pw(){var s=Oc.current;return Oc.current=kc,s===null?kc:s}function Zh(){(wt===0||wt===3||wt===2)&&(wt=4),At===null||(Ya&268435455)===0&&(Ac&268435455)===0||wa(At,Mt)}function Mc(s,o){var f=Ie;Ie|=2;var g=pw();(At!==s||Mt!==o)&&(Mn=null,Ja(s,o));do try{bT();break}catch(w){hw(s,w)}while(!0);if(fh(),Ie=f,Oc.current=g,pt!==null)throw Error(r(261));return At=null,Mt=0,wt}function bT(){for(;pt!==null;)mw(pt)}function wT(){for(;pt!==null&&!VA();)mw(pt)}function mw(s){var o=xw(s.alternate,s,br);s.memoizedProps=s.pendingProps,o===null?gw(s):pt=o,Wh.current=null}function gw(s){var o=s;do{var f=o.alternate;if(s=o.return,(o.flags&32768)===0){if(f=hT(f,o,br),f!==null){pt=f;return}}else{if(f=pT(f,o),f!==null){f.flags&=32767,pt=f;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{wt=6,pt=null;return}}if(o=o.sibling,o!==null){pt=o;return}pt=o=s}while(o!==null);wt===0&&(wt=5)}function Qa(s,o,f){var g=Be,w=Mr.transition;try{Mr.transition=null,Be=1,jT(s,o,f,g)}finally{Mr.transition=w,Be=g}return null}function jT(s,o,f,g){do Zi();while(xa!==null);if((Ie&6)!==0)throw Error(r(327));f=s.finishedWork;var w=s.finishedLanes;if(f===null)return null;if(s.finishedWork=null,s.finishedLanes=0,f===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var _=f.lanes|f.childLanes;if(rC(s,_),s===At&&(pt=At=null,Mt=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Tc||(Tc=!0,bw(Fl,function(){return Zi(),null})),_=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||_){_=Mr.transition,Mr.transition=null;var O=Be;Be=1;var R=Ie;Ie|=4,Wh.current=null,gT(s,f),sw(f,s),zC(Zf),Hl=!!Qf,Zf=Qf=null,s.current=f,vT(f),HA(),Ie=R,Be=O,Mr.transition=_}else s.current=f;if(Tc&&(Tc=!1,xa=s,Rc=w),_=s.pendingLanes,_===0&&(ya=null),XA(f.stateNode),ur(s,ut()),o!==null)for(g=s.onRecoverableError,f=0;f<o.length;f++)w=o[f],g(w.value,{componentStack:w.stack,digest:w.digest});if(Cc)throw Cc=!1,s=Hh,Hh=null,s;return(Rc&1)!==0&&s.tag!==0&&Zi(),_=s.pendingLanes,(_&1)!==0?s===Gh?Co++:(Co=0,Gh=s):Co=0,pa(),null}function Zi(){if(xa!==null){var s=ax(Rc),o=Mr.transition,f=Be;try{if(Mr.transition=null,Be=16>s?16:s,xa===null)var g=!1;else{if(s=xa,xa=null,Rc=0,(Ie&6)!==0)throw Error(r(331));var w=Ie;for(Ie|=4,ce=s.current;ce!==null;){var _=ce,O=_.child;if((ce.flags&16)!==0){var R=_.deletions;if(R!==null){for(var D=0;D<R.length;D++){var q=R[D];for(ce=q;ce!==null;){var J=ce;switch(J.tag){case 0:case 11:case 15:Po(8,J,_)}var Z=J.child;if(Z!==null)Z.return=J,ce=Z;else for(;ce!==null;){J=ce;var X=J.sibling,le=J.return;if(tw(J),J===q){ce=null;break}if(X!==null){X.return=le,ce=X;break}ce=le}}}var de=_.alternate;if(de!==null){var pe=de.child;if(pe!==null){de.child=null;do{var dt=pe.sibling;pe.sibling=null,pe=dt}while(pe!==null)}}ce=_}}if((_.subtreeFlags&2064)!==0&&O!==null)O.return=_,ce=O;else e:for(;ce!==null;){if(_=ce,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Po(9,_,_.return)}var B=_.sibling;if(B!==null){B.return=_.return,ce=B;break e}ce=_.return}}var L=s.current;for(ce=L;ce!==null;){O=ce;var U=O.child;if((O.subtreeFlags&2064)!==0&&U!==null)U.return=O,ce=U;else e:for(O=L;ce!==null;){if(R=ce,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:Pc(9,R)}}catch(me){lt(R,R.return,me)}if(R===O){ce=null;break e}var re=R.sibling;if(re!==null){re.return=R.return,ce=re;break e}ce=R.return}}if(Ie=w,pa(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(Ul,s)}catch{}g=!0}return g}finally{Be=f,Mr.transition=o}}return!1}function vw(s,o,f){o=Yi(f,o),o=Db(s,o,1),s=ga(s,o,1),o=Zt(),s!==null&&(eo(s,1,o),ur(s,o))}function lt(s,o,f){if(s.tag===3)vw(s,s,f);else for(;o!==null;){if(o.tag===3){vw(o,s,f);break}else if(o.tag===1){var g=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(ya===null||!ya.has(g))){s=Yi(f,s),s=Mb(o,s,1),o=ga(o,s,1),s=Zt(),o!==null&&(eo(o,1,s),ur(o,s));break}}o=o.return}}function kT(s,o,f){var g=s.pingCache;g!==null&&g.delete(o),o=Zt(),s.pingedLanes|=s.suspendedLanes&f,At===s&&(Mt&f)===f&&(wt===4||wt===3&&(Mt&130023424)===Mt&&500>ut()-Vh?Ja(s,0):Kh|=f),ur(s,o)}function yw(s,o){o===0&&((s.mode&1)===0?o=1:(o=ql,ql<<=1,(ql&130023424)===0&&(ql=4194304)));var f=Zt();s=Rn(s,o),s!==null&&(eo(s,o,f),ur(s,f))}function _T(s){var o=s.memoizedState,f=0;o!==null&&(f=o.retryLane),yw(s,f)}function ST(s,o){var f=0;switch(s.tag){case 13:var g=s.stateNode,w=s.memoizedState;w!==null&&(f=w.retryLane);break;case 19:g=s.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(o),yw(s,f)}var xw;xw=function(s,o,f){if(s!==null)if(s.memoizedProps!==o.pendingProps||sr.current)lr=!0;else{if((s.lanes&f)===0&&(o.flags&128)===0)return lr=!1,fT(s,o,f);lr=(s.flags&131072)!==0}else lr=!1,Qe&&(o.flags&1048576)!==0&&Qx(o,dc,o.index);switch(o.lanes=0,o.tag){case 2:var g=o.type;Nc(s,o),s=o.pendingProps;var w=Ui(o,zt.current);Hi(o,f),w=kh(null,o,g,s,w,f);var _=_h();return o.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,or(g)?(_=!0,lc(o)):_=!1,o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,gh(o),w.updater=_c,o.stateNode=w,w._reactInternals=o,Ah(o,g,s,f),o=Ih(null,o,g,!0,_,f)):(o.tag=0,Qe&&_&&sh(o),Qt(null,o,w,f),o=o.child),o;case 16:g=o.elementType;e:{switch(Nc(s,o),s=o.pendingProps,w=g._init,g=w(g._payload),o.type=g,w=o.tag=ET(g),s=Jr(g,s),w){case 0:o=Rh(null,o,g,s,f);break e;case 1:o=Kb(null,o,g,s,f);break e;case 11:o=Fb(null,o,g,s,f);break e;case 14:o=Ub(null,o,g,Jr(g.type,s),f);break e}throw Error(r(306,g,""))}return o;case 0:return g=o.type,w=o.pendingProps,w=o.elementType===g?w:Jr(g,w),Rh(s,o,g,w,f);case 1:return g=o.type,w=o.pendingProps,w=o.elementType===g?w:Jr(g,w),Kb(s,o,g,w,f);case 3:e:{if(Vb(o),s===null)throw Error(r(387));g=o.pendingProps,_=o.memoizedState,w=_.element,ob(s,o),vc(o,g,null,f);var O=o.memoizedState;if(g=O.element,_.isDehydrated)if(_={element:g,isDehydrated:!1,cache:O.cache,pendingSuspenseBoundaries:O.pendingSuspenseBoundaries,transitions:O.transitions},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){w=Yi(Error(r(423)),o),o=Hb(s,o,g,f,w);break e}else if(g!==w){w=Yi(Error(r(424)),o),o=Hb(s,o,g,f,w);break e}else for(xr=da(o.stateNode.containerInfo.firstChild),yr=o,Qe=!0,Xr=null,f=ib(o,null,g,f),o.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Wi(),g===w){o=Dn(s,o,f);break e}Qt(s,o,g,f)}o=o.child}return o;case 5:return ub(o),s===null&&ch(o),g=o.type,w=o.pendingProps,_=s!==null?s.memoizedProps:null,O=w.children,eh(g,w)?O=null:_!==null&&eh(g,_)&&(o.flags|=32),Wb(s,o),Qt(s,o,O,f),o.child;case 6:return s===null&&ch(o),null;case 13:return Gb(s,o,f);case 4:return vh(o,o.stateNode.containerInfo),g=o.pendingProps,s===null?o.child=Ki(o,null,g,f):Qt(s,o,g,f),o.child;case 11:return g=o.type,w=o.pendingProps,w=o.elementType===g?w:Jr(g,w),Fb(s,o,g,w,f);case 7:return Qt(s,o,o.pendingProps,f),o.child;case 8:return Qt(s,o,o.pendingProps.children,f),o.child;case 12:return Qt(s,o,o.pendingProps.children,f),o.child;case 10:e:{if(g=o.type._context,w=o.pendingProps,_=o.memoizedProps,O=w.value,Ke(pc,g._currentValue),g._currentValue=O,_!==null)if(Yr(_.value,O)){if(_.children===w.children&&!sr.current){o=Dn(s,o,f);break e}}else for(_=o.child,_!==null&&(_.return=o);_!==null;){var R=_.dependencies;if(R!==null){O=_.child;for(var D=R.firstContext;D!==null;){if(D.context===g){if(_.tag===1){D=In(-1,f&-f),D.tag=2;var q=_.updateQueue;if(q!==null){q=q.shared;var J=q.pending;J===null?D.next=D:(D.next=J.next,J.next=D),q.pending=D}}_.lanes|=f,D=_.alternate,D!==null&&(D.lanes|=f),ph(_.return,f,o),R.lanes|=f;break}D=D.next}}else if(_.tag===10)O=_.type===o.type?null:_.child;else if(_.tag===18){if(O=_.return,O===null)throw Error(r(341));O.lanes|=f,R=O.alternate,R!==null&&(R.lanes|=f),ph(O,f,o),O=_.sibling}else O=_.child;if(O!==null)O.return=_;else for(O=_;O!==null;){if(O===o){O=null;break}if(_=O.sibling,_!==null){_.return=O.return,O=_;break}O=O.return}_=O}Qt(s,o,w.children,f),o=o.child}return o;case 9:return w=o.type,g=o.pendingProps.children,Hi(o,f),w=Ir(w),g=g(w),o.flags|=1,Qt(s,o,g,f),o.child;case 14:return g=o.type,w=Jr(g,o.pendingProps),w=Jr(g.type,w),Ub(s,o,g,w,f);case 15:return zb(s,o,o.type,o.pendingProps,f);case 17:return g=o.type,w=o.pendingProps,w=o.elementType===g?w:Jr(g,w),Nc(s,o),o.tag=1,or(g)?(s=!0,lc(o)):s=!1,Hi(o,f),Rb(o,g,w),Ah(o,g,w,f),Ih(null,o,g,!0,s,f);case 19:return Xb(s,o,f);case 22:return qb(s,o,f)}throw Error(r(156,o.tag))};function bw(s,o){return Z0(s,o)}function NT(s,o,f,g){this.tag=s,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(s,o,f,g){return new NT(s,o,f,g)}function ep(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ET(s){if(typeof s=="function")return ep(s)?1:0;if(s!=null){if(s=s.$$typeof,s===V)return 11;if(s===Y)return 14}return 2}function ja(s,o){var f=s.alternate;return f===null?(f=Lr(s.tag,o,s.key,s.mode),f.elementType=s.elementType,f.type=s.type,f.stateNode=s.stateNode,f.alternate=s,s.alternate=f):(f.pendingProps=o,f.type=s.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=s.flags&14680064,f.childLanes=s.childLanes,f.lanes=s.lanes,f.child=s.child,f.memoizedProps=s.memoizedProps,f.memoizedState=s.memoizedState,f.updateQueue=s.updateQueue,o=s.dependencies,f.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},f.sibling=s.sibling,f.index=s.index,f.ref=s.ref,f}function Lc(s,o,f,g,w,_){var O=2;if(g=s,typeof s=="function")ep(s)&&(O=1);else if(typeof s=="string")O=5;else e:switch(s){case T:return Za(f.children,w,_,o);case I:O=8,w|=8;break;case M:return s=Lr(12,f,o,w|2),s.elementType=M,s.lanes=_,s;case Q:return s=Lr(13,f,o,w),s.elementType=Q,s.lanes=_,s;case se:return s=Lr(19,f,o,w),s.elementType=se,s.lanes=_,s;case te:return $c(f,w,_,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case z:O=10;break e;case W:O=9;break e;case V:O=11;break e;case Y:O=14;break e;case oe:O=16,g=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return o=Lr(O,f,o,w),o.elementType=s,o.type=g,o.lanes=_,o}function Za(s,o,f,g){return s=Lr(7,s,g,o),s.lanes=f,s}function $c(s,o,f,g){return s=Lr(22,s,g,o),s.elementType=te,s.lanes=f,s.stateNode={isHidden:!1},s}function tp(s,o,f){return s=Lr(6,s,null,o),s.lanes=f,s}function rp(s,o,f){return o=Lr(4,s.children!==null?s.children:[],s.key,o),o.lanes=f,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function PT(s,o,f,g,w){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Of(0),this.expirationTimes=Of(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Of(0),this.identifierPrefix=g,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function np(s,o,f,g,w,_,O,R,D){return s=new PT(s,o,f,R,D),o===1?(o=1,_===!0&&(o|=8)):o=0,_=Lr(3,null,null,o),s.current=_,_.stateNode=s,_.memoizedState={element:g,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},gh(_),s}function OT(s,o,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:S,key:g==null?null:""+g,children:s,containerInfo:o,implementation:f}}function ww(s){if(!s)return ha;s=s._reactInternals;e:{if(Ua(s)!==s||s.tag!==1)throw Error(r(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(or(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(r(171))}if(s.tag===1){var f=s.type;if(or(f))return Yx(s,f,o)}return o}function jw(s,o,f,g,w,_,O,R,D){return s=np(f,g,!0,s,w,_,O,R,D),s.context=ww(null),f=s.current,g=Zt(),w=ba(f),_=In(g,w),_.callback=o??null,ga(f,_,w),s.current.lanes=w,eo(s,w,g),ur(s,g),s}function Bc(s,o,f,g){var w=o.current,_=Zt(),O=ba(w);return f=ww(f),o.context===null?o.context=f:o.pendingContext=f,o=In(_,O),o.payload={element:s},g=g===void 0?null:g,g!==null&&(o.callback=g),s=ga(w,o,O),s!==null&&(en(s,w,O,_),gc(s,w,O)),O}function Fc(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function kw(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var f=s.retryLane;s.retryLane=f!==0&&f<o?f:o}}function ap(s,o){kw(s,o),(s=s.alternate)&&kw(s,o)}function AT(){return null}var _w=typeof reportError=="function"?reportError:function(s){console.error(s)};function ip(s){this._internalRoot=s}Uc.prototype.render=ip.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(r(409));Bc(s,o,null,null)},Uc.prototype.unmount=ip.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Xa(function(){Bc(null,s,null,null)}),o[On]=null}};function Uc(s){this._internalRoot=s}Uc.prototype.unstable_scheduleHydration=function(s){if(s){var o=ox();s={blockedOn:null,target:s,priority:o};for(var f=0;f<la.length&&o!==0&&o<la[f].priority;f++);la.splice(f,0,s),f===0&&ux(s)}};function sp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function zc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Sw(){}function CT(s,o,f,g,w){if(w){if(typeof g=="function"){var _=g;g=function(){var q=Fc(O);_.call(q)}}var O=jw(o,g,s,0,null,!1,!1,"",Sw);return s._reactRootContainer=O,s[On]=O.current,mo(s.nodeType===8?s.parentNode:s),Xa(),O}for(;w=s.lastChild;)s.removeChild(w);if(typeof g=="function"){var R=g;g=function(){var q=Fc(D);R.call(q)}}var D=np(s,0,!1,null,null,!1,!1,"",Sw);return s._reactRootContainer=D,s[On]=D.current,mo(s.nodeType===8?s.parentNode:s),Xa(function(){Bc(o,D,f,g)}),D}function qc(s,o,f,g,w){var _=f._reactRootContainer;if(_){var O=_;if(typeof w=="function"){var R=w;w=function(){var D=Fc(O);R.call(D)}}Bc(o,O,s,w)}else O=CT(f,o,s,w,g);return Fc(O)}ix=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var f=Zs(o.pendingLanes);f!==0&&(Af(o,f|1),ur(o,ut()),(Ie&6)===0&&(Qi=ut()+500,pa()))}break;case 13:Xa(function(){var g=Rn(s,1);if(g!==null){var w=Zt();en(g,s,1,w)}}),ap(s,1)}},Cf=function(s){if(s.tag===13){var o=Rn(s,134217728);if(o!==null){var f=Zt();en(o,s,134217728,f)}ap(s,134217728)}},sx=function(s){if(s.tag===13){var o=ba(s),f=Rn(s,o);if(f!==null){var g=Zt();en(f,s,o,g)}ap(s,o)}},ox=function(){return Be},lx=function(s,o){var f=Be;try{return Be=s,o()}finally{Be=f}},kf=function(s,o,f){switch(o){case"input":if(Hr(s,f),o=f.name,f.type==="radio"&&o!=null){for(f=s;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<f.length;o++){var g=f[o];if(g!==s&&g.form===s.form){var w=sc(g);if(!w)throw Error(r(90));ee(g),Hr(g,w)}}}break;case"textarea":L0(s,f);break;case"select":o=f.value,o!=null&&Oi(s,!!f.multiple,o,!1)}},V0=Jh,H0=Xa;var TT={usingClientEntryPoint:!1,Events:[yo,Bi,sc,W0,K0,Jh]},To={findFiberByHostInstance:za,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RT={bundleType:To.bundleType,version:To.version,rendererPackageName:To.rendererPackageName,rendererConfig:To.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=J0(s),s===null?null:s.stateNode},findFiberByHostInstance:To.findFiberByHostInstance||AT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wc.isDisabled&&Wc.supportsFiber)try{Ul=Wc.inject(RT),fn=Wc}catch{}}return dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TT,dr.createPortal=function(s,o){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sp(o))throw Error(r(200));return OT(s,o,null,f)},dr.createRoot=function(s,o){if(!sp(s))throw Error(r(299));var f=!1,g="",w=_w;return o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onRecoverableError!==void 0&&(w=o.onRecoverableError)),o=np(s,1,!1,null,null,f,!1,g,w),s[On]=o.current,mo(s.nodeType===8?s.parentNode:s),new ip(o)},dr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=J0(o),s=s===null?null:s.stateNode,s},dr.flushSync=function(s){return Xa(s)},dr.hydrate=function(s,o,f){if(!zc(o))throw Error(r(200));return qc(null,s,o,!0,f)},dr.hydrateRoot=function(s,o,f){if(!sp(s))throw Error(r(405));var g=f!=null&&f.hydratedSources||null,w=!1,_="",O=_w;if(f!=null&&(f.unstable_strictMode===!0&&(w=!0),f.identifierPrefix!==void 0&&(_=f.identifierPrefix),f.onRecoverableError!==void 0&&(O=f.onRecoverableError)),o=jw(o,null,s,1,f??null,w,!1,_,O),s[On]=o.current,mo(s),g)for(s=0;s<g.length;s++)f=g[s],w=f._getVersion,w=w(f._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[f,w]:o.mutableSourceEagerHydrationData.push(f,w);return new Uc(o)},dr.render=function(s,o,f){if(!zc(o))throw Error(r(200));return qc(null,s,o,!1,f)},dr.unmountComponentAtNode=function(s){if(!zc(s))throw Error(r(40));return s._reactRootContainer?(Xa(function(){qc(null,null,s,!1,function(){s._reactRootContainer=null,s[On]=null})}),!0):!1},dr.unstable_batchedUpdates=Jh,dr.unstable_renderSubtreeIntoContainer=function(s,o,f,g){if(!zc(f))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return qc(s,o,f,!1,g)},dr.version="18.3.1-next-f1338f8080-20240426",dr}var Rw;function AS(){if(Rw)return cp.exports;Rw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),cp.exports=UT(),cp.exports}var Iw;function zT(){if(Iw)return Kc;Iw=1;var e=AS();return Kc.createRoot=e.createRoot,Kc.hydrateRoot=e.hydrateRoot,Kc}var qT=zT();const WT=un(qT);var CS=AS();function Xo(){return Xo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xo.apply(this,arguments)}var Oa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Oa||(Oa={}));const Dw="popstate";function KT(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:l,hash:u}=n.location;return Qm("",{pathname:i,search:l,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:bu(a)}return HT(t,r,null,e)}function ht(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function TS(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function VT(){return Math.random().toString(36).substr(2,8)}function Mw(e,t){return{usr:e.state,key:e.key,idx:t}}function Qm(e,t,r,n){return r===void 0&&(r=null),Xo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Es(t):t,{state:r,key:t&&t.key||n||VT()})}function bu(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Es(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function HT(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,l=a.history,u=Oa.Pop,d=null,h=p();h==null&&(h=0,l.replaceState(Xo({},l.state,{idx:h}),""));function p(){return(l.state||{idx:null}).idx}function m(){u=Oa.Pop;let k=p(),N=k==null?null:k-h;h=k,d&&d({action:u,location:b.location,delta:N})}function y(k,N){u=Oa.Push;let A=Qm(b.location,k,N);h=p()+1;let P=Mw(A,h),C=b.createHref(A);try{l.pushState(P,"",C)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;a.location.assign(C)}i&&d&&d({action:u,location:b.location,delta:1})}function v(k,N){u=Oa.Replace;let A=Qm(b.location,k,N);h=p();let P=Mw(A,h),C=b.createHref(A);l.replaceState(P,"",C),i&&d&&d({action:u,location:b.location,delta:0})}function j(k){let N=a.location.origin!=="null"?a.location.origin:a.location.href,A=typeof k=="string"?k:bu(k);return A=A.replace(/ $/,"%20"),ht(N,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,N)}let b={get action(){return u},get location(){return e(a,l)},listen(k){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(Dw,m),d=k,()=>{a.removeEventListener(Dw,m),d=null}},createHref(k){return t(a,k)},createURL:j,encodeLocation(k){let N=j(k);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:y,replace:v,go(k){return l.go(k)}};return b}var Lw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Lw||(Lw={}));function GT(e,t,r){return r===void 0&&(r="/"),YT(e,t,r)}function YT(e,t,r,n){let a=typeof t=="string"?Es(t):t,i=gv(a.pathname||"/",r);if(i==null)return null;let l=RS(e);XT(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let h=lR(i);u=iR(l[d],h)}return u}function RS(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,l,u)=>{let d={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};d.relativePath.startsWith("/")&&(ht(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let h=Aa([n,d.relativePath]),p=r.concat(d);i.children&&i.children.length>0&&(ht(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),RS(i.children,t,p,h)),!(i.path==null&&!i.index)&&t.push({path:h,score:nR(h,i.index),routesMeta:p})};return e.forEach((i,l)=>{var u;if(i.path===""||!((u=i.path)!=null&&u.includes("?")))a(i,l);else for(let d of IS(i.path))a(i,l,d)}),t}function IS(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let l=IS(n.join("/")),u=[];return u.push(...l.map(d=>d===""?i:[i,d].join("/"))),a&&u.push(...l),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function XT(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:aR(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const JT=/^:[\w-]+$/,QT=3,ZT=2,eR=1,tR=10,rR=-2,$w=e=>e==="*";function nR(e,t){let r=e.split("/"),n=r.length;return r.some($w)&&(n+=rR),t&&(n+=ZT),r.filter(a=>!$w(a)).reduce((a,i)=>a+(JT.test(i)?QT:i===""?eR:tR),n)}function aR(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function iR(e,t,r){let{routesMeta:n}=e,a={},i="/",l=[];for(let u=0;u<n.length;++u){let d=n[u],h=u===n.length-1,p=i==="/"?t:t.slice(i.length)||"/",m=sR({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},p),y=d.route;if(!m)return null;Object.assign(a,m.params),l.push({params:a,pathname:Aa([i,m.pathname]),pathnameBase:fR(Aa([i,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(i=Aa([i,m.pathnameBase]))}return l}function sR(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=oR(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],l=i.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:n.reduce((h,p,m)=>{let{paramName:y,isOptional:v}=p;if(y==="*"){let b=u[m]||"";l=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const j=u[m];return v&&!j?h[y]=void 0:h[y]=(j||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:l,pattern:e}}function oR(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),TS(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(n.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function lR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return TS(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function gv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function cR(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Es(e):e;return{pathname:r?r.startsWith("/")?r:uR(r,t):t,search:hR(n),hash:pR(a)}}function uR(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function fp(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function dR(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function vv(e,t){let r=dR(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function yv(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Es(e):(a=Xo({},e),ht(!a.pathname||!a.pathname.includes("?"),fp("?","pathname","search",a)),ht(!a.pathname||!a.pathname.includes("#"),fp("#","pathname","hash",a)),ht(!a.search||!a.search.includes("#"),fp("#","search","hash",a)));let i=e===""||a.pathname==="",l=i?"/":a.pathname,u;if(l==null)u=r;else{let m=t.length-1;if(!n&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),m-=1;a.pathname=y.join("/")}u=m>=0?t[m]:"/"}let d=cR(a,u),h=l&&l!=="/"&&l.endsWith("/"),p=(i||l===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(h||p)&&(d.pathname+="/"),d}const Aa=e=>e.join("/").replace(/\/\/+/g,"/"),fR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),hR=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,pR=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function mR(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const DS=["post","put","patch","delete"];new Set(DS);const gR=["get",...DS];new Set(gR);function Jo(){return Jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jo.apply(this,arguments)}const xv=x.createContext(null),vR=x.createContext(null),Da=x.createContext(null),md=x.createContext(null),Nn=x.createContext({outlet:null,matches:[],isDataRoute:!1}),MS=x.createContext(null);function yR(e,t){let{relative:r}=t===void 0?{}:t;Ps()||ht(!1);let{basename:n,navigator:a}=x.useContext(Da),{hash:i,pathname:l,search:u}=$S(e,{relative:r}),d=l;return n!=="/"&&(d=l==="/"?n:Aa([n,l])),a.createHref({pathname:d,search:u,hash:i})}function Ps(){return x.useContext(md)!=null}function Ni(){return Ps()||ht(!1),x.useContext(md).location}function LS(e){x.useContext(Da).static||x.useLayoutEffect(e)}function En(){let{isDataRoute:e}=x.useContext(Nn);return e?RR():xR()}function xR(){Ps()||ht(!1);let e=x.useContext(xv),{basename:t,future:r,navigator:n}=x.useContext(Da),{matches:a}=x.useContext(Nn),{pathname:i}=Ni(),l=JSON.stringify(vv(a,r.v7_relativeSplatPath)),u=x.useRef(!1);return LS(()=>{u.current=!0}),x.useCallback(function(h,p){if(p===void 0&&(p={}),!u.current)return;if(typeof h=="number"){n.go(h);return}let m=yv(h,JSON.parse(l),i,p.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Aa([t,m.pathname])),(p.replace?n.replace:n.push)(m,p.state,p)},[t,n,l,i,e])}const bR=x.createContext(null);function wR(e){let t=x.useContext(Nn).outlet;return t&&x.createElement(bR.Provider,{value:e},t)}function gd(){let{matches:e}=x.useContext(Nn),t=e[e.length-1];return t?t.params:{}}function $S(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=x.useContext(Da),{matches:a}=x.useContext(Nn),{pathname:i}=Ni(),l=JSON.stringify(vv(a,n.v7_relativeSplatPath));return x.useMemo(()=>yv(e,JSON.parse(l),i,r==="path"),[e,l,i,r])}function jR(e,t){return kR(e,t)}function kR(e,t,r,n){Ps()||ht(!1);let{navigator:a}=x.useContext(Da),{matches:i}=x.useContext(Nn),l=i[i.length-1],u=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let h=Ni(),p;if(t){var m;let k=typeof t=="string"?Es(t):t;d==="/"||(m=k.pathname)!=null&&m.startsWith(d)||ht(!1),p=k}else p=h;let y=p.pathname||"/",v=y;if(d!=="/"){let k=d.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(k.length).join("/")}let j=GT(e,{pathname:v}),b=PR(j&&j.map(k=>Object.assign({},k,{params:Object.assign({},u,k.params),pathname:Aa([d,a.encodeLocation?a.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?d:Aa([d,a.encodeLocation?a.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),i,r,n);return t&&b?x.createElement(md.Provider,{value:{location:Jo({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Oa.Pop}},b):b}function _R(){let e=TR(),t=mR(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:a},r):null,null)}const SR=x.createElement(_R,null);class NR extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(Nn.Provider,{value:this.props.routeContext},x.createElement(MS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ER(e){let{routeContext:t,match:r,children:n}=e,a=x.useContext(xv);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(Nn.Provider,{value:t},n)}function PR(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,u=(a=r)==null?void 0:a.errors;if(u!=null){let p=l.findIndex(m=>m.route.id&&u?.[m.route.id]!==void 0);p>=0||ht(!1),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,h=-1;if(r&&n&&n.v7_partialHydration)for(let p=0;p<l.length;p++){let m=l[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:y,errors:v}=r,j=m.route.loader&&y[m.route.id]===void 0&&(!v||v[m.route.id]===void 0);if(m.route.lazy||j){d=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((p,m,y)=>{let v,j=!1,b=null,k=null;r&&(v=u&&m.route.id?u[m.route.id]:void 0,b=m.route.errorElement||SR,d&&(h<0&&y===0?(IR("route-fallback"),j=!0,k=null):h===y&&(j=!0,k=m.route.hydrateFallbackElement||null)));let N=t.concat(l.slice(0,y+1)),A=()=>{let P;return v?P=b:j?P=k:m.route.Component?P=x.createElement(m.route.Component,null):m.route.element?P=m.route.element:P=p,x.createElement(ER,{match:m,routeContext:{outlet:p,matches:N,isDataRoute:r!=null},children:P})};return r&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?x.createElement(NR,{location:r.location,revalidation:r.revalidation,component:b,error:v,children:A(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):A()},null)}var BS=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(BS||{}),FS=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(FS||{});function OR(e){let t=x.useContext(xv);return t||ht(!1),t}function AR(e){let t=x.useContext(vR);return t||ht(!1),t}function CR(e){let t=x.useContext(Nn);return t||ht(!1),t}function US(e){let t=CR(),r=t.matches[t.matches.length-1];return r.route.id||ht(!1),r.route.id}function TR(){var e;let t=x.useContext(MS),r=AR(),n=US();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function RR(){let{router:e}=OR(BS.UseNavigateStable),t=US(FS.UseNavigateStable),r=x.useRef(!1);return LS(()=>{r.current=!0}),x.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Jo({fromRouteId:t},i)))},[e,t])}const Bw={};function IR(e,t,r){Bw[e]||(Bw[e]=!0)}function DR(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath}function Qo(e){let{to:t,replace:r,state:n,relative:a}=e;Ps()||ht(!1);let{future:i,static:l}=x.useContext(Da),{matches:u}=x.useContext(Nn),{pathname:d}=Ni(),h=En(),p=yv(t,vv(u,i.v7_relativeSplatPath),d,a==="path"),m=JSON.stringify(p);return x.useEffect(()=>h(JSON.parse(m),{replace:r,state:n,relative:a}),[h,m,a,r,n]),null}function MR(e){return wR(e.context)}function Ze(e){ht(!1)}function LR(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Oa.Pop,navigator:i,static:l=!1,future:u}=e;Ps()&&ht(!1);let d=t.replace(/^\/*/,"/"),h=x.useMemo(()=>({basename:d,navigator:i,static:l,future:Jo({v7_relativeSplatPath:!1},u)}),[d,u,i,l]);typeof n=="string"&&(n=Es(n));let{pathname:p="/",search:m="",hash:y="",state:v=null,key:j="default"}=n,b=x.useMemo(()=>{let k=gv(p,d);return k==null?null:{location:{pathname:k,search:m,hash:y,state:v,key:j},navigationType:a}},[d,p,m,y,v,j,a]);return b==null?null:x.createElement(Da.Provider,{value:h},x.createElement(md.Provider,{children:r,value:b}))}function $R(e){let{children:t,location:r}=e;return jR(Zm(t),r)}new Promise(()=>{});function Zm(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,a)=>{if(!x.isValidElement(n))return;let i=[...t,a];if(n.type===x.Fragment){r.push.apply(r,Zm(n.props.children,i));return}n.type!==Ze&&ht(!1),!n.props.index||!n.props.children||ht(!1);let l={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Zm(n.props.children,i)),r.push(l)}),r}function eg(){return eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eg.apply(this,arguments)}function BR(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function FR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function UR(e,t){return e.button===0&&(!t||t==="_self")&&!FR(e)}function tg(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function zR(e,t){let r=tg(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const qR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],WR="6";try{window.__reactRouterVersion=WR}catch{}const KR="startTransition",Fw=OS[KR];function VR(e){let{basename:t,children:r,future:n,window:a}=e,i=x.useRef();i.current==null&&(i.current=KT({window:a,v5Compat:!0}));let l=i.current,[u,d]=x.useState({action:l.action,location:l.location}),{v7_startTransition:h}=n||{},p=x.useCallback(m=>{h&&Fw?Fw(()=>d(m)):d(m)},[d,h]);return x.useLayoutEffect(()=>l.listen(p),[l,p]),x.useEffect(()=>DR(n),[n]),x.createElement(LR,{basename:t,children:r,location:u.location,navigationType:u.action,navigator:l,future:n})}const HR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ke=x.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:l,state:u,target:d,to:h,preventScrollReset:p,viewTransition:m}=t,y=BR(t,qR),{basename:v}=x.useContext(Da),j,b=!1;if(typeof h=="string"&&GR.test(h)&&(j=h,HR))try{let P=new URL(window.location.href),C=h.startsWith("//")?new URL(P.protocol+h):new URL(h),E=gv(C.pathname,v);C.origin===P.origin&&E!=null?h=E+C.search+C.hash:b=!0}catch{}let k=yR(h,{relative:a}),N=YR(h,{replace:l,state:u,target:d,preventScrollReset:p,relative:a,viewTransition:m});function A(P){n&&n(P),P.defaultPrevented||N(P)}return x.createElement("a",eg({},y,{href:j||k,onClick:b||i?n:A,ref:r,target:d}))});var Uw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Uw||(Uw={}));var zw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(zw||(zw={}));function YR(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:l,viewTransition:u}=t===void 0?{}:t,d=En(),h=Ni(),p=$S(e,{relative:l});return x.useCallback(m=>{if(UR(m,r)){m.preventDefault();let y=n!==void 0?n:bu(h)===bu(p);d(e,{replace:y,state:a,preventScrollReset:i,relative:l,viewTransition:u})}},[h,d,p,n,a,r,e,i,l,u])}function zS(e){let t=x.useRef(tg(e)),r=x.useRef(!1),n=Ni(),a=x.useMemo(()=>zR(n.search,r.current?null:t.current),[n.search]),i=En(),l=x.useCallback((u,d)=>{const h=tg(typeof u=="function"?u(a):u);r.current=!0,i("?"+h,d)},[i,a]);return[a,l]}var rg=function(e,t){return rg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},rg(e,t)};function qS(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");rg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var wu=function(){return wu=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},wu.apply(this,arguments)};function Os(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function WS(e,t,r,n){var a=arguments.length,i=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(l=e[u])&&(i=(a<3?l(i):a>3?l(t,r,i):l(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function KS(e,t){return function(r,n){t(r,n,e)}}function VS(e,t,r,n,a,i){function l(N){if(N!==void 0&&typeof N!="function")throw new TypeError("Function expected");return N}for(var u=n.kind,d=u==="getter"?"get":u==="setter"?"set":"value",h=!t&&e?n.static?e:e.prototype:null,p=t||(h?Object.getOwnPropertyDescriptor(h,n.name):{}),m,y=!1,v=r.length-1;v>=0;v--){var j={};for(var b in n)j[b]=b==="access"?{}:n[b];for(var b in n.access)j.access[b]=n.access[b];j.addInitializer=function(N){if(y)throw new TypeError("Cannot add initializers after decoration has completed");i.push(l(N||null))};var k=(0,r[v])(u==="accessor"?{get:p.get,set:p.set}:p[d],j);if(u==="accessor"){if(k===void 0)continue;if(k===null||typeof k!="object")throw new TypeError("Object expected");(m=l(k.get))&&(p.get=m),(m=l(k.set))&&(p.set=m),(m=l(k.init))&&a.unshift(m)}else(m=l(k))&&(u==="field"?a.unshift(m):p[d]=m)}h&&Object.defineProperty(h,n.name,p),y=!0}function HS(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function GS(e){return typeof e=="symbol"?e:"".concat(e)}function YS(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function XS(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ge(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function u(p){try{h(n.next(p))}catch(m){l(m)}}function d(p){try{h(n.throw(p))}catch(m){l(m)}}function h(p){p.done?i(p.value):a(p.value).then(u,d)}h((n=n.apply(e,t||[])).next())})}function JS(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=u(0),l.throw=u(1),l.return=u(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(h){return function(p){return d([h,p])}}function d(h){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(r=0)),r;)try{if(n=1,a&&(i=h[0]&2?a.return:h[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,h[1])).done)return i;switch(a=0,i&&(h=[h[0]&2,i.value]),h[0]){case 0:case 1:i=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,a=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!i||h[1]>i[0]&&h[1]<i[3])){r.label=h[1];break}if(h[0]===6&&r.label<i[1]){r.label=i[1],i=h;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(h);break}i[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(p){h=[6,p],a=0}finally{n=i=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var vd=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});function QS(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&vd(t,e,r)}function ju(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function bv(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],l;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(u){l={error:u}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(l)throw l.error}}return i}function ZS(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(bv(arguments[t]));return e}function eN(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var i=arguments[t],l=0,u=i.length;l<u;l++,a++)n[a]=i[l];return n}function tN(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function gs(e){return this instanceof gs?(this.v=e,this):new gs(e)}function rN(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),a[Symbol.asyncIterator]=function(){return this},a;function l(v){return function(j){return Promise.resolve(j).then(v,m)}}function u(v,j){n[v]&&(a[v]=function(b){return new Promise(function(k,N){i.push([v,b,k,N])>1||d(v,b)})},j&&(a[v]=j(a[v])))}function d(v,j){try{h(n[v](j))}catch(b){y(i[0][3],b)}}function h(v){v.value instanceof gs?Promise.resolve(v.value.v).then(p,m):y(i[0][2],v)}function p(v){d("next",v)}function m(v){d("throw",v)}function y(v,j){v(j),i.shift(),i.length&&d(i[0][0],i[0][1])}}function nN(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,i){t[a]=e[a]?function(l){return(r=!r)?{value:gs(e[a](l)),done:!1}:i?i(l):l}:i}}function aN(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof ju=="function"?ju(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(l){return new Promise(function(u,d){l=e[i](l),a(u,d,l.done,l.value)})}}function a(i,l,u,d){Promise.resolve(d).then(function(h){i({value:h,done:u})},l)}}function iN(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var XR=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},ng=function(e){return ng=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},ng(e)};function sN(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=ng(e),n=0;n<r.length;n++)r[n]!=="default"&&vd(t,e,r[n]);return XR(t,e),t}function oN(e){return e&&e.__esModule?e:{default:e}}function lN(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function cN(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function uN(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function dN(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var JR=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function fN(e){function t(i){e.error=e.hasError?new JR(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(a,function(l){return t(l),a()})}else n|=1}catch(l){t(l)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function hN(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,i,l){return n?t?".jsx":".js":a&&(!i||!l)?r:a+i+"."+l.toLowerCase()+"js"}):e}const QR={__extends:qS,__assign:wu,__rest:Os,__decorate:WS,__param:KS,__esDecorate:VS,__runInitializers:HS,__propKey:GS,__setFunctionName:YS,__metadata:XS,__awaiter:ge,__generator:JS,__createBinding:vd,__exportStar:QS,__values:ju,__read:bv,__spread:ZS,__spreadArrays:eN,__spreadArray:tN,__await:gs,__asyncGenerator:rN,__asyncDelegator:nN,__asyncValues:aN,__makeTemplateObject:iN,__importStar:sN,__importDefault:oN,__classPrivateFieldGet:lN,__classPrivateFieldSet:cN,__classPrivateFieldIn:uN,__addDisposableResource:dN,__disposeResources:fN,__rewriteRelativeImportExtension:hN},ZR=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:dN,get __assign(){return wu},__asyncDelegator:nN,__asyncGenerator:rN,__asyncValues:aN,__await:gs,__awaiter:ge,__classPrivateFieldGet:lN,__classPrivateFieldIn:uN,__classPrivateFieldSet:cN,__createBinding:vd,__decorate:WS,__disposeResources:fN,__esDecorate:VS,__exportStar:QS,__extends:qS,__generator:JS,__importDefault:oN,__importStar:sN,__makeTemplateObject:iN,__metadata:XS,__param:KS,__propKey:GS,__read:bv,__rest:Os,__rewriteRelativeImportExtension:hN,__runInitializers:HS,__setFunctionName:YS,__spread:ZS,__spreadArray:tN,__spreadArrays:eN,__values:ju,default:QR},Symbol.toStringTag,{value:"Module"})),eI=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class wv extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class qw extends wv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Ww extends wv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Kw extends wv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ag;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ag||(ag={}));class tI{constructor(t,{headers:r={},customFetch:n,region:a=ag.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=eI(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ge(this,arguments,void 0,function*(r,n={}){var a;try{const{headers:i,method:l,body:u,signal:d}=n;let h={},{region:p}=n;p||(p=this.region);const m=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,m.searchParams.set("forceFunctionRegion",p));let y;u&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(h["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(h["Content-Type"]="application/json",y=JSON.stringify(u)):y=u;const v=yield this.fetch(m.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),i),body:y,signal:d}).catch(N=>{throw N.name==="AbortError"?N:new qw(N)}),j=v.headers.get("x-relay-error");if(j&&j==="true")throw new Ww(v);if(!v.ok)throw new Kw(v);let b=((a=v.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),k;return b==="application/json"?k=yield v.json():b==="application/octet-stream"||b==="application/pdf"?k=yield v.blob():b==="text/event-stream"?k=v:b==="multipart/form-data"?k=yield v.formData():k=yield v.text(),{data:k,error:null,response:v}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new qw(i)}:{data:null,error:i,response:i instanceof Kw||i instanceof Ww?i.context:void 0}}})}}var Vt={};const As=DT(ZR);var Vc={},Hc={},Gc={},Yc={},Xc={},Jc={},Vw;function pN(){if(Vw)return Jc;Vw=1,Object.defineProperty(Jc,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Jc.default=e,Jc}var Hw;function mN(){if(Hw)return Xc;Hw=1,Object.defineProperty(Xc,"__esModule",{value:!0});const t=As.__importDefault(pN());class r{constructor(a){var i,l;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(i=a.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=a.signal,this.isMaybeSingle=(l=a.isMaybeSingle)!==null&&l!==void 0?l:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,i){return this.headers=new Headers(this.headers),this.headers.set(a,i),this}then(a,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var h,p,m,y;let v=null,j=null,b=null,k=d.status,N=d.statusText;if(d.ok){if(this.method!=="HEAD"){const E=await d.text();E===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?j=E:j=JSON.parse(E))}const P=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),C=(m=d.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");P&&C&&C.length>1&&(b=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(v={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,b=null,k=406,N="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const P=await d.text();try{v=JSON.parse(P),Array.isArray(v)&&d.status===404&&(j=[],v=null,k=200,N="OK")}catch{d.status===404&&P===""?(k=204,N="No Content"):v={message:P}}if(v&&this.isMaybeSingle&&(!((y=v?.details)===null||y===void 0)&&y.includes("0 rows"))&&(v=null,k=200,N="OK"),v&&this.shouldThrowOnError)throw new t.default(v)}return{error:v,data:j,count:b,status:k,statusText:N}});return this.shouldThrowOnError||(u=u.catch(d=>{var h,p,m;return{error:{message:`${(h=d?.name)!==null&&h!==void 0?h:"FetchError"}: ${d?.message}`,details:`${(p=d?.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(m=d?.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),u.then(a,i)}returns(){return this}overrideTypes(){return this}}return Xc.default=r,Xc}var Gw;function gN(){if(Gw)return Yc;Gw=1,Object.defineProperty(Yc,"__esModule",{value:!0});const t=As.__importDefault(mN());class r extends t.default{select(a){let i=!1;const l=(a??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:l,foreignTable:u,referencedTable:d=u}={}){const h=d?`${d}.order`:"order",p=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${p?`${p},`:""}${a}.${i?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:l=i}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${a}`),this}range(a,i,{foreignTable:l,referencedTable:u=l}={}){const d=typeof u>"u"?"offset":`${u}.offset`,h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${a}`),this.url.searchParams.set(h,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:l=!1,buffers:u=!1,wal:d=!1,format:h="text"}={}){var p;const m=[a?"analyze":null,i?"verbose":null,l?"settings":null,u?"buffers":null,d?"wal":null].filter(Boolean).join("|"),y=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${y}"; options=${m};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Yc.default=r,Yc}var Yw;function jv(){if(Yw)return Gc;Yw=1,Object.defineProperty(Gc,"__esModule",{value:!0});const t=As.__importDefault(gN()),r=new RegExp("[,()]");class n extends t.default{eq(i,l){return this.url.searchParams.append(i,`eq.${l}`),this}neq(i,l){return this.url.searchParams.append(i,`neq.${l}`),this}gt(i,l){return this.url.searchParams.append(i,`gt.${l}`),this}gte(i,l){return this.url.searchParams.append(i,`gte.${l}`),this}lt(i,l){return this.url.searchParams.append(i,`lt.${l}`),this}lte(i,l){return this.url.searchParams.append(i,`lte.${l}`),this}like(i,l){return this.url.searchParams.append(i,`like.${l}`),this}likeAllOf(i,l){return this.url.searchParams.append(i,`like(all).{${l.join(",")}}`),this}likeAnyOf(i,l){return this.url.searchParams.append(i,`like(any).{${l.join(",")}}`),this}ilike(i,l){return this.url.searchParams.append(i,`ilike.${l}`),this}ilikeAllOf(i,l){return this.url.searchParams.append(i,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(i,l){return this.url.searchParams.append(i,`ilike(any).{${l.join(",")}}`),this}is(i,l){return this.url.searchParams.append(i,`is.${l}`),this}in(i,l){const u=Array.from(new Set(l)).map(d=>typeof d=="string"&&r.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(i,`in.(${u})`),this}contains(i,l){return typeof l=="string"?this.url.searchParams.append(i,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(i,`cs.{${l.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(l)}`),this}containedBy(i,l){return typeof l=="string"?this.url.searchParams.append(i,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(i,`cd.{${l.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(l)}`),this}rangeGt(i,l){return this.url.searchParams.append(i,`sr.${l}`),this}rangeGte(i,l){return this.url.searchParams.append(i,`nxl.${l}`),this}rangeLt(i,l){return this.url.searchParams.append(i,`sl.${l}`),this}rangeLte(i,l){return this.url.searchParams.append(i,`nxr.${l}`),this}rangeAdjacent(i,l){return this.url.searchParams.append(i,`adj.${l}`),this}overlaps(i,l){return typeof l=="string"?this.url.searchParams.append(i,`ov.${l}`):this.url.searchParams.append(i,`ov.{${l.join(",")}}`),this}textSearch(i,l,{config:u,type:d}={}){let h="";d==="plain"?h="pl":d==="phrase"?h="ph":d==="websearch"&&(h="w");const p=u===void 0?"":`(${u})`;return this.url.searchParams.append(i,`${h}fts${p}.${l}`),this}match(i){return Object.entries(i).forEach(([l,u])=>{this.url.searchParams.append(l,`eq.${u}`)}),this}not(i,l,u){return this.url.searchParams.append(i,`not.${l}.${u}`),this}or(i,{foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.or`:"or";return this.url.searchParams.append(d,`(${i})`),this}filter(i,l,u){return this.url.searchParams.append(i,`${l}.${u}`),this}}return Gc.default=n,Gc}var Xw;function vN(){if(Xw)return Hc;Xw=1,Object.defineProperty(Hc,"__esModule",{value:!0});const t=As.__importDefault(jv());class r{constructor(a,{headers:i={},schema:l,fetch:u}){this.url=a,this.headers=new Headers(i),this.schema=l,this.fetch=u}select(a,i){const{head:l=!1,count:u}=i??{},d=l?"HEAD":"GET";let h=!1;const p=(a??"*").split("").map(m=>/\s/.test(m)&&!h?"":(m==='"'&&(h=!h),m)).join("");return this.url.searchParams.set("select",p),u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:l=!0}={}){var u;const d="POST";if(i&&this.headers.append("Prefer",`count=${i}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const h=a.reduce((p,m)=>p.concat(Object.keys(m)),[]);if(h.length>0){const p=[...new Set(h)].map(m=>`"${m}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:l=!1,count:u,defaultToNull:d=!0}={}){var h;const p="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const m=a.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(m.length>0){const y=[...new Set(m)].map(v=>`"${v}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(a,{count:i}={}){var l;const u="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:a}={}){var i;const l="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Hc.default=r,Hc}var Jw;function rI(){if(Jw)return Vc;Jw=1,Object.defineProperty(Vc,"__esModule",{value:!0});const e=As,t=e.__importDefault(vN()),r=e.__importDefault(jv());class n{constructor(i,{headers:l={},schema:u,fetch:d}={}){this.url=i,this.headers=new Headers(l),this.schemaName=u,this.fetch=d}from(i){const l=new URL(`${this.url}/${i}`);return new t.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,l={},{head:u=!1,get:d=!1,count:h}={}){var p;let m;const y=new URL(`${this.url}/rpc/${i}`);let v;u||d?(m=u?"HEAD":"GET",Object.entries(l).filter(([b,k])=>k!==void 0).map(([b,k])=>[b,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([b,k])=>{y.searchParams.append(b,k)})):(m="POST",v=l);const j=new Headers(this.headers);return h&&j.set("Prefer",`count=${h}`),new r.default({method:m,url:y,headers:j,schema:this.schemaName,body:v,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return Vc.default=n,Vc}var Qw;function nI(){if(Qw)return Vt;Qw=1,Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.PostgrestError=Vt.PostgrestBuilder=Vt.PostgrestTransformBuilder=Vt.PostgrestFilterBuilder=Vt.PostgrestQueryBuilder=Vt.PostgrestClient=void 0;const e=As,t=e.__importDefault(rI());Vt.PostgrestClient=t.default;const r=e.__importDefault(vN());Vt.PostgrestQueryBuilder=r.default;const n=e.__importDefault(jv());Vt.PostgrestFilterBuilder=n.default;const a=e.__importDefault(gN());Vt.PostgrestTransformBuilder=a.default;const i=e.__importDefault(mN());Vt.PostgrestBuilder=i.default;const l=e.__importDefault(pN());return Vt.PostgrestError=l.default,Vt.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:i.default,PostgrestError:l.default},Vt}var yN=nI();const xN=un(yN),aI=ES({__proto__:null,default:xN},[yN]),{PostgrestClient:iI,PostgrestQueryBuilder:TG,PostgrestFilterBuilder:RG,PostgrestTransformBuilder:IG,PostgrestBuilder:DG,PostgrestError:MG}=xN||aI;class sI{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const oI="2.80.0",lI=`realtime-js/${oI}`,cI="1.0.0",ig=1e4,uI=1e3,dI=100;var Vo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Vo||(Vo={}));var jt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(jt||(jt={}));var an;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(an||(an={}));var sg;(function(e){e.websocket="websocket"})(sg||(sg={}));var si;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(si||(si={}));class fI{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let l=this.HEADER_LENGTH+2;const u=n.decode(t.slice(l,l+a));l=l+a;const d=n.decode(t.slice(l,l+i));l=l+i;const h=JSON.parse(n.decode(t.slice(l,t.byteLength)));return{ref:null,topic:u,event:d,payload:h}}}class bN{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ve;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ve||(Ve={}));const Zw=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,l)=>(i[l]=hI(l,e,t,a),i),{}):{}},hI=(e,t,r,n)=>{const a=t.find(u=>u.name===e),i=a?.type,l=r[e];return i&&!n.includes(i)?wN(i,l):og(l)},wN=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return vI(t,r)}switch(e){case Ve.bool:return pI(t);case Ve.float4:case Ve.float8:case Ve.int2:case Ve.int4:case Ve.int8:case Ve.numeric:case Ve.oid:return mI(t);case Ve.json:case Ve.jsonb:return gI(t);case Ve.timestamp:return yI(t);case Ve.abstime:case Ve.date:case Ve.daterange:case Ve.int4range:case Ve.int8range:case Ve.money:case Ve.reltime:case Ve.text:case Ve.time:case Ve.timestamptz:case Ve.timetz:case Ve.tsrange:case Ve.tstzrange:return og(t);default:return og(t)}},og=e=>e,pI=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},mI=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},gI=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},vI=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const l=e.slice(1,r);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(u=>wN(t,u))}return e},yI=e=>typeof e=="string"?e.replace(" ","T"):e,jN=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class hp{constructor(t,r,n={},a=ig){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ej;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ej||(ej={}));class Ho{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ho.syncState(this.state,a,i,l),this.pendingDiffs.forEach(d=>{this.state=Ho.syncDiff(this.state,d,i,l)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Ho.syncDiff(this.state,a,i,l),u())}),this.onJoin((a,i,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:l})}),this.onLeave((a,i,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),l=this.transformState(r),u={},d={};return this.map(i,(h,p)=>{l[h]||(d[h]=p)}),this.map(l,(h,p)=>{const m=i[h];if(m){const y=p.map(k=>k.presence_ref),v=m.map(k=>k.presence_ref),j=p.filter(k=>v.indexOf(k.presence_ref)<0),b=m.filter(k=>y.indexOf(k.presence_ref)<0);j.length>0&&(u[h]=j),b.length>0&&(d[h]=b)}else u[h]=p}),this.syncDiff(i,{joins:u,leaves:d},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(u,d)=>{var h;const p=(h=t[u])!==null&&h!==void 0?h:[];if(t[u]=this.cloneDeep(d),p.length>0){const m=t[u].map(v=>v.presence_ref),y=p.filter(v=>m.indexOf(v.presence_ref)<0);t[u].unshift(...y)}n(u,p,d)}),this.map(l,(u,d)=>{let h=t[u];if(!h)return;const p=d.map(m=>m.presence_ref);h=h.filter(m=>p.indexOf(m.presence_ref)<0),t[u]=h,a(u,h,d),h.length===0&&delete t[u]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var tj;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(tj||(tj={}));var Go;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Go||(Go={}));var Ln;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ln||(Ln={}));class kv{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=jt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new hp(this,an.join,this.params,this.timeout),this.rejoinTimer=new bN(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=jt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=jt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(an.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new Ho(this),this.broadcastEndpointURL=jN(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==jt.closed){const{config:{broadcast:l,presence:u,private:d}}=this.params,h=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&a!==void 0?a:[],p=!!this.bindings[Go.PRESENCE]&&this.bindings[Go.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,m={},y={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:p}),postgres_changes:h,private:d};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(v=>t?.(Ln.CHANNEL_ERROR,v)),this._onClose(()=>t?.(Ln.CLOSED)),this.updateJoinPayload(Object.assign({config:y},m)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var j;if(this.socket.setAuth(),v===void 0){t?.(Ln.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,k=(j=b?.length)!==null&&j!==void 0?j:0,N=[];for(let A=0;A<k;A++){const P=b[A],{filter:{event:C,schema:E,table:S,filter:T}}=P,I=v&&v[A];if(I&&I.event===C&&I.schema===E&&I.table===S&&I.filter===T)N.push(Object.assign(Object.assign({},P),{id:I.id}));else{this.unsubscribe(),this.state=jt.errored,t?.(Ln.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(Ln.SUBSCRIBED);return}}).receive("error",v=>{this.state=jt.errored,t?.(Ln.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t?.(Ln.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===jt.joined&&t===Go.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const h=await u.json();d=h.error||h.message||d}catch{}return Promise.reject(new Error(d))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:l}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=h.body)===null||a===void 0?void 0:a.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var l,u,d;const h=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&i("ok"),h.receive("ok",()=>i("ok")),h.receive("error",()=>i("error")),h.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=jt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(an.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new hp(this,an.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=jt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new hp(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>dI){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const l=t.toLocaleLowerCase(),{close:u,error:d,leave:h,join:p}=an;if(n&&[u,d,h,p].indexOf(l)>=0&&n!==this._joinRef())return;let y=this._onMessage(l,r,n);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(v=>{var j,b,k;return((j=v.filter)===null||j===void 0?void 0:j.event)==="*"||((k=(b=v.filter)===null||b===void 0?void 0:b.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===l}).map(v=>v.callback(y,n)):(i=this.bindings[l])===null||i===void 0||i.filter(v=>{var j,b,k,N,A,P;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in v){const C=v.id,E=(j=v.filter)===null||j===void 0?void 0:j.event;return C&&((b=r.ids)===null||b===void 0?void 0:b.includes(C))&&(E==="*"||E?.toLocaleLowerCase()===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const C=(A=(N=v?.filter)===null||N===void 0?void 0:N.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return C==="*"||C===((P=r?.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===l}).map(v=>{if(typeof y=="object"&&"ids"in y){const j=y.data,{schema:b,table:k,commit_timestamp:N,type:A,errors:P}=j;y=Object.assign(Object.assign({},{schema:b,table:k,commit_timestamp:N,eventType:A,new:{},old:{},errors:P}),this._getPayloadRecords(j))}v.callback(y,n)})}_isClosed(){return this.state===jt.closed}_isJoined(){return this.state===jt.joined}_isJoining(){return this.state===jt.joining}_isLeaving(){return this.state===jt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&kv.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(an.close,{},t)}_onError(t){this._on(an.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=jt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Zw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Zw(t.columns,t.old_record)),r}}const pp=()=>{},Qc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},xI=[1e3,2e3,5e3,1e4],bI=1e4,wI=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class jI{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ig,this.transport=null,this.heartbeatIntervalMs=Qc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=pp,this.ref=0,this.reconnectTimer=null,this.logger=pp,this.conn=null,this.sendBuffer=[],this.serializer=new fI,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${sg.websocket}`,this.httpEndpoint=jN(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=sI.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:cI}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Vo.connecting:return si.Connecting;case Vo.open:return si.Open;case Vo.closing:return si.Closing;default:return si.Closed}}isConnected(){return this.connectionState()===si.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new kv(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,l=()=>{this.encode(t,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(uI,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Qc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:l}=r,u=l?`(${l})`:"",d=i.status||"";this.log("receive",`${d} ${n} ${a} ${u}`.trim(),i),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(a,i,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(an.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([wI],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:lI};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(an.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new bN(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Qc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,l,u,d,h,p;if(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:ig,this.heartbeatIntervalMs=(a=t?.heartbeatIntervalMs)!==null&&a!==void 0?a:Qc.HEARTBEAT_INTERVAL,this.worker=(i=t?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(l=t?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=t?.heartbeatCallback)!==null&&u!==void 0?u:pp,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t?.reconnectAfterMs)!==null&&d!==void 0?d:(m=>xI[m-1]||bI),this.encode=(h=t?.encode)!==null&&h!==void 0?h:((m,y)=>y(JSON.stringify(m))),this.decode=(p=t?.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class _v extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function st(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class kI extends _v{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class lg extends _v{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const Sv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),_I=()=>Response,cg=e=>{if(Array.isArray(e))return e.map(r=>cg(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=cg(n)}),t},SI=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},mp=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},NI=(e,t,r)=>ge(void 0,void 0,void 0,function*(){const n=yield _I();e instanceof n&&!r?.noResolveJson?e.json().then(a=>{const i=e.status||500,l=a?.statusCode||i+"";t(new kI(mp(a),i,l))}).catch(a=>{t(new lg(mp(a),a))}):t(new lg(mp(e),e))}),EI=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"||!n?a:(SI(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,t?.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function ml(e,t,r,n,a,i){return ge(this,void 0,void 0,function*(){return new Promise((l,u)=>{e(r,EI(t,n,a,i)).then(d=>{if(!d.ok)throw d;return n?.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>NI(d,u,n))})})}function Zo(e,t,r,n){return ge(this,void 0,void 0,function*(){return ml(e,"GET",t,r,n)})}function nn(e,t,r,n,a){return ge(this,void 0,void 0,function*(){return ml(e,"POST",t,n,a,r)})}function ug(e,t,r,n,a){return ge(this,void 0,void 0,function*(){return ml(e,"PUT",t,n,a,r)})}function PI(e,t,r,n){return ge(this,void 0,void 0,function*(){return ml(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Nv(e,t,r,n,a){return ge(this,void 0,void 0,function*(){return ml(e,"DELETE",t,n,a,r)})}class OI{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return ge(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(st(t))return{data:null,error:t};throw t}})}}var kN;class AI{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[kN]="BlobDownloadBuilder",this.promise=null}asStream(){return new OI(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ge(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(st(t))return{data:null,error:t};throw t}})}}kN=Symbol.toStringTag;const CI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},rj={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class TI{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=Sv(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return ge(this,void 0,void 0,function*(){try{let i;const l=Object.assign(Object.assign({},rj),a);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),d&&i.append("metadata",this.encodeMetadata(d)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",l.cacheControl),d&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(d))):(i=n,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,d&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(d))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!l.duplex&&(l.duplex="half")),a?.headers&&(u=Object.assign(Object.assign({},u),a.headers));const h=this._removeEmptyFolders(r),p=this._getFinalPath(h),m=yield(t=="PUT"?ug:nn)(this.fetch,`${this.url}/object/${p}`,i,Object.assign({headers:u},l?.duplex?{duplex:l.duplex}:{}));return{data:{path:h,id:m.Id,fullPath:m.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}upload(t,r,n){return ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return ge(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),l=this._getFinalPath(i),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",r);try{let d;const h=Object.assign({upsert:rj.upsert},a),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",h.cacheControl)):(d=n,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType);const m=yield ug(this.fetch,u.toString(),d,{headers:p});return{data:{path:i,fullPath:m.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(st(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,r){return ge(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r?.upsert&&(a["x-upsert"]="true");const i=yield nn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),l=new URL(this.url+i.url),u=l.searchParams.get("token");if(!u)throw new _v("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:u},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}update(t,r,n){return ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return ge(this,void 0,void 0,function*(){try{return{data:yield nn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a))return{data:null,error:a};throw a}})}copy(t,r,n){return ge(this,void 0,void 0,function*(){try{return{data:{path:(yield nn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return ge(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield nn(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${l}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return ge(this,void 0,void 0,function*(){try{const a=yield nn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof r?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(r?.transform||{}),l=i?`?${i}`:"",u=this._getFinalPath(t),d=()=>Zo(this.fetch,`${this.url}/${a}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new AI(d,this.shouldThrowOnError)}info(t){return ge(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Zo(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:cg(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}exists(t){return ge(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield PI(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n)&&n instanceof lg){const a=n.originalError;if([400,404].includes(a?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r?.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const u=typeof r?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(r?.transform||{});d!==""&&a.push(d);let h=a.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${n}${h}`)}}}remove(t){return ge(this,void 0,void 0,function*(){try{return{data:yield Nv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}list(t,r,n){return ge(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},CI),r),{prefix:t||""});return{data:yield nn(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a))return{data:null,error:a};throw a}})}listV2(t,r){return ge(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield nn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const _N="2.80.0",SN={"X-Client-Info":`storage-js/${_N}`};class RI{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},SN),r),this.fetch=Sv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return ge(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Zo(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}getBucket(t){return ge(this,void 0,void 0,function*(){try{return{data:yield Zo(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}createBucket(t){return ge(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield nn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return ge(this,void 0,void 0,function*(){try{return{data:yield ug(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ge(this,void 0,void 0,function*(){try{return{data:yield nn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ge(this,void 0,void 0,function*(){try{return{data:yield Nv(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class II{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},SN),r),this.fetch=Sv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ge(this,void 0,void 0,function*(){try{return{data:yield nn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}listBuckets(t){return ge(this,void 0,void 0,function*(){try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Zo(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ge(this,void 0,void 0,function*(){try{return{data:yield Nv(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}}const Ev={"X-Client-Info":`storage-js/${_N}`,"Content-Type":"application/json"};class NN extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Sr(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class gp extends NN{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class DI extends NN{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var nj;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(nj||(nj={}));const Pv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),MI=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},aj=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),LI=(e,t,r)=>ge(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!r?.noResolveJson){const a=e.status||500,i=e;if(typeof i.json=="function")i.json().then(l=>{const u=l?.statusCode||l?.code||a+"";t(new gp(aj(l),a,u))}).catch(()=>{const l=a+"",u=i.statusText||`HTTP ${a} error`;t(new gp(u,a,l))});else{const l=a+"",u=i.statusText||`HTTP ${a} error`;t(new gp(u,a,l))}}else t(new DI(aj(e),e))}),$I=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return n?(MI(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function BI(e,t,r,n,a,i){return ge(this,void 0,void 0,function*(){return new Promise((l,u)=>{e(r,$I(t,n,a,i)).then(d=>{if(!d.ok)throw d;if(n?.noResolveJson)return d;const h=d.headers.get("content-type");return!h||!h.includes("application/json")?{}:d.json()}).then(d=>l(d)).catch(d=>LI(d,u,n))})})}function Nr(e,t,r,n,a){return ge(this,void 0,void 0,function*(){return BI(e,"POST",t,n,a,r)})}class FI{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ev),r),this.fetch=Pv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return ge(this,void 0,void 0,function*(){try{return{data:(yield Nr(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}})}getIndex(t,r){return ge(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Sr(n))return{data:null,error:n};throw n}})}listIndexes(t){return ge(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return ge(this,void 0,void 0,function*(){try{return{data:(yield Nr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Sr(n))return{data:null,error:n};throw n}})}}class UI{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ev),r),this.fetch=Pv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return ge(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Nr(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}})}getVectors(t){return ge(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}})}listVectors(t){return ge(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Nr(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}})}queryVectors(t){return ge(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}})}deleteVectors(t){return ge(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Nr(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}})}}class zI{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ev),r),this.fetch=Pv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ge(this,void 0,void 0,function*(){try{return{data:(yield Nr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}})}getBucket(t){return ge(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}})}listBuckets(){return ge(this,arguments,void 0,function*(t={}){try{return{data:yield Nr(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ge(this,void 0,void 0,function*(){try{return{data:(yield Nr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}})}}class qI extends zI{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new WI(this.url,this.headers,t,this.fetch)}}class WI extends FI{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ge(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ge(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ge(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ge(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new KI(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class KI extends UI{constructor(t,r,n,a,i){super(t,r,i),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ge(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ge(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ge(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ge(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ge(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class VI extends RI{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new TI(this.url,this.headers,t,this.fetch)}get vectors(){return new qI(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new II(this.url+"/iceberg",this.headers,this.fetch)}}const HI="2.80.0";let qo="";typeof Deno<"u"?qo="deno":typeof document<"u"?qo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qo="react-native":qo="node";const GI={"X-Client-Info":`supabase-js-${qo}/${HI}`},YI={headers:GI},XI={schema:"public"},JI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},QI={},ZI=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),eD=()=>Headers,tD=(e,t,r)=>{const n=ZI(r),a=eD();return async(i,l)=>{var u;const d=(u=await t())!==null&&u!==void 0?u:e;let h=new a(l?.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${d}`),n(i,Object.assign(Object.assign({},l),{headers:h}))}};function rD(e){return e.endsWith("/")?e:e+"/"}function nD(e,t){var r,n;const{db:a,auth:i,realtime:l,global:u}=e,{db:d,auth:h,realtime:p,global:m}=t,y={db:Object.assign(Object.assign({},d),a),auth:Object.assign(Object.assign({},h),i),realtime:Object.assign(Object.assign({},p),l),storage:{},global:Object.assign(Object.assign(Object.assign({},m),u),{headers:Object.assign(Object.assign({},(r=m?.headers)!==null&&r!==void 0?r:{}),(n=u?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}function aD(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(rD(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const EN="2.80.0",ls=30*1e3,dg=3,vp=dg*ls,iD="http://localhost:9999",sD="supabase.auth.token",oD={"X-Client-Info":`gotrue-js/${EN}`},fg="X-Supabase-Api-Version",PN={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},lD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,cD=600*1e3;class el extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ve(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class uD extends el{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function dD(e){return ve(e)&&e.name==="AuthApiError"}class oi extends el{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ma extends el{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class tn extends Ma{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function fD(e){return ve(e)&&e.name==="AuthSessionMissingError"}class es extends Ma{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Zc extends Ma{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class eu extends Ma{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function hD(e){return ve(e)&&e.name==="AuthImplicitGrantRedirectError"}class ij extends Ma{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hg extends Ma{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function yp(e){return ve(e)&&e.name==="AuthRetryableFetchError"}class sj extends Ma{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class pg extends Ma{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ku="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),oj=` 	
\r=`.split(""),pD=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<oj.length;t+=1)e[oj[t].charCodeAt(0)]=-2;for(let t=0;t<ku.length;t+=1)e[ku[t].charCodeAt(0)]=t;return e})();function lj(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ku[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ku[n]),t.queuedBits-=6}}function ON(e,t,r){const n=pD[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function cj(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=l=>{vD(l,n,r)};for(let l=0;l<e.length;l+=1)ON(e.charCodeAt(l),a,i);return t.join("")}function mD(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function gD(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}mD(n,t)}}function vD(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function ds(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)ON(e.charCodeAt(a),r,n);return new Uint8Array(t)}function yD(e){const t=[];return gD(e,r=>t.push(r)),new Uint8Array(t)}function li(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>lj(a,r,n)),lj(null,r,n),t.join("")}function xD(e){return Math.round(Date.now()/1e3)+e}function bD(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ht=()=>typeof window<"u"&&typeof document<"u",ei={tested:!1,writable:!1},AN=()=>{if(!Ht())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ei.tested)return ei.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ei.tested=!0,ei.writable=!0}catch{ei.tested=!0,ei.writable=!1}return ei.writable};function wD(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const CN=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),jD=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",cs=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ti=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},_a=async(e,t)=>{await e.removeItem(t)};class yd{constructor(){this.promise=new yd.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}yd.promiseConstructor=Promise;function xp(e){const t=e.split(".");if(t.length!==3)throw new pg("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!lD.test(t[n]))throw new pg("JWT not in base64url format");return{header:JSON.parse(cj(t[0])),payload:JSON.parse(cj(t[1])),signature:ds(t[2]),raw:{header:t[0],payload:t[1]}}}async function kD(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function _D(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const l=await e(i);if(!t(i,null,l)){n(l);return}}catch(l){if(!t(i,l)){a(l);return}}})()})}function SD(e){return("0"+e.toString(16)).substr(-2)}function ND(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,SD).join("")}async function ED(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function PD(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await ED(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ts(e,t,r=!1){const n=ND();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await cs(e,`${t}-code-verifier`,a);const i=await PD(n);return[i,n===i?"plain":"s256"]}const OD=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function AD(e){const t=e.headers.get(fg);if(!t||!t.match(OD))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function CD(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function TD(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const RD=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function rs(e){if(!RD.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function bp(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ID(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function uj(e){return JSON.parse(JSON.stringify(e))}const ri=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),DD=[502,503,504];async function dj(e){var t;if(!jD(e))throw new hg(ri(e),0);if(DD.includes(e.status))throw new hg(ri(e),e.status);let r;try{r=await e.json()}catch(i){throw new oi(ri(i),i)}let n;const a=AD(e);if(a&&a.getTime()>=PN["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new sj(ri(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new tn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0))throw new sj(ri(r),e.status,r.weak_password.reasons);throw new uD(ri(r),e.status||500,n)}const MD=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function _e(e,t,r,n){var a;const i=Object.assign({},n?.headers);i[fg]||(i[fg]=PN["2024-01-01"].name),n?.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const l=(a=n?.query)!==null&&a!==void 0?a:{};n?.redirectTo&&(l.redirect_to=n.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await LD(e,t,r+u,{headers:i,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(d):{data:Object.assign({},d),error:null}}async function LD(e,t,r,n,a,i){const l=MD(t,n,a,i);let u;try{u=await e(r,Object.assign({},l))}catch(d){throw console.error(d),new hg(ri(d),0)}if(u.ok||await dj(u),n?.noResolveJson)return u;try{return await u.json()}catch(d){await dj(d)}}function rn(e){var t;let r=null;FD(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=xD(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function fj(e){const t=rn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ea(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function $D(e){return{data:e,error:null}}function BD(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,l=Os(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},d=Object.assign({},l);return{data:{properties:u,user:d},error:null}}function hj(e){return e}function FD(e){return e.access_token&&e.refresh_token&&e.expires_in}const wp=["global","local","others"];class UD{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=CN(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=wp[0]){if(wp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${wp.join(", ")}`);try{return await _e(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await _e(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ea})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Os(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n?.newEmail,delete a.newEmail),await _e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:BD,redirectTo:r?.redirectTo})}catch(r){if(ve(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await _e(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ea})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,l,u,d;try{const h={nextPage:null,lastPage:0,total:0},p=await _e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:hj});if(p.error)throw p.error;const m=await p.json(),y=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(j=>{const b=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(j.split(";")[1].split("=")[1]);h[`${k}Page`]=b}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},m),h),error:null}}catch(h){if(ve(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){rs(t);try{return await _e(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ea})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){rs(t);try{return await _e(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ea})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){rs(t);try{return await _e(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ea})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){rs(t.userId);try{const{data:r,error:n}=await _e(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _deleteFactor(t){rs(t.userId),rs(t.id);try{return{data:await _e(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,l,u,d;try{const h={nextPage:null,lastPage:0,total:0},p=await _e(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:hj});if(p.error)throw p.error;const m=await p.json(),y=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(j=>{const b=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(j.split(";")[1].split("=")[1]);h[`${k}Page`]=b}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},m),h),error:null}}catch(h){if(ve(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(t){try{return await _e(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await _e(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await _e(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ve(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await _e(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await _e(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}}function pj(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const ns={debug:!!(globalThis&&AN()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class TN extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class zD extends TN{}async function qD(e,t,r){ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ns.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new zD(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ns.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function WD(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function RN(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function KD(e){return parseInt(e,16)}function VD(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function HD(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:l,notBefore:u,requestId:d,resources:h,scheme:p,uri:m,version:y}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const v=RN(e.address),j=p?`${p}://${n}`:n,b=e.statement?`${e.statement}
`:"",k=`${j} wants you to sign in with your Ethereum account:
${v}

${b}`;let N=`URI: ${m}
Version: ${y}
Chain ID: ${r}${l?`
Nonce: ${l}`:""}
Issued At: ${i.toISOString()}`;if(a&&(N+=`
Expiration Time: ${a.toISOString()}`),u&&(N+=`
Not Before: ${u.toISOString()}`),d&&(N+=`
Request ID: ${d}`),h){let A=`
Resources:`;for(const P of h){if(!P||typeof P!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${P}`);A+=`
- ${P}`}N+=A}return`${k}
${N}`}class mt extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class _u extends mt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function GD({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new mt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new mt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new mt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new mt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new mt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new mt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new mt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new mt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(IN(l)){if(i.rp.id!==l)return new mt({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new mt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new mt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function YD({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new mt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new mt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(IN(n)){if(r.rpId!==n)return new mt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new mt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class XD{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const JD=new XD;function QD(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=Os(e,["challenge","user","excludeCredentials"]),i=ds(t).buffer,l=Object.assign(Object.assign({},r),{id:ds(r.id).buffer}),u=Object.assign(Object.assign({},a),{challenge:i,user:l});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const h=n[d];u.excludeCredentials[d]=Object.assign(Object.assign({},h),{id:ds(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return u}function ZD(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Os(e,["challenge","allowCredentials"]),a=ds(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];i.allowCredentials[l]=Object.assign(Object.assign({},u),{id:ds(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return i}function eM(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:li(new Uint8Array(e.response.attestationObject)),clientDataJSON:li(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function tM(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:li(new Uint8Array(a.authenticatorData)),clientDataJSON:li(new Uint8Array(a.clientDataJSON)),signature:li(new Uint8Array(a.signature)),userHandle:a.userHandle?li(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function IN(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function mj(){var e,t;return!!(Ht()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function rM(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new _u("Browser returned unexpected credential type",t)}:{data:null,error:new _u("Empty credential response",t)}}catch(t){return{data:null,error:GD({error:t,options:e})}}}async function nM(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new _u("Browser returned unexpected credential type",t)}:{data:null,error:new _u("Empty credential response",t)}}catch(t){return{data:null,error:YD({error:t,options:e})}}}const aM={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},iM={userVerification:"preferred",hints:["security-key"]};function Su(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const l=a[i];if(l!==void 0)if(Array.isArray(l))n[i]=l;else if(r(l))n[i]=l;else if(t(l)){const u=n[i];t(u)?n[i]=Su(u,l):n[i]=Su(l)}else n[i]=l}return n}function sM(e,t){return Su(aM,e,t||{})}function oM(e,t){return Su(iM,e,t||{})}class lM{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:u};const d=a??JD.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:h}=l.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${n}`),h.displayName||(h.displayName=h.name)}switch(l.webauthn.type){case"create":{const h=sM(l.webauthn.credential_options.publicKey,i?.create),{data:p,error:m}=await rM({publicKey:h,signal:d});return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}case"request":{const h=oM(l.webauthn.credential_options.publicKey,i?.request),{data:p,error:m}=await nM(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:h,signal:d}));return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}}}catch(l){return ve(l)?{data:null,error:l}:{data:null,error:new oi("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}},i){if(!r)return{data:null,error:new el("rpId is required for WebAuthn authentication")};try{if(!mj())return{data:null,error:new oi("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!l)return{data:null,error:u};const{webauthn:d}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:n,credential_response:d.credential_response}})}catch(l){return ve(l)?{data:null,error:l}:{data:null,error:new oi("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a},i){if(!r)return{data:null,error:new el("rpId is required for WebAuthn registration")};try{if(!mj())return{data:null,error:new oi("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(p=>{var m;return(m=p.data)===null||m===void 0?void 0:m.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:u};const{data:d,error:h}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:h}}catch(l){return ve(l)?{data:null,error:l}:{data:null,error:new oi("Unexpected error in register",l)}}}}WD();const cM={url:iD,storageKey:sD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:oD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function gj(e,t,r){return await r()}const as={};class tl{get jwks(){var t,r;return(r=(t=as[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){as[this.storageKey]=Object.assign(Object.assign({},as[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=as[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){as[this.storageKey]=Object.assign(Object.assign({},as[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},cM),t);if(this.storageKey=i.storageKey,this.instanceID=(r=tl.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,tl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Ht()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new UD({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=CN(i.fetch),this.lock=i.lock||gj,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:Ht()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=qD:this.lock=gj,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new lM(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:AN()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=pj(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=pj(this.memoryStorage)),Ht()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${EN}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Ht()&&(r=wD(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Ht()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),hD(i)){const d=(t=i.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:l,redirectType:u}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ve(r)?this._returnResult({error:r}):this._returnResult({error:new oi("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:rn}),{data:l,error:u}=i;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(i){if(ve(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:p,password:m,options:y}=t;let v=null,j=null;this.flowType==="pkce"&&([v,j]=await ts(this.storage,this.storageKey)),i=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:p,password:m,data:(r=y?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:v,code_challenge_method:j},xform:rn})}else if("phone"in t){const{phone:p,password:m,options:y}=t;i=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:m,data:(n=y?.data)!==null&&n!==void 0?n:{},channel:(a=y?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:rn})}else throw new Zc("You must provide either an email or phone number and a password");const{data:l,error:u}=i;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(i){if(ve(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:l,options:u}=t;r=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:fj})}else if("phone"in t){const{phone:i,password:l,options:u}=t;r=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:fj})}else throw new Zc("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new es;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(ve(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,l,u,d,h,p,m,y;let v,j;if("message"in t)v=t.message,j=t.signature;else{const{chain:b,wallet:k,statement:N,options:A}=t;let P;if(Ht())if(typeof k=="object")P=k;else{const M=window;if("ethereum"in M&&typeof M.ethereum=="object"&&"request"in M.ethereum&&typeof M.ethereum.request=="function")P=M.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=k}const C=new URL((r=A?.url)!==null&&r!==void 0?r:window.location.href),E=await P.request({method:"eth_requestAccounts"}).then(M=>M).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=RN(E[0]);let T=(n=A?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!T){const M=await P.request({method:"eth_chainId"});T=KD(M)}const I={domain:C.host,address:S,statement:N,uri:C.href,version:"1",chainId:T,nonce:(a=A?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(l=(i=A?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=A?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=A?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(h=A?.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(p=A?.signInWithEthereum)===null||p===void 0?void 0:p.resources};v=HD(I),j=await P.request({method:"personal_sign",params:[VD(v),S]})}try{const{data:b,error:k}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:j},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:rn});if(k)throw k;if(!b||!b.session||!b.user){const N=new es;return this._returnResult({data:{user:null,session:null},error:N})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:k})}catch(b){if(ve(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async signInWithSolana(t){var r,n,a,i,l,u,d,h,p,m,y,v;let j,b;if("message"in t)j=t.message,b=t.signature;else{const{chain:k,wallet:N,statement:A,options:P}=t;let C;if(Ht())if(typeof N=="object")C=N;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))C=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=N}const E=new URL((r=P?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in C&&C.signIn){const S=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P?.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),A?{statement:A}:null));let T;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")T=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)T=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)j=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),b=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${E.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(a=(n=P?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=P?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((l=P?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((u=P?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((d=P?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((h=P?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((m=(p=P?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||m===void 0)&&m.length?["Resources",...P.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const S=await C.signMessage(new TextEncoder().encode(j),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=S}}try{const{data:k,error:N}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:li(b)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:rn});if(N)throw N;if(!k||!k.session||!k.user){const A=new es;return this._returnResult({data:{user:null,session:null},error:A})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:N})}catch(k){if(ve(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(t){const r=await ti(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:l}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:rn});if(await _a(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!i||!i.session||!i.user){const u=new es;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:l})}catch(i){if(ve(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:l}=t,u=await _e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:l,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:rn}),{data:d,error:h}=u;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d||!d.session||!d.user){const p=new es;return this._returnResult({data:{user:null,session:null},error:p})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:h})}catch(r){if(ve(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,i,l;try{if("email"in t){const{email:u,options:d}=t;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await ts(this.storage,this.storageKey));const{error:m}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=d?.data)!==null&&r!==void 0?r:{},create_user:(n=d?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in t){const{phone:u,options:d}=t,{data:h,error:p}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(a=d?.data)!==null&&a!==void 0?a:{},create_user:(i=d?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(l=d?.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:p})}throw new Zc("You must provide either an email or phone number.")}catch(u){if(ve(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:u}=await _e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:rn});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,h=l.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(a){if(ve(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,l=null;this.flowType==="pkce"&&([i,l]=await ts(this.storage,this.storageKey));const u=await _e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:l}),headers:this.headers,xform:$D});return this._returnResult(u)}catch(i){if(ve(i))return this._returnResult({data:null,error:i});throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new tn;const{error:a}=await _e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(ve(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:l}=await _e(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:l,error:u}=await _e(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l?.message_id},error:u})}throw new Zc("You must provide either an email or phone number and a type")}catch(r){if(ve(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ti(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<vp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const l=await ti(this.userStorage,this.storageKey+"-user");l?.user?t.user=l.user:t.user=bp()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=ID(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ea}):await this._useSession(async r=>{var n,a,i;const{data:l,error:u}=r;if(u)throw u;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new tn}:await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Ea})})}catch(r){if(ve(r))return fD(r)&&(await this._removeSession(),await _a(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new tn;const l=a.session;let u=null,d=null;this.flowType==="pkce"&&t.email!=null&&([u,d]=await ts(this.storage,this.storageKey));const{data:h,error:p}=await _e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:d}),jwt:l.access_token,xform:Ea});if(p)throw p;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(n){if(ve(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new tn;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:l}=xp(t.access_token);if(l.exp&&(n=l.exp,a=n<=r),a){const{data:u,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u)return{data:{user:null,session:null},error:null};i=u}else{const{data:u,error:d}=await this._getUser(t.access_token);if(d)throw d;i={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(ve(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:u}=r;if(u)throw u;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new tn;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ve(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Ht())throw new eu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new eu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ij("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new eu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ij("No code detected.");const{data:A,error:P}=await this._exchangeCodeForSession(t.code);if(P)throw P;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:l,expires_in:u,expires_at:d,token_type:h}=t;if(!i||!u||!l||!h)throw new eu("No session defined in URL");const p=Math.round(Date.now()/1e3),m=parseInt(u);let y=p+m;d&&(y=parseInt(d));const v=y-p;v*1e3<=ls&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${m}s`);const j=y-m;p-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,y,p):p-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,y,p);const{data:b,error:k}=await this._getUser(i);if(k)throw k;const N={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:m,expires_at:y,refresh_token:l,token_type:h,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:t.type},error:null})}catch(n){if(ve(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ti(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({error:i});const l=(n=a.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:u}=await this.admin.signOut(l,t);if(u&&!(dD(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return t!=="others"&&(await this._removeSession(),await _a(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=bD(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await ts(this.storage,this.storageKey,!0));try{return await _e(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(ve(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(ve(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var l,u,d,h,p;const{data:m,error:y}=i;if(y)throw y;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await _e(this.fetch,"GET",v,{headers:this.headers,jwt:(p=(h=m.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(a)throw a;return Ht()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:t.provider,url:n?.url},error:null})}catch(n){if(ve(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:l,provider:u,token:d,access_token:h,nonce:p}=t,m=await _e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:d,access_token:h,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:rn}),{data:y,error:v}=m;return v?this._returnResult({data:{user:null,session:null},error:v}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new es}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:v}))}catch(a){if(ve(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:l}=r;if(l)throw l;return await _e(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(ve(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await _D(async a=>(a>0&&await kD(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await _e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:rn})),(a,i)=>{const l=200*Math.pow(2,a);return i&&yp(i)&&Date.now()+l-n<ls})}catch(n){if(this._debug(r,"error",n),ve(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ht()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await ti(this.storage,this.storageKey);if(a&&this.userStorage){let l=await ti(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:a.user},await cs(this.userStorage,this.storageKey+"-user",l)),a.user=(t=l?.user)!==null&&t!==void 0?t:bp()}else if(a&&!a.user&&!a.user){const l=await ti(this.storage,this.storageKey+"-user");l&&l?.user?(a.user=l.user,await _a(this.storage,this.storageKey+"-user"),await cs(this.storage,this.storageKey,a)):a.user=bp()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<vp;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${vp}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:l}=await this._callRefreshToken(a.refresh_token);l&&(console.error(l),yp(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(a.access_token);!u&&l?.user?(a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new tn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new yd;const{data:i,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!i.session)throw new tn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const u={data:i.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(i){if(this._debug(a,"error",i),ve(i)){const l={data:null,error:i};return yp(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,r)}catch(d){i.push(d)}});if(await Promise.all(l),i.length>0){for(let u=0;u<i.length;u+=1)console.error(i[u]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await cs(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=uj(a);await cs(this.storage,this.storageKey,i)}else{const a=uj(r);await cs(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await _a(this.storage,this.storageKey),await _a(this.storage,this.storageKey+"-code-verifier"),await _a(this.storage,this.storageKey+"-user"),this.userStorage&&await _a(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ht()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ls);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/ls);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${ls}ms, refresh threshold is ${dg} ticks`),a<=dg&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof TN)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ht()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,l]=await ts(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(u.toString())}if(n?.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n?.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await _e(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ve(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:l}=r;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:h}=await _e(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(t.factorType==="totp"&&d.type==="totp"&&(!((a=d?.totp)===null||a===void 0)&&a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(r){if(ve(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?eM(t.webauthn.credential_response):tM(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:d}=await _e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:d}))})}catch(r){if(ve(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const l=await _e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:QD(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:ZD(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ve(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r?.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=xp(n.access_token);let l=null;i.aal&&(l=i.aal);let u=l;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const h=i.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await _e(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new tn})})}catch(r){if(ve(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new tn});const l=await _e(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&Ht()&&!r?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(n){if(ve(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new tn});const l=await _e(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&Ht()&&!r?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(n){if(ve(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(u=>u.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(u=>u.kid===t),n&&this.jwks_cached_at+cD>a)return n;const{data:i,error:l}=await _e(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(u=>u.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:v,error:j}=await this.getSession();if(j||!v.session)return this._returnResult({data:null,error:j});n=v.session.access_token}const{header:a,payload:i,signature:l,raw:{header:u,payload:d}}=xp(n);r?.allowExpired||CD(i.exp);const h=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!h){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:a,signature:l},error:null}}const p=TD(a.alg),m=await crypto.subtle.importKey("jwk",h,p,!0,["verify"]);if(!await crypto.subtle.verify(p,m,l,yD(`${u}.${d}`)))throw new pg("Invalid JWT signature");return{data:{claims:i,header:a,signature:l},error:null}}catch(n){if(ve(n))return this._returnResult({data:null,error:n});throw n}}}tl.nextInstanceID={};const uM=tl;class dM extends uM{constructor(t){super(t)}}class fM{constructor(t,r,n){var a,i,l;this.supabaseUrl=t,this.supabaseKey=r;const u=aD(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const d=`sb-${u.hostname.split(".")[0]}-auth-token`,h={db:XI,realtime:QI,auth:Object.assign(Object.assign({},JI),{storageKey:d}),global:YI},p=nD(n??{},h);this.storageKey=(a=p.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=p.global.headers)!==null&&i!==void 0?i:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(m,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=p.auth)!==null&&l!==void 0?l:{},this.headers,p.global.fetch),this.fetch=tD(r,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new iI(new URL("rest/v1",u).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new VI(this.storageUrl.href,this.headers,this.fetch,n?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new tI(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:l,flowType:u,lock:d,debug:h,throwOnError:p},m,y){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new dM({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),m),storageKey:l,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:u,lock:d,debug:h,throwOnError:p,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(j=>j.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new jI(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const hM=(e,t,r)=>new fM(e,t,r);function pM(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}pM()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const mM="https://aztjjcxaoqtchvvzgbpd.supabase.co",gM="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF6dGpqY3hhb3F0Y2h2dnpnYnBkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE4MjI4ODAsImV4cCI6MjA3NzM5ODg4MH0.3qZBjYJKfpx9_3BoawBMs0948sfh-5ca2_XnOGxEMco",ne=hM(mM,gM,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),DN=x.createContext({session:null,loading:!0,signOut:async()=>{}});function vM({children:e}){const[t,r]=x.useState(null),[n,a]=x.useState(!0);x.useEffect(()=>{ne.auth.getSession().then(({data:{session:u}})=>{r(u),a(!1)});const{data:{subscription:l}}=ne.auth.onAuthStateChange((u,d)=>{r(d),a(!1)});return()=>l.unsubscribe()},[]);const i=async()=>{await ne.auth.signOut()};return c.jsx(DN.Provider,{value:{session:t,loading:n,signOut:i},children:e})}function Jt(){const e=x.useContext(DN);if(e===void 0)throw new Error("useSession must be used within a SessionProvider");return e}const MN=x.createContext({isDark:!1,toggleTheme:()=>{}});function yM({children:e}){const[t,r]=x.useState(()=>{const a=localStorage.getItem("theme");return a?a==="dark":!1});x.useEffect(()=>{const a=window.document.documentElement;t?(a.classList.add("dark"),localStorage.setItem("theme","dark")):(a.classList.remove("dark"),localStorage.setItem("theme","light"))},[t]);const n=()=>{r(!t)};return c.jsx(MN.Provider,{value:{isDark:t,toggleTheme:n},children:e})}function xM(){const e=x.useContext(MN);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}var bM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const wM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Ne=(e,t)=>{const r=x.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:u="",children:d,...h},p)=>x.createElement("svg",{ref:p,...bM,width:a,height:a,stroke:n,strokeWidth:l?Number(i)*24/Number(a):i,className:["lucide",`lucide-${wM(e)}`,u].join(" "),...h},[...t.map(([m,y])=>x.createElement(m,y)),...Array.isArray(d)?d:[d]]));return r.displayName=`${e}`,r};const jM=Ne("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);const xd=Ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const kM=Ne("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);const xn=Ne("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const mr=Ne("Bus",[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]]);const Nu=Ne("CalendarRange",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]]);const bn=Ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const vj=Ne("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const yj=Ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const xj=Ne("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const gr=Ne("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const hr=Ne("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const wn=Ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const rl=Ne("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const mg=Ne("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const LN=Ne("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);const $N=Ne("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Ov=Ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const bd=Ne("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);const _M=Ne("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);const BN=Ne("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);const gg=Ne("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const SM=Ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const Cs=Ne("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const nr=Ne("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const NM=Ne("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const bj=Ne("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const wj=Ne("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const EM=Ne("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);const wd=Ne("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);const PM=Ne("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const jd=Ne("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const kd=Ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const OM=Ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const AM=Ne("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const cn=Ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const fs=Ne("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const CM=Ne("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);const qn=Ne("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);const jj=Ne("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const TM=Ne("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);const gl=Ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const FN=Ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const ln=Ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const vs=Ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const ys=Ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function RM(){const[e,t]=x.useState(!1),[r,n]=x.useState(!1),[a,i]=x.useState(!1),[l,u]=x.useState(!1),{session:d,signOut:h}=Jt(),{isDark:p,toggleTheme:m}=xM(),y=En();x.useEffect(()=>{v()},[d]);const v=async()=>{if(!d?.user?.id){i(!1),u(!1);return}const{data:b}=await ne.from("profiles").select("admin, compagnie_id").eq("id",d.user.id).single();i(b?.admin===!0),u(b?.compagnie_id!==null)},j=async()=>{await h(),y("/login")};return c.jsx("nav",{className:"bg-white dark:bg-gray-800 shadow-md sticky top-0 z-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"flex justify-between items-center h-16",children:[c.jsxs(ke,{to:"/",className:"flex items-center space-x-2",children:[c.jsx("div",{className:"bg-primary p-2 rounded-lg",children:c.jsx(mr,{className:"h-6 w-6 text-white"})}),c.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Bus Bnin"})]}),c.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[c.jsx(ke,{to:"/",className:"text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-primary transition-colors font-medium",children:"Accueil"}),c.jsx(ke,{to:"/trajets",className:"text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-primary transition-colors font-medium",children:"Trajets"}),c.jsx(ke,{to:"/compagnies",className:"text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-primary transition-colors font-medium",children:"Compagnies"}),c.jsx("button",{onClick:m,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Toggle theme",children:p?c.jsx(jj,{className:"h-5 w-5 text-gray-300"}):c.jsx(wj,{className:"h-5 w-5 text-gray-700"})}),d?c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>n(!r),className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[c.jsx(ln,{className:"h-5 w-5 text-gray-700 dark:text-gray-300"}),c.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Mon compte"})]}),r&&c.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg py-2 border border-gray-200 dark:border-gray-700",children:[c.jsxs(ke,{to:"/profile",className:"flex items-center space-x-2 px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>n(!1),children:[c.jsx(ln,{className:"h-4 w-4"}),c.jsx("span",{className:"text-sm",children:"Profil"})]}),c.jsxs(ke,{to:"/reservations",className:"flex items-center space-x-2 px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>n(!1),children:[c.jsx(bn,{className:"h-4 w-4"}),c.jsx("span",{className:"text-sm",children:"Mes rservations"})]}),c.jsxs(ke,{to:"/favorites",className:"flex items-center space-x-2 px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>n(!1),children:[c.jsx(bd,{className:"h-4 w-4"}),c.jsx("span",{className:"text-sm",children:"Favoris"})]}),(a||l)&&c.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-2"}),a&&c.jsxs(ke,{to:"/admin",className:"flex items-center space-x-2 px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-error",onClick:()=>n(!1),children:[c.jsx(fs,{className:"h-4 w-4"}),c.jsx("span",{className:"text-sm font-semibold",children:"Admin"})]}),l&&c.jsxs(ke,{to:"/compagnie",className:"flex items-center space-x-2 px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-warning",onClick:()=>n(!1),children:[c.jsx(xn,{className:"h-4 w-4"}),c.jsx("span",{className:"text-sm font-semibold",children:"Ma Compagnie"})]}),c.jsxs("button",{onClick:j,className:"flex items-center space-x-2 px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 w-full text-left text-red-600",children:[c.jsx(SM,{className:"h-4 w-4"}),c.jsx("span",{className:"text-sm",children:"Dconnexion"})]})]})]}):c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(ke,{to:"/login",className:"text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-primary transition-colors font-medium",children:"Connexion"}),c.jsx(ke,{to:"/register",className:"btn-primary",children:"S'inscrire"})]})]}),c.jsx("button",{onClick:()=>t(!e),className:"md:hidden p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:e?c.jsx(ys,{className:"h-6 w-6 text-gray-700 dark:text-gray-300"}):c.jsx(NM,{className:"h-6 w-6 text-gray-700 dark:text-gray-300"})})]}),e&&c.jsx("div",{className:"md:hidden py-4 border-t border-gray-200 dark:border-gray-700",children:c.jsxs("div",{className:"flex flex-col space-y-3",children:[c.jsx(ke,{to:"/",className:"text-gray-700 dark:text-gray-300 hover:text-primary px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>t(!1),children:"Accueil"}),c.jsx(ke,{to:"/trajets",className:"text-gray-700 dark:text-gray-300 hover:text-primary px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>t(!1),children:"Trajets"}),c.jsx(ke,{to:"/compagnies",className:"text-gray-700 dark:text-gray-300 hover:text-primary px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>t(!1),children:"Compagnies"}),c.jsxs("div",{className:"flex items-center justify-between px-3 py-2",children:[c.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Thme"}),c.jsx("button",{onClick:m,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:p?c.jsx(jj,{className:"h-5 w-5"}):c.jsx(wj,{className:"h-5 w-5"})})]}),d?c.jsxs(c.Fragment,{children:[c.jsx(ke,{to:"/profile",className:"text-gray-700 dark:text-gray-300 hover:text-primary px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>t(!1),children:"Mon profil"}),c.jsx(ke,{to:"/reservations",className:"text-gray-700 dark:text-gray-300 hover:text-primary px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>t(!1),children:"Mes rservations"}),c.jsx(ke,{to:"/favorites",className:"text-gray-700 dark:text-gray-300 hover:text-primary px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>t(!1),children:"Favoris"}),a&&c.jsx(ke,{to:"/admin",className:"text-error hover:text-error-dark px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 font-semibold",onClick:()=>t(!1),children:"Admin"}),l&&c.jsx(ke,{to:"/compagnie",className:"text-warning hover:text-warning-dark px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 font-semibold",onClick:()=>t(!1),children:"Ma Compagnie"}),c.jsx("button",{onClick:j,className:"text-red-600 hover:text-red-700 px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-left",children:"Dconnexion"})]}):c.jsxs(c.Fragment,{children:[c.jsx(ke,{to:"/login",className:"text-gray-700 dark:text-gray-300 hover:text-primary px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>t(!1),children:"Connexion"}),c.jsx(ke,{to:"/register",className:"btn-primary",onClick:()=>t(!1),children:"S'inscrire"})]})]})})]})})}function IM(){return c.jsx("footer",{className:"bg-gray-900 text-gray-300",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[c.jsx("div",{className:"bg-primary p-2 rounded-lg",children:c.jsx(mr,{className:"h-5 w-5 text-white"})}),c.jsx("span",{className:"text-xl font-bold text-white",children:"Bus Bnin"})]}),c.jsx("p",{className:"text-sm text-gray-400",children:"Votre compagnon de voyage pour tous vos dplacements en bus  travers le Bnin."})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-white font-semibold mb-4",children:"Liens rapides"}),c.jsxs("ul",{className:"space-y-2 text-sm",children:[c.jsx("li",{children:c.jsx(ke,{to:"/",className:"hover:text-primary transition-colors",children:"Accueil"})}),c.jsx("li",{children:c.jsx(ke,{to:"/trajets",className:"hover:text-primary transition-colors",children:"Trajets"})}),c.jsx("li",{children:c.jsx(ke,{to:"/login",className:"hover:text-primary transition-colors",children:"Connexion"})}),c.jsx("li",{children:c.jsx(ke,{to:"/register",className:"hover:text-primary transition-colors",children:"S'inscrire"})})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-white font-semibold mb-4",children:"Support"}),c.jsxs("ul",{className:"space-y-2 text-sm",children:[c.jsx("li",{children:c.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:"Centre d'aide"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:"Conditions gnrales"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:"Politique de confidentialit"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:"FAQ"})})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-white font-semibold mb-4",children:"Contact"}),c.jsxs("ul",{className:"space-y-3 text-sm",children:[c.jsxs("li",{className:"flex items-center space-x-2",children:[c.jsx(Cs,{className:"h-4 w-4"}),c.jsx("span",{children:"contact@busbenin.com"})]}),c.jsxs("li",{className:"flex items-center space-x-2",children:[c.jsx(jd,{className:"h-4 w-4"}),c.jsx("span",{children:"+229 XX XX XX XX"})]}),c.jsxs("li",{className:"flex items-center space-x-2",children:[c.jsx(nr,{className:"h-4 w-4"}),c.jsx("span",{children:"Cotonou, Bnin"})]})]})]})]}),c.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-sm text-center text-gray-400",children:c.jsxs("p",{children:[" ",new Date().getFullYear()," Bus Bnin. Tous droits rservs."]})})]})})}function DM(){return c.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col",children:[c.jsx(RM,{}),c.jsx("main",{className:"flex-1",children:c.jsx(MR,{})}),c.jsx(IM,{})]})}function is({children:e}){const{session:t,loading:r}=Jt(),[n,a]=x.useState(!1),[i,l]=x.useState(!0);x.useEffect(()=>{u()},[t]);const u=async()=>{if(!t?.user?.id){l(!1);return}try{const{data:d,error:h}=await ne.from("profiles").select("admin").eq("id",t.user.id).single();if(h)throw h;a(d?.admin===!0)}catch(d){console.error("Error checking admin status:",d),a(!1)}finally{l(!1)}};return r||i?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t?n?e:c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Accs refus"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Vous n'avez pas les permissions ncessaires pour accder  cette page."}),c.jsx(Qo,{to:"/",replace:!0})]})}):c.jsx(Qo,{to:"/login",replace:!0})}function jp({children:e}){const{session:t,loading:r}=Jt(),[n,a]=x.useState(!1),[i,l]=x.useState(!0);x.useEffect(()=>{u()},[t]);const u=async()=>{if(!t?.user?.id){l(!1);return}try{const{data:d,error:h}=await ne.from("profiles").select("compagnie_id, admin").eq("id",t.user.id).single();if(h)throw h;a(d?.admin===!0||d?.compagnie_id!==null)}catch(d){console.error("Error checking compagnie status:",d),a(!1)}finally{l(!1)}};return r||i?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t?n?e:c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Accs refus"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Vous devez tre assign  une compagnie pour accder  cette page."}),c.jsx(Qo,{to:"/",replace:!0})]})}):c.jsx(Qo,{to:"/login",replace:!0})}function Av({trajet:e,isFavorite:t,onFavoriteToggle:r}){const{session:n}=Jt(),[a,i]=x.useState(!1),l=async u=>{if(u.preventDefault(),u.stopPropagation(),!!n){i(!0);try{t?await ne.from("favoris").delete().eq("user_id",n.user.id).eq("trajet_id",e.id):await ne.from("favoris").insert({user_id:n.user.id,trajet_id:e.id}),r?.()}catch(d){console.error("Error toggling favorite:",d)}finally{i(!1)}}};return c.jsxs("div",{className:"card hover:shadow-xl transition-shadow duration-200",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("h3",{className:"text-base sm:text-lg font-bold text-gray-900 dark:text-white mb-2",children:[e.depart,"  ",e.arrivee]}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.compagnie}),c.jsxs("div",{className:"flex items-center space-x-1 mt-2",children:[c.jsx(qn,{className:"h-4 w-4 text-warning fill-warning"}),c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.note||"N/A"}),e.nb_avis>0&&c.jsxs("span",{className:"text-xs text-gray-500",children:["(",e.nb_avis," avis)"]})]})]}),c.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[n&&c.jsx("button",{onClick:l,disabled:a,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:c.jsx(bd,{className:`h-5 w-5 ${t?"text-red-500 fill-red-500":"text-gray-400"}`})}),c.jsxs("div",{className:"text-right",children:[c.jsx("span",{className:"text-xl sm:text-2xl font-bold text-primary",children:e.prix}),c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 ml-1",children:"FCFA"})]})]})]}),c.jsxs("div",{className:"flex items-center space-x-2 mb-4 text-sm text-gray-600 dark:text-gray-400",children:[c.jsx(wn,{className:"h-4 w-4"}),c.jsx("span",{children:e.horaires?.join(", ")||"Horaires non disponibles"})]}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsx(ke,{to:`/trajet/${e.id}`,className:"flex-1 btn-outline text-center",children:"Voir dtails"}),c.jsxs(ke,{to:`/reservation/${e.id}`,className:"flex-1 btn-primary flex items-center justify-center space-x-2",children:[c.jsx("span",{children:"Rserver"}),c.jsx(xd,{className:"h-4 w-4"})]})]})]})}function MM(){const e=En(),{session:t}=Jt(),[r,n]=x.useState(""),[a,i]=x.useState(""),[l,u]=x.useState([]),[d,h]=x.useState([]),[p,m]=x.useState([]),[y,v]=x.useState([]),[j,b]=x.useState(new Set),[k,N]=x.useState(!0),[A,P]=x.useState(0),[C,E]=x.useState(0);x.useEffect(()=>{S()},[t]);const S=async()=>{N(!0);try{await Promise.all([T(),I(),M(),z(),t&&W()])}finally{N(!1)}},T=async()=>{const{data:Y}=await ne.from("destinations").select("id, nom").order("nom",{ascending:!0});u(Y||[])},I=async()=>{const{data:Y}=await ne.from("trajets").select("id, depart, arrivee, prix, note, nb_avis, horaires, compagnies:compagnie_id(nom)").order("note",{ascending:!1}).order("nb_avis",{ascending:!1}).limit(3),oe=(Y||[]).map(te=>({...te,compagnie:te?.compagnies?.nom}));h(oe)},M=async()=>{const{data:Y}=await ne.from("compagnies").select("id, nom, logo_url, trajets(note, nb_avis)").order("nom",{ascending:!0}).limit(10),oe=(Y||[]).map(G=>{const ie=G.trajets||[];let ae=0,$=0;ie.forEach(ye=>{ye.note&&ye.nb_avis&&(ae+=ye.note*ye.nb_avis,$+=ye.nb_avis)});const H=$>0?(ae/$).toFixed(1):null;return{id:G.id,nom:G.nom,logo_url:G.logo_url,note:H}}),te=oe.filter(G=>G.note!==null).sort((G,ie)=>parseFloat(ie.note)-parseFloat(G.note)).slice(0,5);if(te.length<5){const G=oe.filter(ie=>ie.note===null).slice(0,5-te.length);te.push(...G)}m(te)},z=async()=>{const{data:Y}=await ne.from("trajets").select("id, depart, arrivee, prix, note, compagnies:compagnie_id(nom)").order("prix",{ascending:!0}).limit(3),oe=(Y||[]).map(te=>({...te,compagnie:te?.compagnies?.nom}));v(oe)},W=async()=>{if(!t?.user?.id)return;const{data:Y}=await ne.from("favoris").select("trajet_id").eq("user_id",t.user.id);b(new Set((Y||[]).map(oe=>oe.trajet_id)))},V=()=>{const Y=new URLSearchParams;r&&Y.set("depart",r),a&&Y.set("arrivee",a),e(`/trajets${Y.toString()?"?"+Y.toString():""}`)},Q=Y=>{const oe=document.getElementById("destinations-container");if(!oe)return;const te=300,G=Y==="left"?Math.max(0,A-te):Math.min(oe.scrollWidth-oe.clientWidth,A+te);oe.scrollTo({left:G,behavior:"smooth"}),P(G)},se=Y=>{const oe=document.getElementById("companies-container");if(!oe)return;const te=300,G=Y==="left"?Math.max(0,C-te):Math.min(oe.scrollWidth-oe.clientWidth,C+te);oe.scrollTo({left:G,behavior:"smooth"}),E(G)};return c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900",children:[c.jsx("section",{className:"bg-gradient-to-br from-primary to-blue-700 text-white py-20",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold mb-4",children:"Bus Bnin"}),c.jsx("p",{className:"text-base sm:text-lg md:text-xl text-blue-100",children:"Trouvez et rservez facilement vos trajets en bus  travers le Bnin"})]}),c.jsxs("div",{className:"max-w-3xl mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-8",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[c.jsx("div",{className:"p-2 bg-primary-light rounded-lg",children:c.jsx(cn,{className:"h-6 w-6 text-primary"})}),c.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:"Rechercher un trajet"})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Dpart"}),c.jsxs("div",{className:"relative",children:[c.jsx(nr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",value:r,onChange:Y=>n(Y.target.value),placeholder:"Ville de dpart",className:"text-gray-400 input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Arrive"}),c.jsxs("div",{className:"relative",children:[c.jsx(nr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{id:"arrivee",type:"text",value:a,onChange:Y=>i(Y.target.value),placeholder:"Ville d'arrive",className:"text-gray-400 input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]})]}),c.jsxs("button",{onClick:V,className:"w-full btn-primary flex items-center justify-center space-x-2",children:[c.jsx(cn,{className:"h-5 w-5"}),c.jsx("span",{children:"Rechercher des trajets"}),c.jsx(xd,{className:"h-5 w-5"})]})]})]})}),c.jsxs("section",{className:"page-container",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[c.jsx("div",{className:"p-2 bg-secondary-light rounded-lg",children:c.jsx(FN,{className:"h-6 w-6 text-primary"})}),c.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:"Destinations populaires"})]}),c.jsxs("div",{className:"relative group",children:[c.jsx("button",{onClick:()=>Q("left"),className:"hidden md:block absolute left-0 top-1/2 -translate-y-1/2 z-10 p-2 bg-white dark:bg-gray-800 rounded-full shadow-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-all opacity-0 group-hover:opacity-100","aria-label":"Dfiler  gauche",children:c.jsx(vj,{className:"h-6 w-6 text-gray-700 dark:text-gray-300"})}),c.jsx("div",{id:"destinations-container",className:"flex overflow-x-auto gap-3 pb-4 scroll-smooth scrollbar-hide touch-pan-x",style:{WebkitOverflowScrolling:"touch",scrollbarWidth:"none",msOverflowStyle:"none"},children:l.map(Y=>c.jsx("button",{onClick:()=>{r?!a&&Y.nom!==r&&i(Y.nom):n(Y.nom)},className:`px-4 sm:px-6 py-2 sm:py-3 text-sm sm:text-base rounded-full font-semibold whitespace-nowrap transition-all ${r===Y.nom||a===Y.nom?"bg-primary text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"} border-2 ${r===Y.nom||a===Y.nom?"border-primary":"border-gray-200 dark:border-gray-700"}`,children:Y.nom},Y.id))}),c.jsx("button",{onClick:()=>Q("right"),className:"hidden md:block absolute right-0 top-1/2 -translate-y-1/2 z-10 p-2 bg-white dark:bg-gray-800 rounded-full shadow-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-all opacity-0 group-hover:opacity-100","aria-label":"Dfiler  droite",children:c.jsx(yj,{className:"h-6 w-6 text-gray-700 dark:text-gray-300"})})]})]}),c.jsxs("section",{className:"page-container",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-2 bg-warning-light rounded-lg",children:c.jsx(qn,{className:"h-6 w-6 text-warning fill-warning"})}),c.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:"Trajets populaires"})]}),c.jsxs("span",{className:"px-4 py-1.5 bg-primary-light text-primary rounded-full text-sm font-semibold",children:["Top ",d.length]})]}),k?c.jsx("div",{className:"text-center py-12",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"})}):c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(Y=>c.jsx(Av,{trajet:Y,isFavorite:j.has(Y.id),onFavoriteToggle:W},Y.id))})]}),c.jsxs("section",{className:"page-container",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[c.jsx("div",{className:"p-2 bg-secondary-light rounded-lg",children:c.jsx(kM,{className:"h-6 w-6 text-primary"})}),c.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:"Compagnies recommandes"})]}),c.jsxs("div",{className:"relative group",children:[c.jsx("button",{onClick:()=>se("left"),className:"hidden md:block absolute left-0 top-1/2 -translate-y-1/2 z-10 p-2 bg-white dark:bg-gray-800 rounded-full shadow-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-all opacity-0 group-hover:opacity-100","aria-label":"Dfiler  gauche",children:c.jsx(vj,{className:"h-6 w-6 text-gray-700 dark:text-gray-300"})}),c.jsx("div",{id:"companies-container",className:"flex overflow-x-auto gap-4 pb-4 scroll-smooth scrollbar-hide touch-pan-x",style:{WebkitOverflowScrolling:"touch",scrollbarWidth:"none",msOverflowStyle:"none"},children:p.map(Y=>c.jsxs("button",{onClick:()=>e(`/trajets?compagnie=${Y.nom}`),className:"card hover:shadow-lg transition-shadow text-center flex-shrink-0 w-36 sm:w-40",children:[c.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-primary-light rounded-xl flex items-center justify-center overflow-hidden",children:Y.logo_url?c.jsx("img",{src:Y.logo_url,alt:Y.nom,className:"w-full h-full object-cover"}):c.jsx(xn,{className:"h-8 w-8 text-primary"})}),c.jsx("h3",{className:"text-sm sm:text-base font-bold text-gray-900 dark:text-white mb-2 truncate",children:Y.nom}),Y.note&&c.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[c.jsx(qn,{className:"h-4 w-4 text-warning fill-warning"}),c.jsx("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:Y.note})]})]},Y.id))}),c.jsx("button",{onClick:()=>se("right"),className:"hidden md:block absolute right-0 top-1/2 -translate-y-1/2 z-10 p-2 bg-white dark:bg-gray-800 rounded-full shadow-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-all opacity-0 group-hover:opacity-100","aria-label":"Dfiler  droite",children:c.jsx(yj,{className:"h-6 w-6 text-gray-700 dark:text-gray-300"})})]})]}),c.jsxs("section",{className:"page-container pb-16",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-2 bg-success-light rounded-lg",children:c.jsx(TM,{className:"h-6 w-6 text-success"})}),c.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:"Offres spciales"})]}),c.jsx("span",{className:"px-4 py-1.5 bg-success-light text-success rounded-full text-sm font-semibold",children:"Prix bas"})]}),c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map(Y=>c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute -top-2 -right-2 z-10 bg-success text-white px-3 py-1 rounded-full text-xs font-bold shadow-lg",children:"PROMO"}),c.jsxs("div",{className:"card border-2 border-success hover:shadow-xl transition-shadow",children:[c.jsxs("div",{className:"mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:[Y.depart,"  ",Y.arrivee]}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:Y.compagnie}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(qn,{className:"h-4 w-4 text-warning fill-warning"}),c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:Y.note||"N/A"})]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-xl sm:text-2xl font-bold text-success",children:Y.prix}),c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 ml-1",children:"FCFA"})]}),c.jsx("button",{onClick:()=>e(`/trajet/${Y.id}`),className:"btn-primary",children:"Voir"})]})]})]},Y.id))})]})]})}function LM(){const[e,t]=zS(),{session:r}=Jt(),[n,a]=x.useState([]),[i,l]=x.useState(new Set),[u,d]=x.useState(!0),[h,p]=x.useState(!1),[m,y]=x.useState({depart:e.get("depart")||"",arrivee:e.get("arrivee")||"",compagnie:e.get("compagnie")||"",prixMax:""});x.useEffect(()=>{v(),r&&j()},[m,r]);const v=async()=>{d(!0);try{let N=ne.from("trajets").select("id, depart, arrivee, prix, note, nb_avis, horaires, compagnies:compagnie_id(nom)").order("note",{ascending:!1});m.depart&&(N=N.ilike("depart",`%${m.depart}%`)),m.arrivee&&(N=N.ilike("arrivee",`%${m.arrivee}%`)),m.prixMax&&(N=N.lte("prix",parseFloat(m.prixMax)));const{data:A,error:P}=await N;if(P)throw P;let C=(A||[]).map(E=>({...E,compagnie:E?.compagnies?.nom}));m.compagnie&&(C=C.filter(E=>E.compagnie?.toLowerCase().includes(m.compagnie.toLowerCase()))),a(C)}catch(N){console.error("Error loading trajets:",N),a([])}finally{d(!1)}},j=async()=>{if(!r?.user?.id)return;const{data:N}=await ne.from("favoris").select("trajet_id").eq("user_id",r.user.id);l(new Set((N||[]).map(A=>A.trajet_id)))},b=(N,A)=>{const P={...m,[N]:A};y(P);const C=new URLSearchParams;Object.entries(P).forEach(([E,S])=>{S&&C.set(E,S)}),t(C)},k=()=>{y({depart:"",arrivee:"",compagnie:"",prixMax:""}),t(new URLSearchParams)};return c.jsxs("div",{className:"page-container min-h-screen",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Rechercher des trajets"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Trouvez le trajet parfait pour votre voyage"})]}),c.jsxs("div",{className:"card mb-8",children:[c.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Dpart"}),c.jsxs("div",{className:"relative",children:[c.jsx(nr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",value:m.depart,onChange:N=>b("depart",N.target.value),placeholder:"Ville de dpart",className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Arrive"}),c.jsxs("div",{className:"relative",children:[c.jsx(nr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",value:m.arrivee,onChange:N=>b("arrivee",N.target.value),placeholder:"Ville d'arrive",className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Compagnie"}),c.jsx("input",{type:"text",value:m.compagnie,onChange:N=>b("compagnie",N.target.value),placeholder:"Nom de la compagnie",className:"input-field dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Prix maximum"}),c.jsx("input",{type:"number",value:m.prixMax,onChange:N=>b("prixMax",N.target.value),placeholder:"Prix max (FCFA)",className:"input-field dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("button",{onClick:k,className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:[c.jsx(ys,{className:"h-4 w-4"}),c.jsx("span",{children:"Effacer les filtres"})]}),c.jsxs("div",{className:"text-sm font-semibold text-primary",children:[n.length," rsultat",n.length>1?"s":""]})]})]}),u?c.jsxs("div",{className:"text-center py-20",children:[c.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary mx-auto"}),c.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Chargement des trajets..."})]}):n.length===0?c.jsxs("div",{className:"text-center py-20",children:[c.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center",children:c.jsx(cn,{className:"h-12 w-12 text-gray-400"})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Aucun trajet trouv"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Essayez de modifier vos critres de recherche"}),c.jsx("button",{onClick:k,className:"btn-primary",children:"Rinitialiser la recherche"})]}):c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(N=>c.jsx(Av,{trajet:N,isFavorite:i.has(N.id),onFavoriteToggle:j},N.id))})]})}function $M(){const{id:e}=gd(),t=En(),{session:r}=Jt(),[n,a]=x.useState(null),[i,l]=x.useState([]),[u,d]=x.useState(!1),[h,p]=x.useState(!0),[m,y]=x.useState(!1),[v,j]=x.useState({note:5,commentaire:""}),[b,k]=x.useState(!1);x.useEffect(()=>{N(),A(),r&&P()},[e,r]);const N=async()=>{try{const{data:S,error:T}=await ne.from("trajets").select("*, compagnies:compagnie_id(id, nom, telephone, logo_url)").eq("id",e).single();if(T)throw T;console.log(" Trajet loaded:",S),console.log(" Compagnie data:",S?.compagnies),a(S)}catch(S){console.error("Error loading trajet:",S)}finally{p(!1)}},A=async()=>{try{console.log(" Loading avis for trajet:",e);const{data:S,error:T}=await ne.from("avis").select("*").eq("trajet_id",e).order("created_at",{ascending:!1});if(T)throw console.error(" Error loading avis:",T),console.error(" Error details:",{message:T.message,details:T.details,hint:T.hint,code:T.code}),T;console.log(" Avis loaded:",S?.length||0),console.log(" Sample avis:",S?.[0]),l(S||[])}catch(S){console.error(" Exception loading avis:",S),l([])}},P=async()=>{if(!r?.user?.id)return;const{data:S}=await ne.from("favoris").select("id").eq("user_id",r.user.id).eq("trajet_id",e).single();d(!!S)},C=async()=>{if(!r){t("/login");return}try{u?await ne.from("favoris").delete().eq("user_id",r.user.id).eq("trajet_id",e):await ne.from("favoris").insert({user_id:r.user.id,trajet_id:e}),d(!u)}catch(S){console.error("Error toggling favorite:",S)}},E=async S=>{if(S.preventDefault(),!r){t("/login");return}k(!0);try{const{error:T}=await ne.from("avis").insert({user_id:r.user.id,trajet_id:e,note:v.note,commentaire:v.commentaire});if(T)throw T;alert(" Avis ajout avec succs !"),j({note:5,commentaire:""}),y(!1),await A(),await N()}catch(T){console.error("Error submitting review:",T),alert(" Erreur lors de l'ajout de l'avis")}finally{k(!1)}};return h?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n?c.jsx("div",{className:"page-container",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"card mb-6",children:[c.jsxs("div",{className:"flex justify-between items-start mb-6",children:[c.jsxs("div",{children:[c.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:[n.depart,"  ",n.arrivee]}),c.jsx("div",{className:"flex items-center space-x-2",children:c.jsxs(ke,{to:`/compagnies/${n.compagnies?.id}`,className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-primary transition-colors",children:[c.jsx(xn,{className:"h-5 w-5"}),c.jsx("span",{className:"font-medium",children:n.compagnies?.nom})]})})]}),c.jsx("button",{onClick:C,className:"p-3 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:c.jsx(bd,{className:`h-6 w-6 ${u?"text-red-500 fill-red-500":"text-gray-400"}`})})]}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-6",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-3 bg-primary-light rounded-lg",children:c.jsx(qn,{className:"h-6 w-6 text-warning fill-warning"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Note"}),c.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:n.note||"N/A"})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-3 bg-primary-light rounded-lg",children:c.jsx(bj,{className:"h-6 w-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avis"}),c.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:n.nb_avis||0})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-3 bg-success-light rounded-lg",children:c.jsx(nr,{className:"h-6 w-6 text-success"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Gare"}),c.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:n.gare||"N/A"})]})]})]}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-6",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx(wn,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"}),c.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:"Horaires disponibles"})]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:n.horaires?.map((S,T)=>c.jsx("span",{className:"px-4 py-2 bg-white dark:bg-gray-800 rounded-lg font-medium text-gray-900 dark:text-white border border-gray-200 dark:border-gray-600",children:S},T))||c.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Horaires non disponibles"})})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Prix du billet"}),c.jsxs("div",{children:[c.jsx("span",{className:"text-4xl font-bold text-primary",children:n.prix}),c.jsx("span",{className:"text-lg text-gray-600 dark:text-gray-400 ml-2",children:"FCFA"})]})]}),c.jsxs(ke,{to:`/reservation/${n.id}`,className:"btn-primary flex items-center space-x-2 text-lg px-8",children:[c.jsx("span",{children:"Rserver"}),c.jsx(xd,{className:"h-5 w-5"})]})]})]}),c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["Avis des voyageurs (",i.length,")"]}),r&&c.jsx("button",{onClick:()=>y(!m),className:"btn-primary text-sm",children:m?"Annuler":"Laisser un avis"})]}),m&&c.jsxs("form",{onSubmit:E,className:"mb-8 p-6 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Partagez votre exprience"}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Note *"}),c.jsxs("div",{className:"flex items-center space-x-2",children:[[1,2,3,4,5].map(S=>c.jsx("button",{type:"button",onClick:()=>j({...v,note:S}),className:"focus:outline-none",children:c.jsx(qn,{className:`h-8 w-8 ${S<=v.note?"text-warning fill-warning":"text-gray-300 dark:text-gray-600"}`})},S)),c.jsxs("span",{className:"text-gray-600 dark:text-gray-400 ml-2",children:[v.note,"/5"]})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Commentaire *"}),c.jsx("textarea",{value:v.commentaire,onChange:S=>j({...v,commentaire:S.target.value}),placeholder:"Partagez votre exprience avec ce trajet...",rows:"4",required:!0,className:"input-field dark:bg-gray-800 dark:text-white dark:border-gray-600 resize-none"})]}),c.jsxs("div",{className:"flex justify-end space-x-3",children:[c.jsx("button",{type:"button",onClick:()=>y(!1),className:"btn-secondary",children:"Annuler"}),c.jsx("button",{type:"submit",disabled:b||!v.commentaire.trim(),className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Publication...":"Publier l'avis"})]})]}),i.length===0?c.jsxs("div",{className:"text-center py-12 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[c.jsx(bj,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Aucun avis pour le moment"})]}):c.jsx("div",{className:"space-y-6",children:i.map(S=>c.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 last:border-0 pb-6 last:pb-0",children:c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"w-10 h-10 bg-primary-light rounded-full flex items-center justify-center",children:c.jsx(ln,{className:"h-5 w-5 text-primary"})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:"Voyageur"}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(qn,{className:"h-4 w-4 text-warning fill-warning"}),c.jsxs("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:[S.note,"/5"]})]})]}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:S.commentaire}),c.jsx("p",{className:"text-xs text-gray-500",children:new Date(S.created_at).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})})]})]})},S.id))})]})]})}):c.jsxs("div",{className:"page-container text-center py-20",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Trajet non trouv"}),c.jsx(ke,{to:"/trajets",className:"btn-primary",children:"Retour aux trajets"})]})}function BM(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,i]=x.useState("");x.useEffect(()=>{l()},[]);const l=async()=>{try{const{data:d,error:h}=await ne.from("compagnies").select("*, trajets(count)").order("nom");if(h)throw h;t(d||[])}catch(d){console.error("Error loading compagnies:",d)}finally{n(!1)}},u=e.filter(d=>d.nom?.toLowerCase().includes(a.toLowerCase())||d.adresse?.toLowerCase().includes(a.toLowerCase()));return r?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):c.jsxs("div",{className:"page-container",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Compagnies de transport"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Dcouvrez nos partenaires de transport au Bnin"})]}),c.jsx("div",{className:"card mb-6",children:c.jsxs("div",{className:"relative",children:[c.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",value:a,onChange:d=>i(d.target.value),placeholder:"Rechercher une compagnie...",className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})}),u.length===0?c.jsxs("div",{className:"card text-center py-12",children:[c.jsx(xn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Aucune compagnie trouve"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:a?"Essayez avec un autre terme de recherche":"Aucune compagnie disponible"})]}):c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(d=>c.jsxs(ke,{to:`/compagnies/${d.id}`,className:"card hover:shadow-xl transition-shadow",children:[c.jsx("div",{className:"flex items-center justify-center h-32 bg-gray-50 dark:bg-gray-700 rounded-lg mb-4",children:d.logo_url?c.jsx("img",{src:d.logo_url,alt:d.nom,className:"h-20 w-auto object-contain"}):c.jsx(xn,{className:"h-16 w-16 text-gray-400"})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3",children:d.nom}),c.jsxs("div",{className:"space-y-2 text-sm",children:[d.telephone&&c.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400",children:[c.jsx(jd,{className:"h-4 w-4"}),c.jsx("span",{children:d.telephone})]}),d.adresse&&c.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400",children:[c.jsx(nr,{className:"h-4 w-4"}),c.jsx("span",{className:"line-clamp-1",children:d.adresse})]}),c.jsxs("div",{className:"flex items-center space-x-2 text-primary font-semibold",children:[c.jsx(mr,{className:"h-4 w-4"}),c.jsxs("span",{children:[d.trajets?.[0]?.count||0," trajet",(d.trajets?.[0]?.count||0)>1?"s":""]})]})]}),c.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:c.jsx("span",{className:"text-primary hover:underline text-sm font-medium",children:"Voir les dtails "})})]},d.id))})]})}function FM(){const{id:e}=gd(),[t,r]=x.useState(null),[n,a]=x.useState([]),[i,l]=x.useState(!0);x.useEffect(()=>{u(),d()},[e]);const u=async()=>{try{console.log(" Loading compagnie with ID:",e);const{data:h,error:p}=await ne.from("compagnies").select("*").eq("id",e).single();if(p)throw console.error(" Error loading compagnie:",p),console.error(" Error details:",{message:p.message,details:p.details,hint:p.hint,code:p.code}),p;console.log(" Compagnie loaded:",h),r(h)}catch(h){console.error(" Exception loading compagnie:",h),r(null)}finally{l(!1)}},d=async()=>{try{const{data:h,error:p}=await ne.from("trajets").select("*").eq("compagnie_id",e).order("depart");if(p)throw p;a(h||[])}catch(h){console.error("Error loading trajets:",h)}};return i?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t?c.jsx("div",{className:"page-container",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsx("div",{className:"card mb-6",children:c.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center space-y-6 md:space-y-0 md:space-x-6 mb-6",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("div",{className:"flex items-center justify-center h-32 w-32 bg-gray-50 dark:bg-gray-700 rounded-lg",children:t.logo_url?c.jsx("img",{src:t.logo_url,alt:t.nom,className:"h-24 w-auto object-contain"}):c.jsx(xn,{className:"h-16 w-16 text-gray-400"})})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:t.nom}),c.jsxs("div",{className:"space-y-3",children:[t.telephone&&c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"flex items-center justify-center h-10 w-10 bg-primary-light rounded-lg",children:c.jsx(jd,{className:"h-5 w-5 text-primary"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Tlphone"}),c.jsx("a",{href:`tel:${t.telephone}`,className:"font-medium text-gray-900 dark:text-white hover:text-primary",children:t.telephone})]})]}),t.adresse&&c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"flex items-center justify-center h-10 w-10 bg-primary-light rounded-lg",children:c.jsx(nr,{className:"h-5 w-5 text-primary"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Adresse"}),c.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t.adresse})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"flex items-center justify-center h-10 w-10 bg-success-light rounded-lg",children:c.jsx(mr,{className:"h-5 w-5 text-success"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Trajets disponibles"}),c.jsx("p",{className:"font-bold text-xl text-gray-900 dark:text-white",children:n.length})]})]})]})]})]})}),c.jsxs("div",{className:"card",children:[c.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:["Trajets proposs (",n.length,")"]}),n.length===0?c.jsxs("div",{className:"text-center py-12 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[c.jsx(mr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Aucun trajet disponible pour le moment"})]}):c.jsx("div",{className:"space-y-4",children:n.map(h=>c.jsx(ke,{to:`/trajet/${h.id}`,className:"block p-4 bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-lg transition-colors",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[c.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:h.depart}),c.jsx(xd,{className:"h-5 w-5 text-gray-400"}),c.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:h.arrivee})]}),c.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:[h.gare&&c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(nr,{className:"h-4 w-4"}),c.jsx("span",{children:h.gare})]}),h.note>0&&c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(qn,{className:"h-4 w-4 text-warning fill-warning"}),c.jsxs("span",{children:[h.note,"/5"]})]}),h.nb_avis>0&&c.jsxs("span",{children:["(",h.nb_avis," avis)"]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-2xl font-bold text-primary mb-1",children:[h.prix," FCFA"]}),c.jsx("span",{className:"text-sm text-primary hover:underline font-medium",children:"Voir le trajet "})]})]})},h.id))})]})]})}):c.jsxs("div",{className:"page-container text-center py-20",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Compagnie non trouve"}),c.jsx(ke,{to:"/compagnies",className:"btn-primary",children:"Retour aux compagnies"})]})}const UM="pk_sandbox_hlyarJ3xqqFPJeqE8uDx_6E7",vg="sk_sandbox_OIfKTKIT8pi0y5R25aXcTp_W",UN="sandbox";console.log(" FedaPay Configuration:",{hasPublicKey:!0,hasSecretKey:!0,publicKeyPrefix:UM?.substring(0,20),mode:UN});const yg=()=>"https://sandbox-api.fedapay.com/v1",zN=()=>({Authorization:`Bearer ${vg}`,"Content-Type":"application/json"}),qN=async({amount:e,description:t,customerId:r,customerEmail:n,customerName:a,customerPhone:i,callbackUrl:l,mobileMoneyOperator:u,onSuccess:d,onError:h,onClose:p})=>{try{if(!vg||vg.length<20)throw new Error("Cl API FedaPay non configure. Veuillez vrifier votre fichier .env");console.log(" Creating FedaPay transaction...");const m={description:t||"Rservation Bus Bnin",amount:e,currency:{iso:"XOF"},customer:{firstname:a?.split(" ")[0]||"Client",lastname:a?.split(" ").slice(1).join(" ")||"BusBenin",email:n,phone_number:{number:i?.replace(/\s+/g,""),country:"BJ"}}};l&&(l.startsWith("http://")||l.startsWith("https://"))&&(m.callback_url=l),u&&(m.mode=u),console.log(" FedaPay Request:",{url:`${yg()}/transactions`,environment:UN,amount:m.amount,customer:m.customer});const y=await fetch(`${yg()}/transactions`,{method:"POST",headers:zN(),body:JSON.stringify(m)}),v=await y.json();if(console.log(" FedaPay Response:",{status:y.status,ok:y.ok,data:v}),!y.ok){const k=v.message||v.error||v.v1?.message||"Erreur lors de la cration de la transaction";throw new Error(`${k} (Status: ${y.status})`)}const j=v["v1/transaction"]||v.transaction||v.v1?.transaction;if(!j)throw new Error("Transaction non retourne par FedaPay");console.log(" Transaction created:",{id:j.id,status:j.status,hasToken:!!j.payment_token,hasUrl:!!j.payment_url});const b=zM(j.payment_url||j.payment_token);return{success:!0,transaction:j,transactionId:j.id,token:j.payment_token,paymentUrl:b,onSuccess:d,onError:h,onClose:p}}catch(m){return console.error(" Error creating transaction:",m),{success:!1,error:m.message||"Erreur lors de la cration de la transaction"}}},WN=(e,t=!0)=>{if(!e){console.error(" No payment URL provided");return}if(console.log(" Opening payment URL:",e),t){const a=(window.screen.width-600)/2,i=(window.screen.height-800)/2;window.open(e,"FedaPayPayment",`width=600,height=800,left=${a},top=${i},resizable=yes,scrollbars=yes`)}else window.location.href=e},zM=e=>e?.startsWith("http://")||e?.startsWith("https://")?e:`https://sandbox-process.fedapay.com/${e}`,Cv=async e=>{try{if(!e)throw new Error("Transaction ID requis");console.log(" Checking transaction status:",e);const t=await fetch(`${yg()}/transactions/${e}`,{method:"GET",headers:zN()}),r=await t.json();if(!t.ok)throw new Error(r.message||"Erreur lors de la vrification de la transaction");const n=r["v1/transaction"]||r.transaction||r.v1?.transaction;return console.log(" Transaction status:",{id:n?.id,status:n?.status,approved:n?.status==="approved"}),{success:!0,status:n?.status,transaction:n}}catch(t){return console.error(" Error checking transaction:",t),{success:!1,error:t.message}}},KN=e=>Math.round(e);function qM(){const{id:e}=gd(),t=En(),{session:r}=Jt(),[n,a]=x.useState(null),[i,l]=x.useState(!0),[u,d]=x.useState(!1),[h,p]=x.useState(!1),[m,y]=x.useState(""),[v,j]=x.useState(null),[b,k]=x.useState({nb_places:1,horaire:"",nom_passager:"",telephone_passager:"",email_passager:r?.user?.email||""});x.useEffect(()=>{N()},[e]);const N=async()=>{try{const{data:S,error:T}=await ne.from("trajets").select("*, compagnies:compagnie_id(nom)").eq("id",e).single();if(T)throw T;a(S)}catch(S){console.error("Error loading trajet:",S),t("/trajets")}finally{l(!1)}},A=async S=>{if(S.preventDefault(),!m){alert(" Veuillez slectionner votre oprateur Mobile Money");return}if(!b.telephone_passager.match(/^\+229\d{8,10}$/)){alert(" Le numro de tlphone doit tre au format +229XXXXXXXX");return}d(!0);try{const T=n.prix*b.nb_places,{data:I,error:M}=await ne.from("reservations").insert({user_id:r.user.id,trajet_id:n.id,nb_places:b.nb_places,horaire:b.horaire,nom_passager:b.nom_passager,telephone_passager:b.telephone_passager,email_passager:b.email_passager,montant_total:T,statut:"en_attente",statut_paiement:"pending"}).select().single();if(M)throw M;j(I),await P(I,T)}catch(T){console.error("Error creating reservation:",T),alert("Une erreur est survenue lors de la rservation"),d(!1)}},P=async(S,T)=>{p(!0);try{console.log(" Starting payment process...");const I=await qN({amount:KN(T),description:`Rservation ${n.depart}  ${n.arrivee} - ${b.nb_places} place(s)`,customerId:r.user.id,customerEmail:b.email_passager||r.user.email,customerName:b.nom_passager,customerPhone:b.telephone_passager,mobileMoneyOperator:m});if(!I.success)throw new Error(I.error||"Erreur lors de la cration de la transaction");if(console.log(" Transaction created:",I.transactionId),await ne.from("reservations").update({fedapay_transaction_id:I.transactionId}).eq("id",S.id),WN(I.paymentUrl,!0),confirm(` Une fentre de paiement FedaPay s'est ouverte.

Veuillez complter votre paiement dans cette fentre.

 Aprs avoir pay, cliquez sur "OK" pour vrifier votre paiement.
 Si vous n'avez pas pay, cliquez sur "Annuler".`)){console.log(" Vrification du paiement..."),await new Promise(W=>setTimeout(W,2e3));const z=await Cv(I.transactionId);console.log(" Statut reu:",z),z.success?z.status==="approved"?(await C(S.id,"approved",I.transactionId),alert(` Paiement confirm !

Votre rservation est valide.`),t("/reservations")):z.status==="pending"?(alert(` Paiement en cours de traitement...

Nous vrifions votre paiement. Cela peut prendre quelques minutes.

Vous pouvez vrifier le statut dans "Mes rservations".`),t("/reservations")):(alert(` Paiement non confirm.

Statut: ${z.status}

Vous pouvez ressayer depuis "Mes rservations".`),t("/reservations")):(alert(` Impossible de vrifier le paiement pour le moment.

Veuillez vrifier le statut dans "Mes rservations" dans quelques instants.`),t("/reservations"))}else alert(` Paiement non effectu.

Votre rservation est sauvegarde.
Vous pouvez la payer plus tard depuis "Mes rservations".`),t("/reservations")}catch(I){console.error(" Payment error:",I),alert(` Erreur : ${I.message}

La rservation est sauvegarde, vous pouvez payer plus tard depuis "Mes rservations".`),t("/reservations")}finally{p(!1),d(!1)}},C=async(S,T,I)=>{try{await ne.from("reservations").update({statut_paiement:T,statut:T==="approved"?"confirmee":"annulee",fedapay_transaction_id:I,updated_at:new Date().toISOString()}).eq("id",S)}catch(M){console.error("Error updating reservation:",M)}};if(i)return c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});if(!n)return null;const E=n.prix*b.nb_places;return c.jsx("div",{className:"page-container",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-8",children:"Rservation de billet"}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[c.jsx("div",{className:"md:col-span-2",children:c.jsxs("form",{onSubmit:A,className:"card space-y-6",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Dtails du trajet"}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 space-y-2",children:[c.jsxs("p",{className:"text-gray-900 dark:text-white font-semibold",children:[n.depart,"  ",n.arrivee]}),c.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Compagnie: ",n.compagnies?.nom]}),c.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Prix unitaire: ",n.prix," FCFA"]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Nombre de places"}),c.jsxs("div",{className:"relative",children:[c.jsx(vs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"number",min:"1",max:"10",value:b.nb_places,onChange:S=>k({...b,nb_places:parseInt(S.target.value)}),required:!0,className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Horaire"}),c.jsxs("div",{className:"relative",children:[c.jsx(wn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsxs("select",{value:b.horaire,onChange:S=>k({...b,horaire:S.target.value}),required:!0,className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600",children:[c.jsx("option",{value:"",children:"Slectionner un horaire"}),n.horaires?.map((S,T)=>c.jsx("option",{value:S,children:S},T))]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Informations du passager"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Nom complet"}),c.jsxs("div",{className:"relative",children:[c.jsx(ln,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",value:b.nom_passager,onChange:S=>k({...b,nom_passager:S.target.value}),placeholder:"Jean Dupont",required:!0,className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Tlphone (Mobile Money) *"}),c.jsxs("div",{className:"relative",children:[c.jsx(jd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"tel",value:b.telephone_passager,onChange:S=>k({...b,telephone_passager:S.target.value}),placeholder:"+22997123456",required:!0,className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),c.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"Format: +229XXXXXXXX (ce numro sera utilis pour le paiement Mobile Money)"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),c.jsxs("div",{className:"relative",children:[c.jsx(Cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"email",value:b.email_passager,onChange:S=>k({...b,email_passager:S.target.value}),placeholder:"email@example.com",className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]})]})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[c.jsx(rl,{className:"h-5 w-5 text-primary"}),c.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Oprateur Mobile Money"}),c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[c.jsx("button",{type:"button",onClick:()=>y("mtn"),className:`p-4 rounded-xl border-2 transition-all ${m==="mtn"?"border-[#FFCC00] bg-[#FFF9E6]":"border-gray-200 dark:border-gray-700 hover:border-[#FFCC00]"}`,children:c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("div",{className:`w-12 h-12 rounded-full bg-[#FFCC00] flex items-center justify-center mb-2 ${m==="mtn"?"ring-4 ring-[#FFCC00]/30":""}`,children:c.jsx("span",{className:"text-lg font-bold text-black",children:"MTN"})}),c.jsx("p",{className:`text-sm font-semibold text-center ${m==="mtn"?"text-gray-900 dark:text-gray-900":"text-gray-600"}`,children:"MTN Mobile Money"}),m==="mtn"&&c.jsx(gr,{className:"h-5 w-5 text-[#FFCC00] mt-2"})]})}),c.jsx("button",{type:"button",onClick:()=>y("moov"),className:`p-4 rounded-xl border-2 transition-all ${m==="moov"?"border-[#009CDE] bg-[#E6F7FF]":"border-gray-200 dark:border-gray-700 hover:border-[#009CDE]"}`,children:c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("div",{className:`w-12 h-12 rounded-full bg-[#009CDE] flex items-center justify-center mb-2 ${m==="moov"?"ring-4 ring-[#009CDE]/30":""}`,children:c.jsx("span",{className:"text-base font-bold text-white",children:"moov"})}),c.jsx("p",{className:`text-sm font-semibold text-center ${m==="moov"?"text-gray-900 dark:text-gray-900":"text-gray-600"}`,children:"Moov Money"}),m==="moov"&&c.jsx(gr,{className:"h-5 w-5 text-[#009CDE] mt-2"})]})}),c.jsx("button",{type:"button",onClick:()=>y("celtiis"),className:`p-4 rounded-xl border-2 transition-all ${m==="celtiis"?"border-[#FF6B00] bg-[#FFF3E6]":"border-gray-200 dark:border-gray-700 hover:border-[#FF6B00]"}`,children:c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("div",{className:`w-12 h-12 rounded-full bg-[#FF6B00] flex items-center justify-center mb-2 ${m==="celtiis"?"ring-4 ring-[#FF6B00]/30":""}`,children:c.jsx("span",{className:"text-sm font-bold text-white",children:"Celtiis"})}),c.jsx("p",{className:`text-sm font-semibold text-center ${m==="celtiis"?"text-gray-900 dark:text-gray-900":"text-gray-600"}`,children:"Celtiis Cash"}),m==="celtiis"&&c.jsx(gr,{className:"h-5 w-5 text-[#FF6B00] mt-2"})]})})]}),c.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-3",children:"Le numro de tlphone doit correspondre  votre compte Mobile Money"})]}),c.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx(fs,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),c.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-300",children:[c.jsx("p",{className:"font-semibold mb-1",children:"Paiement 100% scuris"}),c.jsx("p",{className:"text-xs",children:"Vos donnes bancaires sont cryptes et scurises par FedaPay. Nous ne stockons jamais vos informations de paiement."})]})]})}),c.jsx("button",{type:"submit",disabled:u||h||!m,className:"w-full btn-primary py-4 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:u||h?c.jsxs(c.Fragment,{children:[c.jsx(BN,{className:"h-5 w-5 animate-spin"}),c.jsx("span",{children:h?"Paiement en cours...":"Rservation en cours..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(rl,{className:"h-5 w-5"}),c.jsxs("span",{children:["Payer ",E," FCFA"]})]})}),c.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 text-center mt-2",children:"Paiement scuris par FedaPay (Mobile Money)"})]})}),c.jsx("div",{className:"md:col-span-1",children:c.jsxs("div",{className:"card sticky top-24",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Rcapitulatif"}),c.jsxs("div",{className:"space-y-3 mb-6",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Prix unitaire"}),c.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[n.prix," FCFA"]})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Nombre de places"}),c.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:b.nb_places})]}),c.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-3",children:c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:"Total"}),c.jsxs("span",{className:"font-bold text-2xl text-primary",children:[E," FCFA"]})]})})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:c.jsxs("p",{className:"text-xs text-blue-800 dark:text-blue-300",children:[c.jsx("strong",{children:" Note:"})," Une fentre de paiement scurise s'ouvrira aprs validation."]})}),c.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-3 border border-green-200 dark:border-green-800",children:c.jsxs("p",{className:"text-xs text-green-800 dark:text-green-300",children:[c.jsx("strong",{children:" Paiement Mobile Money uniquement"})," - Votre rservation sera confirme aprs le paiement russi."]})})]})]})})]})]})})}function WM(){const{id:e}=gd();zS();const t=En(),{session:r}=Jt(),[n,a]=x.useState(null),[i,l]=x.useState(!0),[u,d]=x.useState(!1),[h,p]=x.useState(null),[m,y]=x.useState("mobile_money");x.useEffect(()=>{v()},[e]);const v=async()=>{try{const{data:k,error:N}=await ne.from("reservations").select("*, trajets(*, compagnies:compagnie_id(nom))").eq("id",e).eq("user_id",r?.user?.id).single();if(N)throw N;if(k.statut_paiement!=="pending"){t("/reservations");return}a(k)}catch(k){console.error("Error loading reservation:",k),t("/reservations")}finally{l(!1)}},j=async()=>{d(!0),p(null);try{const k=KN(n.montant_total);console.log(" Starting payment process...");const N=await qN({amount:k,description:`Rservation ${n.trajets.depart}  ${n.trajets.arrivee}`,customerId:r.user.id,customerEmail:n.email_passager,customerName:n.nom_passager,customerPhone:n.telephone_passager,mobileMoneyOperator:m==="mobile_money"?"mtn":void 0});if(!N.success)throw new Error(N.error||"Erreur lors de la cration de la transaction");console.log(" Transaction created:",N.transactionId),await ne.from("reservations").update({fedapay_transaction_id:N.transactionId}).eq("id",e),WN(N.paymentUrl,!0),alert(` Une fentre de paiement s'est ouverte.

Aprs avoir pay, revenez sur cette page.`),setTimeout(async()=>{const A=await Cv(N.transactionId);A.success&&A.status==="approved"?(await b("approved",N.transactionId),p("success"),setTimeout(()=>t("/reservations"),2e3)):(p("error"),alert(" Paiement en attente ou chou. Vrifiez votre transaction.")),d(!1)},3e3)}catch(k){console.error(" Payment error:",k),p("error"),alert(` Erreur : ${k.message}`),d(!1)}},b=async(k,N)=>{try{await ne.from("reservations").update({statut_paiement:k,statut:k==="approved"?"confirmee":"annulee",fedapay_transaction_id:N,updated_at:new Date().toISOString()}).eq("id",e)}catch(A){console.error("Error updating reservation:",A)}};return i?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n?c.jsx("div",{className:"page-container",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Paiement scuris"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Compltez votre rservation en effectuant le paiement"})]}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"md:col-span-2 space-y-6",children:[h==="success"&&c.jsx("div",{className:"card bg-success-light border-2 border-success",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(gr,{className:"h-8 w-8 text-success"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-success",children:"Paiement russi !"}),c.jsx("p",{className:"text-sm text-gray-700",children:"Votre rservation a t confirme. Vous allez tre redirig..."})]})]})}),h==="error"&&c.jsx("div",{className:"card bg-error-light border-2 border-error",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(hr,{className:"h-8 w-8 text-error"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-error",children:"chec du paiement"}),c.jsx("p",{className:"text-sm text-gray-700",children:"Une erreur est survenue. Veuillez ressayer."})]})]})}),c.jsxs("div",{className:"card",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Mthode de paiement"}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("button",{onClick:()=>y("mobile_money"),className:`w-full p-4 rounded-lg border-2 transition-all ${m==="mobile_money"?"border-primary bg-primary-light":"border-gray-200 dark:border-gray-700 hover:border-primary"}`,children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(CM,{className:"h-6 w-6 text-primary"}),c.jsxs("div",{className:"text-left flex-1",children:[c.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:"Mobile Money"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"MTN Mobile Money, Moov Money"})]}),m==="mobile_money"&&c.jsx(gr,{className:"h-5 w-5 text-primary"})]})}),c.jsx("button",{onClick:()=>y("card"),className:`w-full p-4 rounded-lg border-2 transition-all ${m==="card"?"border-primary bg-primary-light":"border-gray-200 dark:border-gray-700 hover:border-primary"}`,children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(rl,{className:"h-6 w-6 text-primary"}),c.jsxs("div",{className:"text-left flex-1",children:[c.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:"Carte bancaire"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Visa, Mastercard"})]}),m==="card"&&c.jsx(gr,{className:"h-5 w-5 text-primary"})]})})]})]}),c.jsx("div",{className:"card bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800",children:c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx(fs,{className:"h-6 w-6 text-blue-600 flex-shrink-0 mt-1"}),c.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-300",children:[c.jsx("p",{className:"font-semibold mb-1",children:"Paiement 100% scuris"}),c.jsx("p",{children:"Vos donnes bancaires sont cryptes et scurises par FedaPay. Nous ne stockons jamais vos informations de paiement."})]})]})}),c.jsx("button",{onClick:j,disabled:u||h==="success",className:"w-full btn-primary py-4 text-lg disabled:opacity-50 disabled:cursor-not-allowed",children:u?c.jsxs("span",{className:"flex items-center justify-center space-x-2",children:[c.jsx(BN,{className:"h-5 w-5 animate-spin"}),c.jsx("span",{children:"Traitement en cours..."})]}):`Payer ${n.montant_total} FCFA`}),!1,c.jsxs("p",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:['En cliquant sur "Payer", vous acceptez nos'," ",c.jsx("a",{href:"#",className:"text-primary hover:underline",children:"conditions gnrales"})]})]}),c.jsx("div",{className:"md:col-span-1",children:c.jsxs("div",{className:"card sticky top-24",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Rcapitulatif"}),c.jsxs("div",{className:"space-y-3 mb-6",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Trajet"}),c.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[n.trajets.depart,"  ",n.trajets.arrivee]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Compagnie"}),c.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:n.trajets.compagnies?.nom})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Horaire"}),c.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:n.horaire})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Passager"}),c.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:n.nom_passager})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Places"}),c.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:n.nb_places})]})]}),c.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sous-total"}),c.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[n.montant_total," FCFA"]})]}),c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Frais de service"}),c.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:"0 FCFA"})]}),c.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:"Total  payer"}),c.jsxs("span",{className:"font-bold text-2xl text-primary",children:[n.montant_total," FCFA"]})]})})]})]})})]})]})}):null}function KM(){const e=En(),[t,r]=x.useState({email:"",password:""}),[n,a]=x.useState(!1),[i,l]=x.useState(!1),[u,d]=x.useState(""),h=async p=>{p.preventDefault(),d(""),l(!0);try{const{error:m}=await ne.auth.signInWithPassword({email:t.email,password:t.password});if(m)throw m;e("/")}catch(m){d(m.message||"Une erreur est survenue lors de la connexion")}finally{l(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-primary to-blue-700",children:c.jsx("div",{className:"max-w-md w-full",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary rounded-2xl mb-4",children:c.jsx(mr,{className:"h-8 w-8 text-white"})}),c.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Connexion"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Connectez-vous  votre compte Bus Bnin"})]}),u&&c.jsx("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:c.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:u})}),c.jsxs("form",{onSubmit:h,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),c.jsxs("div",{className:"relative",children:[c.jsx(Cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"email",value:t.email,onChange:p=>r({...t,email:p.target.value}),placeholder:"votre@email.com",required:!0,className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Mot de passe"}),c.jsxs("div",{className:"relative",children:[c.jsx(gg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:n?"text":"password",value:t.password,onChange:p=>r({...t,password:p.target.value}),placeholder:"",required:!0,className:"input-field pl-10 pr-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"}),c.jsx("button",{type:"button",onClick:()=>a(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n?c.jsx(LN,{className:"h-5 w-5"}):c.jsx($N,{className:"h-5 w-5"})})]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary"}),c.jsx("span",{className:"ml-2 text-sm text-gray-600 dark:text-gray-400",children:"Se souvenir de moi"})]}),c.jsx(ke,{to:"/forgot-password",className:"text-sm font-medium text-primary hover:text-primary-dark",children:"Mot de passe oubli ?"})]}),c.jsx("button",{type:"submit",disabled:i,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Connexion en cours...":"Se connecter"})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Vous n'avez pas de compte ?"," ",c.jsx(ke,{to:"/register",className:"font-medium text-primary hover:text-primary-dark",children:"S'inscrire"})]})})]})})})}function VM(){const e=En(),[t,r]=x.useState({email:"",password:"",confirmPassword:"",username:"",fullName:""}),[n,a]=x.useState(!1),[i,l]=x.useState(!1),[u,d]=x.useState(""),h=async p=>{if(p.preventDefault(),d(""),t.password!==t.confirmPassword){d("Les mots de passe ne correspondent pas");return}if(t.password.length<6){d("Le mot de passe doit contenir au moins 6 caractres");return}l(!0);try{const{data:m,error:y}=await ne.auth.signUp({email:t.email,password:t.password,options:{data:{username:t.username,full_name:t.fullName}}});if(y)throw y;if(m.user){const{error:v}=await ne.from("profiles").insert({id:m.user.id,username:t.username,full_name:t.fullName,email:t.email});v&&v.code!=="23505"&&console.error("Error creating profile:",v)}e("/")}catch(m){d(m.message||"Une erreur est survenue lors de l'inscription")}finally{l(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-primary to-blue-700",children:c.jsx("div",{className:"max-w-md w-full",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary rounded-2xl mb-4",children:c.jsx(mr,{className:"h-8 w-8 text-white"})}),c.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Inscription"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Crez votre compte Bus Bnin"})]}),u&&c.jsx("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:c.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:u})}),c.jsxs("form",{onSubmit:h,className:"space-y-5",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Nom complet"}),c.jsxs("div",{className:"relative",children:[c.jsx(ln,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",value:t.fullName,onChange:p=>r({...t,fullName:p.target.value}),placeholder:"Jean Dupont",required:!0,className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Nom d'utilisateur"}),c.jsxs("div",{className:"relative",children:[c.jsx(ln,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",value:t.username,onChange:p=>r({...t,username:p.target.value}),placeholder:"jeandupont",required:!0,minLength:3,className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),c.jsxs("div",{className:"relative",children:[c.jsx(Cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"email",value:t.email,onChange:p=>r({...t,email:p.target.value}),placeholder:"votre@email.com",required:!0,className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Mot de passe"}),c.jsxs("div",{className:"relative",children:[c.jsx(gg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:n?"text":"password",value:t.password,onChange:p=>r({...t,password:p.target.value}),placeholder:"",required:!0,minLength:6,className:"input-field pl-10 pr-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"}),c.jsx("button",{type:"button",onClick:()=>a(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n?c.jsx(LN,{className:"h-5 w-5"}):c.jsx($N,{className:"h-5 w-5"})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Confirmer le mot de passe"}),c.jsxs("div",{className:"relative",children:[c.jsx(gg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:n?"text":"password",value:t.confirmPassword,onChange:p=>r({...t,confirmPassword:p.target.value}),placeholder:"",required:!0,minLength:6,className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]}),c.jsx("button",{type:"submit",disabled:i,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Inscription en cours...":"S'inscrire"})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Vous avez dj un compte ?"," ",c.jsx(ke,{to:"/login",className:"font-medium text-primary hover:text-primary-dark",children:"Se connecter"})]})})]})})})}function HM(){const{session:e}=Jt(),[t,r]=x.useState(null),[n,a]=x.useState(!1),[i,l]=x.useState(!0),[u,d]=x.useState(!1),[h,p]=x.useState({username:"",full_name:"",email:""});x.useEffect(()=>{m()},[e]);const m=async()=>{if(e?.user?.id)try{const{data:v,error:j}=await ne.from("profiles").select("*").eq("id",e.user.id).single();if(j)throw j;r(v),p({username:v.username||"",full_name:v.full_name||"",email:v.email||e.user.email})}catch(v){console.error("Error loading profile:",v)}finally{l(!1)}},y=async()=>{d(!0);try{const{error:v}=await ne.from("profiles").update({username:h.username,full_name:h.full_name,email:h.email,updated_at:new Date().toISOString()}).eq("id",e.user.id);if(v)throw v;await m(),a(!1)}catch(v){console.error("Error updating profile:",v),alert("Une erreur est survenue lors de la mise  jour")}finally{d(!1)}};return i?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):c.jsx("div",{className:"page-container",children:c.jsxs("div",{className:"max-w-3xl mx-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Mon profil"}),n?c.jsxs("div",{className:"flex space-x-2",children:[c.jsxs("button",{onClick:()=>{a(!1),p({username:t.username||"",full_name:t.full_name||"",email:t.email||""})},className:"btn-secondary flex items-center space-x-2",children:[c.jsx(ys,{className:"h-4 w-4"}),c.jsx("span",{children:"Annuler"})]}),c.jsxs("button",{onClick:y,disabled:u,className:"btn-primary flex items-center space-x-2 disabled:opacity-50",children:[c.jsx(AM,{className:"h-4 w-4"}),c.jsx("span",{children:u?"Enregistrement...":"Enregistrer"})]})]}):c.jsxs("button",{onClick:()=>a(!0),className:"btn-primary flex items-center space-x-2",children:[c.jsx(wd,{className:"h-4 w-4"}),c.jsx("span",{children:"Modifier"})]})]}),c.jsxs("div",{className:"card",children:[c.jsx("div",{className:"flex justify-center mb-8",children:c.jsx("div",{className:"w-32 h-32 bg-primary-light rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-5xl font-bold text-primary",children:h.username?.[0]?.toUpperCase()||h.full_name?.[0]?.toUpperCase()||"U"})})}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Nom complet"}),c.jsxs("div",{className:"relative",children:[c.jsx(ln,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",value:h.full_name,onChange:v=>p({...h,full_name:v.target.value}),disabled:!n,className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600 disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:cursor-not-allowed"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Nom d'utilisateur"}),c.jsxs("div",{className:"relative",children:[c.jsx(ln,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",value:h.username,onChange:v=>p({...h,username:v.target.value}),disabled:!n,minLength:3,className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600 disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:cursor-not-allowed"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),c.jsxs("div",{className:"relative",children:[c.jsx(Cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"email",value:h.email,onChange:v=>p({...h,email:v.target.value}),disabled:!n,className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600 disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:cursor-not-allowed"})]})]}),t&&c.jsx("div",{className:"pt-6 border-t border-gray-200 dark:border-gray-700",children:c.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Compte cr:"})," ",new Date(e.user.created_at).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})]}),t.updated_at&&c.jsxs("p",{children:[c.jsx("strong",{children:"Dernire modification:"})," ",new Date(t.updated_at).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})]})]})})]})]})]})})}function GM(){const{session:e}=Jt(),[t,r]=x.useState([]),[n,a]=x.useState(!0),[i,l]=x.useState(null);x.useEffect(()=>{u()},[e]);const u=async()=>{if(e?.user?.id)try{const{data:y,error:v}=await ne.from("reservations").select(`
          id,
          nb_places,
          horaire,
          montant_total,
          nom_passager,
          telephone_passager,
          email_passager,
          statut,
          statut_paiement,
          fedapay_transaction_id,
          created_at,
          trajets:trajet_id (
            id,
            depart,
            arrivee,
            compagnies:compagnie_id (nom)
          )
        `).eq("user_id",e.user.id).order("created_at",{ascending:!1});if(v)throw v;r(y||[])}catch(y){console.error("Error loading reservations:",y)}finally{a(!1)}},d=async y=>{if(!y.fedapay_transaction_id){alert(" Aucune transaction de paiement trouve");return}try{l(y.id),console.log(" Vrification du statut pour:",y.fedapay_transaction_id);const v=await Cv(y.fedapay_transaction_id);if(v.success){console.log(" Statut rcupr:",v.status);const{error:j}=await ne.from("reservations").update({statut_paiement:v.status,statut:v.status==="approved"?"confirmee":"en_attente"}).eq("id",y.id);if(j)throw console.error("Erreur mise  jour:",j),j;alert({approved:" Paiement confirm ! Votre rservation est valide.",pending:" Paiement en attente. Veuillez complter le paiement.",declined:" Paiement refus. Veuillez ressayer.",canceled:" Paiement annul."}[v.status]||`Statut: ${v.status}`),await u()}else alert(" Impossible de vrifier le statut du paiement")}catch(v){console.error(" Erreur vrification:",v),alert(`Erreur: ${v.message}`)}finally{l(null)}},h=async y=>{if(confirm("tes-vous sr de vouloir annuler cette rservation ?"))try{const{error:v}=await ne.from("reservations").update({statut:"annulee",statut_paiement:"canceled"}).eq("id",y).eq("statut","en_attente");if(v)throw v;alert(" Rservation annule"),await u()}catch(v){console.error(" Erreur annulation:",v),alert(`Erreur: ${v.message}`)}},p=y=>{const v={en_attente:{color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300",icon:xj,label:"En attente"},confirmee:{color:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",icon:gr,label:"Confirme"},annulee:{color:"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400",icon:hr,label:"Annule"},expiree:{color:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",icon:hr,label:"Expire"}},j=v[y]||v.en_attente,b=j.icon;return c.jsxs("span",{className:`inline-flex items-center space-x-1 px-3 py-1 rounded-full text-xs font-semibold ${j.color}`,children:[c.jsx(b,{className:"h-3 w-3"}),c.jsx("span",{children:j.label})]})},m=y=>{const v={pending:{color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300",label:"En attente",icon:xj},approved:{color:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",label:"Pay",icon:gr},declined:{color:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",label:"Refus",icon:hr},canceled:{color:"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400",label:"Annul",icon:hr}},j=v[y]||v.pending,b=j.icon;return c.jsxs("span",{className:`inline-flex items-center space-x-1 px-2 py-1 rounded text-xs font-semibold ${j.color}`,children:[c.jsx(b,{className:"h-3 w-3"}),c.jsx("span",{children:j.label})]})};return n?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):c.jsxs("div",{className:"page-container",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Mes rservations"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Consultez l'historique de vos rservations"})]}),t.length===0?c.jsxs("div",{className:"text-center py-20",children:[c.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center",children:c.jsx(bn,{className:"h-12 w-12 text-gray-400"})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Aucune rservation"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Vous n'avez pas encore effectu de rservation"}),c.jsx(ke,{to:"/trajets",className:"btn-primary",children:"Rechercher des trajets"})]}):c.jsx("div",{className:"space-y-4",children:t.map(y=>c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:[y.trajets.depart,"  ",y.trajets.arrivee]}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:y.trajets.compagnies?.nom})]}),p(y.statut)]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400",children:[c.jsx(bn,{className:"h-4 w-4"}),c.jsx("span",{children:new Date(y.created_at).toLocaleDateString("fr-FR")})]}),c.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400",children:[c.jsx(wn,{className:"h-4 w-4"}),c.jsx("span",{children:y.horaire})]}),c.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400",children:[c.jsx(vs,{className:"h-4 w-4"}),c.jsxs("span",{children:[y.nb_places," place",y.nb_places>1?"s":""]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(rl,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"}),m(y.statut_paiement)]})]}),c.jsxs("div",{className:"flex gap-2 mt-3",children:[y.statut_paiement==="pending"&&y.fedapay_transaction_id&&c.jsxs("button",{onClick:()=>d(y),disabled:i===y.id,className:"flex items-center space-x-1 px-3 py-2 rounded-lg bg-blue-50 hover:bg-blue-100 dark:bg-blue-900/30 dark:hover:bg-blue-900/50 text-blue-700 dark:text-blue-300 text-xs font-semibold transition-colors disabled:opacity-50",children:[c.jsx(OM,{className:`h-3 w-3 ${i===y.id?"animate-spin":""}`}),c.jsx("span",{children:i===y.id?"Vrification...":"Vrifier"})]}),y.statut==="en_attente"&&y.statut_paiement==="pending"&&c.jsxs(ke,{to:`/payment/${y.id}`,className:"flex items-center space-x-1 px-3 py-2 rounded-lg bg-primary hover:bg-primary/90 text-white text-xs font-semibold transition-colors",children:[c.jsx(rl,{className:"h-3 w-3"}),c.jsxs("span",{children:["Payer ",y.montant_total," FCFA"]})]}),y.statut==="en_attente"&&c.jsxs("button",{onClick:()=>h(y.id),className:"flex items-center space-x-1 px-3 py-2 rounded-lg bg-red-50 hover:bg-red-100 dark:bg-red-900/30 dark:hover:bg-red-900/50 text-red-700 dark:text-red-300 text-xs font-semibold transition-colors",children:[c.jsx(hr,{className:"h-3 w-3"}),c.jsx("span",{children:"Annuler"})]})]})]}),c.jsx("div",{className:"flex flex-col items-end justify-center",children:c.jsxs("div",{className:"text-right",children:[c.jsx("span",{className:"text-2xl font-bold text-primary",children:y.montant_total}),c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 ml-1",children:"FCFA"})]})})]}),c.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 text-sm text-gray-600 dark:text-gray-400",children:[c.jsxs("div",{children:[c.jsx("strong",{children:"Passager:"})," ",y.nom_passager]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Tlphone:"})," ",y.telephone_passager]}),y.email_passager&&c.jsxs("div",{children:[c.jsx("strong",{children:"Email:"})," ",y.email_passager]})]})})]},y.id))})]})}function YM(){const{session:e}=Jt(),[t,r]=x.useState([]),[n,a]=x.useState(!0);x.useEffect(()=>{i()},[e]);const i=async()=>{if(e?.user?.id)try{const{data:l,error:u}=await ne.from("favoris").select("*, trajets(*, compagnies:compagnie_id(nom))").eq("user_id",e.user.id).order("created_at",{ascending:!1});if(u)throw u;const d=(l||[]).map(h=>({...h.trajets,compagnie:h.trajets?.compagnies?.nom}));r(d)}catch(l){console.error("Error loading favorites:",l)}finally{a(!1)}};return n?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):c.jsxs("div",{className:"page-container",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Mes favoris"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Retrouvez vos trajets prfrs"})]}),t.length===0?c.jsxs("div",{className:"text-center py-20",children:[c.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center",children:c.jsx(bd,{className:"h-12 w-12 text-gray-400"})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Aucun favori"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Ajoutez des trajets  vos favoris pour les retrouver facilement"}),c.jsx(ke,{to:"/trajets",className:"btn-primary",children:"Explorer les trajets"})]}):c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(l=>c.jsx(Av,{trajet:l,isFavorite:!0,onFavoriteToggle:i},l.id))})]})}function VN(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=VN(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Te(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=VN(e))&&(n&&(n+=" "),n+=t);return n}var XM=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Tv(e){if(typeof e!="string")return!1;var t=XM;return t.includes(e)}var JM=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function HN(e){if(typeof e!="string")return!1;var t=JM;return t.includes(e)}function GN(e){return typeof e=="string"&&e.startsWith("data-")}function ar(e){var t=Object.entries(e).filter(r=>{var[n]=r;return HN(n)||GN(n)});return Object.fromEntries(t)}function gi(e){if(e==null)return null;if(x.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return ar(t)}return typeof e=="object"&&!Array.isArray(e)?ar(e):null}function ir(e){var t=Object.entries(e).filter(r=>{var[n]=r;return HN(n)||GN(n)||Tv(n)});return Object.fromEntries(t)}function YN(e){return e==null?null:x.isValidElement(e)?ir(e.props):typeof e=="object"&&!Array.isArray(e)?ir(e):null}var QM=["children","width","height","viewBox","className","style","title","desc"];function xg(){return xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xg.apply(null,arguments)}function ZM(e,t){if(e==null)return{};var r,n,a=e4(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function e4(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Rv=x.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:l,style:u,title:d,desc:h}=e,p=ZM(e,QM),m=i||{width:n,height:a,x:0,y:0},y=Te("recharts-surface",l);return x.createElement("svg",xg({},ir(p),{className:y,width:n,height:a,style:u,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),x.createElement("title",null,d),x.createElement("desc",null,h),r)}),t4=["children","className"];function bg(){return bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bg.apply(null,arguments)}function r4(e,t){if(e==null)return{};var r,n,a=n4(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function n4(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ct=x.forwardRef((e,t)=>{var{children:r,className:n}=e,a=r4(e,t4),i=Te("recharts-layer",n);return x.createElement("g",bg({className:i},ir(a),{ref:t}),r)}),XN=x.createContext(null),a4=()=>x.useContext(XN);function He(e){return function(){return e}}const JN=Math.cos,Eu=Math.sin,dn=Math.sqrt,Pu=Math.PI,_d=2*Pu,wg=Math.PI,jg=2*wg,ni=1e-6,i4=jg-ni;function QN(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function s4(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return QN;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class o4{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?QN:s4(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,l){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+l}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,u=this._y1,d=n-t,h=a-r,p=l-t,m=u-r,y=p*p+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(y>ni)if(!(Math.abs(m*d-h*p)>ni)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let v=n-l,j=a-u,b=d*d+h*h,k=v*v+j*j,N=Math.sqrt(b),A=Math.sqrt(y),P=i*Math.tan((wg-Math.acos((b+y-k)/(2*N*A)))/2),C=P/A,E=P/N;Math.abs(C-1)>ni&&this._append`L${t+C*p},${r+C*m}`,this._append`A${i},${i},0,0,${+(m*v>p*j)},${this._x1=t+E*d},${this._y1=r+E*h}`}}arc(t,r,n,a,i,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(a),d=n*Math.sin(a),h=t+u,p=r+d,m=1^l,y=l?a-i:i-a;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>ni||Math.abs(this._y1-p)>ni)&&this._append`L${h},${p}`,n&&(y<0&&(y=y%jg+jg),y>i4?this._append`A${n},${n},0,1,${m},${t-u},${r-d}A${n},${n},0,1,${m},${this._x1=h},${this._y1=p}`:y>ni&&this._append`A${n},${n},0,${+(y>=wg)},${m},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Iv(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new o4(t)}function Dv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ZN(e){this._context=e}ZN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Sd(e){return new ZN(e)}function eE(e){return e[0]}function tE(e){return e[1]}function rE(e,t){var r=He(!0),n=null,a=Sd,i=null,l=Iv(u);e=typeof e=="function"?e:e===void 0?eE:He(e),t=typeof t=="function"?t:t===void 0?tE:He(t);function u(d){var h,p=(d=Dv(d)).length,m,y=!1,v;for(n==null&&(i=a(v=l())),h=0;h<=p;++h)!(h<p&&r(m=d[h],h,d))===y&&((y=!y)?i.lineStart():i.lineEnd()),y&&i.point(+e(m,h,d),+t(m,h,d));if(v)return i=null,v+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:He(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:He(+d),u):t},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:He(!!d),u):r},u.curve=function(d){return arguments.length?(a=d,n!=null&&(i=a(n)),u):a},u.context=function(d){return arguments.length?(d==null?n=i=null:i=a(n=d),u):n},u}function tu(e,t,r){var n=null,a=He(!0),i=null,l=Sd,u=null,d=Iv(h);e=typeof e=="function"?e:e===void 0?eE:He(+e),t=typeof t=="function"?t:He(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?tE:He(+r);function h(m){var y,v,j,b=(m=Dv(m)).length,k,N=!1,A,P=new Array(b),C=new Array(b);for(i==null&&(u=l(A=d())),y=0;y<=b;++y){if(!(y<b&&a(k=m[y],y,m))===N)if(N=!N)v=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),j=y-1;j>=v;--j)u.point(P[j],C[j]);u.lineEnd(),u.areaEnd()}N&&(P[y]=+e(k,y,m),C[y]=+t(k,y,m),u.point(n?+n(k,y,m):P[y],r?+r(k,y,m):C[y]))}if(A)return u=null,A+""||null}function p(){return rE().defined(a).curve(l).context(i)}return h.x=function(m){return arguments.length?(e=typeof m=="function"?m:He(+m),n=null,h):e},h.x0=function(m){return arguments.length?(e=typeof m=="function"?m:He(+m),h):e},h.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:He(+m),h):n},h.y=function(m){return arguments.length?(t=typeof m=="function"?m:He(+m),r=null,h):t},h.y0=function(m){return arguments.length?(t=typeof m=="function"?m:He(+m),h):t},h.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:He(+m),h):r},h.lineX0=h.lineY0=function(){return p().x(e).y(t)},h.lineY1=function(){return p().x(e).y(r)},h.lineX1=function(){return p().x(n).y(t)},h.defined=function(m){return arguments.length?(a=typeof m=="function"?m:He(!!m),h):a},h.curve=function(m){return arguments.length?(l=m,i!=null&&(u=l(i)),h):l},h.context=function(m){return arguments.length?(m==null?i=u=null:u=l(i=m),h):i},h}class nE{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function l4(e){return new nE(e,!0)}function c4(e){return new nE(e,!1)}const Mv={draw(e,t){const r=dn(t/Pu);e.moveTo(r,0),e.arc(0,0,r,0,_d)}},u4={draw(e,t){const r=dn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},aE=dn(1/3),d4=aE*2,f4={draw(e,t){const r=dn(t/d4),n=r*aE;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},h4={draw(e,t){const r=dn(t),n=-r/2;e.rect(n,n,r,r)}},p4=.8908130915292852,iE=Eu(Pu/10)/Eu(7*Pu/10),m4=Eu(_d/10)*iE,g4=-JN(_d/10)*iE,v4={draw(e,t){const r=dn(t*p4),n=m4*r,a=g4*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const l=_d*i/5,u=JN(l),d=Eu(l);e.lineTo(d*r,-u*r),e.lineTo(u*n-d*a,d*n+u*a)}e.closePath()}},kp=dn(3),y4={draw(e,t){const r=-dn(t/(kp*3));e.moveTo(0,r*2),e.lineTo(-kp*r,-r),e.lineTo(kp*r,-r),e.closePath()}},$r=-.5,Br=dn(3)/2,kg=1/dn(12),x4=(kg/2+1)*3,b4={draw(e,t){const r=dn(t/x4),n=r/2,a=r*kg,i=n,l=r*kg+r,u=-i,d=l;e.moveTo(n,a),e.lineTo(i,l),e.lineTo(u,d),e.lineTo($r*n-Br*a,Br*n+$r*a),e.lineTo($r*i-Br*l,Br*i+$r*l),e.lineTo($r*u-Br*d,Br*u+$r*d),e.lineTo($r*n+Br*a,$r*a-Br*n),e.lineTo($r*i+Br*l,$r*l-Br*i),e.lineTo($r*u+Br*d,$r*d-Br*u),e.closePath()}};function w4(e,t){let r=null,n=Iv(a);e=typeof e=="function"?e:He(e||Mv),t=typeof t=="function"?t:He(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:He(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:He(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Ou(){}function Au(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function sE(e){this._context=e}sE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Au(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Au(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function j4(e){return new sE(e)}function oE(e){this._context=e}oE.prototype={areaStart:Ou,areaEnd:Ou,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Au(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function k4(e){return new oE(e)}function lE(e){this._context=e}lE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Au(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _4(e){return new lE(e)}function cE(e){this._context=e}cE.prototype={areaStart:Ou,areaEnd:Ou,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function S4(e){return new cE(e)}function kj(e){return e<0?-1:1}function _j(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),l=(r-e._y1)/(a||n<0&&-0),u=(i*a+l*n)/(n+a);return(kj(i)+kj(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(u))||0}function Sj(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function _p(e,t,r){var n=e._x0,a=e._y0,i=e._x1,l=e._y1,u=(i-n)/3;e._context.bezierCurveTo(n+u,a+u*t,i-u,l-u*r,i,l)}function Cu(e){this._context=e}Cu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:_p(this,this._t0,Sj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,_p(this,Sj(this,r=_j(this,e,t)),r);break;default:_p(this,this._t0,r=_j(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function uE(e){this._context=new dE(e)}(uE.prototype=Object.create(Cu.prototype)).point=function(e,t){Cu.prototype.point.call(this,t,e)};function dE(e){this._context=e}dE.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function N4(e){return new Cu(e)}function E4(e){return new uE(e)}function fE(e){this._context=e}fE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Nj(e),a=Nj(t),i=0,l=1;l<r;++i,++l)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Nj(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),l=new Array(r);for(a[0]=0,i[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,l[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,l[t]-=n*l[t-1];for(a[r-1]=l[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(l[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function P4(e){return new fE(e)}function Nd(e,t){this._context=e,this._t=t}Nd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function O4(e){return new Nd(e,.5)}function A4(e){return new Nd(e,0)}function C4(e){return new Nd(e,1)}function xs(e,t){if((l=e.length)>1)for(var r=1,n,a,i=e[t[0]],l,u=i.length;r<l;++r)for(a=i,i=e[t[r]],n=0;n<u;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function _g(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function T4(e,t){return e[t]}function R4(e){const t=[];return t.key=e,t}function I4(){var e=He([]),t=_g,r=xs,n=T4;function a(i){var l=Array.from(e.apply(this,arguments),R4),u,d=l.length,h=-1,p;for(const m of i)for(u=0,++h;u<d;++u)(l[u][h]=[0,+n(m,l[u].key,h,i)]).data=m;for(u=0,p=Dv(t(l));u<d;++u)l[p[u]].index=u;return r(l,p),l}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:He(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:He(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?_g:typeof i=="function"?i:He(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??xs,a):r},a}function D4(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,l;a<i;++a){for(l=r=0;r<n;++r)l+=e[r][a][1]||0;if(l)for(r=0;r<n;++r)e[r][a][1]/=l}xs(e,t)}}function M4(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var l=0,u=0;l<a;++l)u+=e[l][r][1]||0;n[r][1]+=n[r][0]=-u/2}xs(e,t)}}function L4(e,t){if(!(!((l=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,l;n<i;++n){for(var u=0,d=0,h=0;u<l;++u){for(var p=e[t[u]],m=p[n][1]||0,y=p[n-1][1]||0,v=(m-y)/2,j=0;j<u;++j){var b=e[t[j]],k=b[n][1]||0,N=b[n-1][1]||0;v+=k-N}d+=m,h+=v*m}a[n-1][1]+=a[n-1][0]=r,d&&(r-=h/d)}a[n-1][1]+=a[n-1][0]=r,xs(e,t)}}var Sp={},Np={},Ej;function $4(){return Ej||(Ej=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Np)),Np}var Ep={},Pj;function hE(){return Pj||(Pj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Ep)),Ep}var Pp={},Oj;function Lv(){return Oj||(Oj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(Pp)),Pp}var Op={},Ap={},Aj;function B4(){return Aj||(Aj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(Ap)),Ap}var Cj;function $v(){return Cj||(Cj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B4(),r=Lv();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],l=a.length;if(l===0)return i;let u=0,d="",h="",p=!1;for(a.charCodeAt(0)===46&&(i.push(""),u++);u<l;){const m=a[u];h?m==="\\"&&u+1<l?(u++,d+=a[u]):m===h?h="":d+=m:p?m==='"'||m==="'"?h=m:m==="]"?(p=!1,i.push(d),d=""):d+=m:m==="["?(p=!0,d&&(i.push(d),d="")):m==="."?d&&(i.push(d),d=""):d+=m,u++}return d&&i.push(d),i}e.toPath=n})(Op)),Op}var Tj;function Bv(){return Tj||(Tj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$4(),r=hE(),n=Lv(),a=$v();function i(u,d,h){if(u==null)return h;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return h;const p=u[d];return p===void 0?r.isDeepKey(d)?i(u,a.toPath(d),h):h:p}case"number":case"symbol":{typeof d=="number"&&(d=n.toKey(d));const p=u[d];return p===void 0?h:p}default:{if(Array.isArray(d))return l(u,d,h);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return h;const p=u[d];return p===void 0?h:p}}}function l(u,d,h){if(d.length===0)return h;let p=u;for(let m=0;m<d.length;m++){if(p==null||t.isUnsafeProperty(d[m]))return h;p=p[d[m]]}return p===void 0?h:p}e.get=i})(Sp)),Sp}var Cp,Rj;function F4(){return Rj||(Rj=1,Cp=Bv().get),Cp}var U4=F4();const vi=un(U4);var Rt=e=>e===0?0:e>0?1:-1,Or=e=>typeof e=="number"&&e!=+e,Hn=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,fe=e=>(typeof e=="number"||e instanceof Number)&&!Or(e),jn=e=>fe(e)||typeof e=="string",z4=0,nl=e=>{var t=++z4;return"".concat(e||"").concat(t)},Xt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!fe(t)&&typeof t!="string")return n;var i;if(Hn(t)){if(r==null)return n;var l=t.indexOf("%");i=r*parseFloat(t.slice(0,l))/100}else i=+t;return Or(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},pE=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function ze(e,t,r){return fe(e)&&fe(t)?e+r*(t-e):t}function mE(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):vi(n,t))===r)}var Je=e=>e===null||typeof e>"u",vl=e=>Je(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),q4=["type","size","sizeType"];function Sg(){return Sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sg.apply(null,arguments)}function Ij(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ij(Object(r),!0).forEach(function(n){W4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ij(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W4(e,t,r){return(t=K4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K4(e){var t=V4(e,"string");return typeof t=="symbol"?t:t+""}function V4(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H4(e,t){if(e==null)return{};var r,n,a=G4(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function G4(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var gE={symbolCircle:Mv,symbolCross:u4,symbolDiamond:f4,symbolSquare:h4,symbolStar:v4,symbolTriangle:y4,symbolWye:b4},Y4=Math.PI/180,X4=e=>{var t="symbol".concat(vl(e));return gE[t]||Mv},J4=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*Y4;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Q4=(e,t)=>{gE["symbol".concat(vl(e))]=t},Fv=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=H4(e,q4),i=Dj(Dj({},a),{},{type:t,size:r,sizeType:n}),l="circle";typeof t=="string"&&(l=t);var u=()=>{var y=X4(l),v=w4().type(y).size(J4(r,n,l)),j=v();if(j!==null)return j},{className:d,cx:h,cy:p}=i,m=ir(i);return h===+h&&p===+p&&r===+r?x.createElement("path",Sg({},m,{className:Te("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};Fv.registerSymbol=Q4;var Uv=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(x.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{Tv(a)&&(n[a]=(i=>r[a](r,i)))}),n},Z4=(e,t,r)=>n=>(e(t,r,n),null),yl=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];Tv(a)&&typeof i=="function"&&(n||(n={}),n[a]=Z4(i,t,r))}),n};function Ng(){return Ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ng.apply(null,arguments)}function Mj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mj(Object(r),!0).forEach(function(n){zv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zv(e,t,r){return(t=tL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tL(e){var t=rL(e,"string");return typeof t=="symbol"?t:t+""}function rL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fr=32;class qv extends x.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,a=Fr/2,i=Fr/6,l=Fr/3,u=t.inactive?n:t.color,d=r??t.type;if(d==="none")return null;if(d==="plainline")return x.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:a,x2:Fr,y2:a,className:"recharts-legend-icon"});if(d==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Fr,"M").concat(2*l,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(d==="rect")return x.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Fr/8,"h").concat(Fr,"v").concat(Fr*3/4,"h").concat(-Fr,"z"),className:"recharts-legend-icon"});if(x.isValidElement(t.legendIcon)){var h=eL({},t);return delete h.legendIcon,x.cloneElement(t.legendIcon,h)}return x.createElement(Fv,{fill:u,cx:a,cy:a,size:Fr,sizeType:"diameter",type:d})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:l}=this.props,u={x:0,y:0,width:Fr,height:Fr},d={display:n==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((p,m)=>{var y=p.formatter||a,v=Te({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:p.inactive});if(p.type==="none")return null;var j=p.inactive?i:p.color,b=y?y(p.value,p,m):p.value;return x.createElement("li",Ng({className:v,style:d,key:"legend-item-".concat(m)},yl(this.props,p,m)),x.createElement(Rv,{width:r,height:r,viewBox:u,style:h,"aria-label":"".concat(b," legend icon")},this.renderIcon(p,l)),x.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},b))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}zv(qv,"displayName","Legend");zv(qv,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Tp={},Rp={},Lj;function nL(){return Lj||(Lj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const l=r[i],u=n(l);a.has(u)||a.set(u,l)}return Array.from(a.values())}e.uniqBy=t})(Rp)),Rp}var Ip={},$j;function vE(){return $j||($j=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Ip)),Ip}var Dp={},Mp={},Lp={},Bj;function aL(){return Bj||(Bj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(Lp)),Lp}var Fj;function Wv(){return Fj||(Fj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aL();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Mp)),Mp}var $p={},Uj;function iL(){return Uj||(Uj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})($p)),$p}var zj;function sL(){return zj||(zj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wv(),r=iL();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(Dp)),Dp}var Bp={},Fp={},qj;function oL(){return qj||(qj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bv();function r(n){return function(a){return t.get(a,n)}}e.property=r})(Fp)),Fp}var Up={},zp={},qp={},Wp={},Wj;function yE(){return Wj||(Wj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Wp)),Wp}var Kp={},Kj;function xE(){return Kj||(Kj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Kp)),Kp}var Vp={},Vj;function bE(){return Vj||(Vj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Vp)),Vp}var Hj;function lL(){return Hj||(Hj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yE(),r=xE(),n=bE();function a(p,m,y){return typeof y!="function"?a(p,m,()=>{}):i(p,m,function v(j,b,k,N,A,P){const C=y(j,b,k,N,A,P);return C!==void 0?!!C:i(j,b,v,P)},new Map)}function i(p,m,y,v){if(m===p)return!0;switch(typeof m){case"object":return l(p,m,y,v);case"function":return Object.keys(m).length>0?i(p,{...m},y,v):n.eq(p,m);default:return t.isObject(p)?typeof m=="string"?m==="":!0:n.eq(p,m)}}function l(p,m,y,v){if(m==null)return!0;if(Array.isArray(m))return d(p,m,y,v);if(m instanceof Map)return u(p,m,y,v);if(m instanceof Set)return h(p,m,y,v);const j=Object.keys(m);if(p==null)return j.length===0;if(j.length===0)return!0;if(v?.has(m))return v.get(m)===p;v?.set(m,p);try{for(let b=0;b<j.length;b++){const k=j[b];if(!r.isPrimitive(p)&&!(k in p)||m[k]===void 0&&p[k]!==void 0||m[k]===null&&p[k]!==null||!y(p[k],m[k],k,p,m,v))return!1}return!0}finally{v?.delete(m)}}function u(p,m,y,v){if(m.size===0)return!0;if(!(p instanceof Map))return!1;for(const[j,b]of m.entries()){const k=p.get(j);if(y(k,b,j,p,m,v)===!1)return!1}return!0}function d(p,m,y,v){if(m.length===0)return!0;if(!Array.isArray(p))return!1;const j=new Set;for(let b=0;b<m.length;b++){const k=m[b];let N=!1;for(let A=0;A<p.length;A++){if(j.has(A))continue;const P=p[A];let C=!1;if(y(P,k,b,p,m,v)&&(C=!0),C){j.add(A),N=!0;break}}if(!N)return!1}return!0}function h(p,m,y,v){return m.size===0?!0:p instanceof Set?d([...p],[...m],y,v):!1}e.isMatchWith=a,e.isSetMatch=h})(qp)),qp}var Gj;function wE(){return Gj||(Gj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lL();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(zp)),zp}var Hp={},Gp={},Yp={},Yj;function cL(){return Yj||(Yj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Yp)),Yp}var Xp={},Xj;function jE(){return Xj||(Xj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Xp)),Xp}var Jp={},Jj;function kE(){return Jj||(Jj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",l="[object Symbol]",u="[object Date]",d="[object Map]",h="[object Set]",p="[object Array]",m="[object Function]",y="[object ArrayBuffer]",v="[object Object]",j="[object Error]",b="[object DataView]",k="[object Uint8Array]",N="[object Uint8ClampedArray]",A="[object Uint16Array]",P="[object Uint32Array]",C="[object BigUint64Array]",E="[object Int8Array]",S="[object Int16Array]",T="[object Int32Array]",I="[object BigInt64Array]",M="[object Float32Array]",z="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=y,e.arrayTag=p,e.bigInt64ArrayTag=I,e.bigUint64ArrayTag=C,e.booleanTag=a,e.dataViewTag=b,e.dateTag=u,e.errorTag=j,e.float32ArrayTag=M,e.float64ArrayTag=z,e.functionTag=m,e.int16ArrayTag=S,e.int32ArrayTag=T,e.int8ArrayTag=E,e.mapTag=d,e.numberTag=n,e.objectTag=v,e.regexpTag=t,e.setTag=h,e.stringTag=r,e.symbolTag=l,e.uint16ArrayTag=A,e.uint32ArrayTag=P,e.uint8ArrayTag=k,e.uint8ClampedArrayTag=N})(Jp)),Jp}var Qp={},Qj;function uL(){return Qj||(Qj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Qp)),Qp}var Zj;function _E(){return Zj||(Zj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cL(),r=jE(),n=kE(),a=xE(),i=uL();function l(p,m){return u(p,void 0,p,new Map,m)}function u(p,m,y,v=new Map,j=void 0){const b=j?.(p,m,y,v);if(b!==void 0)return b;if(a.isPrimitive(p))return p;if(v.has(p))return v.get(p);if(Array.isArray(p)){const k=new Array(p.length);v.set(p,k);for(let N=0;N<p.length;N++)k[N]=u(p[N],N,y,v,j);return Object.hasOwn(p,"index")&&(k.index=p.index),Object.hasOwn(p,"input")&&(k.input=p.input),k}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const k=new RegExp(p.source,p.flags);return k.lastIndex=p.lastIndex,k}if(p instanceof Map){const k=new Map;v.set(p,k);for(const[N,A]of p)k.set(N,u(A,N,y,v,j));return k}if(p instanceof Set){const k=new Set;v.set(p,k);for(const N of p)k.add(u(N,void 0,y,v,j));return k}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(i.isTypedArray(p)){const k=new(Object.getPrototypeOf(p)).constructor(p.length);v.set(p,k);for(let N=0;N<p.length;N++)k[N]=u(p[N],N,y,v,j);return k}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const k=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return v.set(p,k),d(k,p,y,v,j),k}if(typeof File<"u"&&p instanceof File){const k=new File([p],p.name,{type:p.type});return v.set(p,k),d(k,p,y,v,j),k}if(typeof Blob<"u"&&p instanceof Blob){const k=new Blob([p],{type:p.type});return v.set(p,k),d(k,p,y,v,j),k}if(p instanceof Error){const k=new p.constructor;return v.set(p,k),k.message=p.message,k.name=p.name,k.stack=p.stack,k.cause=p.cause,d(k,p,y,v,j),k}if(p instanceof Boolean){const k=new Boolean(p.valueOf());return v.set(p,k),d(k,p,y,v,j),k}if(p instanceof Number){const k=new Number(p.valueOf());return v.set(p,k),d(k,p,y,v,j),k}if(p instanceof String){const k=new String(p.valueOf());return v.set(p,k),d(k,p,y,v,j),k}if(typeof p=="object"&&h(p)){const k=Object.create(Object.getPrototypeOf(p));return v.set(p,k),d(k,p,y,v,j),k}return p}function d(p,m,y=p,v,j){const b=[...Object.keys(m),...t.getSymbols(m)];for(let k=0;k<b.length;k++){const N=b[k],A=Object.getOwnPropertyDescriptor(p,N);(A==null||A.writable)&&(p[N]=u(m[N],N,y,v,j))}}function h(p){switch(r.getTag(p)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=u,e.copyProperties=d})(Gp)),Gp}var e1;function dL(){return e1||(e1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_E();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(Hp)),Hp}var t1;function fL(){return t1||(t1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wE(),r=dL();function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(Up)),Up}var Zp={},em={},tm={},r1;function hL(){return r1||(r1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_E(),r=kE();function n(a,i){return t.cloneDeepWith(a,(l,u,d,h)=>{const p=i?.(l,u,d,h);if(p!==void 0)return p;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const m=new a.constructor(a?.valueOf());return t.copyProperties(m,a),m}case r.argumentsTag:{const m={};return t.copyProperties(m,a),m.length=a.length,m[Symbol.iterator]=a[Symbol.iterator],m}default:return}})}e.cloneDeepWith=n})(tm)),tm}var n1;function pL(){return n1||(n1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hL();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(em)),em}var rm={},nm={},a1;function SE(){return a1||(a1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(nm)),nm}var am={},i1;function mL(){return i1||(i1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jE();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(am)),am}var s1;function gL(){return s1||(s1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hE(),r=SE(),n=mL(),a=$v();function i(l,u){let d;if(Array.isArray(u)?d=u:typeof u=="string"&&t.isDeepKey(u)&&l?.[u]==null?d=a.toPath(u):d=[u],d.length===0)return!1;let h=l;for(let p=0;p<d.length;p++){const m=d[p];if((h==null||!Object.hasOwn(h,m))&&!((Array.isArray(h)||n.isArguments(h))&&r.isIndex(m)&&m<h.length))return!1;h=h[m]}return!0}e.has=i})(rm)),rm}var o1;function vL(){return o1||(o1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wE(),r=Lv(),n=pL(),a=Bv(),i=gL();function l(u,d){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=r.toKey(u);break}}return d=n.cloneDeep(d),function(h){const p=a.get(h,u);return p===void 0?i.has(h,u):d===void 0?p===void 0:t.isMatch(p,d)}}e.matchesProperty=l})(Zp)),Zp}var l1;function yL(){return l1||(l1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vE(),r=oL(),n=fL(),a=vL();function i(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}e.iteratee=i})(Bp)),Bp}var c1;function xL(){return c1||(c1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nL(),r=vE(),n=sL(),a=yL();function i(l,u=r.identity){return n.isArrayLikeObject(l)?t.uniqBy(Array.from(l),a.iteratee(u)):[]}e.uniqBy=i})(Tp)),Tp}var im,u1;function bL(){return u1||(u1=1,im=xL().uniqBy),im}var wL=bL();const d1=un(wL);function NE(e,t,r){return t===!0?d1(e,r):typeof t=="function"?d1(e,t):e}var sm={exports:{}},om={},lm={exports:{}},cm={};var f1;function jL(){if(f1)return cm;f1=1;var e=Ns();function t(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,i=e.useLayoutEffect,l=e.useDebugValue;function u(m,y){var v=y(),j=n({inst:{value:v,getSnapshot:y}}),b=j[0].inst,k=j[1];return i(function(){b.value=v,b.getSnapshot=y,d(b)&&k({inst:b})},[m,v,y]),a(function(){return d(b)&&k({inst:b}),m(function(){d(b)&&k({inst:b})})},[m]),l(v),v}function d(m){var y=m.getSnapshot;m=m.value;try{var v=y();return!r(m,v)}catch{return!0}}function h(m,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return cm.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,cm}var h1;function kL(){return h1||(h1=1,lm.exports=jL()),lm.exports}var p1;function _L(){if(p1)return om;p1=1;var e=Ns(),t=kL();function r(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,i=e.useRef,l=e.useEffect,u=e.useMemo,d=e.useDebugValue;return om.useSyncExternalStoreWithSelector=function(h,p,m,y,v){var j=i(null);if(j.current===null){var b={hasValue:!1,value:null};j.current=b}else b=j.current;j=u(function(){function N(S){if(!A){if(A=!0,P=S,S=y(S),v!==void 0&&b.hasValue){var T=b.value;if(v(T,S))return C=T}return C=S}if(T=C,n(P,S))return T;var I=y(S);return v!==void 0&&v(T,I)?(P=S,T):(P=S,C=I)}var A=!1,P,C,E=m===void 0?null:m;return[function(){return N(p())},E===null?void 0:function(){return N(E())}]},[p,m,y,v]);var k=a(h,j[0],j[1]);return l(function(){b.hasValue=!0,b.value=k},[k]),d(k),k},om}var m1;function SL(){return m1||(m1=1,sm.exports=_L()),sm.exports}var NL=SL(),Kv=x.createContext(null),EL=e=>e,rt=()=>{var e=x.useContext(Kv);return e?e.store.dispatch:EL},vu=()=>{},PL=()=>vu,OL=(e,t)=>e===t;function he(e){var t=x.useContext(Kv);return NL.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:PL,t?t.store.getState:vu,t?t.store.getState:vu,t?e:vu,OL)}function AL(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function CL(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function TL(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var g1=e=>Array.isArray(e)?e:[e];function RL(e){const t=Array.isArray(e[0])?e[0]:e;return TL(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function IL(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var DL=class{constructor(e){this.value=e}deref(){return this.value}},ML=typeof WeakRef<"u"?WeakRef:DL,LL=0,v1=1;function ru(){return{s:LL,v:void 0,o:null,p:null}}function EE(e,t={}){let r=ru();const{resultEqualityCheck:n}=t;let a,i=0;function l(){let u=r;const{length:d}=arguments;for(let m=0,y=d;m<y;m++){const v=arguments[m];if(typeof v=="function"||typeof v=="object"&&v!==null){let j=u.o;j===null&&(u.o=j=new WeakMap);const b=j.get(v);b===void 0?(u=ru(),j.set(v,u)):u=b}else{let j=u.p;j===null&&(u.p=j=new Map);const b=j.get(v);b===void 0?(u=ru(),j.set(v,u)):u=b}}const h=u;let p;if(u.s===v1)p=u.v;else if(p=e.apply(null,arguments),i++,n){const m=a?.deref?.()??a;m!=null&&n(m,p)&&(p=m,i!==0&&i--),a=typeof p=="object"&&p!==null||typeof p=="function"?new ML(p):p}return h.s=v1,h.v=p,p}return l.clearCache=()=>{r=ru(),l.resetResultsCount()},l.resultsCount=()=>i,l.resetResultsCount=()=>{i=0},l}function $L(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,l=0,u,d={},h=a.pop();typeof h=="object"&&(d=h,h=a.pop()),AL(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...r,...d},{memoize:m,memoizeOptions:y=[],argsMemoize:v=EE,argsMemoizeOptions:j=[]}=p,b=g1(y),k=g1(j),N=RL(a),A=m(function(){return i++,h.apply(null,arguments)},...b),P=v(function(){l++;const E=IL(N,arguments);return u=A.apply(null,E),u},...k);return Object.assign(P,{resultFunc:h,memoizedResultFunc:A,dependencies:N,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:m,argsMemoize:v})};return Object.assign(n,{withTypes:()=>n}),n}var F=$L(EE),BL=Object.assign((e,t=F)=>{CL(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((l,u,d)=>(l[r[d]]=u,l),{}))},{withTypes:()=>BL}),um={},dm={},fm={},y1;function FL(){return y1||(y1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const l=t(n),u=t(a);if(l===u&&l===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?u-l:l-u}return 0};e.compareValues=r})(fm)),fm}var hm={},pm={},x1;function PE(){return x1||(x1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(pm)),pm}var b1;function UL(){return b1||(b1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PE(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,l){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||l!=null&&Object.hasOwn(l,i)}e.isKey=a})(hm)),hm}var w1;function zL(){return w1||(w1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FL(),r=UL(),n=$v();function a(i,l,u,d){if(i==null)return[];u=d?void 0:u,Array.isArray(i)||(i=Object.values(i)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(v=>String(v));const h=(v,j)=>{let b=v;for(let k=0;k<j.length&&b!=null;++k)b=b[j[k]];return b},p=(v,j)=>j==null||v==null?j:typeof v=="object"&&"key"in v?Object.hasOwn(j,v.key)?j[v.key]:h(j,v.path):typeof v=="function"?v(j):Array.isArray(v)?h(j,v):typeof j=="object"?j[v]:j,m=l.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||r.isKey(v)?v:{key:v,path:n.toPath(v)}));return i.map(v=>({original:v,criteria:m.map(j=>p(j,v))})).slice().sort((v,j)=>{for(let b=0;b<m.length;b++){const k=t.compareValues(v.criteria[b],j.criteria[b],u[b]);if(k!==0)return k}return 0}).map(v=>v.original)}e.orderBy=a})(dm)),dm}var mm={},j1;function qL(){return j1||(j1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),l=(u,d)=>{for(let h=0;h<u.length;h++){const p=u[h];Array.isArray(p)&&d<i?l(p,d+1):a.push(p)}};return l(r,0),a}e.flatten=t})(mm)),mm}var gm={},k1;function OE(){return k1||(k1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SE(),r=Wv(),n=yE(),a=bE();function i(l,u,d){return n.isObject(d)&&(typeof u=="number"&&r.isArrayLike(d)&&t.isIndex(u)&&u<d.length||typeof u=="string"&&u in d)?a.eq(d[u],l):!1}e.isIterateeCall=i})(gm)),gm}var _1;function WL(){return _1||(_1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zL(),r=qL(),n=OE();function a(i,...l){const u=l.length;return u>1&&n.isIterateeCall(i,l[0],l[1])?l=[]:u>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(i,r.flatten(l),["asc"])}e.sortBy=a})(um)),um}var vm,S1;function KL(){return S1||(S1=1,vm=WL().sortBy),vm}var VL=KL();const Ed=un(VL);var AE=e=>e.legend.settings,HL=e=>e.legend.size,GL=e=>e.legend.payload,YL=F([GL,AE],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Ed(n,r):n});function XL(){return he(YL)}var nu=1;function CE(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=x.useState({height:0,left:0,top:0,width:0}),n=x.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),l={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(l.height-t.height)>nu||Math.abs(l.left-t.left)>nu||Math.abs(l.top-t.top)>nu||Math.abs(l.width-t.width)>nu)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Lt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var JL=typeof Symbol=="function"&&Symbol.observable||"@@observable",N1=JL,ym=()=>Math.random().toString(36).substring(7).split("").join("."),QL={INIT:`@@redux/INIT${ym()}`,REPLACE:`@@redux/REPLACE${ym()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ym()}`},Tu=QL;function Vv(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function TE(e,t,r){if(typeof e!="function")throw new Error(Lt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Lt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Lt(1));return r(TE)(e,t)}let n=e,a=t,i=new Map,l=i,u=0,d=!1;function h(){l===i&&(l=new Map,i.forEach((k,N)=>{l.set(N,k)}))}function p(){if(d)throw new Error(Lt(3));return a}function m(k){if(typeof k!="function")throw new Error(Lt(4));if(d)throw new Error(Lt(5));let N=!0;h();const A=u++;return l.set(A,k),function(){if(N){if(d)throw new Error(Lt(6));N=!1,h(),l.delete(A),i=null}}}function y(k){if(!Vv(k))throw new Error(Lt(7));if(typeof k.type>"u")throw new Error(Lt(8));if(typeof k.type!="string")throw new Error(Lt(17));if(d)throw new Error(Lt(9));try{d=!0,a=n(a,k)}finally{d=!1}return(i=l).forEach(A=>{A()}),k}function v(k){if(typeof k!="function")throw new Error(Lt(10));n=k,y({type:Tu.REPLACE})}function j(){const k=m;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(Lt(11));function A(){const C=N;C.next&&C.next(p())}return A(),{unsubscribe:k(A)}},[N1](){return this}}}return y({type:Tu.INIT}),{dispatch:y,subscribe:m,getState:p,replaceReducer:v,[N1]:j}}function ZL(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Tu.INIT})>"u")throw new Error(Lt(12));if(typeof r(void 0,{type:Tu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Lt(13))})}function RE(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const l=t[i];typeof e[l]=="function"&&(r[l]=e[l])}const n=Object.keys(r);let a;try{ZL(r)}catch(i){a=i}return function(l={},u){if(a)throw a;let d=!1;const h={};for(let p=0;p<n.length;p++){const m=n[p],y=r[m],v=l[m],j=y(v,u);if(typeof j>"u")throw u&&u.type,new Error(Lt(14));h[m]=j,d=d||j!==v}return d=d||n.length!==Object.keys(l).length,d?h:l}}function Ru(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function e3(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(Lt(15))};const l={getState:a.getState,dispatch:(d,...h)=>i(d,...h)},u=e.map(d=>d(l));return i=Ru(...u)(a.dispatch),{...a,dispatch:i}}}function IE(e){return Vv(e)&&"type"in e&&typeof e.type=="string"}var DE=Symbol.for("immer-nothing"),E1=Symbol.for("immer-draftable"),Ar=Symbol.for("immer-state");function sn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var al=Object.getPrototypeOf;function yi(e){return!!e&&!!e[Ar]}function Gn(e){return e?ME(e)||Array.isArray(e)||!!e[E1]||!!e.constructor?.[E1]||xl(e)||Od(e):!1}var t3=Object.prototype.constructor.toString(),P1=new WeakMap;function ME(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=P1.get(r);return n===void 0&&(n=Function.toString.call(r),P1.set(r,n)),n===t3}function Iu(e,t,r=!0){Pd(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Pd(e){const t=e[Ar];return t?t.type_:Array.isArray(e)?1:xl(e)?2:Od(e)?3:0}function Eg(e,t){return Pd(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function LE(e,t,r){const n=Pd(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function r3(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function xl(e){return e instanceof Map}function Od(e){return e instanceof Set}function ai(e){return e.copy_||e.base_}function Pg(e,t){if(xl(e))return new Map(e);if(Od(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=ME(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Ar];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const l=a[i],u=n[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[l]})}return Object.create(al(e),n)}else{const n=al(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function Hv(e,t=!1){return Ad(e)||yi(e)||!Gn(e)||(Pd(e)>1&&Object.defineProperties(e,{set:au,add:au,clear:au,delete:au}),Object.freeze(e),t&&Object.values(e).forEach(r=>Hv(r,!0))),e}function n3(){sn(2)}var au={value:n3};function Ad(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var a3={};function xi(e){const t=a3[e];return t||sn(0,e),t}var il;function $E(){return il}function i3(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function O1(e,t){t&&(xi("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Og(e){Ag(e),e.drafts_.forEach(s3),e.drafts_=null}function Ag(e){e===il&&(il=e.parent_)}function A1(e){return il=i3(il,e)}function s3(e){const t=e[Ar];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function C1(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Ar].modified_&&(Og(t),sn(4)),Gn(e)&&(e=Du(t,e),t.parent_||Mu(t,e)),t.patches_&&xi("Patches").generateReplacementPatches_(r[Ar].base_,e,t.patches_,t.inversePatches_)):e=Du(t,r,[]),Og(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==DE?e:void 0}function Du(e,t,r){if(Ad(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[Ar];if(!a)return Iu(t,(i,l)=>T1(e,a,t,i,l,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return Mu(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let l=i,u=!1;a.type_===3&&(l=new Set(i),i.clear(),u=!0),Iu(l,(d,h)=>T1(e,a,i,d,h,r,u),n),Mu(e,i,!1),r&&e.patches_&&xi("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function T1(e,t,r,n,a,i,l){if(a==null||typeof a!="object"&&!l)return;const u=Ad(a);if(!(u&&!l)){if(yi(a)){const d=i&&t&&t.type_!==3&&!Eg(t.assigned_,n)?i.concat(n):void 0,h=Du(e,a,d);if(LE(r,n,h),yi(h))e.canAutoFreeze_=!1;else return}else l&&r.add(a);if(Gn(a)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&u)return;Du(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(xl(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Mu(e,a)}}}function Mu(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Hv(t,r)}function o3(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:$E(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=Gv;r&&(a=[n],i=sl);const{revoke:l,proxy:u}=Proxy.revocable(a,i);return n.draft_=u,n.revoke_=l,u}var Gv={get(e,t){if(t===Ar)return e;const r=ai(e);if(!Eg(r,t))return l3(e,r,t);const n=r[t];return e.finalized_||!Gn(n)?n:n===xm(e.base_,t)?(bm(e),e.copy_[t]=Tg(n,e)):n},has(e,t){return t in ai(e)},ownKeys(e){return Reflect.ownKeys(ai(e))},set(e,t,r){const n=BE(ai(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=xm(ai(e),t),i=a?.[Ar];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(r3(r,a)&&(r!==void 0||Eg(e.base_,t)))return!0;bm(e),Cg(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return xm(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,bm(e),Cg(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ai(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){sn(11)},getPrototypeOf(e){return al(e.base_)},setPrototypeOf(){sn(12)}},sl={};Iu(Gv,(e,t)=>{sl[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});sl.deleteProperty=function(e,t){return sl.set.call(this,e,t,void 0)};sl.set=function(e,t,r){return Gv.set.call(this,e[0],t,r,e[0])};function xm(e,t){const r=e[Ar];return(r?ai(r):e)[t]}function l3(e,t,r){const n=BE(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function BE(e,t){if(!(t in e))return;let r=al(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=al(r)}}function Cg(e){e.modified_||(e.modified_=!0,e.parent_&&Cg(e.parent_))}function bm(e){e.copy_||(e.copy_=Pg(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var c3=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const l=this;return function(d=i,...h){return l.produce(d,p=>r.call(this,p,...h))}}typeof r!="function"&&sn(6),n!==void 0&&typeof n!="function"&&sn(7);let a;if(Gn(t)){const i=A1(this),l=Tg(t,void 0);let u=!0;try{a=r(l),u=!1}finally{u?Og(i):Ag(i)}return O1(i,n),C1(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===DE&&(a=void 0),this.autoFreeze_&&Hv(a,!0),n){const i=[],l=[];xi("Patches").generateReplacementPatches_(t,a,i,l),n(i,l)}return a}else sn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,d=>t(d,...u));let n,a;return[this.produce(t,r,(l,u)=>{n=l,a=u}),n,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Gn(e)||sn(8),yi(e)&&(e=Wn(e));const t=A1(this),r=Tg(e,void 0);return r[Ar].isManual_=!0,Ag(t),r}finishDraft(e,t){const r=e&&e[Ar];(!r||!r.isManual_)&&sn(9);const{scope_:n}=r;return O1(n,t),C1(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=xi("Patches").applyPatches_;return yi(e)?n(e,t):this.produce(e,a=>n(a,t))}};function Tg(e,t){const r=xl(e)?xi("MapSet").proxyMap_(e,t):Od(e)?xi("MapSet").proxySet_(e,t):o3(e,t);return(t?t.scope_:$E()).drafts_.push(r),r}function Wn(e){return yi(e)||sn(10,e),FE(e)}function FE(e){if(!Gn(e)||Ad(e))return e;const t=e[Ar];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Pg(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Pg(e,!0);return Iu(r,(a,i)=>{LE(r,a,FE(i))},n),t&&(t.finalized_=!1),r}var Rg=new c3,UE=Rg.produce,u3=Rg.setUseStrictIteration.bind(Rg);function zE(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var d3=zE(),f3=zE,h3=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ru:Ru.apply(null,arguments)};function Wr(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Pr(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>IE(n)&&n.type===e,r}var qE=class Wo extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Wo.prototype)}static get[Symbol.species](){return Wo}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Wo(...t[0].concat(this)):new Wo(...t.concat(this))}};function R1(e){return Gn(e)?UE(e,()=>{}):e}function iu(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function p3(e){return typeof e=="boolean"}var m3=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let l=new qE;return r&&(p3(r)?l.push(d3):l.push(f3(r.extraArgument))),l},WE="RTK_autoBatch",er=()=>e=>({payload:e,meta:{[WE]:!0}}),I1=e=>t=>{setTimeout(t,e)},KE=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,l=!1;const u=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:I1(10):e.type==="callback"?e.queueNotification:I1(e.timeout),h=()=>{l=!1,i&&(i=!1,u.forEach(p=>p()))};return Object.assign({},n,{subscribe(p){const m=()=>a&&p(),y=n.subscribe(m);return u.add(p),()=>{y(),u.delete(p)}},dispatch(p){try{return a=!p?.meta?.[WE],i=!a,i&&(l||(l=!0,d(h))),n.dispatch(p)}finally{a=!0}}})},g3=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new qE(e);return n&&a.push(KE(typeof n=="object"?n:void 0)),a};function v3(e){const t=m3(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:l=void 0}=e||{};let u;if(typeof r=="function")u=r;else if(Vv(r))u=RE(r);else throw new Error(Pr(1));let d;typeof n=="function"?d=n(t):d=t();let h=Ru;a&&(h=h3({trace:!1,...typeof a=="object"&&a}));const p=e3(...d),m=g3(p);let y=typeof l=="function"?l(m):m();const v=h(...y);return TE(u,i,v)}function VE(e){const t={},r=[];let n;const a={addCase(i,l){const u=typeof i=="string"?i:i.type;if(!u)throw new Error(Pr(28));if(u in t)throw new Error(Pr(29));return t[u]=l,a},addAsyncThunk(i,l){return l.pending&&(t[i.pending.type]=l.pending),l.rejected&&(t[i.rejected.type]=l.rejected),l.fulfilled&&(t[i.fulfilled.type]=l.fulfilled),l.settled&&r.push({matcher:i.settled,reducer:l.settled}),a},addMatcher(i,l){return r.push({matcher:i,reducer:l}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}u3(!1);function y3(e){return typeof e=="function"}function x3(e,t){let[r,n,a]=VE(t),i;if(y3(e))i=()=>R1(e());else{const u=R1(e);i=()=>u}function l(u=i(),d){let h=[r[d.type],...n.filter(({matcher:p})=>p(d)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[a]),h.reduce((p,m)=>{if(m)if(yi(p)){const v=m(p,d);return v===void 0?p:v}else{if(Gn(p))return UE(p,y=>m(y,d));{const y=m(p,d);if(y===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return p},u)}return l.getInitialState=i,l}var b3="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",w3=(e=21)=>{let t="",r=e;for(;r--;)t+=b3[Math.random()*64|0];return t},j3=Symbol.for("rtk-slice-createasyncthunk");function k3(e,t){return`${e}/${t}`}function _3({creators:e}={}){const t=e?.asyncThunk?.[j3];return function(n){const{name:a,reducerPath:i=a}=n;if(!a)throw new Error(Pr(11));const l=(typeof n.reducers=="function"?n.reducers(N3()):n.reducers)||{},u=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(P,C){const E=typeof P=="string"?P:P.type;if(!E)throw new Error(Pr(12));if(E in d.sliceCaseReducersByType)throw new Error(Pr(13));return d.sliceCaseReducersByType[E]=C,h},addMatcher(P,C){return d.sliceMatchers.push({matcher:P,reducer:C}),h},exposeAction(P,C){return d.actionCreators[P]=C,h},exposeCaseReducer(P,C){return d.sliceCaseReducersByName[P]=C,h}};u.forEach(P=>{const C=l[P],E={reducerName:P,type:k3(a,P),createNotation:typeof n.reducers=="function"};P3(C)?A3(E,C,h,t):E3(E,C,h)});function p(){const[P={},C=[],E=void 0]=typeof n.extraReducers=="function"?VE(n.extraReducers):[n.extraReducers],S={...P,...d.sliceCaseReducersByType};return x3(n.initialState,T=>{for(let I in S)T.addCase(I,S[I]);for(let I of d.sliceMatchers)T.addMatcher(I.matcher,I.reducer);for(let I of C)T.addMatcher(I.matcher,I.reducer);E&&T.addDefaultCase(E)})}const m=P=>P,y=new Map,v=new WeakMap;let j;function b(P,C){return j||(j=p()),j(P,C)}function k(){return j||(j=p()),j.getInitialState()}function N(P,C=!1){function E(T){let I=T[P];return typeof I>"u"&&C&&(I=iu(v,E,k)),I}function S(T=m){const I=iu(y,C,()=>new WeakMap);return iu(I,T,()=>{const M={};for(const[z,W]of Object.entries(n.selectors??{}))M[z]=S3(W,T,()=>iu(v,T,k),C);return M})}return{reducerPath:P,getSelectors:S,get selectors(){return S(E)},selectSlice:E}}const A={name:a,reducer:b,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:k,...N(i),injectInto(P,{reducerPath:C,...E}={}){const S=C??i;return P.inject({reducerPath:S,reducer:b},E),{...A,...N(S,!0)}}};return A}}function S3(e,t,r,n){function a(i,...l){let u=t(i);return typeof u>"u"&&n&&(u=r()),e(u,...l)}return a.unwrapped=e,a}var Cr=_3();function N3(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function E3({type:e,reducerName:t,createNotation:r},n,a){let i,l;if("reducer"in n){if(r&&!O3(n))throw new Error(Pr(17));i=n.reducer,l=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,l?Wr(e,l):Wr(e))}function P3(e){return e._reducerDefinitionType==="asyncThunk"}function O3(e){return e._reducerDefinitionType==="reducerWithPrepare"}function A3({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Pr(18));const{payloadCreator:i,fulfilled:l,pending:u,rejected:d,settled:h,options:p}=r,m=a(e,i,p);n.exposeAction(t,m),l&&n.addCase(m.fulfilled,l),u&&n.addCase(m.pending,u),d&&n.addCase(m.rejected,d),h&&n.addMatcher(m.settled,h),n.exposeCaseReducer(t,{fulfilled:l||su,pending:u||su,rejected:d||su,settled:h||su})}function su(){}var C3="task",HE="listener",GE="completed",Yv="cancelled",T3=`task-${Yv}`,R3=`task-${GE}`,Ig=`${HE}-${Yv}`,I3=`${HE}-${GE}`,Cd=class{constructor(e){this.code=e,this.message=`${C3} ${Yv} (reason: ${e})`}name="TaskAbortError";message},Xv=(e,t)=>{if(typeof e!="function")throw new TypeError(Pr(32))},Lu=()=>{},YE=(e,t=Lu)=>(e.catch(t),e),XE=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),fi=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},hi=e=>{if(e.aborted){const{reason:t}=e;throw new Cd(t)}};function JE(e,t){let r=Lu;return new Promise((n,a)=>{const i=()=>a(new Cd(e.reason));if(e.aborted){i();return}r=XE(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Lu})}var D3=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Cd?"cancelled":"rejected",error:r}}finally{t?.()}},$u=e=>t=>YE(JE(e,t).then(r=>(hi(e),r))),QE=e=>{const t=$u(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:hs}=Object,D1={},Td="listenerMiddleware",M3=(e,t)=>{const r=n=>XE(e,()=>fi(n,e.reason));return(n,a)=>{Xv(n);const i=new AbortController;r(i);const l=D3(async()=>{hi(e),hi(i.signal);const u=await n({pause:$u(i.signal),delay:QE(i.signal),signal:i.signal});return hi(i.signal),u},()=>fi(i,R3));return a?.autoJoin&&t.push(l.catch(Lu)),{result:$u(e)(l),cancel(){fi(i,T3)}}}},L3=(e,t)=>{const r=async(n,a)=>{hi(t);let i=()=>{};const u=[new Promise((d,h)=>{let p=e({predicate:n,effect:(m,y)=>{y.unsubscribe(),d([m,y.getState(),y.getOriginalState()])}});i=()=>{p(),h()}})];a!=null&&u.push(new Promise(d=>setTimeout(d,a,null)));try{const d=await JE(t,Promise.race(u));return hi(t),d}finally{i()}};return(n,a)=>YE(r(n,a))},ZE=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=Wr(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Pr(21));return Xv(i),{predicate:a,type:t,effect:i}},eP=hs(e=>{const{type:t,predicate:r,effect:n}=ZE(e);return{id:w3(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Pr(22))}}},{withTypes:()=>eP}),M1=(e,t)=>{const{type:r,effect:n,predicate:a}=ZE(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},Dg=e=>{e.pending.forEach(t=>{fi(t,Ig)})},$3=(e,t)=>()=>{for(const r of t.keys())Dg(r);e.clear()},L1=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},tP=hs(Wr(`${Td}/add`),{withTypes:()=>tP}),B3=Wr(`${Td}/removeAll`),rP=hs(Wr(`${Td}/remove`),{withTypes:()=>rP}),F3=(...e)=>{console.error(`${Td}/error`,...e)},bl=(e={})=>{const t=new Map,r=new Map,n=v=>{const j=r.get(v)??0;r.set(v,j+1)},a=v=>{const j=r.get(v)??1;j===1?r.delete(v):r.set(v,j-1)},{extra:i,onError:l=F3}=e;Xv(l);const u=v=>(v.unsubscribe=()=>t.delete(v.id),t.set(v.id,v),j=>{v.unsubscribe(),j?.cancelActive&&Dg(v)}),d=v=>{const j=M1(t,v)??eP(v);return u(j)};hs(d,{withTypes:()=>d});const h=v=>{const j=M1(t,v);return j&&(j.unsubscribe(),v.cancelActive&&Dg(j)),!!j};hs(h,{withTypes:()=>h});const p=async(v,j,b,k)=>{const N=new AbortController,A=L3(d,N.signal),P=[];try{v.pending.add(N),n(v),await Promise.resolve(v.effect(j,hs({},b,{getOriginalState:k,condition:(C,E)=>A(C,E).then(Boolean),take:A,delay:QE(N.signal),pause:$u(N.signal),extra:i,signal:N.signal,fork:M3(N.signal,P),unsubscribe:v.unsubscribe,subscribe:()=>{t.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((C,E,S)=>{C!==N&&(fi(C,Ig),S.delete(C))})},cancel:()=>{fi(N,Ig),v.pending.delete(N)},throwIfCancelled:()=>{hi(N.signal)}})))}catch(C){C instanceof Cd||L1(l,C,{raisedBy:"effect"})}finally{await Promise.all(P),fi(N,I3),a(v),v.pending.delete(N)}},m=$3(t,r);return{middleware:v=>j=>b=>{if(!IE(b))return j(b);if(tP.match(b))return d(b.payload);if(B3.match(b)){m();return}if(rP.match(b))return h(b.payload);let k=v.getState();const N=()=>{if(k===D1)throw new Error(Pr(23));return k};let A;try{if(A=j(b),t.size>0){const P=v.getState(),C=Array.from(t.values());for(const E of C){let S=!1;try{S=E.predicate(b,P,k)}catch(T){S=!1,L1(l,T,{raisedBy:"predicate"})}S&&p(E,b,v,N)}}}finally{k=D1}return A},startListening:d,stopListening:h,clearListeners:m}};function Pr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var U3={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},nP=Cr({name:"chartLayout",initialState:U3,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:z3,setLayout:q3,setChartSize:W3,setScale:K3}=nP.actions,V3=nP.reducer;function $1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function B1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$1(Object(r),!0).forEach(function(n){H3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H3(e,t,r){return(t=G3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G3(e){var t=Y3(e,"string");return typeof t=="symbol"?t:t+""}function Y3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bu=Math.PI/180,X3=e=>e*180/Math.PI,gt=(e,t,r,n)=>({x:e+Math.cos(-Bu*n)*r,y:t+Math.sin(-Bu*n)*r}),aP=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},J3=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},Q3=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,l=J3({x:r,y:n},{x:a,y:i});if(l<=0)return{radius:l,angle:0};var u=(r-a)/l,d=Math.acos(u);return n>i&&(d=2*Math.PI-d),{radius:l,angle:X3(d),angleInRadian:d}},Z3=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},e$=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),l=Math.min(a,i);return e+l*360},t$=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:i}=Q3({x:r,y:n},t),{innerRadius:l,outerRadius:u}=t;if(a<l||a>u||a===0)return null;var{startAngle:d,endAngle:h}=Z3(t),p=i,m;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;m=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=d}return m?B1(B1({},t),{},{radius:a,angle:e$(p,t)}):null};function iP(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function F1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F1(Object(r),!0).forEach(function(n){r$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r$(e,t,r){return(t=n$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n$(e){var t=a$(e,"string");return typeof t=="symbol"?t:t+""}function a$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qe(e,t,r){return Je(e)||Je(t)?r:jn(t)?vi(e,t,r):typeof t=="function"?t(e):r}var i$=(e,t,r,n,a)=>{var i,l=-1,u=(i=t?.length)!==null&&i!==void 0?i:0;if(u<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var d=0;d<u;d++){var h=d>0?r[d-1].coordinate:r[u-1].coordinate,p=r[d].coordinate,m=d>=u-1?r[0].coordinate:r[d+1].coordinate,y=void 0;if(Rt(p-h)!==Rt(m-p)){var v=[];if(Rt(m-p)===Rt(a[1]-a[0])){y=m;var j=p+a[1]-a[0];v[0]=Math.min(j,(j+h)/2),v[1]=Math.max(j,(j+h)/2)}else{y=h;var b=m+a[1]-a[0];v[0]=Math.min(p,(b+p)/2),v[1]=Math.max(p,(b+p)/2)}var k=[Math.min(p,(y+p)/2),Math.max(p,(y+p)/2)];if(e>k[0]&&e<=k[1]||e>=v[0]&&e<=v[1]){({index:l}=r[d]);break}}else{var N=Math.min(h,m),A=Math.max(h,m);if(e>(N+p)/2&&e<=(A+p)/2){({index:l}=r[d]);break}}}else if(t){for(var P=0;P<u;P++)if(P===0&&e<=(t[P].coordinate+t[P+1].coordinate)/2||P>0&&P<u-1&&e>(t[P].coordinate+t[P-1].coordinate)/2&&e<=(t[P].coordinate+t[P+1].coordinate)/2||P===u-1&&e>(t[P].coordinate+t[P-1].coordinate)/2){({index:l}=t[P]);break}}return l},s$=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:l,layout:u}=t;if((u==="vertical"||u==="horizontal"&&l==="middle")&&i!=="center"&&fe(e[i]))return zr(zr({},e),{},{[i]:e[i]+(n||0)});if((u==="horizontal"||u==="vertical"&&i==="center")&&l!=="middle"&&fe(e[l]))return zr(zr({},e),{},{[l]:e[l]+(a||0)})}return e},Pn=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",sP=(e,t,r,n)=>{if(n)return e.map(u=>u.coordinate);var a,i,l=e.map(u=>(u.coordinate===t&&(a=!0),u.coordinate===r&&(i=!0),u.coordinate));return a||l.push(t),i||l.push(r),l},oP=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:l,realScaleType:u,isCategorical:d,categoricalDomain:h,tickCount:p,ticks:m,niceTicks:y,axisType:v}=e;if(!l)return null;var j=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,b=a==="category"&&l.bandwidth?l.bandwidth()/j:0;if(b=v==="angleAxis"&&i&&i.length>=2?Rt(i[0]-i[1])*2*b:b,m||y){var k=(m||y||[]).map((N,A)=>{var P=n?n.indexOf(N):N;return{coordinate:l(P)+b,value:N,offset:b,index:A}});return k.filter(N=>!Or(N.coordinate))}return d&&h?h.map((N,A)=>({coordinate:l(N)+b,value:N,index:A,offset:b})):l.ticks&&p!=null?l.ticks(p).map((N,A)=>({coordinate:l(N)+b,value:N,offset:b,index:A})):l.domain().map((N,A)=>({coordinate:l(N)+b,value:n?n[N]:N,index:A,offset:b}))},U1=1e-4,o$=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-U1,i=Math.max(n[0],n[1])+U1,l=e(t[0]),u=e(t[r-1]);(l<a||l>i||u<a||u>i)&&e.domain([t[0],t[r-1]])}},l$=(e,t)=>{if(!t||t.length!==2||!fe(t[0])||!fe(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!fe(e[0])||e[0]<r)&&(a[0]=r),(!fe(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},c$=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,l=0;l<t;++l){var u=Or(e[l][r][1])?e[l][r][0]:e[l][r][1];u>=0?(e[l][r][0]=a,e[l][r][1]=a+u,a=e[l][r][1]):(e[l][r][0]=i,e[l][r][1]=i+u,i=e[l][r][1])}},u$=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var l=Or(e[i][r][1])?e[i][r][0]:e[i][r][1];l>=0?(e[i][r][0]=a,e[i][r][1]=a+l,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},d$={sign:c$,expand:D4,none:xs,silhouette:M4,wiggle:L4,positive:u$},f$=(e,t,r)=>{var n=d$[r],a=I4().keys(t).value((i,l)=>+qe(i,l,0)).order(_g).offset(n);return a(e)};function lP(e){return e==null?void 0:String(e)}function Fu(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Je(a[t.dataKey])){var u=mE(r,"value",a[t.dataKey]);if(u)return u.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var d=qe(a,Je(l)?t.dataKey:l);return Je(d)?null:t.scale(d)}var z1=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:l}=e;if(t.type==="category")return r[l]?r[l].coordinate+n:null;var u=qe(i,t.dataKey,t.scale.domain()[l]);return Je(u)?null:t.scale(u)-a/2+n},h$=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},p$=e=>{var t=e.flat(2).filter(fe);return[Math.min(...t),Math.max(...t)]},m$=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],g$=(e,t,r)=>{if(e!=null)return m$(Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:l}=i,u=l.reduce((d,h)=>{var p=iP(h,t,r),m=p$(p);return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(u[0],n[0]),Math.max(u[1],n[1])]},[1/0,-1/0]))},q1=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,W1=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bi=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Ed(t,p=>p.coordinate),i=1/0,l=1,u=a.length;l<u;l++){var d=a[l],h=a[l-1];i=Math.min((d.coordinate||0)-(h.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function K1(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return zr(zr({},t),{},{dataKey:r,payload:n,value:a,name:i})}function La(e,t){if(e)return String(e);if(typeof t=="string")return t}function v$(e,t,r,n,a){if(r==="horizontal"||r==="vertical"){var i=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return i?{x:e,y:t}:null}return n?t$({x:e,y:t},n):null}var y$=(e,t,r,n)=>{var a=t.find(h=>h&&h.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,{radius:l}=n;return zr(zr(zr({},n),gt(n.cx,n.cy,l,i)),{},{angle:i,radius:l})}var u=a.coordinate,{angle:d}=n;return zr(zr(zr({},n),gt(n.cx,n.cy,u,d)),{},{angle:d,radius:u})}return{x:0,y:0}},x$=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Qn=e=>e.layout.width,Zn=e=>e.layout.height,b$=e=>e.layout.scale,cP=e=>e.layout.margin,Rd=F(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Id=F(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),uP="data-recharts-item-index",dP="data-recharts-item-data-key",wl=60;function V1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ou(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V1(Object(r),!0).forEach(function(n){w$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w$(e,t,r){return(t=j$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j$(e){var t=k$(e,"string");return typeof t=="symbol"?t:t+""}function k$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _$=e=>e.brush.height;function S$(e){var t=Id(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:wl;return r+a}return r},0)}function N$(e){var t=Id(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:wl;return r+a}return r},0)}function E$(e){var t=Rd(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function P$(e){var t=Rd(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var _t=F([Qn,Zn,cP,_$,S$,N$,E$,P$,AE,HL],(e,t,r,n,a,i,l,u,d,h)=>{var p={left:(r.left||0)+a,right:(r.right||0)+i},m={top:(r.top||0)+l,bottom:(r.bottom||0)+u},y=ou(ou({},m),p),v=y.bottom;y.bottom+=n,y=s$(y,d,h);var j=e-y.left-y.right,b=t-y.top-y.bottom;return ou(ou({brushBottom:v},y),{},{width:Math.max(j,0),height:Math.max(b,0)})}),O$=F(_t,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Jv=F(Qn,Zn,(e,t)=>({x:0,y:0,width:e,height:t})),A$=x.createContext(null),Bt=()=>x.useContext(A$)!=null,Dd=e=>e.brush,Md=F([Dd,_t,cP],(e,t,r)=>({height:e.height,x:fe(e.x)?e.x:t.left,y:fe(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:fe(e.width)?e.width:t.width})),wm={},jm={},km={},H1;function C$(){return H1||(H1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let l,u=null;const d=i!=null&&i.includes("leading"),h=i==null||i.includes("trailing"),p=()=>{u!==null&&(r.apply(l,u),l=void 0,u=null)},m=()=>{h&&p(),b()};let y=null;const v=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,m()},n)},j=()=>{y!==null&&(clearTimeout(y),y=null)},b=()=>{j(),l=void 0,u=null},k=()=>{p()},N=function(...A){if(a?.aborted)return;l=this,u=A;const P=y==null;v(),d&&P&&p()};return N.schedule=v,N.cancel=b,N.flush=k,a?.addEventListener("abort",b,{once:!0}),N}e.debounce=t})(km)),km}var G1;function T$(){return G1||(G1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C$();function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:l=!1,trailing:u=!0,maxWait:d}=i,h=Array(2);l&&(h[0]="leading"),u&&(h[1]="trailing");let p,m=null;const y=t.debounce(function(...b){p=n.apply(this,b),m=null},a,{edges:h}),v=function(...b){return d!=null&&(m===null&&(m=Date.now()),Date.now()-m>=d)?(p=n.apply(this,b),m=Date.now(),y.cancel(),y.schedule(),p):(y.apply(this,b),p)},j=()=>(y.flush(),p);return v.cancel=y.cancel,v.flush=j,v}e.debounce=r})(jm)),jm}var Y1;function R$(){return Y1||(Y1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T$();function r(n,a=0,i={}){const{leading:l=!0,trailing:u=!0}=i;return t.debounce(n,a,{leading:l,maxWait:a,trailing:u})}e.throttle=r})(wm)),wm}var _m,X1;function I$(){return X1||(X1=1,_m=R$().throttle),_m}var D$=I$();const M$=un(D$);var Uu=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},fP=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:i,maxHeight:l}=r,u=Hn(n)?e:Number(n),d=Hn(a)?t:Number(a);return i&&i>0&&(u?d=u/i:d&&(u=d*i),l&&d>l&&(d=l)),{calculatedWidth:u,calculatedHeight:d}},L$={width:0,height:0,overflow:"visible"},$$={width:0,overflowX:"visible"},B$={height:0,overflowY:"visible"},F$={},U$=e=>{var{width:t,height:r}=e,n=Hn(t),a=Hn(r);return n&&a?L$:n?$$:a?B$:F$};function z$(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:a,height:i}}function yt(e){return Number.isFinite(e)}function bs(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Mg(){return Mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mg.apply(null,arguments)}function J1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Q1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J1(Object(r),!0).forEach(function(n){q$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q$(e,t,r){return(t=W$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W$(e){var t=K$(e,"string");return typeof t=="symbol"?t:t+""}function K$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hP=x.createContext({width:-1,height:-1});function pP(e){var{children:t,width:r,height:n}=e,a=x.useMemo(()=>({width:r,height:n}),[r,n]);return r<=0||n<=0?null:x.createElement(hP.Provider,{value:a},t)}var Qv=()=>x.useContext(hP),V$=x.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:i,minWidth:l=0,minHeight:u,maxHeight:d,children:h,debounce:p=0,id:m,className:y,onResize:v,style:j={}}=e,b=x.useRef(null),k=x.useRef();k.current=v,x.useImperativeHandle(t,()=>b.current);var[N,A]=x.useState({containerWidth:n.width,containerHeight:n.height}),P=x.useCallback((I,M)=>{A(z=>{var W=Math.round(I),V=Math.round(M);return z.containerWidth===W&&z.containerHeight===V?z:{containerWidth:W,containerHeight:V}})},[]);x.useEffect(()=>{var I=V=>{var Q,{width:se,height:Y}=V[0].contentRect;P(se,Y),(Q=k.current)===null||Q===void 0||Q.call(k,se,Y)};p>0&&(I=M$(I,p,{trailing:!0,leading:!1}));var M=new ResizeObserver(I),{width:z,height:W}=b.current.getBoundingClientRect();return P(z,W),M.observe(b.current),()=>{M.disconnect()}},[P,p]);var{containerWidth:C,containerHeight:E}=N;Uu(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:S,calculatedHeight:T}=fP(C,E,{width:a,height:i,aspect:r,maxHeight:d});return Uu(S>0||T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,S,T,a,i,l,u,r),x.createElement("div",{id:m?"".concat(m):void 0,className:Te("recharts-responsive-container",y),style:Q1(Q1({},j),{},{width:a,height:i,minWidth:l,minHeight:u,maxHeight:d}),ref:b},x.createElement("div",{style:U$({width:a,height:i})},x.createElement(pP,{width:S,height:T},h)))}),Ld=x.forwardRef((e,t)=>{var r=Qv();if(bs(r.width)&&bs(r.height))return e.children;var{width:n,height:a}=z$({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:l}=fP(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return fe(i)&&fe(l)?x.createElement(pP,{width:i,height:l},e.children):x.createElement(V$,Mg({},e,{width:n,height:a,ref:t}))}),$d=()=>{var e,t=Bt(),r=he(O$),n=he(Md),a=(e=he(Dd))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},H$={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},mP=()=>{var e;return(e=he(_t))!==null&&e!==void 0?e:H$},Zv=()=>he(Qn),ey=()=>he(Zn),G$=()=>he(e=>e.layout.margin),Ae=e=>e.layout.layoutType,jl=()=>he(Ae),Bd=e=>{var t=rt(),r=Bt(),{width:n,height:a}=e,i=Qv(),l=n,u=a;return i&&(l=i.width>0?i.width:n,u=i.height>0?i.height:a),x.useEffect(()=>{!r&&bs(l)&&bs(u)&&t(W3({width:l,height:u}))},[t,r,l,u]),null},Y$={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},gP=Cr({name:"legend",initialState:Y$,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:er()},removeLegendPayload:{reducer(e,t){var r=Wn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:er()}}}),{setLegendSize:Z1,setLegendSettings:X$,addLegendPayload:vP,removeLegendPayload:yP}=gP.actions,J$=gP.reducer,Q$=["contextPayload"];function Lg(){return Lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lg.apply(null,arguments)}function ek(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ws(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ek(Object(r),!0).forEach(function(n){ty(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ek(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ty(e,t,r){return(t=Z$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z$(e){var t=e6(e,"string");return typeof t=="symbol"?t:t+""}function e6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function t6(e,t){if(e==null)return{};var r,n,a=r6(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function r6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function n6(e){return e.value}function a6(e){var{contextPayload:t}=e,r=t6(e,Q$),n=NE(t,e.payloadUniqBy,n6),a=ws(ws({},r),{},{payload:n});return x.isValidElement(e.content)?x.cloneElement(e.content,a):typeof e.content=="function"?x.createElement(e.content,a):x.createElement(qv,a)}function i6(e,t,r,n,a,i){var{layout:l,align:u,verticalAlign:d}=t,h,p;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(u==="center"&&l==="vertical"?h={left:((n||0)-i.width)/2}:h=u==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(d==="middle"?p={top:((a||0)-i.height)/2}:p=d==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),ws(ws({},h),p)}function s6(e){var t=rt();return x.useEffect(()=>{t(X$(e))},[t,e]),null}function o6(e){var t=rt();return x.useEffect(()=>(t(Z1(e)),()=>{t(Z1({width:0,height:0}))}),[t,e]),null}function l6(e){var t=XL(),r=a4(),n=G$(),{width:a,height:i,wrapperStyle:l,portal:u}=e,[d,h]=CE([t]),p=Zv(),m=ey();if(p==null||m==null)return null;var y=p-(n.left||0)-(n.right||0),v=Ts.getWidthOrHeight(e.layout,i,a,y),j=u?l:ws(ws({position:"absolute",width:v?.width||a||"auto",height:v?.height||i||"auto"},i6(l,e,n,p,m,d)),l),b=u??r;if(b==null)return null;var k=x.createElement("div",{className:"recharts-legend-wrapper",style:j,ref:h},x.createElement(s6,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),x.createElement(o6,{width:d.width,height:d.height}),x.createElement(a6,Lg({},e,v,{margin:n,chartWidth:p,chartHeight:m,contextPayload:t})));return CS.createPortal(k,b)}class Ts extends x.PureComponent{static getWidthOrHeight(t,r,n,a){return t==="vertical"&&fe(r)?{height:r}:t==="horizontal"?{width:n||a}:null}render(){return x.createElement(l6,this.props)}}ty(Ts,"displayName","Legend");ty(Ts,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function $g(){return $g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$g.apply(null,arguments)}function tk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tk(Object(r),!0).forEach(function(n){c6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c6(e,t,r){return(t=u6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u6(e){var t=d6(e,"string");return typeof t=="symbol"?t:t+""}function d6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function f6(e){return Array.isArray(e)&&jn(e[0])&&jn(e[1])?e.join(" ~ "):e}var h6=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:l,itemSorter:u,wrapperClassName:d,labelClassName:h,label:p,labelFormatter:m,accessibilityLayer:y=!1}=e,v=()=>{if(i&&i.length){var E={padding:0,margin:0},S=(u?Ed(i,u):i).map((T,I)=>{if(T.type==="none")return null;var M=T.formatter||l||f6,{value:z,name:W}=T,V=z,Q=W;if(M){var se=M(z,W,T,I,i);if(Array.isArray(se))[V,Q]=se;else if(se!=null)V=se;else return null}var Y=Sm({display:"block",paddingTop:4,paddingBottom:4,color:T.color||"#000"},n);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:Y},jn(Q)?x.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,jn(Q)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},V),x.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:E},S)}return null},j=Sm({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),b=Sm({margin:0},a),k=!Je(p),N=k?p:"",A=Te("recharts-default-tooltip",d),P=Te("recharts-tooltip-label",h);k&&m&&i!==void 0&&i!==null&&(N=m(p,i));var C=y?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",$g({className:A,style:j},C),x.createElement("p",{className:P,style:b},x.isValidElement(N)?N:"".concat(N)),v())},Io="recharts-tooltip-wrapper",p6={visibility:"hidden"};function m6(e){var{coordinate:t,translateX:r,translateY:n}=e;return Te(Io,{["".concat(Io,"-right")]:fe(r)&&t&&fe(t.x)&&r>=t.x,["".concat(Io,"-left")]:fe(r)&&t&&fe(t.x)&&r<t.x,["".concat(Io,"-bottom")]:fe(n)&&t&&fe(t.y)&&n>=t.y,["".concat(Io,"-top")]:fe(n)&&t&&fe(t.y)&&n<t.y})}function rk(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:l,tooltipDimension:u,viewBox:d,viewBoxDimension:h}=e;if(i&&fe(i[n]))return i[n];var p=r[n]-u-(a>0?a:0),m=r[n]+a;if(t[n])return l[n]?p:m;var y=d[n];if(y==null)return 0;if(l[n]){var v=p,j=y;return v<j?Math.max(m,y):Math.max(p,y)}if(h==null)return 0;var b=m+u,k=y+h;return b>k?Math.max(p,y):Math.max(m,y)}function g6(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function v6(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:l,useTranslate3d:u,viewBox:d}=e,h,p,m;return l.height>0&&l.width>0&&r?(p=rk({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),m=rk({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),h=g6({translateX:p,translateY:m,useTranslate3d:u})):h=p6,{cssProperties:h,cssClasses:m6({translateX:p,translateY:m,coordinate:r})}}function nk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nk(Object(r),!0).forEach(function(n){Bg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bg(e,t,r){return(t=y6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y6(e){var t=x6(e,"string");return typeof t=="symbol"?t:t+""}function x6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class b6 extends x.PureComponent{constructor(){super(...arguments),Bg(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Bg(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:l,hasPayload:u,isAnimationActive:d,offset:h,position:p,reverseDirection:m,useTranslate3d:y,viewBox:v,wrapperStyle:j,lastBoundingBox:b,innerRef:k,hasPortalFromProps:N}=this.props,{cssClasses:A,cssProperties:P}=v6({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:h,position:p,reverseDirection:m,tooltipBox:{height:b.height,width:b.width},useTranslate3d:y,viewBox:v}),C=N?{}:lu(lu({transition:d&&t?"transform ".concat(n,"ms ").concat(a):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),E=lu(lu({},C),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},j);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:A,style:E,ref:k},i)}}var w6=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ea={devToolsEnabled:!1,isSsr:w6()},xP=()=>he(e=>e.rootProps.accessibilityLayer);function Fg(){return Fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fg.apply(null,arguments)}function ak(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ik(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ak(Object(r),!0).forEach(function(n){j6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ak(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j6(e,t,r){return(t=k6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k6(e){var t=_6(e,"string");return typeof t=="symbol"?t:t+""}function _6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sk={curveBasisClosed:k4,curveBasisOpen:_4,curveBasis:j4,curveBumpX:l4,curveBumpY:c4,curveLinearClosed:S4,curveLinear:Sd,curveMonotoneX:N4,curveMonotoneY:E4,curveNatural:P4,curveStep:O4,curveStepAfter:C4,curveStepBefore:A4},cu=e=>yt(e.x)&&yt(e.y),Do=e=>e.x,Mo=e=>e.y,S6=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(vl(e));return(r==="curveMonotone"||r==="curveBump")&&t?sk["".concat(r).concat(t==="vertical"?"Y":"X")]:sk[r]||Sd},N6=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,l=S6(t,a),u=i?r.filter(cu):r,d;if(Array.isArray(n)){var h=i?n.filter(m=>cu(m)):n,p=u.map((m,y)=>ik(ik({},m),{},{base:h[y]}));return a==="vertical"?d=tu().y(Mo).x1(Do).x0(m=>m.base.x):d=tu().x(Do).y1(Mo).y0(m=>m.base.y),d.defined(cu).curve(l),d(p)}return a==="vertical"&&fe(n)?d=tu().y(Mo).x1(Do).x0(n):fe(n)?d=tu().x(Do).y1(Mo).y0(n):d=rE().x(Do).y(Mo),d.defined(cu).curve(l),d(u)},ps=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?N6(e):n;return x.createElement("path",Fg({},ar(e),Uv(e),{className:Te("recharts-curve",t),d:i===null?void 0:i,ref:a}))},E6=["x","y","top","left","width","height","className"];function Ug(){return Ug=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ug.apply(null,arguments)}function ok(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function P6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ok(Object(r),!0).forEach(function(n){O6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ok(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O6(e,t,r){return(t=A6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A6(e){var t=C6(e,"string");return typeof t=="symbol"?t:t+""}function C6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T6(e,t){if(e==null)return{};var r,n,a=R6(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function R6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var I6=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),D6=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:l=0,className:u}=e,d=T6(e,E6),h=P6({x:t,y:r,top:n,left:a,width:i,height:l},d);return!fe(t)||!fe(r)||!fe(i)||!fe(l)||!fe(n)||!fe(a)?null:x.createElement("path",Ug({},ir(h),{className:Te("recharts-cross",u),d:I6(t,r,i,l,n,a)}))};function M6(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function lk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function L6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lk(Object(r),!0).forEach(function(n){$6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $6(e,t,r){return(t=B6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B6(e){var t=F6(e,"string");return typeof t=="symbol"?t:t+""}function F6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function St(e,t){var r=L6({},e),n=t,a=Object.keys(t),i=a.reduce((l,u)=>(l[u]===void 0&&n[u]!==void 0&&(l[u]=n[u]),l),r);return i}function U6(){}function z6(e){return e!=null}function ck(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ck(Object(r),!0).forEach(function(n){q6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ck(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q6(e,t,r){return(t=W6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W6(e){var t=K6(e,"string");return typeof t=="symbol"?t:t+""}function K6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var V6=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),bP=(e,t,r)=>e.map(n=>"".concat(V6(n)," ").concat(t,"ms ").concat(r)).join(","),H6=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),ol=(e,t)=>Object.keys(t).reduce((r,n)=>uk(uk({},r),{},{[n]:e(n,t[n])}),{});function dk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dk(Object(r),!0).forEach(function(n){G6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G6(e,t,r){return(t=Y6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y6(e){var t=X6(e,"string");return typeof t=="symbol"?t:t+""}function X6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zu=(e,t,r)=>e+(t-e)*r,zg=e=>{var{from:t,to:r}=e;return t!==r},wP=(e,t,r)=>{var n=ol((a,i)=>{if(zg(i)){var[l,u]=e(i.from,i.to,i.velocity);return $t($t({},i),{},{from:l,velocity:u})}return i},t);return r<1?ol((a,i)=>zg(i)?$t($t({},i),{},{velocity:zu(i.velocity,n[a].velocity,r),from:zu(i.from,n[a].from,r)}):i,t):wP(e,n,r-1)};function J6(e,t,r,n,a,i){var l,u=n.reduce((y,v)=>$t($t({},y),{},{[v]:{from:e[v],velocity:0,to:t[v]}}),{}),d=()=>ol((y,v)=>v.from,u),h=()=>!Object.values(u).filter(zg).length,p=null,m=y=>{l||(l=y);var v=y-l,j=v/r.dt;u=wP(r,u,j),a($t($t($t({},e),t),d())),l=y,h()||(p=i.setTimeout(m))};return()=>(p=i.setTimeout(m),()=>{p()})}function Q6(e,t,r,n,a,i,l){var u=null,d=a.reduce((m,y)=>$t($t({},m),{},{[y]:[e[y],t[y]]}),{}),h,p=m=>{h||(h=m);var y=(m-h)/n,v=ol((b,k)=>zu(...k,r(y)),d);if(i($t($t($t({},e),t),v)),y<1)u=l.setTimeout(p);else{var j=ol((b,k)=>zu(...k,r(1)),d);i($t($t($t({},e),t),j))}};return()=>(u=l.setTimeout(p),()=>{u()})}const Z6=(e,t,r,n,a,i)=>{var l=H6(e,t);return r.isStepper===!0?J6(e,t,r,l,a,i):Q6(e,t,r,n,l,a,i)};var qu=1e-4,jP=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],kP=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),fk=(e,t)=>r=>{var n=jP(e,t);return kP(n,r)},e5=(e,t)=>r=>{var n=jP(e,t),a=[...n.map((i,l)=>i*l).slice(1),0];return kP(a,r)},hk=function(){for(var t,r,n,a,i=arguments.length,l=new Array(i),u=0;u<i;u++)l[u]=arguments[u];if(l.length===1)switch(l[0]){case"linear":[t,n,r,a]=[0,0,1,1];break;case"ease":[t,n,r,a]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,a]=[.42,0,1,1];break;case"ease-out":[t,n,r,a]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,a]=[0,0,.58,1];break;default:{var d=l[0].split("(");d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4&&([t,n,r,a]=d[1].split(")")[0].split(",").map(j=>parseFloat(j)))}}else l.length===4&&([t,n,r,a]=l);var h=fk(t,r),p=fk(n,a),m=e5(t,r),y=j=>j>1?1:j<0?0:j,v=j=>{for(var b=j>1?1:j,k=b,N=0;N<8;++N){var A=h(k)-b,P=m(k);if(Math.abs(A-b)<qu||P<qu)return p(k);k=y(k-A/P)}return p(k)};return v.isStepper=!1,v},t5=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(l,u,d)=>{var h=-(l-u)*r,p=d*n,m=d+(h-p)*a/1e3,y=d*a/1e3+l;return Math.abs(y-u)<qu&&Math.abs(m)<qu?[u,0]:[y,m]};return i.isStepper=!0,i.dt=a,i},r5=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return hk(e);case"spring":return t5();default:if(e.split("(")[0]==="cubic-bezier")return hk(e)}return typeof e=="function"?e:null};function n5(e){var t,r=()=>null,n=!1,a=null,i=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var u=l,[d,...h]=u;if(typeof d=="number"){a=e.setTimeout(i.bind(null,h),d);return}i(d),a=e.setTimeout(i.bind(null,h));return}typeof l=="string"&&(t=l,r(t)),typeof l=="object"&&(t=l,r(t)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,a&&(a(),a=null),i(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>e}}class a5{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=l=>{l-n>=r?t(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{cancelAnimationFrame(a)}}}function i5(){return n5(new a5)}var s5=x.createContext(i5);function o5(e,t){var r=x.useContext(s5);return x.useMemo(()=>t??r(e),[e,t,r])}var l5={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},pk={t:0},Nm={t:1};function Rs(e){var t=St(e,l5),{isActive:r,canBegin:n,duration:a,easing:i,begin:l,onAnimationEnd:u,onAnimationStart:d,children:h}=t,p=o5(t.animationId,t.animationManager),[m,y]=x.useState(r?pk:Nm),v=x.useRef(null);return x.useEffect(()=>{r||y(Nm)},[r]),x.useEffect(()=>{if(!r||!n)return U6;var j=Z6(pk,Nm,r5(i),a,y,p.getTimeoutController()),b=()=>{v.current=j()};return p.start([d,l,b,a,u]),()=>{p.stop(),v.current&&v.current(),u()}},[r,n,a,i,l,d,u,p]),h(m.t)}function Is(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=x.useRef(nl(t)),n=x.useRef(e);return n.current!==e&&(r.current=nl(t),n.current=e),r.current}var c5=["radius"],u5=["radius"];function mk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mk(Object(r),!0).forEach(function(n){d5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d5(e,t,r){return(t=f5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f5(e){var t=h5(e,"string");return typeof t=="symbol"?t:t+""}function h5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wu(){return Wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wu.apply(null,arguments)}function vk(e,t){if(e==null)return{};var r,n,a=p5(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function p5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var yk=(e,t,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),l=n>=0?1:-1,u=r>=0?1:-1,d=n>=0&&r>=0||n<0&&r<0?1:0,h;if(i>0&&a instanceof Array){for(var p=[0,0,0,0],m=0,y=4;m<y;m++)p[m]=a[m]>i?i:a[m];h="M".concat(e,",").concat(t+l*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(d,",").concat(e+u*p[0],",").concat(t)),h+="L ".concat(e+r-u*p[1],",").concat(t),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(d,`,
        `).concat(e+r,",").concat(t+l*p[1])),h+="L ".concat(e+r,",").concat(t+n-l*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(d,`,
        `).concat(e+r-u*p[2],",").concat(t+n)),h+="L ".concat(e+u*p[3],",").concat(t+n),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(t+n-l*p[3])),h+="Z"}else if(i>0&&a===+a&&a>0){var v=Math.min(i,a);h="M ".concat(e,",").concat(t+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(e+u*v,",").concat(t,`
            L `).concat(e+r-u*v,",").concat(t,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(e+r,",").concat(t+l*v,`
            L `).concat(e+r,",").concat(t+n-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(e+r-u*v,",").concat(t+n,`
            L `).concat(e+u*v,",").concat(t+n,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(e,",").concat(t+n-l*v," Z")}else h="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return h},m5={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_P=e=>{var t=St(e,m5),r=x.useRef(null),[n,a]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var te=r.current.getTotalLength();te&&a(te)}catch{}},[]);var{x:i,y:l,width:u,height:d,radius:h,className:p}=t,{animationEasing:m,animationDuration:y,animationBegin:v,isAnimationActive:j,isUpdateAnimationActive:b}=t,k=x.useRef(u),N=x.useRef(d),A=x.useRef(i),P=x.useRef(l),C=x.useMemo(()=>({x:i,y:l,width:u,height:d,radius:h}),[i,l,u,d,h]),E=Is(C,"rectangle-");if(i!==+i||l!==+l||u!==+u||d!==+d||u===0||d===0)return null;var S=Te("recharts-rectangle",p);if(!b){var T=ir(t),{radius:I}=T,M=vk(T,c5);return x.createElement("path",Wu({},M,{radius:typeof h=="number"?h:void 0,className:S,d:yk(i,l,u,d,h)}))}var z=k.current,W=N.current,V=A.current,Q=P.current,se="0px ".concat(n===-1?1:n,"px"),Y="".concat(n,"px 0px"),oe=bP(["strokeDasharray"],y,typeof m=="string"?m:void 0);return x.createElement(Rs,{animationId:E,key:E,canBegin:n>0,duration:y,easing:m,isActive:b,begin:v},te=>{var G=ze(z,u,te),ie=ze(W,d,te),ae=ze(V,i,te),$=ze(Q,l,te);r.current&&(k.current=G,N.current=ie,A.current=ae,P.current=$);var H;j?te>0?H={transition:oe,strokeDasharray:Y}:H={strokeDasharray:se}:H={strokeDasharray:Y};var ye=ir(t),{radius:Ee}=ye,je=vk(ye,u5);return x.createElement("path",Wu({},je,{radius:typeof h=="number"?h:void 0,className:S,d:yk(ae,$,G,ie,h),ref:r,style:gk(gk({},H),t.style)}))})};function SP(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,l=gt(t,r,n,a),u=gt(t,r,n,i);return{points:[l,u],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function qg(){return qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qg.apply(null,arguments)}var g5=(e,t)=>{var r=Rt(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},uu=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:l,cornerRadius:u,cornerIsExternal:d}=e,h=u*(l?1:-1)+n,p=Math.asin(u/h)/Bu,m=d?a:a+i*p,y=gt(t,r,h,m),v=gt(t,r,n,m),j=d?a-i*p:a,b=gt(t,r,h*Math.cos(p*Bu),j);return{center:y,circleTangency:v,lineTangency:b,theta:p}},NP=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:l}=e,u=g5(i,l),d=i+u,h=gt(t,r,a,i),p=gt(t,r,a,d),m="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(i>d),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(n>0){var y=gt(t,r,n,i),v=gt(t,r,n,d);m+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(i<=d),`,
            `).concat(y.x,",").concat(y.y," Z")}else m+="L ".concat(t,",").concat(r," Z");return m},v5=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:h}=e,p=Rt(h-d),{circleTangency:m,lineTangency:y,theta:v}=uu({cx:t,cy:r,radius:a,angle:d,sign:p,cornerRadius:i,cornerIsExternal:u}),{circleTangency:j,lineTangency:b,theta:k}=uu({cx:t,cy:r,radius:a,angle:h,sign:-p,cornerRadius:i,cornerIsExternal:u}),N=u?Math.abs(d-h):Math.abs(d-h)-v-k;if(N<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):NP({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:d,endAngle:h});var A="M ".concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(p<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(N>180),",").concat(+(p<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(p<0),",").concat(b.x,",").concat(b.y,`
  `);if(n>0){var{circleTangency:P,lineTangency:C,theta:E}=uu({cx:t,cy:r,radius:n,angle:d,sign:p,isExternal:!0,cornerRadius:i,cornerIsExternal:u}),{circleTangency:S,lineTangency:T,theta:I}=uu({cx:t,cy:r,radius:n,angle:h,sign:-p,isExternal:!0,cornerRadius:i,cornerIsExternal:u}),M=u?Math.abs(d-h):Math.abs(d-h)-E-I;if(M<0&&i===0)return"".concat(A,"L").concat(t,",").concat(r,"Z");A+="L".concat(T.x,",").concat(T.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(p<0),",").concat(S.x,",").concat(S.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(M>180),",").concat(+(p>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(p<0),",").concat(C.x,",").concat(C.y,"Z")}else A+="L".concat(t,",").concat(r,"Z");return A},y5={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},EP=e=>{var t=St(e,y5),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:d,startAngle:h,endAngle:p,className:m}=t;if(i<a||h===p)return null;var y=Te("recharts-sector",m),v=i-a,j=Xt(l,v,0,!0),b;return j>0&&Math.abs(h-p)<360?b=v5({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(j,v/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:h,endAngle:p}):b=NP({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:h,endAngle:p}),x.createElement("path",qg({},ir(t),{className:y,d:b}))};function x5(e,t,r){var n,a,i,l;if(e==="horizontal")n=t.x,i=n,a=r.top,l=r.top+r.height;else if(e==="vertical")a=t.y,l=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:u,cy:d,innerRadius:h,outerRadius:p,angle:m}=t,y=gt(u,d,h,m),v=gt(u,d,p,m);n=y.x,a=y.y,i=v.x,l=v.y}else return SP(t);return[{x:n,y:a},{x:i,y:l}]}var Em={},Pm={},Om={},xk;function b5(){return xk||(xk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PE();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(Om)),Om}var bk;function w5(){return bk||(bk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b5();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(Pm)),Pm}var wk;function j5(){return wk||(wk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OE(),r=w5();function n(a,i,l){l&&typeof l!="number"&&t.isIterateeCall(a,i,l)&&(i=l=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),l=l===void 0?a<i?1:-1:r.toFinite(l);const u=Math.max(Math.ceil((i-a)/(l||1)),0),d=new Array(u);for(let h=0;h<u;h++)d[h]=a,a+=l;return d}e.range=n})(Em)),Em}var Am,jk;function k5(){return jk||(jk=1,Am=j5().range),Am}var _5=k5();const PP=un(_5);function Ca(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function S5(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ry(e){let t,r,n;e.length!==2?(t=Ca,r=(u,d)=>Ca(e(u),d),n=(u,d)=>e(u)-d):(t=e===Ca||e===S5?e:N5,r=e,n=e);function a(u,d,h=0,p=u.length){if(h<p){if(t(d,d)!==0)return p;do{const m=h+p>>>1;r(u[m],d)<0?h=m+1:p=m}while(h<p)}return h}function i(u,d,h=0,p=u.length){if(h<p){if(t(d,d)!==0)return p;do{const m=h+p>>>1;r(u[m],d)<=0?h=m+1:p=m}while(h<p)}return h}function l(u,d,h=0,p=u.length){const m=a(u,d,h,p-1);return m>h&&n(u[m-1],d)>-n(u[m],d)?m-1:m}return{left:a,center:l,right:i}}function N5(){return 0}function OP(e){return e===null?NaN:+e}function*E5(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const P5=ry(Ca),kl=P5.right;ry(OP).center;class kk extends Map{constructor(t,r=C5){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(_k(this,t))}has(t){return super.has(_k(this,t))}set(t,r){return super.set(O5(this,t),r)}delete(t){return super.delete(A5(this,t))}}function _k({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function O5({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function A5({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function C5(e){return e!==null&&typeof e=="object"?e.valueOf():e}function T5(e=Ca){if(e===Ca)return AP;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function AP(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const R5=Math.sqrt(50),I5=Math.sqrt(10),D5=Math.sqrt(2);function Ku(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),l=i>=R5?10:i>=I5?5:i>=D5?2:1;let u,d,h;return a<0?(h=Math.pow(10,-a)/l,u=Math.round(e*h),d=Math.round(t*h),u/h<e&&++u,d/h>t&&--d,h=-h):(h=Math.pow(10,a)*l,u=Math.round(e/h),d=Math.round(t/h),u*h<e&&++u,d*h>t&&--d),d<u&&.5<=r&&r<2?Ku(e,t,r*2):[u,d,h]}function Wg(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,l]=n?Ku(t,e,r):Ku(e,t,r);if(!(i>=a))return[];const u=i-a+1,d=new Array(u);if(n)if(l<0)for(let h=0;h<u;++h)d[h]=(i-h)/-l;else for(let h=0;h<u;++h)d[h]=(i-h)*l;else if(l<0)for(let h=0;h<u;++h)d[h]=(a+h)/-l;else for(let h=0;h<u;++h)d[h]=(a+h)*l;return d}function Kg(e,t,r){return t=+t,e=+e,r=+r,Ku(e,t,r)[2]}function Vg(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Kg(t,e,r):Kg(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function Sk(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Nk(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function CP(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?AP:T5(a);n>r;){if(n-r>600){const d=n-r+1,h=t-r+1,p=Math.log(d),m=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*m*(d-m)/d)*(h-d/2<0?-1:1),v=Math.max(r,Math.floor(t-h*m/d+y)),j=Math.min(n,Math.floor(t+(d-h)*m/d+y));CP(e,t,v,j,a)}const i=e[t];let l=r,u=n;for(Lo(e,r,t),a(e[n],i)>0&&Lo(e,r,n);l<u;){for(Lo(e,l,u),++l,--u;a(e[l],i)<0;)++l;for(;a(e[u],i)>0;)--u}a(e[r],i)===0?Lo(e,r,u):(++u,Lo(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function Lo(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function M5(e,t,r){if(e=Float64Array.from(E5(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Nk(e);if(t>=1)return Sk(e);var n,a=(n-1)*t,i=Math.floor(a),l=Sk(CP(e,i).subarray(0,i+1)),u=Nk(e.subarray(i+1));return l+(u-l)*(a-i)}}function L5(e,t,r=OP){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),l=+r(e[i],i,e),u=+r(e[i+1],i+1,e);return l+(u-l)*(a-i)}}function $5(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Vr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ta(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Hg=Symbol("implicit");function ny(){var e=new kk,t=[],r=[],n=Hg;function a(i){let l=e.get(i);if(l===void 0){if(n!==Hg)return n;e.set(i,l=t.push(i)-1)}return r[l%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new kk;for(const l of i)e.has(l)||e.set(l,t.push(l)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return ny(t,r).unknown(n)},Vr.apply(a,arguments),a}function ay(){var e=ny().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,l,u=!1,d=0,h=0,p=.5;delete e.unknown;function m(){var y=t().length,v=a<n,j=v?a:n,b=v?n:a;i=(b-j)/Math.max(1,y-d+h*2),u&&(i=Math.floor(i)),j+=(b-j-i*(y-d))*p,l=i*(1-d),u&&(j=Math.round(j),l=Math.round(l));var k=$5(y).map(function(N){return j+i*N});return r(v?k.reverse():k)}return e.domain=function(y){return arguments.length?(t(y),m()):t()},e.range=function(y){return arguments.length?([n,a]=y,n=+n,a=+a,m()):[n,a]},e.rangeRound=function(y){return[n,a]=y,n=+n,a=+a,u=!0,m()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(y){return arguments.length?(u=!!y,m()):u},e.padding=function(y){return arguments.length?(d=Math.min(1,h=+y),m()):d},e.paddingInner=function(y){return arguments.length?(d=Math.min(1,y),m()):d},e.paddingOuter=function(y){return arguments.length?(h=+y,m()):h},e.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),m()):p},e.copy=function(){return ay(t(),[n,a]).round(u).paddingInner(d).paddingOuter(h).align(p)},Vr.apply(m(),arguments)}function TP(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return TP(t())},e}function B5(){return TP(ay.apply(null,arguments).paddingInner(1))}function iy(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function RP(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function _l(){}var ll=.7,Vu=1/ll,ms="\\s*([+-]?\\d+)\\s*",cl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",F5=/^#([0-9a-f]{3,8})$/,U5=new RegExp(`^rgb\\(${ms},${ms},${ms}\\)$`),z5=new RegExp(`^rgb\\(${yn},${yn},${yn}\\)$`),q5=new RegExp(`^rgba\\(${ms},${ms},${ms},${cl}\\)$`),W5=new RegExp(`^rgba\\(${yn},${yn},${yn},${cl}\\)$`),K5=new RegExp(`^hsl\\(${cl},${yn},${yn}\\)$`),V5=new RegExp(`^hsla\\(${cl},${yn},${yn},${cl}\\)$`),Ek={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};iy(_l,ul,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Pk,formatHex:Pk,formatHex8:H5,formatHsl:G5,formatRgb:Ok,toString:Ok});function Pk(){return this.rgb().formatHex()}function H5(){return this.rgb().formatHex8()}function G5(){return IP(this).formatHsl()}function Ok(){return this.rgb().formatRgb()}function ul(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=F5.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Ak(t):r===3?new pr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?du(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?du(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=U5.exec(e))?new pr(t[1],t[2],t[3],1):(t=z5.exec(e))?new pr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=q5.exec(e))?du(t[1],t[2],t[3],t[4]):(t=W5.exec(e))?du(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=K5.exec(e))?Rk(t[1],t[2]/100,t[3]/100,1):(t=V5.exec(e))?Rk(t[1],t[2]/100,t[3]/100,t[4]):Ek.hasOwnProperty(e)?Ak(Ek[e]):e==="transparent"?new pr(NaN,NaN,NaN,0):null}function Ak(e){return new pr(e>>16&255,e>>8&255,e&255,1)}function du(e,t,r,n){return n<=0&&(e=t=r=NaN),new pr(e,t,r,n)}function Y5(e){return e instanceof _l||(e=ul(e)),e?(e=e.rgb(),new pr(e.r,e.g,e.b,e.opacity)):new pr}function Gg(e,t,r,n){return arguments.length===1?Y5(e):new pr(e,t,r,n??1)}function pr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}iy(pr,Gg,RP(_l,{brighter(e){return e=e==null?Vu:Math.pow(Vu,e),new pr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ll:Math.pow(ll,e),new pr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new pr(pi(this.r),pi(this.g),pi(this.b),Hu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ck,formatHex:Ck,formatHex8:X5,formatRgb:Tk,toString:Tk}));function Ck(){return`#${ci(this.r)}${ci(this.g)}${ci(this.b)}`}function X5(){return`#${ci(this.r)}${ci(this.g)}${ci(this.b)}${ci((isNaN(this.opacity)?1:this.opacity)*255)}`}function Tk(){const e=Hu(this.opacity);return`${e===1?"rgb(":"rgba("}${pi(this.r)}, ${pi(this.g)}, ${pi(this.b)}${e===1?")":`, ${e})`}`}function Hu(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function pi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ci(e){return e=pi(e),(e<16?"0":"")+e.toString(16)}function Rk(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new on(e,t,r,n)}function IP(e){if(e instanceof on)return new on(e.h,e.s,e.l,e.opacity);if(e instanceof _l||(e=ul(e)),!e)return new on;if(e instanceof on)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),l=NaN,u=i-a,d=(i+a)/2;return u?(t===i?l=(r-n)/u+(r<n)*6:r===i?l=(n-t)/u+2:l=(t-r)/u+4,u/=d<.5?i+a:2-i-a,l*=60):u=d>0&&d<1?0:l,new on(l,u,d,e.opacity)}function J5(e,t,r,n){return arguments.length===1?IP(e):new on(e,t,r,n??1)}function on(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}iy(on,J5,RP(_l,{brighter(e){return e=e==null?Vu:Math.pow(Vu,e),new on(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ll:Math.pow(ll,e),new on(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new pr(Cm(e>=240?e-240:e+120,a,n),Cm(e,a,n),Cm(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new on(Ik(this.h),fu(this.s),fu(this.l),Hu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Hu(this.opacity);return`${e===1?"hsl(":"hsla("}${Ik(this.h)}, ${fu(this.s)*100}%, ${fu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ik(e){return e=(e||0)%360,e<0?e+360:e}function fu(e){return Math.max(0,Math.min(1,e||0))}function Cm(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const sy=e=>()=>e;function Q5(e,t){return function(r){return e+r*t}}function Z5(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function eB(e){return(e=+e)==1?DP:function(t,r){return r-t?Z5(t,r,e):sy(isNaN(t)?r:t)}}function DP(e,t){var r=t-e;return r?Q5(e,r):sy(isNaN(e)?t:e)}const Dk=(function e(t){var r=eB(t);function n(a,i){var l=r((a=Gg(a)).r,(i=Gg(i)).r),u=r(a.g,i.g),d=r(a.b,i.b),h=DP(a.opacity,i.opacity);return function(p){return a.r=l(p),a.g=u(p),a.b=d(p),a.opacity=h(p),a+""}}return n.gamma=e,n})(1);function tB(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function rB(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function nB(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),l;for(l=0;l<n;++l)a[l]=Ds(e[l],t[l]);for(;l<r;++l)i[l]=t[l];return function(u){for(l=0;l<n;++l)i[l]=a[l](u);return i}}function aB(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Gu(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function iB(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Ds(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Yg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Tm=new RegExp(Yg.source,"g");function sB(e){return function(){return e}}function oB(e){return function(t){return e(t)+""}}function lB(e,t){var r=Yg.lastIndex=Tm.lastIndex=0,n,a,i,l=-1,u=[],d=[];for(e=e+"",t=t+"";(n=Yg.exec(e))&&(a=Tm.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),u[l]?u[l]+=i:u[++l]=i),(n=n[0])===(a=a[0])?u[l]?u[l]+=a:u[++l]=a:(u[++l]=null,d.push({i:l,x:Gu(n,a)})),r=Tm.lastIndex;return r<t.length&&(i=t.slice(r),u[l]?u[l]+=i:u[++l]=i),u.length<2?d[0]?oB(d[0].x):sB(t):(t=d.length,function(h){for(var p=0,m;p<t;++p)u[(m=d[p]).i]=m.x(h);return u.join("")})}function Ds(e,t){var r=typeof t,n;return t==null||r==="boolean"?sy(t):(r==="number"?Gu:r==="string"?(n=ul(t))?(t=n,Dk):lB:t instanceof ul?Dk:t instanceof Date?aB:rB(t)?tB:Array.isArray(t)?nB:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?iB:Gu)(e,t)}function oy(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function cB(e,t){t===void 0&&(t=e,e=Ds);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(l){var u=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return i[u](l-u)}}function uB(e){return function(){return e}}function Yu(e){return+e}var Mk=[0,1];function rr(e){return e}function Xg(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:uB(isNaN(t)?NaN:.5)}function dB(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function fB(e,t,r){var n=e[0],a=e[1],i=t[0],l=t[1];return a<n?(n=Xg(a,n),i=r(l,i)):(n=Xg(n,a),i=r(i,l)),function(u){return i(n(u))}}function hB(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)a[l]=Xg(e[l],e[l+1]),i[l]=r(t[l],t[l+1]);return function(u){var d=kl(e,u,1,n)-1;return i[d](a[d](u))}}function Sl(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Fd(){var e=Mk,t=Mk,r=Ds,n,a,i,l=rr,u,d,h;function p(){var y=Math.min(e.length,t.length);return l!==rr&&(l=dB(e[0],e[y-1])),u=y>2?hB:fB,d=h=null,m}function m(y){return y==null||isNaN(y=+y)?i:(d||(d=u(e.map(n),t,r)))(n(l(y)))}return m.invert=function(y){return l(a((h||(h=u(t,e.map(n),Gu)))(y)))},m.domain=function(y){return arguments.length?(e=Array.from(y,Yu),p()):e.slice()},m.range=function(y){return arguments.length?(t=Array.from(y),p()):t.slice()},m.rangeRound=function(y){return t=Array.from(y),r=oy,p()},m.clamp=function(y){return arguments.length?(l=y?!0:rr,p()):l!==rr},m.interpolate=function(y){return arguments.length?(r=y,p()):r},m.unknown=function(y){return arguments.length?(i=y,m):i},function(y,v){return n=y,a=v,p()}}function ly(){return Fd()(rr,rr)}function pB(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Xu(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function js(e){return e=Xu(Math.abs(e)),e?e[1]:NaN}function mB(e,t){return function(r,n){for(var a=r.length,i=[],l=0,u=e[0],d=0;a>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),i.push(r.substring(a-=u,a+u)),!((d+=u+1)>n));)u=e[l=(l+1)%e.length];return i.reverse().join(t)}}function gB(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var vB=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function dl(e){if(!(t=vB.exec(e)))throw new Error("invalid format: "+e);var t;return new cy({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}dl.prototype=cy.prototype;function cy(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}cy.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function yB(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var MP;function xB(e,t){var r=Xu(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(MP=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=n.length;return i===l?n:i>l?n+new Array(i-l+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Xu(e,Math.max(0,t+i-1))[0]}function Lk(e,t){var r=Xu(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const $k={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:pB,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Lk(e*100,t),r:Lk,s:xB,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Bk(e){return e}var Fk=Array.prototype.map,Uk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function bB(e){var t=e.grouping===void 0||e.thousands===void 0?Bk:mB(Fk.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Bk:gB(Fk.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function h(m){m=dl(m);var y=m.fill,v=m.align,j=m.sign,b=m.symbol,k=m.zero,N=m.width,A=m.comma,P=m.precision,C=m.trim,E=m.type;E==="n"?(A=!0,E="g"):$k[E]||(P===void 0&&(P=12),C=!0,E="g"),(k||y==="0"&&v==="=")&&(k=!0,y="0",v="=");var S=b==="$"?r:b==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",T=b==="$"?n:/[%p]/.test(E)?l:"",I=$k[E],M=/[defgprs%]/.test(E);P=P===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function z(W){var V=S,Q=T,se,Y,oe;if(E==="c")Q=I(W)+Q,W="";else{W=+W;var te=W<0||1/W<0;if(W=isNaN(W)?d:I(Math.abs(W),P),C&&(W=yB(W)),te&&+W==0&&j!=="+"&&(te=!1),V=(te?j==="("?j:u:j==="-"||j==="("?"":j)+V,Q=(E==="s"?Uk[8+MP/3]:"")+Q+(te&&j==="("?")":""),M){for(se=-1,Y=W.length;++se<Y;)if(oe=W.charCodeAt(se),48>oe||oe>57){Q=(oe===46?a+W.slice(se+1):W.slice(se))+Q,W=W.slice(0,se);break}}}A&&!k&&(W=t(W,1/0));var G=V.length+W.length+Q.length,ie=G<N?new Array(N-G+1).join(y):"";switch(A&&k&&(W=t(ie+W,ie.length?N-Q.length:1/0),ie=""),v){case"<":W=V+W+Q+ie;break;case"=":W=V+ie+W+Q;break;case"^":W=ie.slice(0,G=ie.length>>1)+V+W+Q+ie.slice(G);break;default:W=ie+V+W+Q;break}return i(W)}return z.toString=function(){return m+""},z}function p(m,y){var v=h((m=dl(m),m.type="f",m)),j=Math.max(-8,Math.min(8,Math.floor(js(y)/3)))*3,b=Math.pow(10,-j),k=Uk[8+j/3];return function(N){return v(b*N)+k}}return{format:h,formatPrefix:p}}var hu,uy,LP;wB({thousands:",",grouping:[3],currency:["$",""]});function wB(e){return hu=bB(e),uy=hu.format,LP=hu.formatPrefix,hu}function jB(e){return Math.max(0,-js(Math.abs(e)))}function kB(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(js(t)/3)))*3-js(Math.abs(e)))}function _B(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,js(t)-js(e))+1}function $P(e,t,r,n){var a=Vg(e,t,r),i;switch(n=dl(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=kB(a,l))&&(n.precision=i),LP(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=_B(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=jB(a))&&(n.precision=i-(n.type==="%")*2);break}}return uy(n)}function $a(e){var t=e.domain;return e.ticks=function(r){var n=t();return Wg(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return $P(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,l=n[a],u=n[i],d,h,p=10;for(u<l&&(h=l,l=u,u=h,h=a,a=i,i=h);p-- >0;){if(h=Kg(l,u,r),h===d)return n[a]=l,n[i]=u,t(n);if(h>0)l=Math.floor(l/h)*h,u=Math.ceil(u/h)*h;else if(h<0)l=Math.ceil(l*h)/h,u=Math.floor(u*h)/h;else break;d=h}return e},e}function BP(){var e=ly();return e.copy=function(){return Sl(e,BP())},Vr.apply(e,arguments),$a(e)}function FP(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Yu),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return FP(e).unknown(t)},e=arguments.length?Array.from(e,Yu):[0,1],$a(r)}function UP(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],l;return i<a&&(l=r,r=n,n=l,l=a,a=i,i=l),e[r]=t.floor(a),e[n]=t.ceil(i),e}function zk(e){return Math.log(e)}function qk(e){return Math.exp(e)}function SB(e){return-Math.log(-e)}function NB(e){return-Math.exp(-e)}function EB(e){return isFinite(e)?+("1e"+e):e<0?0:e}function PB(e){return e===10?EB:e===Math.E?Math.exp:t=>Math.pow(e,t)}function OB(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Wk(e){return(t,r)=>-e(-t,r)}function dy(e){const t=e(zk,qk),r=t.domain;let n=10,a,i;function l(){return a=OB(n),i=PB(n),r()[0]<0?(a=Wk(a),i=Wk(i),e(SB,NB)):e(zk,qk),t}return t.base=function(u){return arguments.length?(n=+u,l()):n},t.domain=function(u){return arguments.length?(r(u),l()):r()},t.ticks=u=>{const d=r();let h=d[0],p=d[d.length-1];const m=p<h;m&&([h,p]=[p,h]);let y=a(h),v=a(p),j,b;const k=u==null?10:+u;let N=[];if(!(n%1)&&v-y<k){if(y=Math.floor(y),v=Math.ceil(v),h>0){for(;y<=v;++y)for(j=1;j<n;++j)if(b=y<0?j/i(-y):j*i(y),!(b<h)){if(b>p)break;N.push(b)}}else for(;y<=v;++y)for(j=n-1;j>=1;--j)if(b=y>0?j/i(-y):j*i(y),!(b<h)){if(b>p)break;N.push(b)}N.length*2<k&&(N=Wg(h,p,k))}else N=Wg(y,v,Math.min(v-y,k)).map(i);return m?N.reverse():N},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=dl(d)).precision==null&&(d.trim=!0),d=uy(d)),u===1/0)return d;const h=Math.max(1,n*u/t.ticks().length);return p=>{let m=p/i(Math.round(a(p)));return m*n<n-.5&&(m*=n),m<=h?d(p):""}},t.nice=()=>r(UP(r(),{floor:u=>i(Math.floor(a(u))),ceil:u=>i(Math.ceil(a(u)))})),t}function zP(){const e=dy(Fd()).domain([1,10]);return e.copy=()=>Sl(e,zP()).base(e.base()),Vr.apply(e,arguments),e}function Kk(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Vk(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function fy(e){var t=1,r=e(Kk(t),Vk(t));return r.constant=function(n){return arguments.length?e(Kk(t=+n),Vk(t)):t},$a(r)}function qP(){var e=fy(Fd());return e.copy=function(){return Sl(e,qP()).constant(e.constant())},Vr.apply(e,arguments)}function Hk(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function AB(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function CB(e){return e<0?-e*e:e*e}function hy(e){var t=e(rr,rr),r=1;function n(){return r===1?e(rr,rr):r===.5?e(AB,CB):e(Hk(r),Hk(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},$a(t)}function py(){var e=hy(Fd());return e.copy=function(){return Sl(e,py()).exponent(e.exponent())},Vr.apply(e,arguments),e}function TB(){return py.apply(null,arguments).exponent(.5)}function Gk(e){return Math.sign(e)*e*e}function RB(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function WP(){var e=ly(),t=[0,1],r=!1,n;function a(i){var l=RB(e(i));return isNaN(l)?n:r?Math.round(l):l}return a.invert=function(i){return e.invert(Gk(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Yu)).map(Gk)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return WP(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Vr.apply(a,arguments),$a(a)}function KP(){var e=[],t=[],r=[],n;function a(){var l=0,u=Math.max(1,t.length);for(r=new Array(u-1);++l<u;)r[l-1]=L5(e,l/u);return i}function i(l){return l==null||isNaN(l=+l)?n:t[kl(r,l)]}return i.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Ca),a()},i.range=function(l){return arguments.length?(t=Array.from(l),a()):t.slice()},i.unknown=function(l){return arguments.length?(n=l,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return KP().domain(e).range(t).unknown(n)},Vr.apply(i,arguments)}function VP(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function l(d){return d!=null&&d<=d?a[kl(n,d,0,r)]:i}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},l.range=function(d){return arguments.length?(r=(a=Array.from(d)).length-1,u()):a.slice()},l.invertExtent=function(d){var h=a.indexOf(d);return h<0?[NaN,NaN]:h<1?[e,n[0]]:h>=r?[n[r-1],t]:[n[h-1],n[h]]},l.unknown=function(d){return arguments.length&&(i=d),l},l.thresholds=function(){return n.slice()},l.copy=function(){return VP().domain([e,t]).range(a).unknown(i)},Vr.apply($a(l),arguments)}function HP(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[kl(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var l=t.indexOf(i);return[e[l-1],e[l]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return HP().domain(e).range(t).unknown(r)},Vr.apply(a,arguments)}const Rm=new Date,Im=new Date;function Nt(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const l=a(i),u=a.ceil(i);return i-l<u-i?l:u},a.offset=(i,l)=>(t(i=new Date(+i),l==null?1:Math.floor(l)),i),a.range=(i,l,u)=>{const d=[];if(i=a.ceil(i),u=u==null?1:Math.floor(u),!(i<l)||!(u>0))return d;let h;do d.push(h=new Date(+i)),t(i,u),e(i);while(h<i&&i<l);return d},a.filter=i=>Nt(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!i(l););else for(;--u>=0;)for(;t(l,1),!i(l););}),r&&(a.count=(i,l)=>(Rm.setTime(+i),Im.setTime(+l),e(Rm),e(Im),Math.floor(r(Rm,Im))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?l=>n(l)%i===0:l=>a.count(0,l)%i===0):a)),a}const Ju=Nt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ju.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Nt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Ju);Ju.range;const Fn=1e3,qr=Fn*60,Un=qr*60,Yn=Un*24,my=Yn*7,Yk=Yn*30,Dm=Yn*365,ui=Nt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Fn)},(e,t)=>(t-e)/Fn,e=>e.getUTCSeconds());ui.range;const gy=Nt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fn)},(e,t)=>{e.setTime(+e+t*qr)},(e,t)=>(t-e)/qr,e=>e.getMinutes());gy.range;const vy=Nt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*qr)},(e,t)=>(t-e)/qr,e=>e.getUTCMinutes());vy.range;const yy=Nt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fn-e.getMinutes()*qr)},(e,t)=>{e.setTime(+e+t*Un)},(e,t)=>(t-e)/Un,e=>e.getHours());yy.range;const xy=Nt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Un)},(e,t)=>(t-e)/Un,e=>e.getUTCHours());xy.range;const Nl=Nt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*qr)/Yn,e=>e.getDate()-1);Nl.range;const Ud=Nt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Yn,e=>e.getUTCDate()-1);Ud.range;const GP=Nt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Yn,e=>Math.floor(e/Yn));GP.range;function Ei(e){return Nt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*qr)/my)}const zd=Ei(0),Qu=Ei(1),IB=Ei(2),DB=Ei(3),ks=Ei(4),MB=Ei(5),LB=Ei(6);zd.range;Qu.range;IB.range;DB.range;ks.range;MB.range;LB.range;function Pi(e){return Nt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/my)}const qd=Pi(0),Zu=Pi(1),$B=Pi(2),BB=Pi(3),_s=Pi(4),FB=Pi(5),UB=Pi(6);qd.range;Zu.range;$B.range;BB.range;_s.range;FB.range;UB.range;const by=Nt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());by.range;const wy=Nt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());wy.range;const Xn=Nt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Xn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Nt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Xn.range;const Jn=Nt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Jn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Nt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Jn.range;function YP(e,t,r,n,a,i){const l=[[ui,1,Fn],[ui,5,5*Fn],[ui,15,15*Fn],[ui,30,30*Fn],[i,1,qr],[i,5,5*qr],[i,15,15*qr],[i,30,30*qr],[a,1,Un],[a,3,3*Un],[a,6,6*Un],[a,12,12*Un],[n,1,Yn],[n,2,2*Yn],[r,1,my],[t,1,Yk],[t,3,3*Yk],[e,1,Dm]];function u(h,p,m){const y=p<h;y&&([h,p]=[p,h]);const v=m&&typeof m.range=="function"?m:d(h,p,m),j=v?v.range(h,+p+1):[];return y?j.reverse():j}function d(h,p,m){const y=Math.abs(p-h)/m,v=ry(([,,k])=>k).right(l,y);if(v===l.length)return e.every(Vg(h/Dm,p/Dm,m));if(v===0)return Ju.every(Math.max(Vg(h,p,m),1));const[j,b]=l[y/l[v-1][2]<l[v][2]/y?v-1:v];return j.every(b)}return[u,d]}const[zB,qB]=YP(Jn,wy,qd,GP,xy,vy),[WB,KB]=YP(Xn,by,zd,Nl,yy,gy);function Mm(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Lm(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function $o(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function VB(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,l=e.shortDays,u=e.months,d=e.shortMonths,h=Bo(a),p=Fo(a),m=Bo(i),y=Fo(i),v=Bo(l),j=Fo(l),b=Bo(u),k=Fo(u),N=Bo(d),A=Fo(d),P={a:te,A:G,b:ie,B:ae,c:null,d:t_,e:t_,f:mF,g:SF,G:EF,H:fF,I:hF,j:pF,L:XP,m:gF,M:vF,p:$,q:H,Q:a_,s:i_,S:yF,u:xF,U:bF,V:wF,w:jF,W:kF,x:null,X:null,y:_F,Y:NF,Z:PF,"%":n_},C={a:ye,A:Ee,b:je,B:Ce,c:null,d:r_,e:r_,f:TF,g:zF,G:WF,H:OF,I:AF,j:CF,L:QP,m:RF,M:IF,p:Le,q:Re,Q:a_,s:i_,S:DF,u:MF,U:LF,V:$F,w:BF,W:FF,x:null,X:null,y:UF,Y:qF,Z:KF,"%":n_},E={a:z,A:W,b:V,B:Q,c:se,d:Zk,e:Zk,f:lF,g:Qk,G:Jk,H:e_,I:e_,j:aF,L:oF,m:nF,M:iF,p:M,q:rF,Q:uF,s:dF,S:sF,u:JB,U:QB,V:ZB,w:XB,W:eF,x:Y,X:oe,y:Qk,Y:Jk,Z:tF,"%":cF};P.x=S(r,P),P.X=S(n,P),P.c=S(t,P),C.x=S(r,C),C.X=S(n,C),C.c=S(t,C);function S(K,we){return function(Oe){var ee=[],xt=-1,$e=0,Ft=K.length,Ut,Hr,Vs;for(Oe instanceof Date||(Oe=new Date(+Oe));++xt<Ft;)K.charCodeAt(xt)===37&&(ee.push(K.slice($e,xt)),(Hr=Xk[Ut=K.charAt(++xt)])!=null?Ut=K.charAt(++xt):Hr=Ut==="e"?" ":"0",(Vs=we[Ut])&&(Ut=Vs(Oe,Hr)),ee.push(Ut),$e=xt+1);return ee.push(K.slice($e,xt)),ee.join("")}}function T(K,we){return function(Oe){var ee=$o(1900,void 0,1),xt=I(ee,K,Oe+="",0),$e,Ft;if(xt!=Oe.length)return null;if("Q"in ee)return new Date(ee.Q);if("s"in ee)return new Date(ee.s*1e3+("L"in ee?ee.L:0));if(we&&!("Z"in ee)&&(ee.Z=0),"p"in ee&&(ee.H=ee.H%12+ee.p*12),ee.m===void 0&&(ee.m="q"in ee?ee.q:0),"V"in ee){if(ee.V<1||ee.V>53)return null;"w"in ee||(ee.w=1),"Z"in ee?($e=Lm($o(ee.y,0,1)),Ft=$e.getUTCDay(),$e=Ft>4||Ft===0?Zu.ceil($e):Zu($e),$e=Ud.offset($e,(ee.V-1)*7),ee.y=$e.getUTCFullYear(),ee.m=$e.getUTCMonth(),ee.d=$e.getUTCDate()+(ee.w+6)%7):($e=Mm($o(ee.y,0,1)),Ft=$e.getDay(),$e=Ft>4||Ft===0?Qu.ceil($e):Qu($e),$e=Nl.offset($e,(ee.V-1)*7),ee.y=$e.getFullYear(),ee.m=$e.getMonth(),ee.d=$e.getDate()+(ee.w+6)%7)}else("W"in ee||"U"in ee)&&("w"in ee||(ee.w="u"in ee?ee.u%7:"W"in ee?1:0),Ft="Z"in ee?Lm($o(ee.y,0,1)).getUTCDay():Mm($o(ee.y,0,1)).getDay(),ee.m=0,ee.d="W"in ee?(ee.w+6)%7+ee.W*7-(Ft+5)%7:ee.w+ee.U*7-(Ft+6)%7);return"Z"in ee?(ee.H+=ee.Z/100|0,ee.M+=ee.Z%100,Lm(ee)):Mm(ee)}}function I(K,we,Oe,ee){for(var xt=0,$e=we.length,Ft=Oe.length,Ut,Hr;xt<$e;){if(ee>=Ft)return-1;if(Ut=we.charCodeAt(xt++),Ut===37){if(Ut=we.charAt(xt++),Hr=E[Ut in Xk?we.charAt(xt++):Ut],!Hr||(ee=Hr(K,Oe,ee))<0)return-1}else if(Ut!=Oe.charCodeAt(ee++))return-1}return ee}function M(K,we,Oe){var ee=h.exec(we.slice(Oe));return ee?(K.p=p.get(ee[0].toLowerCase()),Oe+ee[0].length):-1}function z(K,we,Oe){var ee=v.exec(we.slice(Oe));return ee?(K.w=j.get(ee[0].toLowerCase()),Oe+ee[0].length):-1}function W(K,we,Oe){var ee=m.exec(we.slice(Oe));return ee?(K.w=y.get(ee[0].toLowerCase()),Oe+ee[0].length):-1}function V(K,we,Oe){var ee=N.exec(we.slice(Oe));return ee?(K.m=A.get(ee[0].toLowerCase()),Oe+ee[0].length):-1}function Q(K,we,Oe){var ee=b.exec(we.slice(Oe));return ee?(K.m=k.get(ee[0].toLowerCase()),Oe+ee[0].length):-1}function se(K,we,Oe){return I(K,t,we,Oe)}function Y(K,we,Oe){return I(K,r,we,Oe)}function oe(K,we,Oe){return I(K,n,we,Oe)}function te(K){return l[K.getDay()]}function G(K){return i[K.getDay()]}function ie(K){return d[K.getMonth()]}function ae(K){return u[K.getMonth()]}function $(K){return a[+(K.getHours()>=12)]}function H(K){return 1+~~(K.getMonth()/3)}function ye(K){return l[K.getUTCDay()]}function Ee(K){return i[K.getUTCDay()]}function je(K){return d[K.getUTCMonth()]}function Ce(K){return u[K.getUTCMonth()]}function Le(K){return a[+(K.getUTCHours()>=12)]}function Re(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var we=S(K+="",P);return we.toString=function(){return K},we},parse:function(K){var we=T(K+="",!1);return we.toString=function(){return K},we},utcFormat:function(K){var we=S(K+="",C);return we.toString=function(){return K},we},utcParse:function(K){var we=T(K+="",!0);return we.toString=function(){return K},we}}}var Xk={"-":"",_:" ",0:"0"},It=/^\s*\d+/,HB=/^%/,GB=/[\\^$*+?|[\]().{}]/g;function Me(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function YB(e){return e.replace(GB,"\\$&")}function Bo(e){return new RegExp("^(?:"+e.map(YB).join("|")+")","i")}function Fo(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function XB(e,t,r){var n=It.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function JB(e,t,r){var n=It.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function QB(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function ZB(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function eF(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Jk(e,t,r){var n=It.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Qk(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function tF(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function rF(e,t,r){var n=It.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function nF(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Zk(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function aF(e,t,r){var n=It.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function e_(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function iF(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function sF(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function oF(e,t,r){var n=It.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function lF(e,t,r){var n=It.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function cF(e,t,r){var n=HB.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function uF(e,t,r){var n=It.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function dF(e,t,r){var n=It.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function t_(e,t){return Me(e.getDate(),t,2)}function fF(e,t){return Me(e.getHours(),t,2)}function hF(e,t){return Me(e.getHours()%12||12,t,2)}function pF(e,t){return Me(1+Nl.count(Xn(e),e),t,3)}function XP(e,t){return Me(e.getMilliseconds(),t,3)}function mF(e,t){return XP(e,t)+"000"}function gF(e,t){return Me(e.getMonth()+1,t,2)}function vF(e,t){return Me(e.getMinutes(),t,2)}function yF(e,t){return Me(e.getSeconds(),t,2)}function xF(e){var t=e.getDay();return t===0?7:t}function bF(e,t){return Me(zd.count(Xn(e)-1,e),t,2)}function JP(e){var t=e.getDay();return t>=4||t===0?ks(e):ks.ceil(e)}function wF(e,t){return e=JP(e),Me(ks.count(Xn(e),e)+(Xn(e).getDay()===4),t,2)}function jF(e){return e.getDay()}function kF(e,t){return Me(Qu.count(Xn(e)-1,e),t,2)}function _F(e,t){return Me(e.getFullYear()%100,t,2)}function SF(e,t){return e=JP(e),Me(e.getFullYear()%100,t,2)}function NF(e,t){return Me(e.getFullYear()%1e4,t,4)}function EF(e,t){var r=e.getDay();return e=r>=4||r===0?ks(e):ks.ceil(e),Me(e.getFullYear()%1e4,t,4)}function PF(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Me(t/60|0,"0",2)+Me(t%60,"0",2)}function r_(e,t){return Me(e.getUTCDate(),t,2)}function OF(e,t){return Me(e.getUTCHours(),t,2)}function AF(e,t){return Me(e.getUTCHours()%12||12,t,2)}function CF(e,t){return Me(1+Ud.count(Jn(e),e),t,3)}function QP(e,t){return Me(e.getUTCMilliseconds(),t,3)}function TF(e,t){return QP(e,t)+"000"}function RF(e,t){return Me(e.getUTCMonth()+1,t,2)}function IF(e,t){return Me(e.getUTCMinutes(),t,2)}function DF(e,t){return Me(e.getUTCSeconds(),t,2)}function MF(e){var t=e.getUTCDay();return t===0?7:t}function LF(e,t){return Me(qd.count(Jn(e)-1,e),t,2)}function ZP(e){var t=e.getUTCDay();return t>=4||t===0?_s(e):_s.ceil(e)}function $F(e,t){return e=ZP(e),Me(_s.count(Jn(e),e)+(Jn(e).getUTCDay()===4),t,2)}function BF(e){return e.getUTCDay()}function FF(e,t){return Me(Zu.count(Jn(e)-1,e),t,2)}function UF(e,t){return Me(e.getUTCFullYear()%100,t,2)}function zF(e,t){return e=ZP(e),Me(e.getUTCFullYear()%100,t,2)}function qF(e,t){return Me(e.getUTCFullYear()%1e4,t,4)}function WF(e,t){var r=e.getUTCDay();return e=r>=4||r===0?_s(e):_s.ceil(e),Me(e.getUTCFullYear()%1e4,t,4)}function KF(){return"+0000"}function n_(){return"%"}function a_(e){return+e}function i_(e){return Math.floor(+e/1e3)}var ss,eO,tO;VF({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function VF(e){return ss=VB(e),eO=ss.format,ss.parse,tO=ss.utcFormat,ss.utcParse,ss}function HF(e){return new Date(e)}function GF(e){return e instanceof Date?+e:+new Date(+e)}function jy(e,t,r,n,a,i,l,u,d,h){var p=ly(),m=p.invert,y=p.domain,v=h(".%L"),j=h(":%S"),b=h("%I:%M"),k=h("%I %p"),N=h("%a %d"),A=h("%b %d"),P=h("%B"),C=h("%Y");function E(S){return(d(S)<S?v:u(S)<S?j:l(S)<S?b:i(S)<S?k:n(S)<S?a(S)<S?N:A:r(S)<S?P:C)(S)}return p.invert=function(S){return new Date(m(S))},p.domain=function(S){return arguments.length?y(Array.from(S,GF)):y().map(HF)},p.ticks=function(S){var T=y();return e(T[0],T[T.length-1],S??10)},p.tickFormat=function(S,T){return T==null?E:h(T)},p.nice=function(S){var T=y();return(!S||typeof S.range!="function")&&(S=t(T[0],T[T.length-1],S??10)),S?y(UP(T,S)):p},p.copy=function(){return Sl(p,jy(e,t,r,n,a,i,l,u,d,h))},p}function YF(){return Vr.apply(jy(WB,KB,Xn,by,zd,Nl,yy,gy,ui,eO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function XF(){return Vr.apply(jy(zB,qB,Jn,wy,qd,Ud,xy,vy,ui,tO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Wd(){var e=0,t=1,r,n,a,i,l=rr,u=!1,d;function h(m){return m==null||isNaN(m=+m)?d:l(a===0?.5:(m=(i(m)-r)*a,u?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([e,t]=m,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),h):[e,t]},h.clamp=function(m){return arguments.length?(u=!!m,h):u},h.interpolator=function(m){return arguments.length?(l=m,h):l};function p(m){return function(y){var v,j;return arguments.length?([v,j]=y,l=m(v,j),h):[l(0),l(1)]}}return h.range=p(Ds),h.rangeRound=p(oy),h.unknown=function(m){return arguments.length?(d=m,h):d},function(m){return i=m,r=m(e),n=m(t),a=r===n?0:1/(n-r),h}}function Ba(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function rO(){var e=$a(Wd()(rr));return e.copy=function(){return Ba(e,rO())},ta.apply(e,arguments)}function nO(){var e=dy(Wd()).domain([1,10]);return e.copy=function(){return Ba(e,nO()).base(e.base())},ta.apply(e,arguments)}function aO(){var e=fy(Wd());return e.copy=function(){return Ba(e,aO()).constant(e.constant())},ta.apply(e,arguments)}function ky(){var e=hy(Wd());return e.copy=function(){return Ba(e,ky()).exponent(e.exponent())},ta.apply(e,arguments)}function JF(){return ky.apply(null,arguments).exponent(.5)}function iO(){var e=[],t=rr;function r(n){if(n!=null&&!isNaN(n=+n))return t((kl(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ca),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>M5(e,i/n))},r.copy=function(){return iO(t).domain(e)},ta.apply(r,arguments)}function Kd(){var e=0,t=.5,r=1,n=1,a,i,l,u,d,h=rr,p,m=!1,y;function v(b){return isNaN(b=+b)?y:(b=.5+((b=+p(b))-i)*(n*b<n*i?u:d),h(m?Math.max(0,Math.min(1,b)):b))}v.domain=function(b){return arguments.length?([e,t,r]=b,a=p(e=+e),i=p(t=+t),l=p(r=+r),u=a===i?0:.5/(i-a),d=i===l?0:.5/(l-i),n=i<a?-1:1,v):[e,t,r]},v.clamp=function(b){return arguments.length?(m=!!b,v):m},v.interpolator=function(b){return arguments.length?(h=b,v):h};function j(b){return function(k){var N,A,P;return arguments.length?([N,A,P]=k,h=cB(b,[N,A,P]),v):[h(0),h(.5),h(1)]}}return v.range=j(Ds),v.rangeRound=j(oy),v.unknown=function(b){return arguments.length?(y=b,v):y},function(b){return p=b,a=b(e),i=b(t),l=b(r),u=a===i?0:.5/(i-a),d=i===l?0:.5/(l-i),n=i<a?-1:1,v}}function sO(){var e=$a(Kd()(rr));return e.copy=function(){return Ba(e,sO())},ta.apply(e,arguments)}function oO(){var e=dy(Kd()).domain([.1,1,10]);return e.copy=function(){return Ba(e,oO()).base(e.base())},ta.apply(e,arguments)}function lO(){var e=fy(Kd());return e.copy=function(){return Ba(e,lO()).constant(e.constant())},ta.apply(e,arguments)}function _y(){var e=hy(Kd());return e.copy=function(){return Ba(e,_y()).exponent(e.exponent())},ta.apply(e,arguments)}function QF(){return _y.apply(null,arguments).exponent(.5)}const Ko=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ay,scaleDiverging:sO,scaleDivergingLog:oO,scaleDivergingPow:_y,scaleDivergingSqrt:QF,scaleDivergingSymlog:lO,scaleIdentity:FP,scaleImplicit:Hg,scaleLinear:BP,scaleLog:zP,scaleOrdinal:ny,scalePoint:B5,scalePow:py,scaleQuantile:KP,scaleQuantize:VP,scaleRadial:WP,scaleSequential:rO,scaleSequentialLog:nO,scaleSequentialPow:ky,scaleSequentialQuantile:iO,scaleSequentialSqrt:JF,scaleSequentialSymlog:aO,scaleSqrt:TB,scaleSymlog:qP,scaleThreshold:HP,scaleTime:YF,scaleUtc:XF,tickFormat:$P},Symbol.toStringTag,{value:"Module"}));var Fa=e=>e.chartData,Sy=F([Fa],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),El=(e,t,r,n)=>n?Sy(e):Fa(e);function wi(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(yt(t)&&yt(r))return!0}return!1}function s_(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function cO(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(yt(r))a=r;else if(typeof r=="function")return;if(yt(n))i=n;else if(typeof n=="function")return;var l=[a,i];if(wi(l))return l}}function ZF(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(wi(n))return s_(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,l,u;if(a==="auto")t!=null&&(l=Math.min(...t));else if(fe(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t?.[0]))}catch{}else if(typeof a=="string"&&q1.test(a)){var d=q1.exec(a);if(d==null||t==null)l=void 0;else{var h=+d[1];l=t[0]-h}}else l=t?.[0];if(i==="auto")t!=null&&(u=Math.max(...t));else if(fe(i))u=i;else if(typeof i=="function")try{t!=null&&(u=i(t?.[1]))}catch{}else if(typeof i=="string"&&W1.test(i)){var p=W1.exec(i);if(p==null||t==null)u=void 0;else{var m=+p[1];u=t[1]+m}}else u=t?.[1];var y=[l,u];if(wi(y))return t==null?y:s_(y,t,r)}}}var Ms=1e9,eU={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ey,tt=!0,Kr="[DecimalError] ",mi=Kr+"Invalid argument: ",Ny=Kr+"Exponent out of range: ",Ls=Math.floor,ii=Math.pow,tU=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Er,Tt=1e7,Xe=7,uO=9007199254740991,ed=Ls(uO/Xe),ue={};ue.absoluteValue=ue.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ue.comparedTo=ue.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};ue.decimalPlaces=ue.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Xe;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ue.dividedBy=ue.div=function(e){return Kn(this,new this.constructor(e))};ue.dividedToIntegerBy=ue.idiv=function(e){var t=this,r=t.constructor;return We(Kn(t,new r(e),0,1),r.precision)};ue.equals=ue.eq=function(e){return!this.cmp(e)};ue.exponent=function(){return vt(this)};ue.greaterThan=ue.gt=function(e){return this.cmp(e)>0};ue.greaterThanOrEqualTo=ue.gte=function(e){return this.cmp(e)>=0};ue.isInteger=ue.isint=function(){return this.e>this.d.length-2};ue.isNegative=ue.isneg=function(){return this.s<0};ue.isPositive=ue.ispos=function(){return this.s>0};ue.isZero=function(){return this.s===0};ue.lessThan=ue.lt=function(e){return this.cmp(e)<0};ue.lessThanOrEqualTo=ue.lte=function(e){return this.cmp(e)<1};ue.logarithm=ue.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Er))throw Error(Kr+"NaN");if(r.s<1)throw Error(Kr+(r.s?"NaN":"-Infinity"));return r.eq(Er)?new n(0):(tt=!1,t=Kn(fl(r,i),fl(e,i),i),tt=!0,We(t,a))};ue.minus=ue.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?hO(t,e):dO(t,(e.s=-e.s,e))};ue.modulo=ue.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Kr+"NaN");return r.s?(tt=!1,t=Kn(r,e,0,1).times(e),tt=!0,r.minus(t)):We(new n(r),a)};ue.naturalExponential=ue.exp=function(){return fO(this)};ue.naturalLogarithm=ue.ln=function(){return fl(this)};ue.negated=ue.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ue.plus=ue.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?dO(t,e):hO(t,(e.s=-e.s,e))};ue.precision=ue.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(mi+e);if(t=vt(a)+1,n=a.d.length-1,r=n*Xe+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ue.squareRoot=ue.sqrt=function(){var e,t,r,n,a,i,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Kr+"NaN")}for(e=vt(u),tt=!1,a=Math.sqrt(+u),a==0||a==1/0?(t=vn(u.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Ls((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(a.toString()),r=d.precision,a=l=r+3;;)if(i=n,n=i.plus(Kn(u,i,l+2)).times(.5),vn(i.d).slice(0,l)===(t=vn(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),a==l&&t=="4999"){if(We(i,r+1,0),i.times(i).eq(u)){n=i;break}}else if(t!="9999")break;l+=4}return tt=!0,We(n,r)};ue.times=ue.mul=function(e){var t,r,n,a,i,l,u,d,h,p=this,m=p.constructor,y=p.d,v=(e=new m(e)).d;if(!p.s||!e.s)return new m(0);for(e.s*=p.s,r=p.e+e.e,d=y.length,h=v.length,d<h&&(i=y,y=v,v=i,l=d,d=h,h=l),i=[],l=d+h,n=l;n--;)i.push(0);for(n=h;--n>=0;){for(t=0,a=d+n;a>n;)u=i[a]+v[n]*y[a-n-1]+t,i[a--]=u%Tt|0,t=u/Tt|0;i[a]=(i[a]+t)%Tt|0}for(;!i[--l];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,tt?We(e,m.precision):e};ue.toDecimalPlaces=ue.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(kn(e,0,Ms),t===void 0?t=n.rounding:kn(t,0,8),We(r,e+vt(r)+1,t))};ue.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=ji(n,!0):(kn(e,0,Ms),t===void 0?t=a.rounding:kn(t,0,8),n=We(new a(n),e+1,t),r=ji(n,!0,e+1)),r};ue.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?ji(a):(kn(e,0,Ms),t===void 0?t=i.rounding:kn(t,0,8),n=We(new i(a),e+vt(a)+1,t),r=ji(n.abs(),!1,e+vt(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ue.toInteger=ue.toint=function(){var e=this,t=e.constructor;return We(new t(e),vt(e)+1,t.rounding)};ue.toNumber=function(){return+this};ue.toPower=ue.pow=function(e){var t,r,n,a,i,l,u=this,d=u.constructor,h=12,p=+(e=new d(e));if(!e.s)return new d(Er);if(u=new d(u),!u.s){if(e.s<1)throw Error(Kr+"Infinity");return u}if(u.eq(Er))return u;if(n=d.precision,e.eq(Er))return We(u,n);if(t=e.e,r=e.d.length-1,l=t>=r,i=u.s,l){if((r=p<0?-p:p)<=uO){for(a=new d(Er),t=Math.ceil(n/Xe+4),tt=!1;r%2&&(a=a.times(u),l_(a.d,t)),r=Ls(r/2),r!==0;)u=u.times(u),l_(u.d,t);return tt=!0,e.s<0?new d(Er).div(a):We(a,n)}}else if(i<0)throw Error(Kr+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,tt=!1,a=e.times(fl(u,n+h)),tt=!0,a=fO(a),a.s=i,a};ue.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=vt(a),n=ji(a,r<=i.toExpNeg||r>=i.toExpPos)):(kn(e,1,Ms),t===void 0?t=i.rounding:kn(t,0,8),a=We(new i(a),e,t),r=vt(a),n=ji(a,e<=r||r<=i.toExpNeg,e)),n};ue.toSignificantDigits=ue.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(kn(e,1,Ms),t===void 0?t=n.rounding:kn(t,0,8)),We(new n(r),e,t)};ue.toString=ue.valueOf=ue.val=ue.toJSON=ue[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=vt(e),r=e.constructor;return ji(e,t<=r.toExpNeg||t>=r.toExpPos)};function dO(e,t){var r,n,a,i,l,u,d,h,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),tt?We(t,m):t;if(d=e.d,h=t.d,l=e.e,a=t.e,d=d.slice(),i=l-a,i){for(i<0?(n=d,i=-i,u=h.length):(n=h,a=l,u=d.length),l=Math.ceil(m/Xe),u=l>u?l+1:u+1,i>u&&(i=u,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(u=d.length,i=h.length,u-i<0&&(i=u,n=h,h=d,d=n),r=0;i;)r=(d[--i]=d[i]+h[i]+r)/Tt|0,d[i]%=Tt;for(r&&(d.unshift(r),++a),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=a,tt?We(t,m):t}function kn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(mi+e)}function vn(e){var t,r,n,a=e.length-1,i="",l=e[0];if(a>0){for(i+=l,t=1;t<a;t++)n=e[t]+"",r=Xe-n.length,r&&(i+=Sa(r)),i+=n;l=e[t],n=l+"",r=Xe-n.length,r&&(i+=Sa(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var Kn=(function(){function e(n,a){var i,l=0,u=n.length;for(n=n.slice();u--;)i=n[u]*a+l,n[u]=i%Tt|0,l=i/Tt|0;return l&&n.unshift(l),n}function t(n,a,i,l){var u,d;if(i!=l)d=i>l?1:-1;else for(u=d=0;u<i;u++)if(n[u]!=a[u]){d=n[u]>a[u]?1:-1;break}return d}function r(n,a,i){for(var l=0;i--;)n[i]-=l,l=n[i]<a[i]?1:0,n[i]=l*Tt+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,l){var u,d,h,p,m,y,v,j,b,k,N,A,P,C,E,S,T,I,M=n.constructor,z=n.s==a.s?1:-1,W=n.d,V=a.d;if(!n.s)return new M(n);if(!a.s)throw Error(Kr+"Division by zero");for(d=n.e-a.e,T=V.length,E=W.length,v=new M(z),j=v.d=[],h=0;V[h]==(W[h]||0);)++h;if(V[h]>(W[h]||0)&&--d,i==null?A=i=M.precision:l?A=i+(vt(n)-vt(a))+1:A=i,A<0)return new M(0);if(A=A/Xe+2|0,h=0,T==1)for(p=0,V=V[0],A++;(h<E||p)&&A--;h++)P=p*Tt+(W[h]||0),j[h]=P/V|0,p=P%V|0;else{for(p=Tt/(V[0]+1)|0,p>1&&(V=e(V,p),W=e(W,p),T=V.length,E=W.length),C=T,b=W.slice(0,T),k=b.length;k<T;)b[k++]=0;I=V.slice(),I.unshift(0),S=V[0],V[1]>=Tt/2&&++S;do p=0,u=t(V,b,T,k),u<0?(N=b[0],T!=k&&(N=N*Tt+(b[1]||0)),p=N/S|0,p>1?(p>=Tt&&(p=Tt-1),m=e(V,p),y=m.length,k=b.length,u=t(m,b,y,k),u==1&&(p--,r(m,T<y?I:V,y))):(p==0&&(u=p=1),m=V.slice()),y=m.length,y<k&&m.unshift(0),r(b,m,k),u==-1&&(k=b.length,u=t(V,b,T,k),u<1&&(p++,r(b,T<k?I:V,k))),k=b.length):u===0&&(p++,b=[0]),j[h++]=p,u&&b[0]?b[k++]=W[C]||0:(b=[W[C]],k=1);while((C++<E||b[0]!==void 0)&&A--)}return j[0]||j.shift(),v.e=d,We(v,l?i+vt(v)+1:i)}})();function fO(e,t){var r,n,a,i,l,u,d=0,h=0,p=e.constructor,m=p.precision;if(vt(e)>16)throw Error(Ny+vt(e));if(!e.s)return new p(Er);for(tt=!1,u=m,l=new p(.03125);e.abs().gte(.1);)e=e.times(l),h+=5;for(n=Math.log(ii(2,h))/Math.LN10*2+5|0,u+=n,r=a=i=new p(Er),p.precision=u;;){if(a=We(a.times(e),u),r=r.times(++d),l=i.plus(Kn(a,r,u)),vn(l.d).slice(0,u)===vn(i.d).slice(0,u)){for(;h--;)i=We(i.times(i),u);return p.precision=m,t==null?(tt=!0,We(i,m)):i}i=l}}function vt(e){for(var t=e.e*Xe,r=e.d[0];r>=10;r/=10)t++;return t}function $m(e,t,r){if(t>e.LN10.sd())throw tt=!0,r&&(e.precision=r),Error(Kr+"LN10 precision limit exceeded");return We(new e(e.LN10),t)}function Sa(e){for(var t="";e--;)t+="0";return t}function fl(e,t){var r,n,a,i,l,u,d,h,p,m=1,y=10,v=e,j=v.d,b=v.constructor,k=b.precision;if(v.s<1)throw Error(Kr+(v.s?"NaN":"-Infinity"));if(v.eq(Er))return new b(0);if(t==null?(tt=!1,h=k):h=t,v.eq(10))return t==null&&(tt=!0),$m(b,h);if(h+=y,b.precision=h,r=vn(j),n=r.charAt(0),i=vt(v),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(e),r=vn(v.d),n=r.charAt(0),m++;i=vt(v),n>1?(v=new b("0."+r),i++):v=new b(n+"."+r.slice(1))}else return d=$m(b,h+2,k).times(i+""),v=fl(new b(n+"."+r.slice(1)),h-y).plus(d),b.precision=k,t==null?(tt=!0,We(v,k)):v;for(u=l=v=Kn(v.minus(Er),v.plus(Er),h),p=We(v.times(v),h),a=3;;){if(l=We(l.times(p),h),d=u.plus(Kn(l,new b(a),h)),vn(d.d).slice(0,h)===vn(u.d).slice(0,h))return u=u.times(2),i!==0&&(u=u.plus($m(b,h+2,k).times(i+""))),u=Kn(u,new b(m),h),b.precision=k,t==null?(tt=!0,We(u,k)):u;u=d,a+=2}}function o_(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Ls(r/Xe),e.d=[],n=(r+1)%Xe,r<0&&(n+=Xe),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Xe;n<a;)e.d.push(+t.slice(n,n+=Xe));t=t.slice(n),n=Xe-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),tt&&(e.e>ed||e.e<-ed))throw Error(Ny+r)}else e.s=0,e.e=0,e.d=[0];return e}function We(e,t,r){var n,a,i,l,u,d,h,p,m=e.d;for(l=1,i=m[0];i>=10;i/=10)l++;if(n=t-l,n<0)n+=Xe,a=t,h=m[p=0];else{if(p=Math.ceil((n+1)/Xe),i=m.length,p>=i)return e;for(h=i=m[p],l=1;i>=10;i/=10)l++;n%=Xe,a=n-Xe+l}if(r!==void 0&&(i=ii(10,l-a-1),u=h/i%10|0,d=t<0||m[p+1]!==void 0||h%i,d=r<4?(u||d)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?a>0?h/ii(10,l-a):0:m[p-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return d?(i=vt(e),m.length=1,t=t-i-1,m[0]=ii(10,(Xe-t%Xe)%Xe),e.e=Ls(-t/Xe)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=p,i=1,p--):(m.length=p+1,i=ii(10,Xe-n),m[p]=a>0?(h/ii(10,l-a)%ii(10,a)|0)*i:0),d)for(;;)if(p==0){(m[0]+=i)==Tt&&(m[0]=1,++e.e);break}else{if(m[p]+=i,m[p]!=Tt)break;m[p--]=0,i=1}for(n=m.length;m[--n]===0;)m.pop();if(tt&&(e.e>ed||e.e<-ed))throw Error(Ny+vt(e));return e}function hO(e,t){var r,n,a,i,l,u,d,h,p,m,y=e.constructor,v=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),tt?We(t,v):t;if(d=e.d,m=t.d,n=t.e,h=e.e,d=d.slice(),l=h-n,l){for(p=l<0,p?(r=d,l=-l,u=m.length):(r=m,n=h,u=d.length),a=Math.max(Math.ceil(v/Xe),u)+2,l>a&&(l=a,r.length=1),r.reverse(),a=l;a--;)r.push(0);r.reverse()}else{for(a=d.length,u=m.length,p=a<u,p&&(u=a),a=0;a<u;a++)if(d[a]!=m[a]){p=d[a]<m[a];break}l=0}for(p&&(r=d,d=m,m=r,t.s=-t.s),u=d.length,a=m.length-u;a>0;--a)d[u++]=0;for(a=m.length;a>l;){if(d[--a]<m[a]){for(i=a;i&&d[--i]===0;)d[i]=Tt-1;--d[i],d[a]+=Tt}d[a]-=m[a]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,tt?We(t,v):t):new y(0)}function ji(e,t,r){var n,a=vt(e),i=vn(e.d),l=i.length;return t?(r&&(n=r-l)>0?i=i.charAt(0)+"."+i.slice(1)+Sa(n):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Sa(-a-1)+i,r&&(n=r-l)>0&&(i+=Sa(n))):a>=l?(i+=Sa(a+1-l),r&&(n=r-a-1)>0&&(i=i+"."+Sa(n))):((n=a+1)<l&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-l)>0&&(a+1===l&&(i+="."),i+=Sa(n))),e.s<0?"-"+i:i}function l_(e,t){if(e.length>t)return e.length=t,!0}function pO(e){var t,r,n;function a(i){var l=this;if(!(l instanceof a))return new a(i);if(l.constructor=a,i instanceof a){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(mi+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return o_(l,i.toString())}else if(typeof i!="string")throw Error(mi+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,tU.test(i))o_(l,i);else throw Error(mi+i)}if(a.prototype=ue,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=pO,a.config=a.set=rU,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function rU(e){if(!e||typeof e!="object")throw Error(Kr+"Object expected");var t,r,n,a=["precision",1,Ms,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Ls(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(mi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(mi+r+": "+n);return this}var Ey=pO(eU);Er=new Ey(1);const Fe=Ey;var nU=e=>e,mO={},gO=e=>e===mO,c_=e=>function t(){return arguments.length===0||arguments.length===1&&gO(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},vO=(e,t)=>e===1?t:c_(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(l=>l!==mO).length;return i>=e?t(...n):vO(e-i,c_(function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var h=n.map(p=>gO(p)?u.shift():p);return t(...h,...u)}))}),Vd=e=>vO(e.length,e),Jg=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},aU=Vd((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),iU=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return nU;var a=r.reverse(),i=a[0],l=a.slice(1);return function(){return l.reduce((u,d)=>d(u),i(...arguments))}},Qg=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),yO=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every((l,u)=>{var d;return l===((d=t)===null||d===void 0?void 0:d[u])})||(t=a,r=e(...a)),r}};function xO(e){var t;return e===0?t=1:t=Math.floor(new Fe(e).abs().log(10).toNumber())+1,t}function bO(e,t,r){for(var n=new Fe(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}Vd((e,t,r)=>{var n=+e,a=+t;return n+r*(a-n)});Vd((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});Vd((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var wO=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},jO=(e,t,r)=>{if(e.lte(0))return new Fe(0);var n=xO(e.toNumber()),a=new Fe(10).pow(n),i=e.div(a),l=n!==1?.05:.1,u=new Fe(Math.ceil(i.div(l).toNumber())).add(r).mul(l),d=u.mul(a);return t?new Fe(d.toNumber()):new Fe(Math.ceil(d.toNumber()))},sU=(e,t,r)=>{var n=new Fe(1),a=new Fe(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Fe(10).pow(xO(e)-1),a=new Fe(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Fe(Math.floor(e)))}else e===0?a=new Fe(Math.floor((t-1)/2)):r||(a=new Fe(Math.floor(e)));var l=Math.floor((t-1)/2),u=iU(aU(d=>a.add(new Fe(d-l).mul(n)).toNumber()),Jg);return u(0,t)},kO=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Fe(0),tickMin:new Fe(0),tickMax:new Fe(0)};var l=jO(new Fe(r).sub(t).div(n-1),a,i),u;t<=0&&r>=0?u=new Fe(0):(u=new Fe(t).add(r).div(2),u=u.sub(new Fe(u).mod(l)));var d=Math.ceil(u.sub(t).div(l).toNumber()),h=Math.ceil(new Fe(r).sub(u).div(l).toNumber()),p=d+h+1;return p>n?kO(t,r,n,a,i+1):(p<n&&(h=r>0?h+(n-p):h,d=r>0?d:d+(n-p)),{step:l,tickMin:u.sub(new Fe(d).mul(l)),tickMax:u.add(new Fe(h).mul(l))})};function oU(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[l,u]=wO([t,r]);if(l===-1/0||u===1/0){var d=u===1/0?[l,...Jg(0,n-1).map(()=>1/0)]:[...Jg(0,n-1).map(()=>-1/0),u];return t>r?Qg(d):d}if(l===u)return sU(l,n,a);var{step:h,tickMin:p,tickMax:m}=kO(l,u,i,a,0),y=bO(p,m.add(new Fe(.1).mul(h)),h);return t>r?Qg(y):y}function lU(e,t){var[r,n]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,l]=wO([r,n]);if(i===-1/0||l===1/0)return[r,n];if(i===l)return[i];var u=Math.max(t,2),d=jO(new Fe(l).sub(i).div(u-1),a,0),h=[...bO(new Fe(i),new Fe(l),d),l];return a===!1&&(h=h.map(p=>Math.round(p))),r>n?Qg(h):h}var cU=yO(oU),uU=yO(lU),_O=e=>e.rootProps.maxBarSize,dU=e=>e.rootProps.barGap,SO=e=>e.rootProps.barCategoryGap,fU=e=>e.rootProps.barSize,Pl=e=>e.rootProps.stackOffset,Py=e=>e.options.chartName,Oy=e=>e.rootProps.syncId,NO=e=>e.rootProps.syncMethod,Ay=e=>e.options.eventEmitter,$n={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},kr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Hd=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},hU={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:$n.angleAxisId,includeHidden:!1,name:void 0,reversed:$n.reversed,scale:$n.scale,tick:$n.tick,tickCount:void 0,ticks:void 0,type:$n.type,unit:void 0},pU={allowDataOverflow:kr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:kr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:kr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:kr.scale,tick:kr.tick,tickCount:kr.tickCount,ticks:void 0,type:kr.type,unit:void 0},mU={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:$n.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:$n.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:$n.scale,tick:$n.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},gU={allowDataOverflow:kr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:kr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:kr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:kr.scale,tick:kr.tick,tickCount:kr.tickCount,ticks:void 0,type:"category",unit:void 0},Cy=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?mU:hU,Ty=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?gU:pU,Gd=e=>e.polarOptions,Ry=F([Qn,Zn,_t],aP),EO=F([Gd,Ry],(e,t)=>{if(e!=null)return Xt(e.innerRadius,t,0)}),PO=F([Gd,Ry],(e,t)=>{if(e!=null)return Xt(e.outerRadius,t,t*.8)}),vU=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},OO=F([Gd],vU);F([Cy,OO],Hd);var AO=F([Ry,EO,PO],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});F([Ty,AO],Hd);var CO=F([Ae,Gd,EO,PO,Qn,Zn],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:l,cy:u,startAngle:d,endAngle:h}=t;return{cx:Xt(l,a,a/2),cy:Xt(u,i,i/2),innerRadius:r,outerRadius:n,startAngle:d,endAngle:h,clockWise:!1}}}),nt=(e,t)=>t,Ol=(e,t,r)=>r;function Yd(e){return e?.id}var Et=e=>{var t=Ae(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},$s=e=>e.tooltip.settings.axisId,Pt=e=>{var t=Et(e),r=$s(e);return Al(e,t,r)},TO=F([Pt],e=>e?.dataKey);function RO(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,l=new Map;return e.forEach(u=>{var d,h=(d=u.data)!==null&&d!==void 0?d:n;if(!(h==null||h.length===0)){var p=Yd(u);h.forEach((m,y)=>{var v=i==null||a?y:String(qe(m,i,null)),j=qe(m,u.dataKey,0),b;l.has(v)?b=l.get(v):b={},Object.assign(b,{[p]:j}),l.set(v,b)})}}),Array.from(l.values())}function Xd(e){return e.stackId!=null&&e.dataKey!=null}var Jd=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Qd(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function u_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function td(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u_(Object(r),!0).forEach(function(n){yU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yU(e,t,r){return(t=xU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xU(e){var t=bU(e,"string");return typeof t=="symbol"?t:t+""}function bU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zg=[0,"auto"],wr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},IO=(e,t)=>e.cartesianAxis.xAxis[t],ra=(e,t)=>{var r=IO(e,t);return r??wr},jr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Zg,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:wl},DO=(e,t)=>e.cartesianAxis.yAxis[t],na=(e,t)=>{var r=DO(e,t);return r??jr},wU={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Iy=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??wU},ot=(e,t,r)=>{switch(t){case"xAxis":return ra(e,r);case"yAxis":return na(e,r);case"zAxis":return Iy(e,r);case"angleAxis":return Cy(e,r);case"radiusAxis":return Ty(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},jU=(e,t,r)=>{switch(t){case"xAxis":return ra(e,r);case"yAxis":return na(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Al=(e,t,r)=>{switch(t){case"xAxis":return ra(e,r);case"yAxis":return na(e,r);case"angleAxis":return Cy(e,r);case"radiusAxis":return Ty(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},MO=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Dy(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Cl=e=>e.graphicalItems.cartesianItems,kU=F([nt,Ol],Dy),My=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),Tl=F([Cl,ot,kU],My,{memoizeOptions:{resultEqualityCheck:Qd}}),LO=F([Tl],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Xd)),$O=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),_U=F([Tl],$O),Ly=e=>e.map(t=>t.data).filter(Boolean).flat(1),SU=F([Tl],Ly,{memoizeOptions:{resultEqualityCheck:Qd}}),$y=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},By=F([SU,El],$y),Fy=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:qe(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:qe(a,n)}))):e.map(n=>({value:n})),Zd=F([By,ot,Tl],Fy);function BO(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function yu(e){if(jn(e)||e instanceof Date){var t=Number(e);if(yt(t))return t}}function d_(e){if(Array.isArray(e)){var t=[yu(e[0]),yu(e[1])];return wi(t)?t:void 0}var r=yu(e);if(r!=null)return[r,r]}function Bs(e){return e.map(yu).filter(z6)}function NU(e,t,r){return!r||typeof t!="number"||Or(t)?[]:r.length?Bs(r.flatMap(n=>{var a=qe(e,n.dataKey),i,l;if(Array.isArray(a)?[i,l]=a:i=l=a,!(!yt(i)||!yt(l)))return[t-i,t+l]})):[]}var EU=F([LO,El,Pt],RO),FO=(e,t,r)=>{var n={},a=t.reduce((i,l)=>(l.stackId==null||(i[l.stackId]==null&&(i[l.stackId]=[]),i[l.stackId].push(l)),i),n);return Object.fromEntries(Object.entries(a).map(i=>{var[l,u]=i,d=u.map(Yd);return[l,{stackedData:f$(e,d,r),graphicalItems:u}]}))},hl=F([EU,LO,Pl],FO),UO=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var l=g$(e,a,i);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},PU=F([ot],e=>e.allowDataOverflow),Uy=e=>{var t;if(e==null||!("domain"in e))return Zg;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Bs(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:Zg},zy=F([ot],Uy),qy=F([zy,PU],cO),OU=F([hl,Fa,nt,qy],UO,{memoizeOptions:{resultEqualityCheck:Jd}}),ef=e=>e.errorBars,AU=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>BO(r,n)),rd=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),l=Math.min(...i),u=Math.max(...i);return[l,u]}},Wy=(e,t,r,n,a)=>{var i,l;if(r.length>0&&e.forEach(u=>{r.forEach(d=>{var h,p,m=(h=n[d.id])===null||h===void 0?void 0:h.filter(N=>BO(a,N)),y=qe(u,(p=t.dataKey)!==null&&p!==void 0?p:d.dataKey),v=NU(u,y,m);if(v.length>=2){var j=Math.min(...v),b=Math.max(...v);(i==null||j<i)&&(i=j),(l==null||b>l)&&(l=b)}var k=d_(y);k!=null&&(i=i==null?k[0]:Math.min(i,k[0]),l=l==null?k[1]:Math.max(l,k[1]))})}),t?.dataKey!=null&&e.forEach(u=>{var d=d_(qe(u,t.dataKey));d!=null&&(i=i==null?d[0]:Math.min(i,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),yt(i)&&yt(l))return[i,l]},CU=F([By,ot,_U,ef,nt],Wy,{memoizeOptions:{resultEqualityCheck:Jd}});function TU(e){var{value:t}=e;if(jn(t)||t instanceof Date)return t}var RU=(e,t,r)=>{var n=e.map(TU).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&pE(n))?PP(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},zO=e=>e.referenceElements.dots,Fs=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),IU=F([zO,nt,Ol],Fs),qO=e=>e.referenceElements.areas,DU=F([qO,nt,Ol],Fs),WO=e=>e.referenceElements.lines,MU=F([WO,nt,Ol],Fs),KO=(e,t)=>{var r=Bs(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},LU=F(IU,nt,KO),VO=(e,t)=>{var r=Bs(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},$U=F([DU,nt],VO),HO=(e,t)=>{var r=Bs(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},BU=F(MU,nt,HO),FU=F(LU,BU,$U,(e,t,r)=>rd(e,r,t)),Ky=(e,t,r,n,a,i,l,u)=>{if(r!=null)return r;var d=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",h=d?rd(n,i,a):rd(i,a);return ZF(t,h,e.allowDataOverflow)},UU=F([ot,zy,qy,OU,CU,FU,Ae,nt],Ky,{memoizeOptions:{resultEqualityCheck:Jd}}),zU=[0,1],Vy=(e,t,r,n,a,i,l)=>{if(!((e==null||r==null||r.length===0)&&l===void 0)){var{dataKey:u,type:d}=e,h=Pn(t,i);return h&&u==null?PP(0,r.length):d==="category"?RU(n,e,h):a==="expand"?zU:l}},Hy=F([ot,Ae,By,Zd,Pl,nt,UU],Vy),GO=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:l}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":l==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":l==="category"?"band":"linear";if(typeof i=="string"){var u="scale".concat(vl(i));return u in Ko?u:"point"}}},Us=F([ot,Ae,MO,Py,nt],GO);function qU(e){if(e!=null){if(e in Ko)return Ko[e]();var t="scale".concat(vl(e));if(t in Ko)return Ko[t]()}}function Gy(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=qU(t);if(a!=null){var i=a.domain(r).range(n);return o$(i),i}}}var Yy=(e,t,r)=>{var n=Uy(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&wi(e))return cU(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&wi(e))return uU(e,t.tickCount,t.allowDecimals)}},Xy=F([Hy,Al,Us],Yy),Jy=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&wi(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],l=t[1],u=r[r.length-1];return[Math.min(a,i),Math.max(l,u)]}return t},WU=F([ot,Hy,Xy,nt],Jy),KU=F(Zd,ot,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Bs(e.map(u=>u.value))).sort((u,d)=>u-d);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var l=n[i+1]-n[i];r=Math.min(r,l)}return r/a}}),YO=F(KU,Ae,SO,_t,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!yt(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var l=Xt(r,e*i),u=e*i/2;return u-l-(u-l)/i*l}return 0}),VU=(e,t)=>{var r=ra(e,t);return r==null||typeof r.padding!="string"?0:YO(e,"xAxis",t,r.padding)},HU=(e,t)=>{var r=na(e,t);return r==null||typeof r.padding!="string"?0:YO(e,"yAxis",t,r.padding)},GU=F(ra,VU,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),YU=F(na,HU,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),XU=F([_t,GU,Md,Dd,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),JU=F([_t,Ae,YU,Md,Dd,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:l}=a;return i?[n.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Rl=(e,t,r,n)=>{var a;switch(t){case"xAxis":return XU(e,r,n);case"yAxis":return JU(e,r,n);case"zAxis":return(a=Iy(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return OO(e);case"radiusAxis":return AO(e,r);default:return}},XO=F([ot,Rl],Hd),zs=F([ot,Us,WU,XO],Gy);F([Tl,ef,nt],AU);function JO(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var tf=(e,t)=>t,rf=(e,t,r)=>r,QU=F(Rd,tf,rf,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(JO)),ZU=F(Id,tf,rf,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(JO)),QO=(e,t)=>({width:e.width,height:t.height}),e8=(e,t)=>{var r=typeof t.width=="number"?t.width:wl;return{width:r,height:e.height}},ZO=F(_t,ra,QO),t8=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},r8=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},n8=F(Zn,_t,QU,tf,rf,(e,t,r,n,a)=>{var i={},l;return r.forEach(u=>{var d=QO(t,u);l==null&&(l=t8(t,n,e));var h=n==="top"&&!a||n==="bottom"&&a;i[u.id]=l-Number(h)*d.height,l+=(h?-1:1)*d.height}),i}),a8=F(Qn,_t,ZU,tf,rf,(e,t,r,n,a)=>{var i={},l;return r.forEach(u=>{var d=e8(t,u);l==null&&(l=r8(t,n,e));var h=n==="left"&&!a||n==="right"&&a;i[u.id]=l-Number(h)*d.width,l+=(h?-1:1)*d.width}),i}),i8=(e,t)=>{var r=ra(e,t);if(r!=null)return n8(e,r.orientation,r.mirror)},s8=F([_t,ra,i8,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),o8=(e,t)=>{var r=na(e,t);if(r!=null)return a8(e,r.orientation,r.mirror)},l8=F([_t,na,o8,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),e2=F(_t,na,(e,t)=>{var r=typeof t.width=="number"?t.width:wl;return{width:r,height:e.height}}),f_=(e,t,r)=>{switch(t){case"xAxis":return ZO(e,r).width;case"yAxis":return e2(e,r).height;default:return}},t2=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:l}=r,u=Pn(e,n),d=t.map(h=>h.value);if(l&&u&&i==="category"&&a&&pE(d))return d}},Qy=F([Ae,Zd,ot,nt],t2),r2=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,l=Pn(e,n);if(l&&(a==="number"||i!=="auto"))return t.map(u=>u.value)}},Zy=F([Ae,Zd,Al,nt],r2),h_=F([Ae,jU,Us,zs,Qy,Zy,Rl,Xy,nt],(e,t,r,n,a,i,l,u,d)=>{if(t==null)return null;var h=Pn(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:i,duplicateDomain:a,isCategorical:h,niceTicks:u,range:l,realScaleType:r,scale:n}}),c8=(e,t,r,n,a,i,l,u,d)=>{if(!(t==null||n==null)){var h=Pn(e,d),{type:p,ticks:m,tickCount:y}=t,v=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,j=p==="category"&&n.bandwidth?n.bandwidth()/v:0;j=d==="angleAxis"&&i!=null&&i.length>=2?Rt(i[0]-i[1])*2*j:j;var b=m||a;if(b){var k=b.map((N,A)=>{var P=l?l.indexOf(N):N;return{index:A,coordinate:n(P)+j,value:N,offset:j}});return k.filter(N=>!Or(N.coordinate))}return h&&u?u.map((N,A)=>({coordinate:n(N)+j,value:N,index:A,offset:j})):n.ticks?n.ticks(y).map(N=>({coordinate:n(N)+j,value:N,offset:j})):n.domain().map((N,A)=>({coordinate:n(N)+j,value:l?l[N]:N,index:A,offset:j}))}},n2=F([Ae,Al,Us,zs,Xy,Rl,Qy,Zy,nt],c8),u8=(e,t,r,n,a,i,l)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var u=Pn(e,l),{tickCount:d}=t,h=0;return h=l==="angleAxis"&&n?.length>=2?Rt(n[0]-n[1])*2*h:h,u&&i?i.map((p,m)=>({coordinate:r(p)+h,value:p,index:m,offset:h})):r.ticks?r.ticks(d).map(p=>({coordinate:r(p)+h,value:p,offset:h})):r.domain().map((p,m)=>({coordinate:r(p)+h,value:a?a[p]:p,index:m,offset:h}))}},_n=F([Ae,Al,zs,Rl,Qy,Zy,nt],u8),Sn=F(ot,zs,(e,t)=>{if(!(e==null||t==null))return td(td({},e),{},{scale:t})}),d8=F([ot,Us,Hy,XO],Gy);F((e,t,r)=>Iy(e,r),d8,(e,t)=>{if(!(e==null||t==null))return td(td({},e),{},{scale:t})});var f8=F([Ae,Rd,Id],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),a2=e=>e.options.defaultTooltipEventType,i2=e=>e.options.validateTooltipEventTypes;function s2(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function e0(e,t){var r=a2(e),n=i2(e);return s2(t,r,n)}function h8(e){return he(t=>e0(t,e))}var o2=(e,t)=>{var r,n=Number(t);if(!(Or(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},p8=e=>e.tooltip.settings,Pa={active:!1,index:null,dataKey:void 0,coordinate:void 0},m8={itemInteraction:{click:Pa,hover:Pa},axisInteraction:{click:Pa,hover:Pa},keyboardInteraction:Pa,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},l2=Cr({name:"tooltip",initialState:m8,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:er()},removeTooltipEntrySettings:{reducer(e,t){var r=Wn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:er()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:g8,removeTooltipEntrySettings:v8,setTooltipSettingsState:y8,setActiveMouseOverItemIndex:c2,mouseLeaveItem:x8,mouseLeaveChart:u2,setActiveClickItemIndex:b8,setMouseOverAxisIndex:d2,setMouseClickAxisIndex:w8,setSyncInteraction:ev,setKeyboardInteraction:tv}=l2.actions,j8=l2.reducer;function p_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p_(Object(r),!0).forEach(function(n){k8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k8(e,t,r){return(t=_8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _8(e){var t=S8(e,"string");return typeof t=="symbol"?t:t+""}function S8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N8(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function E8(e){return e.index!=null}var f2=(e,t,r,n)=>{if(t==null)return Pa;var a=N8(e,t,r);if(a==null)return Pa;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(E8(a)){if(i)return pu(pu({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return pu(pu({},Pa),{},{coordinate:a.coordinate})},t0=(e,t)=>{var r=e?.index;if(r==null)return null;var n=Number(r);if(!yt(n))return r;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(n,i)))},h2=(e,t,r,n,a,i,l,u)=>{if(!(i==null||u==null)){var d=l[0],h=d==null?void 0:u(d.positions,i);if(h!=null)return h;var p=a?.[Number(i)];if(p)switch(r){case"horizontal":return{x:p.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:p.coordinate}}}},p2=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var l;return((l=i.settings)===null||l===void 0?void 0:l.dataKey)===a})},Il=e=>e.options.tooltipPayloadSearcher,qs=e=>e.tooltip;function m_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function g_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m_(Object(r),!0).forEach(function(n){P8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P8(e,t,r){return(t=O8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O8(e){var t=A8(e,"string");return typeof t=="symbol"?t:t+""}function A8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C8(e,t){return e??t}var m2=(e,t,r,n,a,i,l)=>{if(!(t==null||i==null)){var{chartData:u,computedData:d,dataStartIndex:h,dataEndIndex:p}=r,m=[];return e.reduce((y,v)=>{var j,{dataDefinedOnItem:b,settings:k}=v,N=C8(b,u),A=Array.isArray(N)?iP(N,h,p):N,P=(j=k?.dataKey)!==null&&j!==void 0?j:n,C=k?.nameKey,E;if(n&&Array.isArray(A)&&!Array.isArray(A[0])&&l==="axis"?E=mE(A,n,a):E=i(A,t,d,C),Array.isArray(E))E.forEach(T=>{var I=g_(g_({},k),{},{name:T.name,unit:T.unit,color:void 0,fill:void 0});y.push(K1({tooltipEntrySettings:I,dataKey:T.dataKey,payload:T.payload,value:qe(T.payload,T.dataKey),name:T.name}))});else{var S;y.push(K1({tooltipEntrySettings:k,dataKey:P,payload:E,value:qe(E,P),name:(S=qe(E,C))!==null&&S!==void 0?S:k?.name}))}return y},m)}},r0=F([Pt,Ae,MO,Py,Et],GO),T8=F([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),R8=F([Et,$s],Dy),Dl=F([T8,Pt,R8],My,{memoizeOptions:{resultEqualityCheck:Qd}}),I8=F([Dl],e=>e.filter(Xd)),D8=F([Dl],Ly,{memoizeOptions:{resultEqualityCheck:Qd}}),Ws=F([D8,Fa],$y),M8=F([I8,Fa,Pt],RO),n0=F([Ws,Pt,Dl],Fy),g2=F([Pt],Uy),L8=F([Pt],e=>e.allowDataOverflow),v2=F([g2,L8],cO),$8=F([Dl],e=>e.filter(Xd)),B8=F([M8,$8,Pl],FO),F8=F([B8,Fa,Et,v2],UO),U8=F([Dl],$O),z8=F([Ws,Pt,U8,ef,Et],Wy,{memoizeOptions:{resultEqualityCheck:Jd}}),q8=F([zO,Et,$s],Fs),W8=F([q8,Et],KO),K8=F([qO,Et,$s],Fs),V8=F([K8,Et],VO),H8=F([WO,Et,$s],Fs),G8=F([H8,Et],HO),Y8=F([W8,G8,V8],rd),X8=F([Pt,g2,v2,F8,z8,Y8,Ae,Et],Ky),y2=F([Pt,Ae,Ws,n0,Pl,Et,X8],Vy),J8=F([y2,Pt,r0],Yy),Q8=F([Pt,y2,J8,Et],Jy),x2=e=>{var t=Et(e),r=$s(e),n=!1;return Rl(e,t,r,n)},b2=F([Pt,x2],Hd),w2=F([Pt,r0,Q8,b2],Gy),Z8=F([Ae,n0,Pt,Et],t2),ez=F([Ae,n0,Pt,Et],r2),tz=(e,t,r,n,a,i,l,u)=>{if(t){var{type:d}=t,h=Pn(e,u);if(n){var p=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,m=d==="category"&&n.bandwidth?n.bandwidth()/p:0;return m=u==="angleAxis"&&a!=null&&a?.length>=2?Rt(a[0]-a[1])*2*m:m,h&&l?l.map((y,v)=>({coordinate:n(y)+m,value:y,index:v,offset:m})):n.domain().map((y,v)=>({coordinate:n(y)+m,value:i?i[y]:y,index:v,offset:m}))}}},aa=F([Ae,Pt,r0,w2,x2,Z8,ez,Et],tz),a0=F([a2,i2,p8],(e,t,r)=>s2(r.shared,e,t)),j2=e=>e.tooltip.settings.trigger,i0=e=>e.tooltip.settings.defaultIndex,nf=F([qs,a0,j2,i0],f2),Ta=F([nf,Ws],t0),k2=F([aa,Ta],o2),_2=F([nf],e=>{if(e)return e.dataKey}),S2=F([qs,a0,j2,i0],p2),rz=F([Qn,Zn,Ae,_t,aa,i0,S2,Il],h2),nz=F([nf,rz],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),az=F([nf],e=>e.active),iz=F([S2,Ta,Fa,TO,k2,Il,a0],m2),sz=F([iz],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function v_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function y_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v_(Object(r),!0).forEach(function(n){oz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oz(e,t,r){return(t=lz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lz(e){var t=cz(e,"string");return typeof t=="symbol"?t:t+""}function cz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uz=()=>he(Pt),dz=()=>{var e=uz(),t=he(aa),r=he(w2);return bi(y_(y_({},e),{},{scale:r}),t)},N2=()=>he(Py),s0=(e,t)=>t,E2=(e,t,r)=>r,o0=(e,t,r,n)=>n,fz=F(aa,e=>Ed(e,t=>t.coordinate)),l0=F([qs,s0,E2,o0],f2),P2=F([l0,Ws],t0),hz=(e,t,r)=>{if(t!=null){var n=qs(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},O2=F([qs,s0,E2,o0],p2),nd=F([Qn,Zn,Ae,_t,aa,o0,O2,Il],h2),pz=F([l0,nd],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),A2=F(aa,P2,o2),mz=F([O2,P2,Fa,TO,A2,Il,s0],m2),gz=F([l0],e=>({isActive:e.active,activeIndex:e.index})),vz=(e,t,r,n,a,i,l,u)=>{if(!(!e||!t||!n||!a||!i)){var d=v$(e.chartX,e.chartY,t,r,u);if(d){var h=x$(d,t),p=i$(h,l,i,n,a),m=y$(t,i,p,d);return{activeIndex:String(p),activeCoordinate:m}}}};function rv(){return rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rv.apply(null,arguments)}function x_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x_(Object(r),!0).forEach(function(n){yz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yz(e,t,r){return(t=xz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xz(e){var t=bz(e,"string");return typeof t=="symbol"?t:t+""}function bz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wz(e){var{coordinate:t,payload:r,index:n,offset:a,tooltipAxisBandSize:i,layout:l,cursor:u,tooltipEventType:d,chartName:h}=e,p=t,m=r,y=n;if(!u||!p||h!=="ScatterChart"&&d!=="axis")return null;var v,j;if(h==="ScatterChart")v=p,j=D6;else if(h==="BarChart")v=M6(l,p,a,i),j=_P;else if(l==="radial"){var{cx:b,cy:k,radius:N,startAngle:A,endAngle:P}=SP(p);v={cx:b,cy:k,startAngle:A,endAngle:P,innerRadius:N,outerRadius:N},j=EP}else v={points:x5(l,p,a)},j=ps;var C=typeof u=="object"&&"className"in u?u.className:void 0,E=mu(mu(mu(mu({stroke:"#ccc",pointerEvents:"none"},a),v),gi(u)),{},{payload:m,payloadIndex:y,className:Te("recharts-tooltip-cursor",C)});return x.isValidElement(u)?x.cloneElement(u,E):x.createElement(j,E)}function jz(e){var t=dz(),r=mP(),n=jl(),a=N2();return x.createElement(wz,rv({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var C2=x.createContext(null),kz=()=>x.useContext(C2),Bm={exports:{}},b_;function _z(){return b_||(b_=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(d,h,p){this.fn=d,this.context=h,this.once=p||!1}function i(d,h,p,m,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var v=new a(p,m||d,y),j=r?r+h:h;return d._events[j]?d._events[j].fn?d._events[j]=[d._events[j],v]:d._events[j].push(v):(d._events[j]=v,d._eventsCount++),d}function l(d,h){--d._eventsCount===0?d._events=new n:delete d._events[h]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],p,m;if(this._eventsCount===0)return h;for(m in p=this._events)t.call(p,m)&&h.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},u.prototype.listeners=function(h){var p=r?r+h:h,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var y=0,v=m.length,j=new Array(v);y<v;y++)j[y]=m[y].fn;return j},u.prototype.listenerCount=function(h){var p=r?r+h:h,m=this._events[p];return m?m.fn?1:m.length:0},u.prototype.emit=function(h,p,m,y,v,j){var b=r?r+h:h;if(!this._events[b])return!1;var k=this._events[b],N=arguments.length,A,P;if(k.fn){switch(k.once&&this.removeListener(h,k.fn,void 0,!0),N){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,p),!0;case 3:return k.fn.call(k.context,p,m),!0;case 4:return k.fn.call(k.context,p,m,y),!0;case 5:return k.fn.call(k.context,p,m,y,v),!0;case 6:return k.fn.call(k.context,p,m,y,v,j),!0}for(P=1,A=new Array(N-1);P<N;P++)A[P-1]=arguments[P];k.fn.apply(k.context,A)}else{var C=k.length,E;for(P=0;P<C;P++)switch(k[P].once&&this.removeListener(h,k[P].fn,void 0,!0),N){case 1:k[P].fn.call(k[P].context);break;case 2:k[P].fn.call(k[P].context,p);break;case 3:k[P].fn.call(k[P].context,p,m);break;case 4:k[P].fn.call(k[P].context,p,m,y);break;default:if(!A)for(E=1,A=new Array(N-1);E<N;E++)A[E-1]=arguments[E];k[P].fn.apply(k[P].context,A)}}return!0},u.prototype.on=function(h,p,m){return i(this,h,p,m,!1)},u.prototype.once=function(h,p,m){return i(this,h,p,m,!0)},u.prototype.removeListener=function(h,p,m,y){var v=r?r+h:h;if(!this._events[v])return this;if(!p)return l(this,v),this;var j=this._events[v];if(j.fn)j.fn===p&&(!y||j.once)&&(!m||j.context===m)&&l(this,v);else{for(var b=0,k=[],N=j.length;b<N;b++)(j[b].fn!==p||y&&!j[b].once||m&&j[b].context!==m)&&k.push(j[b]);k.length?this._events[v]=k.length===1?k[0]:k:l(this,v)}return this},u.prototype.removeAllListeners=function(h){var p;return h?(p=r?r+h:h,this._events[p]&&l(this,p)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(Bm)),Bm.exports}var Sz=_z();const Nz=un(Sz);var pl=new Nz,nv="recharts.syncEvent.tooltip",w_="recharts.syncEvent.brush";function af(e,t){if(t){var r=Number.parseInt(t,10);if(!Or(r))return e?.[r]}}var Ez={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},T2=Cr({name:"options",initialState:Ez,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Pz=T2.reducer,{createEventEmitter:Oz}=T2.actions;function Az(e){return e.tooltip.syncInteraction}var Cz={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},R2=Cr({name:"chartData",initialState:Cz,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:j_,setDataStartEndIndexes:Tz,setComputedData:LG}=R2.actions,Rz=R2.reducer,Iz=["x","y"];function k_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function os(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k_(Object(r),!0).forEach(function(n){Dz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dz(e,t,r){return(t=Mz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mz(e){var t=Lz(e,"string");return typeof t=="symbol"?t:t+""}function Lz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $z(e,t){if(e==null)return{};var r,n,a=Bz(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Bz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var I2=()=>{};function Fz(){var e=he(Oy),t=he(Ay),r=rt(),n=he(NO),a=he(aa),i=jl(),l=$d(),u=he(d=>d.rootProps.className);x.useEffect(()=>{if(e==null)return I2;var d=(h,p,m)=>{if(t!==m&&e===h){if(n==="index"){var y;if(l&&p!==null&&p!==void 0&&(y=p.payload)!==null&&y!==void 0&&y.coordinate&&p.payload.sourceViewBox){var v=p.payload.coordinate,{x:j,y:b}=v,k=$z(v,Iz),{x:N,y:A,width:P,height:C}=p.payload.sourceViewBox,E=os(os({},k),{},{x:l.x+(P?(j-N)/P:0)*l.width,y:l.y+(C?(b-A)/C:0)*l.height});r(os(os({},p),{},{payload:os(os({},p.payload),{},{coordinate:E})}))}else r(p);return}if(a!=null){var S;if(typeof n=="function"){var T={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},I=n(a,T);S=a[I]}else n==="value"&&(S=a.find(oe=>String(oe.value)===p.payload.label));var{coordinate:M}=p.payload;if(S==null||p.payload.active===!1||M==null||l==null){r(ev({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:z,y:W}=M,V=Math.min(z,l.x+l.width),Q=Math.min(W,l.y+l.height),se={x:i==="horizontal"?S.coordinate:V,y:i==="horizontal"?Q:S.coordinate},Y=ev({active:p.payload.active,coordinate:se,dataKey:p.payload.dataKey,index:String(S.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox});r(Y)}}};return pl.on(nv,d),()=>{pl.off(nv,d)}},[u,r,t,e,n,a,i,l])}function Uz(){var e=he(Oy),t=he(Ay),r=rt();x.useEffect(()=>{if(e==null)return I2;var n=(a,i,l)=>{t!==l&&e===a&&r(Tz(i))};return pl.on(w_,n),()=>{pl.off(w_,n)}},[r,t,e])}function zz(){var e=rt();x.useEffect(()=>{e(Oz())},[e]),Fz(),Uz()}function qz(e,t,r,n,a,i){var l=he(v=>hz(v,e,t)),u=he(Ay),d=he(Oy),h=he(NO),p=he(Az),m=p?.active,y=$d();x.useEffect(()=>{if(!m&&d!=null&&u!=null){var v=ev({active:i,coordinate:r,dataKey:l,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:y});pl.emit(nv,d,v,u)}},[m,r,l,a,n,u,d,h,i,y])}function __(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function S_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?__(Object(r),!0).forEach(function(n){Wz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):__(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wz(e,t,r){return(t=Kz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kz(e){var t=Vz(e,"string");return typeof t=="symbol"?t:t+""}function Vz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hz(e){return e.dataKey}function Gz(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(h6,t)}var N_=[],Yz={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!ea.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function sf(e){var t=St(e,Yz),{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:i,content:l,filterNull:u,isAnimationActive:d,offset:h,payloadUniqBy:p,position:m,reverseDirection:y,useTranslate3d:v,wrapperStyle:j,cursor:b,shared:k,trigger:N,defaultIndex:A,portal:P,axisId:C}=t,E=rt(),S=typeof A=="number"?String(A):A;x.useEffect(()=>{E(y8({shared:k,trigger:N,axisId:C,active:r,defaultIndex:S}))},[E,k,N,C,r,S]);var T=$d(),I=xP(),M=h8(k),{activeIndex:z,isActive:W}=he(je=>gz(je,M,N,S)),V=he(je=>mz(je,M,N,S)),Q=he(je=>A2(je,M,N,S)),se=he(je=>pz(je,M,N,S)),Y=V,oe=kz(),te=r??W,[G,ie]=CE([Y,te]),ae=M==="axis"?Q:void 0;qz(M,N,se,ae,z,te);var $=P??oe;if($==null)return null;var H=Y??N_;te||(H=N_),u&&H.length&&(H=NE(Y.filter(je=>je.value!=null&&(je.hide!==!0||t.includeHidden)),p,Hz));var ye=H.length>0,Ee=x.createElement(b6,{allowEscapeViewBox:n,animationDuration:a,animationEasing:i,isAnimationActive:d,active:te,coordinate:se,hasPayload:ye,offset:h,position:m,reverseDirection:y,useTranslate3d:v,viewBox:T,wrapperStyle:j,lastBoundingBox:G,innerRef:ie,hasPortalFromProps:!!P},Gz(l,S_(S_({},t),{},{payload:H,label:ae,active:te,coordinate:se,accessibilityLayer:I})));return x.createElement(x.Fragment,null,CS.createPortal(Ee,$),te&&x.createElement(jz,{cursor:b,tooltipEventType:M,coordinate:se,payload:Y,index:z}))}var Ks=e=>null;Ks.displayName="Cell";function Xz(e,t,r){return(t=Jz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jz(e){var t=Qz(e,"string");return typeof t=="symbol"?t:t+""}function Qz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Zz{constructor(t){Xz(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function E_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function e7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E_(Object(r),!0).forEach(function(n){t7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t7(e,t,r){return(t=r7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r7(e){var t=n7(e,"string");return typeof t=="symbol"?t:t+""}function n7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var a7={cacheSize:2e3,enableCache:!0},D2=e7({},a7),P_=new Zz(D2.cacheSize),i7={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},O_="recharts_measurement_span";function s7(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",l=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(l,"|").concat(u)}var A_=(e,t)=>{try{var r=document.getElementById(O_);r||(r=document.createElement("span"),r.setAttribute("id",O_),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,i7,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Yo=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ea.isSsr)return{width:0,height:0};if(!D2.enableCache)return A_(t,r);var n=s7(t,r),a=P_.get(n);if(a)return a;var i=A_(t,r);return P_.set(n,i),i},C_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,T_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,o7=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,l7=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,M2={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},c7=Object.keys(M2),us="NaN";function u7(e,t){return e*M2[t]}class fr{static parse(t){var r,[,n,a]=(r=l7.exec(t))!==null&&r!==void 0?r:[];return new fr(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Or(t)&&(this.unit=""),r!==""&&!o7.test(r)&&(this.num=NaN,this.unit=""),c7.includes(r)&&(this.num=u7(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new fr(NaN,""):new fr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new fr(NaN,""):new fr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new fr(NaN,""):new fr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new fr(NaN,""):new fr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Or(this.num)}}function L2(e){if(e.includes(us))return us;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=C_.exec(t))!==null&&r!==void 0?r:[],l=fr.parse(n??""),u=fr.parse(i??""),d=a==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return us;t=t.replace(C_,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,[,p,m,y]=(h=T_.exec(t))!==null&&h!==void 0?h:[],v=fr.parse(p??""),j=fr.parse(y??""),b=m==="+"?v.add(j):v.subtract(j);if(b.isNaN())return us;t=t.replace(T_,b.toString())}return t}var R_=/\(([^()]*)\)/;function d7(e){for(var t=e,r;(r=R_.exec(t))!=null;){var[,n]=r;t=t.replace(R_,L2(n))}return t}function f7(e){var t=e.replace(/\s+/g,"");return t=d7(t),t=L2(t),t}function h7(e){try{return f7(e)}catch{return us}}function Fm(e){var t=h7(e.slice(5,-1));return t===us?"":t}var p7=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],m7=["dx","dy","angle","className","breakAll"];function av(){return av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},av.apply(null,arguments)}function I_(e,t){if(e==null)return{};var r,n,a=g7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function g7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $2=/[ \f\n\r\t\v\u2028\u2029]+/,B2=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];Je(t)||(r?a=t.toString().split(""):a=t.toString().split($2));var i=a.map(u=>({word:u,width:Yo(u,n).width})),l=r?0:Yo("",n).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},v7=(e,t,r,n,a)=>{var{maxLines:i,children:l,style:u,breakAll:d}=e,h=fe(i),p=l,m=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce((V,Q)=>{var{word:se,width:Y}=Q,oe=V[V.length-1];if(oe&&(n==null||a||oe.width+Y+r<Number(n)))oe.words.push(se),oe.width+=Y+r;else{var te={words:[se],width:Y};V.push(te)}return V},[])},y=m(t),v=z=>z.reduce((W,V)=>W.width>V.width?W:V);if(!h||a)return y;var j=y.length>i||v(y).width>Number(n);if(!j)return y;for(var b="",k=z=>{var W=p.slice(0,z),V=B2({breakAll:d,style:u,children:W+b}).wordsWithComputedWidth,Q=m(V),se=Q.length>i||v(Q).width>Number(n);return[se,Q]},N=0,A=p.length-1,P=0,C;N<=A&&P<=p.length-1;){var E=Math.floor((N+A)/2),S=E-1,[T,I]=k(S),[M]=k(E);if(!T&&!M&&(N=E+1),T&&M&&(A=E-1),!T&&M){C=I;break}P++}return C||y},D_=e=>{var t=Je(e)?[]:e.toString().split($2);return[{words:t}]},y7=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:l}=e;if((t||r)&&!ea.isSsr){var u,d,h=B2({breakAll:i,children:n,style:a});if(h){var{wordsWithComputedWidth:p,spaceWidth:m}=h;u=p,d=m}else return D_(n);return v7({breakAll:i,children:n,maxLines:l,style:a},u,d,t,r)}return D_(n)},M_="#808080",of=x.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:l=!1,textAnchor:u="start",verticalAnchor:d="end",fill:h=M_}=e,p=I_(e,p7),m=x.useMemo(()=>y7({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:l,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,l,p.style,p.width]),{dx:y,dy:v,angle:j,className:b,breakAll:k}=p,N=I_(p,m7);if(!jn(r)||!jn(n)||m.length===0)return null;var A=r+(fe(y)?y:0),P=n+(fe(v)?v:0),C;switch(d){case"start":C=Fm("calc(".concat(i,")"));break;case"middle":C=Fm("calc(".concat((m.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:C=Fm("calc(".concat(m.length-1," * -").concat(a,")"));break}var E=[];if(l){var S=m[0].width,{width:T}=p;E.push("scale(".concat(fe(T)?T/S:1,")"))}return j&&E.push("rotate(".concat(j,", ").concat(A,", ").concat(P,")")),E.length&&(N.transform=E.join(" ")),x.createElement("text",av({},ir(N),{ref:t,x:A,y:P,className:Te("recharts-text",b),textAnchor:u,fill:h.includes("url")?M_:h}),m.map((I,M)=>{var z=I.words.join(k?"":" ");return x.createElement("tspan",{x:A,dy:M===0?C:a,key:"".concat(z,"-").concat(M)},z)}))});of.displayName="Text";var x7=["labelRef"];function b7(e,t){if(e==null)return{};var r,n,a=w7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function w7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function L_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L_(Object(r),!0).forEach(function(n){j7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j7(e,t,r){return(t=k7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k7(e){var t=_7(e,"string");return typeof t=="symbol"?t:t+""}function _7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bn(){return Bn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bn.apply(null,arguments)}var F2=x.createContext(null),S7=e=>{var{x:t,y:r,width:n,height:a,children:i}=e,l=x.useMemo(()=>({x:t,y:r,width:n,height:a}),[t,r,n,a]);return x.createElement(F2.Provider,{value:l},i)},U2=()=>{var e=x.useContext(F2),t=$d();return e||t},N7=x.createContext(null),E7=()=>{var e=x.useContext(N7),t=he(CO);return e||t},P7=e=>{var{value:t,formatter:r}=e,n=Je(e.children)?t:e.children;return typeof r=="function"?r(n):n},c0=e=>e!=null&&typeof e=="function",O7=(e,t)=>{var r=Rt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},A7=(e,t,r,n,a)=>{var{offset:i,className:l}=e,{cx:u,cy:d,innerRadius:h,outerRadius:p,startAngle:m,endAngle:y,clockWise:v}=a,j=(h+p)/2,b=O7(m,y),k=b>=0?1:-1,N,A;switch(t){case"insideStart":N=m+k*i,A=v;break;case"insideEnd":N=y-k*i,A=!v;break;case"end":N=y+k*i,A=v;break;default:throw new Error("Unsupported position ".concat(t))}A=b<=0?A:!A;var P=gt(u,d,j,N),C=gt(u,d,j,N+(A?1:-1)*359),E="M".concat(P.x,",").concat(P.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(A?0:1,`,
    `).concat(C.x,",").concat(C.y),S=Je(e.id)?nl("recharts-radial-line-"):e.id;return x.createElement("text",Bn({},n,{dominantBaseline:"central",className:Te("recharts-radial-bar-label",l)}),x.createElement("defs",null,x.createElement("path",{id:S,d:E})),x.createElement("textPath",{xlinkHref:"#".concat(S)},r))},C7=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:l,startAngle:u,endAngle:d}=e,h=(u+d)/2;if(r==="outside"){var{x:p,y:m}=gt(n,a,l+t,h);return{x:p,y:m,textAnchor:p>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var y=(i+l)/2,{x:v,y:j}=gt(n,a,y,h);return{x:v,y:j,textAnchor:"middle",verticalAnchor:"middle"}},z2=e=>"cx"in e&&fe(e.cx),T7=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!z2(r)&&(i=r);var{x:l,y:u,width:d,height:h}=t,p=h>=0?1:-1,m=p*n,y=p>0?"end":"start",v=p>0?"start":"end",j=d>=0?1:-1,b=j*n,k=j>0?"end":"start",N=j>0?"start":"end";if(a==="top"){var A={x:l+d/2,y:u-p*n,textAnchor:"middle",verticalAnchor:y};return ft(ft({},A),i?{height:Math.max(u-i.y,0),width:d}:{})}if(a==="bottom"){var P={x:l+d/2,y:u+h+m,textAnchor:"middle",verticalAnchor:v};return ft(ft({},P),i?{height:Math.max(i.y+i.height-(u+h),0),width:d}:{})}if(a==="left"){var C={x:l-b,y:u+h/2,textAnchor:k,verticalAnchor:"middle"};return ft(ft({},C),i?{width:Math.max(C.x-i.x,0),height:h}:{})}if(a==="right"){var E={x:l+d+b,y:u+h/2,textAnchor:N,verticalAnchor:"middle"};return ft(ft({},E),i?{width:Math.max(i.x+i.width-E.x,0),height:h}:{})}var S=i?{width:d,height:h}:{};return a==="insideLeft"?ft({x:l+b,y:u+h/2,textAnchor:N,verticalAnchor:"middle"},S):a==="insideRight"?ft({x:l+d-b,y:u+h/2,textAnchor:k,verticalAnchor:"middle"},S):a==="insideTop"?ft({x:l+d/2,y:u+m,textAnchor:"middle",verticalAnchor:v},S):a==="insideBottom"?ft({x:l+d/2,y:u+h-m,textAnchor:"middle",verticalAnchor:y},S):a==="insideTopLeft"?ft({x:l+b,y:u+m,textAnchor:N,verticalAnchor:v},S):a==="insideTopRight"?ft({x:l+d-b,y:u+m,textAnchor:k,verticalAnchor:v},S):a==="insideBottomLeft"?ft({x:l+b,y:u+h-m,textAnchor:N,verticalAnchor:y},S):a==="insideBottomRight"?ft({x:l+d-b,y:u+h-m,textAnchor:k,verticalAnchor:y},S):a&&typeof a=="object"&&(fe(a.x)||Hn(a.x))&&(fe(a.y)||Hn(a.y))?ft({x:l+Xt(a.x,d),y:u+Xt(a.y,h),textAnchor:"end",verticalAnchor:"end"},S):ft({x:l+d/2,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},S)},R7={offset:5};function Na(e){var t=St(e,R7),{viewBox:r,position:n,value:a,children:i,content:l,className:u="",textBreakAll:d,labelRef:h}=t,p=E7(),m=U2(),y=n==="center"?m:p??m,v=r||y;if(!v||Je(a)&&Je(i)&&!x.isValidElement(l)&&typeof l!="function")return null;var j=ft(ft({},t),{},{viewBox:v});if(x.isValidElement(l)){var{labelRef:b}=j,k=b7(j,x7);return x.cloneElement(l,k)}var N;if(typeof l=="function"){if(N=x.createElement(l,j),x.isValidElement(N))return N}else N=P7(t);var A=z2(v),P=ir(t);if(A&&(n==="insideStart"||n==="insideEnd"||n==="end"))return A7(t,n,N,P,v);var C=A?C7(v,t.offset,t.position):T7(t,v);return x.createElement(of,Bn({ref:h,className:Te("recharts-label",u)},P,C,{breakAll:d}),N)}Na.displayName="Label";var I7=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?x.createElement(Na,Bn({key:"label-implicit"},n)):jn(e)?x.createElement(Na,Bn({key:"label-implicit",value:e},n)):x.isValidElement(e)?e.type===Na?x.cloneElement(e,ft({key:"label-implicit"},n)):x.createElement(Na,Bn({key:"label-implicit",content:e},n)):c0(e)?x.createElement(Na,Bn({key:"label-implicit",content:e},n)):e&&typeof e=="object"?x.createElement(Na,Bn({},e,{key:"label-implicit"},n)):null};function D7(e){var{label:t,labelRef:r}=e,n=U2();return I7(t,n,r)||null}var Um={},zm={},$_;function M7(){return $_||($_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(zm)),zm}var qm={},B_;function L7(){return B_||(B_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(qm)),qm}var F_;function $7(){return F_||(F_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M7(),r=L7(),n=Wv();function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(Um)),Um}var Wm,U_;function B7(){return U_||(U_=1,Wm=$7().last),Wm}var F7=B7();const U7=un(F7);var z7=["valueAccessor"],q7=["dataKey","clockWise","id","textBreakAll"];function ad(){return ad=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ad.apply(null,arguments)}function z_(e,t){if(e==null)return{};var r,n,a=W7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function W7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var K7=e=>Array.isArray(e.value)?U7(e.value):e.value,q2=x.createContext(void 0),u0=q2.Provider,W2=x.createContext(void 0),V7=W2.Provider;function H7(){return x.useContext(q2)}function G7(){return x.useContext(W2)}function xu(e){var{valueAccessor:t=K7}=e,r=z_(e,z7),{dataKey:n,clockWise:a,id:i,textBreakAll:l}=r,u=z_(r,q7),d=H7(),h=G7(),p=d||h;return!p||!p.length?null:x.createElement(ct,{className:"recharts-label-list"},p.map((m,y)=>{var v,j=Je(n)?t(m,y):qe(m&&m.payload,n),b=Je(i)?{}:{id:"".concat(i,"-").concat(y)};return x.createElement(Na,ad({key:"label-".concat(y)},ir(m),u,b,{fill:(v=r.fill)!==null&&v!==void 0?v:m.fill,parentViewBox:m.parentViewBox,value:j,textBreakAll:l,viewBox:m.viewBox,index:y}))}))}xu.displayName="LabelList";function lf(e){var{label:t}=e;return t?t===!0?x.createElement(xu,{key:"labelList-implicit"}):x.isValidElement(t)||c0(t)?x.createElement(xu,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(xu,ad({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function iv(){return iv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iv.apply(null,arguments)}var d0=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=Te("recharts-dot",a);return t===+t&&r===+r&&n===+n?x.createElement("circle",iv({},ar(e),Uv(e),{className:i,cx:t,cy:r,r:n})):null},K2=e=>e.graphicalItems.polarItems,Y7=F([nt,Ol],Dy),cf=F([K2,ot,Y7],My),X7=F([cf],Ly),uf=F([X7,Sy],$y),J7=F([uf,ot,cf],Fy);F([uf,ot,cf],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var i,l=qe(n,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:qe(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var q_=()=>{},Q7=F([uf,ot,cf,ef,nt],Wy),Z7=F([ot,zy,qy,q_,Q7,q_,Ae,nt],Ky),V2=F([ot,Ae,uf,J7,Pl,nt,Z7],Vy),e9=F([V2,ot,Us],Yy);F([ot,V2,e9,nt],Jy);var t9={radiusAxis:{},angleAxis:{}},H2=Cr({name:"polarAxis",initialState:t9,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:$G,removeRadiusAxis:BG,addAngleAxis:FG,removeAngleAxis:UG}=H2.actions,r9=H2.reducer;function W_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function K_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W_(Object(r),!0).forEach(function(n){n9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n9(e,t,r){return(t=a9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a9(e){var t=i9(e,"string");return typeof t=="symbol"?t:t+""}function i9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s9=(e,t)=>t,f0=F([K2,s9],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),o9=[],h0=(e,t,r)=>r?.length===0?o9:r,G2=F([Sy,f0,h0],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if(t?.data!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(i=>K_(K_({},t.presentationProps),i.props))),a!=null)return a}}),l9=F([G2,f0,h0],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var i,l=qe(n,t.nameKey,t.name),u;return r!=null&&(i=r[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?u=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?u=n.fill:u=t.fill,{value:La(l,t.dataKey),color:u,payload:n,type:t.legendType}})}),c9=F([G2,f0,h0,_t],(e,t,r,n)=>{if(!(t==null||e==null))return cq({offset:n,pieSettings:t,displayedData:e,cells:r})}),Km={exports:{}},Ue={};var V_;function u9(){if(V_)return Ue;V_=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function j(b){if(typeof b=="object"&&b!==null){var k=b.$$typeof;switch(k){case e:switch(b=b.type,b){case r:case a:case n:case d:case h:case y:return b;default:switch(b=b&&b.$$typeof,b){case l:case u:case m:case p:return b;case i:return b;default:return k}}case t:return k}}}return Ue.ContextConsumer=i,Ue.ContextProvider=l,Ue.Element=e,Ue.ForwardRef=u,Ue.Fragment=r,Ue.Lazy=m,Ue.Memo=p,Ue.Portal=t,Ue.Profiler=a,Ue.StrictMode=n,Ue.Suspense=d,Ue.SuspenseList=h,Ue.isContextConsumer=function(b){return j(b)===i},Ue.isContextProvider=function(b){return j(b)===l},Ue.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===e},Ue.isForwardRef=function(b){return j(b)===u},Ue.isFragment=function(b){return j(b)===r},Ue.isLazy=function(b){return j(b)===m},Ue.isMemo=function(b){return j(b)===p},Ue.isPortal=function(b){return j(b)===t},Ue.isProfiler=function(b){return j(b)===a},Ue.isStrictMode=function(b){return j(b)===n},Ue.isSuspense=function(b){return j(b)===d},Ue.isSuspenseList=function(b){return j(b)===h},Ue.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===a||b===n||b===d||b===h||typeof b=="object"&&b!==null&&(b.$$typeof===m||b.$$typeof===p||b.$$typeof===l||b.$$typeof===i||b.$$typeof===u||b.$$typeof===v||b.getModuleId!==void 0)},Ue.typeOf=j,Ue}var H_;function d9(){return H_||(H_=1,Km.exports=u9()),Km.exports}var f9=d9(),G_=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Y_=null,Vm=null,Y2=e=>{if(e===Y_&&Array.isArray(Vm))return Vm;var t=[];return x.Children.forEach(e,r=>{Je(r)||(f9.isFragment(r)?t=t.concat(Y2(r.props.children)):t.push(r))}),Vm=t,Y_=e,t};function p0(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>G_(a)):n=[G_(t)],Y2(e).forEach(a=>{var i=vi(a,"type.displayName")||vi(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}var df=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Hm={},X_;function h9(){return X_||(X_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(Hm)),Hm}var Gm,J_;function p9(){return J_||(J_=1,Gm=h9().isPlainObject),Gm}var m9=p9();const g9=un(m9);function Q_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Z_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q_(Object(r),!0).forEach(function(n){v9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v9(e,t,r){return(t=y9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y9(e){var t=x9(e,"string");return typeof t=="symbol"?t:t+""}function x9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function id(){return id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},id.apply(null,arguments)}var eS=(e,t,r,n,a)=>{var i=r-n,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+r,",").concat(t),l+="L ".concat(e+r-i/2,",").concat(t+a),l+="L ".concat(e+r-i/2-n,",").concat(t+a),l+="L ".concat(e,",").concat(t," Z"),l},b9={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},w9=e=>{var t=St(e,b9),{x:r,y:n,upperWidth:a,lowerWidth:i,height:l,className:u}=t,{animationEasing:d,animationDuration:h,animationBegin:p,isUpdateAnimationActive:m}=t,y=x.useRef(null),[v,j]=x.useState(-1),b=x.useRef(a),k=x.useRef(i),N=x.useRef(l),A=x.useRef(r),P=x.useRef(n),C=Is(e,"trapezoid-");if(x.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var se=y.current.getTotalLength();se&&j(se)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||l!==+l||a===0&&i===0||l===0)return null;var E=Te("recharts-trapezoid",u);if(!m)return x.createElement("g",null,x.createElement("path",id({},ir(t),{className:E,d:eS(r,n,a,i,l)})));var S=b.current,T=k.current,I=N.current,M=A.current,z=P.current,W="0px ".concat(v===-1?1:v,"px"),V="".concat(v,"px 0px"),Q=bP(["strokeDasharray"],h,d);return x.createElement(Rs,{animationId:C,key:C,canBegin:v>0,duration:h,easing:d,isActive:m,begin:p},se=>{var Y=ze(S,a,se),oe=ze(T,i,se),te=ze(I,l,se),G=ze(M,r,se),ie=ze(z,n,se);y.current&&(b.current=Y,k.current=oe,N.current=te,A.current=G,P.current=ie);var ae=se>0?{transition:Q,strokeDasharray:V}:{strokeDasharray:W};return x.createElement("path",id({},ir(t),{className:E,d:eS(G,ie,Y,oe,te),ref:y,style:Z_(Z_({},ae),t.style)}))})},j9=["option","shapeType","propTransformer","activeClassName","isActive"];function k9(e,t){if(e==null)return{};var r,n,a=_9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function tS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tS(Object(r),!0).forEach(function(n){S9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S9(e,t,r){return(t=N9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N9(e){var t=E9(e,"string");return typeof t=="symbol"?t:t+""}function E9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P9(e,t){return sd(sd({},t),e)}function O9(e,t){return e==="symbols"}function rS(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return x.createElement(_P,r);case"trapezoid":return x.createElement(w9,r);case"sector":return x.createElement(EP,r);case"symbols":if(O9(t))return x.createElement(Fv,r);break;default:return null}}function A9(e){return x.isValidElement(e)?e.props:e}function X2(e){var{option:t,shapeType:r,propTransformer:n=P9,activeClassName:a="recharts-active-shape",isActive:i}=e,l=k9(e,j9),u;if(x.isValidElement(t))u=x.cloneElement(t,sd(sd({},l),A9(t)));else if(typeof t=="function")u=t(l);else if(g9(t)&&typeof t!="boolean"){var d=n(t,l);u=x.createElement(rS,{shapeType:r,elementProps:d})}else{var h=l;u=x.createElement(rS,{shapeType:r,elementProps:h})}return i?x.createElement(ct,{className:a},u):u}var m0=(e,t)=>{var r=rt();return(n,a)=>i=>{e?.(n,a,i),r(c2({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},g0=e=>{var t=rt();return(r,n)=>a=>{e?.(r,n,a),t(x8())}},v0=(e,t)=>{var r=rt();return(n,a)=>i=>{e?.(n,a,i),r(b8({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function ff(e){var{fn:t,args:r}=e,n=rt(),a=Bt();return x.useLayoutEffect(()=>{if(!a){var i=t(r);return n(g8(i)),()=>{n(v8(i))}}},[t,r,n,a]),null}var J2=()=>{};function y0(e){var{legendPayload:t}=e,r=rt(),n=Bt();return x.useLayoutEffect(()=>n?J2:(r(vP(t)),()=>{r(yP(t))}),[r,n,t]),null}function C9(e){var{legendPayload:t}=e,r=rt(),n=he(Ae);return x.useLayoutEffect(()=>n!=="centric"&&n!=="radial"?J2:(r(vP(t)),()=>{r(yP(t))}),[r,n,t]),null}var Ym,T9=()=>{var[e]=x.useState(()=>nl("uid-"));return e},R9=(Ym=OS.useId)!==null&&Ym!==void 0?Ym:T9;function I9(e,t){var r=R9();return t||(e?"".concat(e,"-").concat(r):r)}var D9=x.createContext(void 0),hf=e=>{var{id:t,type:r,children:n}=e,a=I9("recharts-".concat(r),t);return x.createElement(D9.Provider,{value:a},n(a))},M9={cartesianItems:[],polarItems:[]},Q2=Cr({name:"graphicalItems",initialState:M9,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:er()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Wn(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:er()},removeCartesianGraphicalItem:{reducer(e,t){var r=Wn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:er()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:er()},removePolarGraphicalItem:{reducer(e,t){var r=Wn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:er()}}}),{addCartesianGraphicalItem:L9,replaceCartesianGraphicalItem:$9,removeCartesianGraphicalItem:B9,addPolarGraphicalItem:F9,removePolarGraphicalItem:U9}=Q2.actions,z9=Q2.reducer;function x0(e){var t=rt(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(L9(e)):r.current!==e&&t($9({prev:r.current,next:e})),r.current=e},[t,e]),x.useLayoutEffect(()=>()=>{r.current&&(t(B9(r.current)),r.current=null)},[t]),null}function q9(e){var t=rt();return x.useLayoutEffect(()=>(t(F9(e)),()=>{t(U9(e))}),[t,e]),null}var W9=["onMouseEnter","onClick","onMouseLeave"],K9=["id"],V9=["id"];function b0(e,t){if(e==null)return{};var r,n,a=H9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function H9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nS(Object(r),!0).forEach(function(n){G9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G9(e,t,r){return(t=Y9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y9(e){var t=X9(e,"string");return typeof t=="symbol"?t:t+""}function X9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ra(){return Ra=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ra.apply(null,arguments)}function J9(e){var t=x.useMemo(()=>p0(e.children,Ks),[e.children]),r=he(n=>l9(n,e.id,t));return r==null?null:x.createElement(C9,{legendPayload:r})}function Q9(e){var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:i,fill:l,name:u,hide:d,tooltipType:h}=e;return{dataDefinedOnItem:n.map(p=>p.tooltipPayload),positions:n.map(p=>p.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:l,dataKey:t,nameKey:r,name:La(u,t),hide:d,type:h,color:l,unit:""}}}var Z9=(e,t)=>e>t?"start":e<t?"end":"middle",eq=(e,t,r)=>Xt(typeof t=="function"?t(e):t,r,r*.8),tq=(e,t,r)=>{var{top:n,left:a,width:i,height:l}=t,u=aP(i,l),d=a+Xt(e.cx,i,i/2),h=n+Xt(e.cy,l,l/2),p=Xt(e.innerRadius,u,0),m=eq(r,e.outerRadius,u),y=e.maxRadius||Math.sqrt(i*i+l*l)/2;return{cx:d,cy:h,innerRadius:p,outerRadius:m,maxRadius:y}},rq=(e,t)=>{var r=Rt(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function nq(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var aq=(e,t)=>{if(x.isValidElement(e))return x.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Te("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return x.createElement(ps,Ra({},t,{type:"linear",className:r}))},iq=(e,t,r)=>{if(x.isValidElement(e))return x.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),x.isValidElement(n)))return n;var a=Te("recharts-pie-label-text",nq(e));return x.createElement(of,Ra({},t,{alignmentBaseline:"middle",className:a}),n)};function sq(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:i,dataKey:l}=r;if(!n||!a||!t)return null;var u=ar(r),d=gi(a),h=gi(i),p=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,m=t.map((y,v)=>{var j=(y.startAngle+y.endAngle)/2,b=gt(y.cx,y.cy,y.outerRadius+p,j),k=et(et(et(et({},u),y),{},{stroke:"none"},d),{},{index:v,textAnchor:Z9(b.x,y.cx)},b),N=et(et(et(et({},u),y),{},{fill:"none",stroke:y.fill},h),{},{index:v,points:[gt(y.cx,y.cy,y.outerRadius,j),b],key:"line"});return x.createElement(ct,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(v)},i&&aq(i,N),iq(a,k,qe(y,l)))});return x.createElement(ct,{className:"recharts-pie-labels"},m)}function oq(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?x.createElement(lf,{label:a}):x.createElement(sq,{sectors:t,props:r,showLabels:n})}function lq(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a}=e,i=he(Ta),{onMouseEnter:l,onClick:u,onMouseLeave:d}=a,h=b0(a,W9),p=m0(l,a.dataKey),m=g0(d),y=v0(u,a.dataKey);return t==null||t.length===0?null:x.createElement(x.Fragment,null,t.map((v,j)=>{if(v?.startAngle===0&&v?.endAngle===0&&t.length!==1)return null;var b=r&&String(j)===i,k=i?n:null,N=b?r:k,A=et(et({},v),{},{stroke:v.stroke,tabIndex:-1,[uP]:j,[dP]:a.dataKey});return x.createElement(ct,Ra({key:"sector-".concat(v?.startAngle,"-").concat(v?.endAngle,"-").concat(v.midAngle,"-").concat(j),tabIndex:-1,className:"recharts-pie-sector"},yl(h,v,j),{onMouseEnter:p(v,j),onMouseLeave:m(v,j),onClick:y(v,j)}),x.createElement(X2,Ra({option:N,isActive:b,shapeType:"sector"},A)))}))}function cq(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:i}=e,{cornerRadius:l,startAngle:u,endAngle:d,dataKey:h,nameKey:p,tooltipType:m}=r,y=Math.abs(r.minAngle),v=rq(u,d),j=Math.abs(v),b=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,k=n.filter(S=>qe(S,h,0)!==0).length,N=(j>=360?k:k-1)*b,A=j-k*y-N,P=n.reduce((S,T)=>{var I=qe(T,h,0);return S+(fe(I)?I:0)},0),C;if(P>0){var E;C=n.map((S,T)=>{var I=qe(S,h,0),M=qe(S,p,T),z=tq(r,i,S),W=(fe(I)?I:0)/P,V,Q=et(et({},S),a&&a[T]&&a[T].props);T?V=E.endAngle+Rt(v)*b*(I!==0?1:0):V=u;var se=V+Rt(v)*((I!==0?y:0)+W*A),Y=(V+se)/2,oe=(z.innerRadius+z.outerRadius)/2,te=[{name:M,value:I,payload:Q,dataKey:h,type:m}],G=gt(z.cx,z.cy,oe,Y);return E=et(et(et(et({},r.presentationProps),{},{percent:W,cornerRadius:l,name:M,tooltipPayload:te,midAngle:Y,middleRadius:oe,tooltipPosition:G},Q),z),{},{value:I,startAngle:V,endAngle:se,payload:Q,paddingAngle:Rt(v)*b}),E})}return C}function uq(e){var{showLabels:t,sectors:r,children:n}=e,a=x.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return x.createElement(V7,{value:t?a:void 0},n)}function dq(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:a,animationBegin:i,animationDuration:l,animationEasing:u,activeShape:d,inactiveShape:h,onAnimationStart:p,onAnimationEnd:m}=t,y=Is(t,"recharts-pie-"),v=r.current,[j,b]=x.useState(!1),k=x.useCallback(()=>{typeof m=="function"&&m(),b(!1)},[m]),N=x.useCallback(()=>{typeof p=="function"&&p(),b(!0)},[p]);return x.createElement(uq,{showLabels:!j,sectors:n},x.createElement(Rs,{animationId:y,begin:i,duration:l,isActive:a,easing:u,onAnimationStart:N,onAnimationEnd:k,key:y},A=>{var P=[],C=n&&n[0],E=C?.startAngle;return n?.forEach((S,T)=>{var I=v&&v[T],M=T>0?vi(S,"paddingAngle",0):0;if(I){var z=ze(I.endAngle-I.startAngle,S.endAngle-S.startAngle,A),W=et(et({},S),{},{startAngle:E+M,endAngle:E+z+M});P.push(W),E=W.endAngle}else{var{endAngle:V,startAngle:Q}=S,se=ze(0,V-Q,A),Y=et(et({},S),{},{startAngle:E+M,endAngle:E+se+M});P.push(Y),E=Y.endAngle}}),r.current=P,x.createElement(ct,null,x.createElement(lq,{sectors:P,activeShape:d,inactiveShape:h,allOtherPieProps:t}))}),x.createElement(oq,{showLabels:!j,sectors:n,props:t}),t.children)}var fq={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!ea.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function hq(e){var{id:t}=e,r=b0(e,K9),{hide:n,className:a,rootTabIndex:i}=e,l=x.useMemo(()=>p0(e.children,Ks),[e.children]),u=he(p=>c9(p,t,l)),d=x.useRef(null),h=Te("recharts-pie",a);return n||u==null?(d.current=null,x.createElement(ct,{tabIndex:i,className:h})):x.createElement(x.Fragment,null,x.createElement(ff,{fn:Q9,args:et(et({},e),{},{sectors:u})}),x.createElement(ct,{tabIndex:i,className:h},x.createElement(dq,{props:et(et({},r),{},{sectors:u}),previousSectorsRef:d})))}function w0(e){var t=St(e,fq),{id:r}=t,n=b0(t,V9),a=ar(n);return x.createElement(hf,{id:r,type:"pie"},i=>x.createElement(x.Fragment,null,x.createElement(q9,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),x.createElement(J9,Ra({},n,{id:i})),x.createElement(hq,Ra({},n,{id:i}))))}w0.displayName="Pie";function aS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aS(Object(r),!0).forEach(function(n){pq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pq(e,t,r){return(t=mq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mq(e){var t=gq(e,"string");return typeof t=="symbol"?t:t+""}function gq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vq={xAxis:{},yAxis:{},zAxis:{}},Z2=Cr({name:"cartesianAxis",initialState:vq,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:er()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:er()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:er()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:er()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:er()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:er()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==a.width&&Math.abs(n-i[0])<=1)return;var l=[...i,n].slice(-3);e.yAxis[r]=iS(iS({},e.yAxis[r]),{},{width:n,widthHistory:l})}}}}),{addXAxis:yq,removeXAxis:xq,addYAxis:bq,removeYAxis:wq,addZAxis:zG,removeZAxis:qG,updateYAxisWidth:jq}=Z2.actions,kq=Z2.reducer,_q=F([_t],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),Sq=F([_q,Qn,Zn],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),pf=()=>he(Sq),Nq=()=>he(sz);function sS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sS(Object(r),!0).forEach(function(n){Eq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eq(e,t,r){return(t=Pq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pq(e){var t=Oq(e,"string");return typeof t=="symbol"?t:t+""}function Oq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Aq=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i}=e;if(a===!1||t.x==null||t.y==null)return null;var l=oS(oS({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},gi(a)),Uv(a)),u;return x.isValidElement(a)?u=x.cloneElement(a,l):typeof a=="function"?u=a(l):u=x.createElement(d0,l),x.createElement(ct,{className:"recharts-active-dot"},u)};function sv(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a}=e,i=he(Ta),l=Nq();if(t==null||l==null)return null;var u=t.find(d=>l.includes(d.payload));return Je(u)?null:Aq({point:u,childIndex:Number(i),mainColor:r,dataKey:a,activeDot:n})}var Cq="Invariant failed";function Tq(e,t){throw new Error(Cq)}var Rq=["x","y"];function ov(){return ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ov.apply(null,arguments)}function lS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lS(Object(r),!0).forEach(function(n){Iq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iq(e,t,r){return(t=Dq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dq(e){var t=Mq(e,"string");return typeof t=="symbol"?t:t+""}function Mq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lq(e,t){if(e==null)return{};var r,n,a=$q(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $q(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Bq(e,t){var{x:r,y:n}=e,a=Lq(e,Rq),i="".concat(r),l=parseInt(i,10),u="".concat(n),d=parseInt(u,10),h="".concat(t.height||a.height),p=parseInt(h,10),m="".concat(t.width||a.width),y=parseInt(m,10);return Uo(Uo(Uo(Uo(Uo({},t),a),l?{x:l}:{}),d?{y:d}:{}),{},{height:p,width:y,name:t.name,radius:t.radius})}function j0(e){return x.createElement(X2,ov({shapeType:"rectangle",propTransformer:Bq,activeClassName:"recharts-active-bar"},e))}var Fq=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(fe(t))return t;var i=fe(n)||Je(n);return i?t(n,a):(i||Tq(),r)}},Uq={},eA=Cr({name:"errorBars",initialState:Uq,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:WG,replaceErrorBar:KG,removeErrorBar:VG}=eA.actions,zq=eA.reducer,qq=["children"];function Wq(e,t){if(e==null)return{};var r,n,a=Kq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Kq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Vq={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Hq=x.createContext(Vq);function tA(e){var{children:t}=e,r=Wq(e,qq);return x.createElement(Hq.Provider,{value:r},t)}function mf(e,t){var r,n,a=he(h=>ra(h,e)),i=he(h=>na(h,t)),l=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:wr.allowDataOverflow,u=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:jr.allowDataOverflow,d=l||u;return{needClip:d,needClipX:l,needClipY:u}}function k0(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=pf(),{needClipX:i,needClipY:l,needClip:u}=mf(t,r);if(!u)return null;var{x:d,y:h,width:p,height:m}=a;return x.createElement("clipPath",{id:"clipPath-".concat(n)},x.createElement("rect",{x:i?d:d-p/2,y:l?h:h-m/2,width:i?p:p*2,height:l?m:m*2}))}var Gq=["onMouseEnter","onMouseLeave","onClick"],Yq=["value","background","tooltipPosition"],Xq=["id"],Jq=["onMouseEnter","onClick","onMouseLeave"];function Ia(){return Ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ia.apply(null,arguments)}function cS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cS(Object(r),!0).forEach(function(n){Qq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qq(e,t,r){return(t=Zq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zq(e){var t=eW(e,"string");return typeof t=="symbol"?t:t+""}function eW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function od(e,t){if(e==null)return{};var r,n,a=tW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var rW=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:La(r,t),payload:e}]};function nW(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:l,unit:u}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:La(i,t),hide:l,type:e.tooltipType,color:e.fill,unit:u}}}function aW(e){var t=he(Ta),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:l,onMouseLeave:u,onClick:d}=i,h=od(i,Gq),p=m0(l,n),m=g0(u),y=v0(d,n);if(!a||r==null)return null;var v=gi(a);return x.createElement(x.Fragment,null,r.map((j,b)=>{var{value:k,background:N,tooltipPosition:A}=j,P=od(j,Yq);if(!N)return null;var C=p(j,b),E=m(j,b),S=y(j,b),T=tr(tr(tr(tr(tr({option:a,isActive:String(b)===t},P),{},{fill:"#eee"},N),v),yl(h,j,b)),{},{onMouseEnter:C,onMouseLeave:E,onClick:S,dataKey:n,index:b,className:"recharts-bar-background-rectangle"});return x.createElement(j0,Ia({key:"background-bar-".concat(b)},T))}))}function iW(e){var{showLabels:t,children:r,rects:n}=e,a=n?.map(i=>{var l={x:i.x,y:i.y,width:i.width,height:i.height};return tr(tr({},l),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:l,fill:i.fill})});return x.createElement(u0,{value:t?a:void 0},r)}function sW(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:l}=e,u=he(Ta),d=he(_2),h=r&&String(i)===u&&(d==null||l===d),p=h?r:t;return x.createElement(j0,Ia({},n,{name:String(n.name)},a,{isActive:h,option:p,index:i,dataKey:l}))}function oW(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return x.createElement(j0,Ia({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:i}))}function lW(e){var{data:t,props:r}=e,n=ar(r),{id:a}=n,i=od(n,Xq),{shape:l,dataKey:u,activeBar:d}=r,{onMouseEnter:h,onClick:p,onMouseLeave:m}=r,y=od(r,Jq),v=m0(h,u),j=g0(m),b=v0(p,u);return t?x.createElement(x.Fragment,null,t.map((k,N)=>x.createElement(ct,Ia({key:"rectangle-".concat(k?.x,"-").concat(k?.y,"-").concat(k?.value,"-").concat(N),className:"recharts-bar-rectangle"},yl(y,k,N),{onMouseEnter:v(k,N),onMouseLeave:j(k,N),onClick:b(k,N)}),d?x.createElement(sW,{shape:l,activeBar:d,baseProps:i,entry:k,index:N,dataKey:u}):x.createElement(oW,{shape:l,baseProps:i,entry:k,index:N,dataKey:u})))):null}function cW(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:l,animationDuration:u,animationEasing:d,onAnimationEnd:h,onAnimationStart:p}=t,m=r.current,y=Is(t,"recharts-bar-"),[v,j]=x.useState(!1),b=!v,k=x.useCallback(()=>{typeof h=="function"&&h(),j(!1)},[h]),N=x.useCallback(()=>{typeof p=="function"&&p(),j(!0)},[p]);return x.createElement(iW,{showLabels:b,rects:n},x.createElement(Rs,{animationId:y,begin:l,duration:u,isActive:i,easing:d,onAnimationEnd:k,onAnimationStart:N,key:y},A=>{var P=A===1?n:n?.map((C,E)=>{var S=m&&m[E];if(S)return tr(tr({},C),{},{x:ze(S.x,C.x,A),y:ze(S.y,C.y,A),width:ze(S.width,C.width,A),height:ze(S.height,C.height,A)});if(a==="horizontal"){var T=ze(0,C.height,A);return tr(tr({},C),{},{y:C.y+C.height-T,height:T})}var I=ze(0,C.width,A);return tr(tr({},C),{},{width:I})});return A>0&&(r.current=P??null),P==null?null:x.createElement(ct,null,x.createElement(lW,{props:t,data:P}))}),x.createElement(lf,{label:t.label}),t.children)}function uW(e){var t=x.useRef(null);return x.createElement(cW,{previousRectanglesRef:t,props:e})}var rA=0,dW=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:qe(e,t)}};class fW extends x.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:l,needClip:u,background:d,id:h}=this.props;if(t||r==null)return null;var p=Te("recharts-bar",a),m=h;return x.createElement(ct,{className:p,id:h},u&&x.createElement("defs",null,x.createElement(k0,{clipPathId:m,xAxisId:i,yAxisId:l})),x.createElement(ct,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(m,")"):void 0},x.createElement(aW,{data:r,dataKey:n,background:d,allOtherBarProps:this.props}),x.createElement(uW,this.props)))}}var hW={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!ea.isSsr,legendType:"rect",minPointSize:rA,xAxisId:0,yAxisId:0};function pW(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:h,isAnimationActive:p}=e,{needClip:m}=mf(t,r),y=jl(),v=Bt(),j=p0(e.children,Ks),b=he(A=>zW(A,t,r,v,e.id,j));if(y!=="vertical"&&y!=="horizontal")return null;var k,N=b?.[0];return N==null||N.height==null||N.width==null?k=0:k=y==="vertical"?N.height/2:N.width/2,x.createElement(tA,{xAxisId:t,yAxisId:r,data:b,dataPointFormatter:dW,errorBarOffset:k},x.createElement(fW,Ia({},e,{layout:y,needClip:m,data:b,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:h,isAnimationActive:p})))}function mW(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:l,yAxis:u,xAxisTicks:d,yAxisTicks:h,stackedData:p,displayedData:m,offset:y,cells:v,parentViewBox:j}=e,b=t==="horizontal"?u:l,k=p?b.scale.domain():null,N=h$({numericAxis:b});return m.map((A,P)=>{var C,E,S,T,I,M;p?C=l$(p[P],k):(C=qe(A,r),Array.isArray(C)||(C=[N,C]));var z=Fq(n,rA)(C[1],P);if(t==="horizontal"){var W,[V,Q]=[u.scale(C[0]),u.scale(C[1])];E=z1({axis:l,ticks:d,bandSize:i,offset:a.offset,entry:A,index:P}),S=(W=Q??V)!==null&&W!==void 0?W:void 0,T=a.size;var se=V-Q;if(I=Or(se)?0:se,M={x:E,y:y.top,width:T,height:y.height},Math.abs(z)>0&&Math.abs(I)<Math.abs(z)){var Y=Rt(I||z)*(Math.abs(z)-Math.abs(I));S-=Y,I+=Y}}else{var[oe,te]=[l.scale(C[0]),l.scale(C[1])];if(E=oe,S=z1({axis:u,ticks:h,bandSize:i,offset:a.offset,entry:A,index:P}),T=te-oe,I=a.size,M={x:y.left,y:S,width:y.width,height:I},Math.abs(z)>0&&Math.abs(T)<Math.abs(z)){var G=Rt(T||z)*(Math.abs(z)-Math.abs(T));T+=G}}if(E==null||S==null||T==null||I==null)return null;var ie=tr(tr({},A),{},{x:E,y:S,width:T,height:I,value:p?C:C[1],payload:A,background:M,tooltipPosition:{x:E+T/2,y:S+I/2},parentViewBox:j},v&&v[P]&&v[P].props);return ie}).filter(Boolean)}function gW(e){var t=St(e,hW),r=Bt();return x.createElement(hf,{id:t.id,type:"bar"},n=>x.createElement(x.Fragment,null,x.createElement(y0,{legendPayload:rW(t)}),x.createElement(ff,{fn:nW,args:t}),x.createElement(x0,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:lP(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),x.createElement(pW,Ia({},t,{id:n}))))}var lv=x.memo(gW);lv.displayName="Bar";function uS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uS(Object(r),!0).forEach(function(n){vW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vW(e,t,r){return(t=yW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yW(e){var t=xW(e,"string");return typeof t=="symbol"?t:t+""}function xW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bW=(e,t)=>t,wW=(e,t,r)=>r,jW=(e,t,r,n)=>n,kW=(e,t,r,n,a)=>a,Ml=F([Cl,kW],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),_W=F([Ml],e=>e?.maxBarSize),SW=(e,t,r,n,a,i)=>i,dS=(e,t,r)=>{var n=r??e;if(!Je(n))return Xt(n,t,0)},NW=F([Ae,Cl,bW,wW,jW],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),EW=(e,t,r,n)=>{var a=Ae(e);return a==="horizontal"?hl(e,"yAxis",r,n):hl(e,"xAxis",t,n)},PW=(e,t,r)=>{var n=Ae(e);return n==="horizontal"?f_(e,"xAxis",t):f_(e,"yAxis",r)},OW=(e,t,r)=>{var n={},a=e.filter(Xd),i=e.filter(h=>h.stackId==null),l=a.reduce((h,p)=>(h[p.stackId]||(h[p.stackId]=[]),h[p.stackId].push(p),h),n),u=Object.entries(l).map(h=>{var[p,m]=h,y=m.map(j=>j.dataKey),v=dS(t,r,m[0].barSize);return{stackId:p,dataKeys:y,barSize:v}}),d=i.map(h=>{var p=[h.dataKey].filter(y=>y!=null),m=dS(t,r,h.barSize);return{stackId:void 0,dataKeys:p,barSize:m}});return[...u,...d]},AW=F([NW,fU,PW],OW),CW=(e,t,r,n,a)=>{var i,l,u=Ml(e,t,r,n,a);if(u!=null){var d=Ae(e),h=_O(e),{maxBarSize:p}=u,m=Je(p)?h:p,y,v;return d==="horizontal"?(y=Sn(e,"xAxis",t,n),v=_n(e,"xAxis",t,n)):(y=Sn(e,"yAxis",r,n),v=_n(e,"yAxis",r,n)),(i=(l=bi(y,v,!0))!==null&&l!==void 0?l:m)!==null&&i!==void 0?i:0}},nA=(e,t,r,n)=>{var a=Ae(e),i,l;return a==="horizontal"?(i=Sn(e,"xAxis",t,n),l=_n(e,"xAxis",t,n)):(i=Sn(e,"yAxis",r,n),l=_n(e,"yAxis",r,n)),bi(i,l)};function TW(e,t,r,n,a){var i=n.length;if(!(i<1)){var l=Xt(e,r,0,!0),u,d=[];if(yt(n[0].barSize)){var h=!1,p=r/i,m=n.reduce((N,A)=>N+(A.barSize||0),0);m+=(i-1)*l,m>=r&&(m-=(i-1)*l,l=0),m>=r&&p>0&&(h=!0,p*=.9,m=i*p);var y=(r-m)/2>>0,v={offset:y-l,size:0};u=n.reduce((N,A)=>{var P,C={stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:v.offset+v.size+l,size:h?p:(P=A.barSize)!==null&&P!==void 0?P:0}},E=[...N,C];return v=E[E.length-1].position,E},d)}else{var j=Xt(t,r,0,!0);r-2*j-(i-1)*l<=0&&(l=0);var b=(r-2*j-(i-1)*l)/i;b>1&&(b>>=0);var k=yt(a)?Math.min(b,a):b;u=n.reduce((N,A,P)=>[...N,{stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:j+(b+l)*P+(b-k)/2,size:k}}],d)}return u}}var RW=(e,t,r,n,a,i,l)=>{var u=Je(l)?t:l,d=TW(r,n,a!==i?a:i,e,u);return a!==i&&d!=null&&(d=d.map(h=>gu(gu({},h),{},{position:gu(gu({},h.position),{},{offset:h.position.offset-a/2})}))),d},IW=F([AW,_O,dU,SO,CW,nA,_W],RW),DW=(e,t,r,n)=>Sn(e,"xAxis",t,n),MW=(e,t,r,n)=>Sn(e,"yAxis",r,n),LW=(e,t,r,n)=>_n(e,"xAxis",t,n),$W=(e,t,r,n)=>_n(e,"yAxis",r,n),BW=F([IW,Ml],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),FW=(e,t)=>{var r=Yd(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(l=>l.key===r)}}}},UW=F([EW,Ml],FW),zW=F([_t,Jv,DW,MW,LW,$W,BW,Ae,El,nA,UW,Ml,SW],(e,t,r,n,a,i,l,u,d,h,p,m,y)=>{var{chartData:v,dataStartIndex:j,dataEndIndex:b}=d;if(!(m==null||l==null||t==null||u!=="horizontal"&&u!=="vertical"||r==null||n==null||a==null||i==null||h==null)){var{data:k}=m,N;if(k!=null&&k.length>0?N=k:N=v?.slice(j,b+1),N!=null)return mW({layout:u,barSettings:m,pos:l,parentViewBox:t,bandSize:h,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:p,displayedData:N,offset:e,cells:y})}}),aA=e=>{var{chartData:t}=e,r=rt(),n=Bt();return x.useEffect(()=>n?()=>{}:(r(j_(t)),()=>{r(j_(void 0))}),[t,r,n]),null},fS={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},iA=Cr({name:"brush",initialState:fS,reducers:{setBrushSettings(e,t){return t.payload==null?fS:t.payload}}}),{setBrushSettings:HG}=iA.actions,qW=iA.reducer;function WW(e,t,r){return(t=KW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KW(e){var t=VW(e,"string");return typeof t=="symbol"?t:t+""}function VW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class _0{static create(t){return new _0(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}WW(_0,"EPS",1e-4);function HW(e){return(e%180+180)%180}var GW=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=HW(a),l=i*Math.PI/180,u=Math.atan(n/r),d=l>u&&l<Math.PI-u?n/Math.sin(l):r/Math.cos(l);return Math.abs(d)},YW={dots:[],areas:[],lines:[]},sA=Cr({name:"referenceElements",initialState:YW,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Wn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Wn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Wn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:GG,removeDot:YG,addArea:XG,removeArea:JG,addLine:QG,removeLine:ZG}=sA.actions,XW=sA.reducer,JW=x.createContext(void 0),QW=e=>{var{children:t}=e,[r]=x.useState("".concat(nl("recharts"),"-clip")),n=pf();if(n==null)return null;var{x:a,y:i,width:l,height:u}=n;return x.createElement(JW.Provider,{value:r},x.createElement("defs",null,x.createElement("clipPath",{id:r},x.createElement("rect",{x:a,y:i,height:u,width:l}))),t)};function Ss(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function oA(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function ZW(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return GW(n,r)}function eK(e,t,r){var n=r==="width",{x:a,y:i,width:l,height:u}=e;return t===1?{start:n?a:i,end:n?a+l:i+u}:{start:n?a+l:i+u,end:n?a:i}}function ld(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function tK(e,t){return oA(e,t+1)}function rK(e,t,r,n,a){for(var i=(n||[]).slice(),{start:l,end:u}=t,d=0,h=1,p=l,m=function(){var j=n?.[d];if(j===void 0)return{v:oA(n,h)};var b=d,k,N=()=>(k===void 0&&(k=r(j,b)),k),A=j.coordinate,P=d===0||ld(e,A,N,p,u);P||(d=0,p=l,h+=1),P&&(p=A+e*(N()/2+a),d+=h)},y;h<=i.length;)if(y=m(),y)return y.v;return[]}function hS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hS(Object(r),!0).forEach(function(n){nK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nK(e,t,r){return(t=aK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aK(e){var t=iK(e,"string");return typeof t=="symbol"?t:t+""}function iK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sK(e,t,r,n,a){for(var i=(n||[]).slice(),l=i.length,{start:u}=t,{end:d}=t,h=function(y){var v=i[y],j,b=()=>(j===void 0&&(j=r(v,y)),j);if(y===l-1){var k=e*(v.coordinate+e*b()/2-d);i[y]=v=Gt(Gt({},v),{},{tickCoord:k>0?v.coordinate-k*e:v.coordinate})}else i[y]=v=Gt(Gt({},v),{},{tickCoord:v.coordinate});var N=ld(e,v.tickCoord,b,u,d);N&&(d=v.tickCoord-e*(b()/2+a),i[y]=Gt(Gt({},v),{},{isShow:!0}))},p=l-1;p>=0;p--)h(p);return i}function oK(e,t,r,n,a,i){var l=(n||[]).slice(),u=l.length,{start:d,end:h}=t;if(i){var p=n[u-1],m=r(p,u-1),y=e*(p.coordinate+e*m/2-h);l[u-1]=p=Gt(Gt({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate});var v=ld(e,p.tickCoord,()=>m,d,h);v&&(h=p.tickCoord-e*(m/2+a),l[u-1]=Gt(Gt({},p),{},{isShow:!0}))}for(var j=i?u-1:u,b=function(A){var P=l[A],C,E=()=>(C===void 0&&(C=r(P,A)),C);if(A===0){var S=e*(P.coordinate-e*E()/2-d);l[A]=P=Gt(Gt({},P),{},{tickCoord:S<0?P.coordinate-S*e:P.coordinate})}else l[A]=P=Gt(Gt({},P),{},{tickCoord:P.coordinate});var T=ld(e,P.tickCoord,E,d,h);T&&(d=P.tickCoord+e*(E()/2+a),l[A]=Gt(Gt({},P),{},{isShow:!0}))},k=0;k<j;k++)b(k);return l}function S0(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:l,orientation:u,interval:d,tickFormatter:h,unit:p,angle:m}=e;if(!a||!a.length||!n)return[];if(fe(d)||ea.isSsr){var y;return(y=tK(a,fe(d)?d:0))!==null&&y!==void 0?y:[]}var v=[],j=u==="top"||u==="bottom"?"width":"height",b=p&&j==="width"?Yo(p,{fontSize:t,letterSpacing:r}):{width:0,height:0},k=(P,C)=>{var E=typeof h=="function"?h(P.value,C):P.value;return j==="width"?ZW(Yo(E,{fontSize:t,letterSpacing:r}),b,m):Yo(E,{fontSize:t,letterSpacing:r})[j]},N=a.length>=2?Rt(a[1].coordinate-a[0].coordinate):1,A=eK(i,N,j);return d==="equidistantPreserveStart"?rK(N,A,k,a,l):(d==="preserveStart"||d==="preserveStartEnd"?v=oK(N,A,k,a,l,d==="preserveStartEnd"):v=sK(N,A,k,a,l),v.filter(P=>P.isShow))}var lK=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,l=0;if(t){Array.from(t).forEach(p=>{if(p){var m=p.getBoundingClientRect();m.width>l&&(l=m.width)}});var u=r?r.getBoundingClientRect().width:0,d=a+i,h=l+d+u+(r?n:0);return Math.round(h)}return 0},cK=["axisLine","width","height","className","hide","ticks"],uK=["viewBox"],dK=["viewBox"];function cv(e,t){if(e==null)return{};var r,n,a=fK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ki(){return ki=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ki.apply(null,arguments)}function pS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pS(Object(r),!0).forEach(function(n){hK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hK(e,t,r){return(t=pK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pK(e){var t=mK(e,"string");return typeof t=="symbol"?t:t+""}function mK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N0={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function gK(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:l,axisLine:u,otherSvgProps:d}=e;if(!u)return null;var h=kt(kt(kt({},d),ar(u)),{},{fill:"none"});if(i==="top"||i==="bottom"){var p=+(i==="top"&&!l||i==="bottom"&&l);h=kt(kt({},h),{},{x1:t,y1:r+p*a,x2:t+n,y2:r+p*a})}else{var m=+(i==="left"&&!l||i==="right"&&l);h=kt(kt({},h),{},{x1:t+m*n,y1:r,x2:t+m*n,y2:r+a})}return x.createElement("line",ki({},h,{className:Te("recharts-cartesian-axis-line",vi(u,"className"))}))}function vK(e,t,r,n,a,i,l,u,d){var h,p,m,y,v,j,b=u?-1:1,k=e.tickSize||l,N=fe(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":h=p=e.coordinate,y=r+ +!u*a,m=y-b*k,j=m-b*d,v=N;break;case"left":m=y=e.coordinate,p=t+ +!u*n,h=p-b*k,v=h-b*d,j=N;break;case"right":m=y=e.coordinate,p=t+ +u*n,h=p+b*k,v=h+b*d,j=N;break;default:h=p=e.coordinate,y=r+ +u*a,m=y+b*k,j=m+b*d,v=N;break}return{line:{x1:h,y1:m,x2:p,y2:y},tick:{x:v,y:j}}}function yK(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function xK(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function bK(e){var{option:t,tickProps:r,value:n}=e,a,i=Te(r.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))a=x.cloneElement(t,kt(kt({},r),{},{className:i}));else if(typeof t=="function")a=t(kt(kt({},r),{},{className:i}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=Te(l,t?.className)),a=x.createElement(of,ki({},r,{className:l}),n)}return a}function wK(e){var{ticks:t=[],tick:r,tickLine:n,stroke:a,tickFormatter:i,unit:l,padding:u,tickTextProps:d,orientation:h,mirror:p,x:m,y,width:v,height:j,tickSize:b,tickMargin:k,fontSize:N,letterSpacing:A,getTicksConfig:P,events:C}=e,E=S0(kt(kt({},P),{},{ticks:t}),N,A),S=yK(h,p),T=xK(h,p),I=ar(P),M=gi(r),z={};typeof n=="object"&&(z=n);var W=kt(kt({},I),{},{fill:"none"},z),V=E.map((Q,se)=>{var{line:Y,tick:oe}=vK(Q,m,y,v,j,h,b,p,k),te=kt(kt(kt(kt({textAnchor:S,verticalAnchor:T},I),{},{stroke:"none",fill:a},M),oe),{},{index:se,payload:Q,visibleTicksCount:E.length,tickFormatter:i,padding:u},d);return x.createElement(ct,ki({className:"recharts-cartesian-axis-tick",key:"tick-".concat(Q.value,"-").concat(Q.coordinate,"-").concat(Q.tickCoord)},yl(C,Q,se)),n&&x.createElement("line",ki({},W,Y,{className:Te("recharts-cartesian-axis-tick-line",vi(n,"className"))})),r&&x.createElement(bK,{option:r,tickProps:te,value:"".concat(typeof i=="function"?i(Q.value,se):Q.value).concat(l||"")}))});return V.length>0?x.createElement("g",{className:"recharts-cartesian-axis-ticks"},V):null}var jK=x.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:l,ticks:u}=e,d=cv(e,cK),[h,p]=x.useState(""),[m,y]=x.useState(""),v=x.useRef(null);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var b;return lK({ticks:v.current,label:(b=e.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var j=x.useCallback(b=>{if(b){var k=b.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=k;var N=k[0];if(N){var A=window.getComputedStyle(N),P=A.fontSize,C=A.letterSpacing;(P!==h||C!==m)&&(p(P),y(C))}}},[h,m]);return l||n!=null&&n<=0||a!=null&&a<=0?null:x.createElement(ct,{className:Te("recharts-cartesian-axis",i),ref:j},x.createElement(gK,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:ar(e)}),x.createElement(wK,{ticks:u,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:h,letterSpacing:m,getTicksConfig:e,events:d}),x.createElement(S7,{x:e.x,y:e.y,width:e.width,height:e.height},x.createElement(D7,{label:e.label,labelRef:e.labelRef}),e.children))}),kK=x.memo(jK,(e,t)=>{var{viewBox:r}=e,n=cv(e,uK),{viewBox:a}=t,i=cv(t,dK);return Ss(r,a)&&Ss(n,i)}),E0=x.forwardRef((e,t)=>{var r=St(e,N0);return x.createElement(kK,ki({},r,{ref:t}))});E0.displayName="CartesianAxis";var _K=["x1","y1","x2","y2","key"],SK=["offset"],NK=["xAxisId","yAxisId"],EK=["xAxisId","yAxisId"];function mS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mS(Object(r),!0).forEach(function(n){PK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PK(e,t,r){return(t=OK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OK(e){var t=AK(e,"string");return typeof t=="symbol"?t:t+""}function AK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function di(){return di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},di.apply(null,arguments)}function cd(e,t){if(e==null)return{};var r,n,a=CK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function CK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var TK=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:l,ry:u}=e;return x.createElement("rect",{x:n,y:a,ry:u,width:i,height:l,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function lA(e,t){var r;if(x.isValidElement(e))r=x.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:a,x2:i,y2:l,key:u}=t,d=cd(t,_K),h=ar(d),{offset:p}=h,m=cd(h,SK);r=x.createElement("line",di({},m,{x1:n,y1:a,x2:i,y2:l,fill:"none",key:u}))}return r}function RK(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:l}=e,u=cd(e,NK),d=a.map((h,p)=>{var m=Yt(Yt({},u),{},{x1:t,y1:h,x2:t+r,y2:h,key:"line-".concat(p),index:p});return lA(n,m)});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function IK(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:l}=e,u=cd(e,EK),d=a.map((h,p)=>{var m=Yt(Yt({},u),{},{x1:h,y1:t,x2:h,y2:t+r,key:"line-".concat(p),index:p});return lA(n,m)});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function DK(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:l,horizontalPoints:u,horizontal:d=!0}=e;if(!d||!t||!t.length)return null;var h=u.map(m=>Math.round(m+a-a)).sort((m,y)=>m-y);a!==h[0]&&h.unshift(0);var p=h.map((m,y)=>{var v=!h[y+1],j=v?a+l-m:h[y+1]-m;if(j<=0)return null;var b=y%t.length;return x.createElement("rect",{key:"react-".concat(y),y:m,x:n,height:j,width:i,stroke:"none",fill:t[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function MK(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:l,height:u,verticalPoints:d}=e;if(!t||!r||!r.length)return null;var h=d.map(m=>Math.round(m+a-a)).sort((m,y)=>m-y);a!==h[0]&&h.unshift(0);var p=h.map((m,y)=>{var v=!h[y+1],j=v?a+l-m:h[y+1]-m;if(j<=0)return null;var b=y%r.length;return x.createElement("rect",{key:"react-".concat(y),x:m,y:i,width:j,height:u,stroke:"none",fill:r[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var LK=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return sP(S0(Yt(Yt(Yt({},N0),r),{},{ticks:oP(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},$K=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return sP(S0(Yt(Yt(Yt({},N0),r),{},{ticks:oP(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},BK={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function P0(e){var t=Zv(),r=ey(),n=mP(),a=Yt(Yt({},St(e,BK)),{},{x:fe(e.x)?e.x:n.left,y:fe(e.y)?e.y:n.top,width:fe(e.width)?e.width:n.width,height:fe(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:l,x:u,y:d,width:h,height:p,syncWithTicks:m,horizontalValues:y,verticalValues:v}=a,j=Bt(),b=he(M=>h_(M,"xAxis",i,j)),k=he(M=>h_(M,"yAxis",l,j));if(!fe(h)||h<=0||!fe(p)||p<=0||!fe(u)||u!==+u||!fe(d)||d!==+d)return null;var N=a.verticalCoordinatesGenerator||LK,A=a.horizontalCoordinatesGenerator||$K,{horizontalPoints:P,verticalPoints:C}=a;if((!P||!P.length)&&typeof A=="function"){var E=y&&y.length,S=A({yAxis:k?Yt(Yt({},k),{},{ticks:E?y:k.ticks}):void 0,width:t,height:r,offset:n},E?!0:m);Uu(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(P=S)}if((!C||!C.length)&&typeof N=="function"){var T=v&&v.length,I=N({xAxis:b?Yt(Yt({},b),{},{ticks:T?v:b.ticks}):void 0,width:t,height:r,offset:n},T?!0:m);Uu(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(C=I)}return x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(TK,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),x.createElement(DK,di({},a,{horizontalPoints:P})),x.createElement(MK,di({},a,{verticalPoints:C})),x.createElement(RK,di({},a,{offset:n,horizontalPoints:P,xAxis:b,yAxis:k})),x.createElement(IK,di({},a,{offset:n,verticalPoints:C,xAxis:b,yAxis:k})))}P0.displayName="CartesianGrid";var cA=(e,t,r,n)=>Sn(e,"xAxis",t,n),uA=(e,t,r,n)=>_n(e,"xAxis",t,n),dA=(e,t,r,n)=>Sn(e,"yAxis",r,n),fA=(e,t,r,n)=>_n(e,"yAxis",r,n),FK=F([Ae,cA,dA,uA,fA],(e,t,r,n,a)=>Pn(e,"xAxis")?bi(t,n,!1):bi(r,a,!1)),UK=(e,t,r,n,a)=>a;function zK(e){return e.type==="line"}var qK=F([Cl,UK],(e,t)=>e.filter(zK).find(r=>r.id===t)),WK=F([Ae,cA,dA,uA,fA,qK,FK,El],(e,t,r,n,a,i,l,u)=>{var{chartData:d,dataStartIndex:h,dataEndIndex:p}=u;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||l==null)){var{dataKey:m,data:y}=i,v;if(y!=null&&y.length>0?v=y:v=d?.slice(h,p+1),v!=null)return fV({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:m,bandSize:l,displayedData:v})}});function hA(e){var t=gi(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:i}=t,l=Number(a),u=Number(i);return(Number.isNaN(l)||l<0)&&(l=r),(Number.isNaN(u)||u<0)&&(u=n),{r:l,strokeWidth:u}}return{r,strokeWidth:n}}var KK=["id"],VK=["type","layout","connectNulls","needClip"],HK=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function gS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gS(Object(r),!0).forEach(function(n){GK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GK(e,t,r){return(t=YK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YK(e){var t=XK(e,"string");return typeof t=="symbol"?t:t+""}function XK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O0(e,t){if(e==null)return{};var r,n,a=JK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function JK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _i(){return _i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_i.apply(null,arguments)}var QK=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:La(r,t),payload:e}]};function ZK(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:l,hide:u,unit:d}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:La(l,t),hide:u,type:e.tooltipType,color:e.stroke,unit:d}}}var pA=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function eV(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var tV=(e,t,r)=>{var n=r.reduce((m,y)=>m+y);if(!n)return pA(t,e);for(var a=Math.floor(e/n),i=e%n,l=t-e,u=[],d=0,h=0;d<r.length;h+=r[d],++d)if(h+r[d]>i){u=[...r.slice(0,d),i-h];break}var p=u.length%2===0?[0,l]:[l];return[...eV(r,a),...u,...p].map(m=>"".concat(m,"px")).join(", ")};function rV(e,t){var r;if(x.isValidElement(e))r=x.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=Te("recharts-line-dot",typeof e!="boolean"?e.className:"");r=x.createElement(d0,_i({},t,{className:n}))}return r}function nV(e,t){return e==null?!1:t?!0:e.length===1}function aV(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:l}=n;if(!nV(r,a))return null;var{id:u}=n,d=O0(n,KK),h=df(a),p=ar(d),m=YN(a),y=r.map((j,b)=>{var k=_r(_r(_r({key:"dot-".concat(b),r:3},p),m),{},{index:b,cx:j.x,cy:j.y,dataKey:i,value:j.value,payload:j.payload,points:r});return rV(a,k)}),v={clipPath:l?"url(#clipPath-".concat(h?"":"dots-").concat(t,")"):void 0};return x.createElement(ct,_i({className:"recharts-line-dots",key:"dots"},v),y)}function iV(e){var{showLabels:t,children:r,points:n}=e,a=x.useMemo(()=>n?.map(i=>{var l={x:i.x,y:i.y,width:0,height:0};return _r(_r({},l),{},{value:i.value,payload:i.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[n]);return x.createElement(u0,{value:t?a:null},r)}function vS(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i}=e,{type:l,layout:u,connectNulls:d,needClip:h}=i,p=O0(i,VK),m=_r(_r({},ir(p)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(t,")"):void 0,points:n,type:l,layout:u,connectNulls:d,strokeDasharray:a??i.strokeDasharray});return x.createElement(x.Fragment,null,n?.length>1&&x.createElement(ps,_i({},m,{pathRef:r})),x.createElement(aV,{points:n,clipPathId:t,props:i}))}function sV(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function oV(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:l,strokeDasharray:u,isAnimationActive:d,animationBegin:h,animationDuration:p,animationEasing:m,animateNewValues:y,width:v,height:j,onAnimationEnd:b,onAnimationStart:k}=r,N=a.current,A=Is(r,"recharts-line-"),[P,C]=x.useState(!1),E=!P,S=x.useCallback(()=>{typeof b=="function"&&b(),C(!1)},[b]),T=x.useCallback(()=>{typeof k=="function"&&k(),C(!0)},[k]),I=sV(n.current),M=i.current;return x.createElement(iV,{points:l,showLabels:E},r.children,x.createElement(Rs,{animationId:A,begin:h,duration:p,isActive:d,easing:m,onAnimationEnd:S,onAnimationStart:T,key:A},z=>{var W=ze(M,I+M,z),V=Math.min(W,I),Q;if(d)if(u){var se="".concat(u).split(/[,\s]+/gim).map(te=>parseFloat(te));Q=tV(V,I,se)}else Q=pA(I,V);else Q=u==null?void 0:String(u);if(N){var Y=N.length/l.length,oe=z===1?l:l.map((te,G)=>{var ie=Math.floor(G*Y);if(N[ie]){var ae=N[ie];return _r(_r({},te),{},{x:ze(ae.x,te.x,z),y:ze(ae.y,te.y,z)})}return y?_r(_r({},te),{},{x:ze(v*2,te.x,z),y:ze(j/2,te.y,z)}):_r(_r({},te),{},{x:te.x,y:te.y})});return a.current=oe,x.createElement(vS,{props:r,points:oe,clipPathId:t,pathRef:n,strokeDasharray:Q})}return z>0&&I>0&&(a.current=l,i.current=V),x.createElement(vS,{props:r,points:l,clipPathId:t,pathRef:n,strokeDasharray:Q})}),x.createElement(lf,{label:r.label}))}function lV(e){var{clipPathId:t,props:r}=e,n=x.useRef(null),a=x.useRef(0),i=x.useRef(null);return x.createElement(oV,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:i})}var cV=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:qe(e.payload,t)});class uV extends x.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:i,yAxisId:l,top:u,left:d,width:h,height:p,id:m,needClip:y}=this.props;if(t)return null;var v=Te("recharts-line",a),j=m,{r:b,strokeWidth:k}=hA(r),N=df(r),A=b*2+k;return x.createElement(x.Fragment,null,x.createElement(ct,{className:v},y&&x.createElement("defs",null,x.createElement(k0,{clipPathId:j,xAxisId:i,yAxisId:l}),!N&&x.createElement("clipPath",{id:"clipPath-dots-".concat(j)},x.createElement("rect",{x:d-A/2,y:u-A/2,width:h+A,height:p+A}))),x.createElement(tA,{xAxisId:i,yAxisId:l,data:n,dataPointFormatter:cV,errorBarOffset:0},x.createElement(lV,{props:this.props,clipPathId:j}))),x.createElement(sv,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var mA={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!ea.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function dV(e){var t=St(e,mA),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:l,connectNulls:u,dot:d,hide:h,isAnimationActive:p,label:m,legendType:y,xAxisId:v,yAxisId:j,id:b}=t,k=O0(t,HK),{needClip:N}=mf(v,j),A=pf(),P=jl(),C=Bt(),E=he(z=>WK(z,v,j,C,b));if(P!=="horizontal"&&P!=="vertical"||E==null||A==null)return null;var{height:S,width:T,x:I,y:M}=A;return x.createElement(uV,_i({},k,{id:b,connectNulls:u,dot:d,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:l,isAnimationActive:p,hide:h,label:m,legendType:y,xAxisId:v,yAxisId:j,points:E,layout:P,height:S,width:T,left:I,top:M,needClip:N}))}function fV(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:l,bandSize:u,displayedData:d}=e;return d.map((h,p)=>{var m=qe(h,l);if(t==="horizontal"){var y=Fu({axis:r,ticks:a,bandSize:u,entry:h,index:p}),v=Je(m)?null:n.scale(m);return{x:y,y:v,value:m,payload:h}}var j=Je(m)?null:r.scale(m),b=Fu({axis:n,ticks:i,bandSize:u,entry:h,index:p});return j==null||b==null?null:{x:j,y:b,value:m,payload:h}}).filter(Boolean)}function hV(e){var t=St(e,mA),r=Bt();return x.createElement(hf,{id:t.id,type:"line"},n=>x.createElement(x.Fragment,null,x.createElement(y0,{legendPayload:QK(t)}),x.createElement(ff,{fn:ZK,args:t}),x.createElement(x0,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),x.createElement(dV,_i({},t,{id:n}))))}var uv=x.memo(hV);uv.displayName="Line";var gA=(e,t,r,n)=>Sn(e,"xAxis",t,n),vA=(e,t,r,n)=>_n(e,"xAxis",t,n),yA=(e,t,r,n)=>Sn(e,"yAxis",r,n),xA=(e,t,r,n)=>_n(e,"yAxis",r,n),pV=F([Ae,gA,yA,vA,xA],(e,t,r,n,a)=>Pn(e,"xAxis")?bi(t,n,!1):bi(r,a,!1)),mV=(e,t,r,n,a)=>a,bA=F([Cl,mV],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),gV=(e,t,r,n,a)=>{var i,l=bA(e,t,r,n,a);if(l!=null){var u=Ae(e),d=Pn(u,"xAxis"),h;if(d?h=hl(e,"yAxis",r,n):h=hl(e,"xAxis",t,n),h!=null){var{stackId:p}=l,m=Yd(l);if(!(p==null||m==null)){var y=(i=h[p])===null||i===void 0?void 0:i.stackedData;return y?.find(v=>v.key===m)}}}},vV=F([Ae,gA,yA,vA,xA,gV,El,pV,bA],(e,t,r,n,a,i,l,u,d)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:m}=l;if(!(d==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||a==null||n.length===0||a.length===0||u==null)){var{data:y}=d,v;if(y&&y.length>0?v=y:v=h?.slice(p,m+1),v!=null){var j=void 0;return $V({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataStartIndex:p,areaSettings:d,stackedData:i,displayedData:v,chartBaseValue:j,bandSize:u})}}}),yV=["id"],xV=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function wA(e,t){if(e==null)return{};var r,n,a=bV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function bV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yS(Object(r),!0).forEach(function(n){wV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wV(e,t,r){return(t=jV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jV(e){var t=kV(e,"string");return typeof t=="symbol"?t:t+""}function kV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vn(){return Vn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vn.apply(null,arguments)}function ud(e,t){return e&&e!=="none"?e:t}var _V=e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:i,hide:l}=e;return[{inactive:l,dataKey:t,type:i,color:ud(n,a),value:La(r,t),payload:e}]};function SV(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:l,hide:u,unit:d}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:La(l,t),hide:u,type:e.tooltipType,color:ud(n,i),unit:d}}}var NV=(e,t)=>{var r;if(x.isValidElement(e))r=x.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=Te("recharts-area-dot",typeof e!="boolean"?e.className:"");r=x.createElement(d0,Vn({},t,{className:n}))}return r};function EV(e,t){return e==null?!1:t?!0:e.length===1}function PV(e){var{clipPathId:t,points:r,props:n}=e,{needClip:a,dot:i,dataKey:l}=n;if(!EV(r,i))return null;var u=df(i),d=ar(n),h=YN(i),p=r.map((y,v)=>{var j=zn(zn(zn({key:"dot-".concat(v),r:3},d),h),{},{index:v,cx:y.x,cy:y.y,dataKey:l,value:y.value,payload:y.payload,points:r});return NV(i,j)}),m={clipPath:a?"url(#clipPath-".concat(u?"":"dots-").concat(t,")"):void 0};return x.createElement(ct,Vn({className:"recharts-area-dots"},m),p)}function OV(e){var{showLabels:t,children:r,points:n}=e,a=n.map(i=>{var l={x:i.x,y:i.y,width:0,height:0};return zn(zn({},l),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return x.createElement(u0,{value:t?a:null},r)}function xS(e){var{points:t,baseLine:r,needClip:n,clipPathId:a,props:i}=e,{layout:l,type:u,stroke:d,connectNulls:h,isRange:p}=i,{id:m}=i,y=wA(i,yV),v=ar(y);return x.createElement(x.Fragment,null,t?.length>1&&x.createElement(ct,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},x.createElement(ps,Vn({},v,{id:m,points:t,connectNulls:h,type:u,baseLine:r,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&x.createElement(ps,Vn({},v,{className:"recharts-area-curve",layout:l,type:u,connectNulls:h,fill:"none",points:t})),d!=="none"&&p&&x.createElement(ps,Vn({},v,{className:"recharts-area-curve",layout:l,type:u,connectNulls:h,fill:"none",points:r}))),x.createElement(PV,{points:t,props:y,clipPathId:a}))}function AV(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,i=n[0].y,l=n[n.length-1].y;if(!yt(i)||!yt(l))return null;var u=t*Math.abs(i-l),d=Math.max(...n.map(h=>h.x||0));return fe(r)?d=Math.max(r,d):r&&Array.isArray(r)&&r.length&&(d=Math.max(...r.map(h=>h.x||0),d)),fe(d)?x.createElement("rect",{x:0,y:i<l?i:i-u,width:d+(a?parseInt("".concat(a),10):1),height:Math.floor(u)}):null}function CV(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,i=n[0].x,l=n[n.length-1].x;if(!yt(i)||!yt(l))return null;var u=t*Math.abs(i-l),d=Math.max(...n.map(h=>h.y||0));return fe(r)?d=Math.max(r,d):r&&Array.isArray(r)&&r.length&&(d=Math.max(...r.map(h=>h.y||0),d)),fe(d)?x.createElement("rect",{x:i<l?i:i-u,y:0,width:u,height:Math.floor(d+(a?parseInt("".concat(a),10):1))}):null}function TV(e){var{alpha:t,layout:r,points:n,baseLine:a,strokeWidth:i}=e;return r==="vertical"?x.createElement(AV,{alpha:t,points:n,baseLine:a,strokeWidth:i}):x.createElement(CV,{alpha:t,points:n,baseLine:a,strokeWidth:i})}function RV(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i}=e,{points:l,baseLine:u,isAnimationActive:d,animationBegin:h,animationDuration:p,animationEasing:m,onAnimationStart:y,onAnimationEnd:v}=n,j=Is(n,"recharts-area-"),[b,k]=x.useState(!1),N=!b,A=x.useCallback(()=>{typeof v=="function"&&v(),k(!1)},[v]),P=x.useCallback(()=>{typeof y=="function"&&y(),k(!0)},[y]),C=a.current,E=i.current;return x.createElement(OV,{showLabels:N,points:l},n.children,x.createElement(Rs,{animationId:j,begin:h,duration:p,isActive:d,easing:m,onAnimationEnd:A,onAnimationStart:P,key:j},S=>{if(C){var T=C.length/l.length,I=S===1?l:l.map((z,W)=>{var V=Math.floor(W*T);if(C[V]){var Q=C[V];return zn(zn({},z),{},{x:ze(Q.x,z.x,S),y:ze(Q.y,z.y,S)})}return z}),M;return fe(u)?M=ze(E,u,S):Je(u)||Or(u)?M=ze(E,0,S):M=u.map((z,W)=>{var V=Math.floor(W*T);if(Array.isArray(E)&&E[V]){var Q=E[V];return zn(zn({},z),{},{x:ze(Q.x,z.x,S),y:ze(Q.y,z.y,S)})}return z}),S>0&&(a.current=I,i.current=M),x.createElement(xS,{points:I,baseLine:M,needClip:t,clipPathId:r,props:n})}return S>0&&(a.current=l,i.current=u),x.createElement(ct,null,d&&x.createElement("defs",null,x.createElement("clipPath",{id:"animationClipPath-".concat(r)},x.createElement(TV,{alpha:S,points:l,baseLine:u,layout:n.layout,strokeWidth:n.strokeWidth}))),x.createElement(ct,{clipPath:"url(#animationClipPath-".concat(r,")")},x.createElement(xS,{points:l,baseLine:u,needClip:t,clipPathId:r,props:n})))}),x.createElement(lf,{label:n.label}))}function IV(e){var{needClip:t,clipPathId:r,props:n}=e,a=x.useRef(null),i=x.useRef();return x.createElement(RV,{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i})}class DV extends x.PureComponent{render(){var{hide:t,dot:r,points:n,className:a,top:i,left:l,needClip:u,xAxisId:d,yAxisId:h,width:p,height:m,id:y,baseLine:v}=this.props;if(t)return null;var j=Te("recharts-area",a),b=y,{r:k,strokeWidth:N}=hA(r),A=df(r),P=k*2+N;return x.createElement(x.Fragment,null,x.createElement(ct,{className:j},u&&x.createElement("defs",null,x.createElement(k0,{clipPathId:b,xAxisId:d,yAxisId:h}),!A&&x.createElement("clipPath",{id:"clipPath-dots-".concat(b)},x.createElement("rect",{x:l-P/2,y:i-P/2,width:p+P,height:m+P}))),x.createElement(IV,{needClip:u,clipPathId:b,props:this.props})),x.createElement(sv,{points:n,mainColor:ud(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(v)&&x.createElement(sv,{points:v,mainColor:ud(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var jA={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!ea.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function MV(e){var t,r=St(e,jA),{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:l,connectNulls:u,dot:d,fill:h,fillOpacity:p,hide:m,isAnimationActive:y,legendType:v,stroke:j,xAxisId:b,yAxisId:k}=r,N=wA(r,xV),A=jl(),P=N2(),{needClip:C}=mf(b,k),E=Bt(),{points:S,isRange:T,baseLine:I}=(t=he(se=>vV(se,b,k,E,e.id)))!==null&&t!==void 0?t:{},M=pf();if(A!=="horizontal"&&A!=="vertical"||M==null||P!=="AreaChart"&&P!=="ComposedChart")return null;var{height:z,width:W,x:V,y:Q}=M;return!S||!S.length?null:x.createElement(DV,Vn({},N,{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:l,baseLine:I,connectNulls:u,dot:d,fill:h,fillOpacity:p,height:z,hide:m,layout:A,isAnimationActive:y,isRange:T,legendType:v,needClip:C,points:S,stroke:j,width:W,left:V,top:Q,xAxisId:b,yAxisId:k}))}var LV=(e,t,r,n,a)=>{var i=r??t;if(fe(i))return i;var l=e==="horizontal"?a:n,u=l.scale.domain();if(l.type==="number"){var d=Math.max(u[0],u[1]),h=Math.min(u[0],u[1]);return i==="dataMin"?h:i==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return i==="dataMin"?u[0]:i==="dataMax"?u[1]:u[0]};function $V(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:a,layout:i,chartBaseValue:l,xAxis:u,yAxis:d,displayedData:h,dataStartIndex:p,xAxisTicks:m,yAxisTicks:y,bandSize:v}=e,j=a&&a.length,b=LV(i,l,r,u,d),k=i==="horizontal",N=!1,A=h.map((C,E)=>{var S;j?S=a[p+E]:(S=qe(C,n),Array.isArray(S)?N=!0:S=[b,S]);var T=S[1]==null||j&&!t&&qe(C,n)==null;return k?{x:Fu({axis:u,ticks:m,bandSize:v,entry:C,index:E}),y:T?null:d.scale(S[1]),value:S,payload:C}:{x:T?null:u.scale(S[1]),y:Fu({axis:d,ticks:y,bandSize:v,entry:C,index:E}),value:S,payload:C}}),P;return j||N?P=A.map(C=>{var E=Array.isArray(C.value)?C.value[0]:null;return k?{x:C.x,y:E!=null&&C.y!=null?d.scale(E):null,payload:C.payload}:{x:E!=null?u.scale(E):null,y:C.y,payload:C.payload}}):P=k?d.scale(b):u.scale(b),{points:A,baseLine:P,isRange:N}}function BV(e){var t=St(e,jA),r=Bt();return x.createElement(hf,{id:t.id,type:"area"},n=>x.createElement(x.Fragment,null,x.createElement(y0,{legendPayload:_V(t)}),x.createElement(ff,{fn:SV,args:t}),x.createElement(x0,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:lP(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),x.createElement(MV,Vn({},t,{id:n}))))}var kA=x.memo(BV);kA.displayName="Area";var FV=["dangerouslySetInnerHTML","ticks"],UV=["id"],zV=["domain"],qV=["domain"];function dv(){return dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dv.apply(null,arguments)}function dd(e,t){if(e==null)return{};var r,n,a=WV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function WV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function KV(e){var t=rt();return x.useLayoutEffect(()=>(t(yq(e)),()=>{t(xq(e))}),[e,t]),null}var VV=e=>{var{xAxisId:t,className:r}=e,n=he(Jv),a=Bt(),i="xAxis",l=he(k=>zs(k,i,t,a)),u=he(k=>n2(k,i,t,a)),d=he(k=>ZO(k,t)),h=he(k=>s8(k,t)),p=he(k=>IO(k,t));if(d==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:m,ticks:y}=e,v=dd(e,FV),{id:j}=p,b=dd(p,UV);return x.createElement(E0,dv({},v,b,{scale:l,x:h.x,y:h.y,width:d.width,height:d.height,className:Te("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:u}))},HV={allowDataOverflow:wr.allowDataOverflow,allowDecimals:wr.allowDecimals,allowDuplicatedCategory:wr.allowDuplicatedCategory,height:wr.height,hide:!1,mirror:wr.mirror,orientation:wr.orientation,padding:wr.padding,reversed:wr.reversed,scale:wr.scale,tickCount:wr.tickCount,type:wr.type,xAxisId:0},GV=e=>{var t,r,n,a,i,l=St(e,HV);return x.createElement(x.Fragment,null,x.createElement(KV,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(r=l.includeHidden)!==null&&r!==void 0?r:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(n=l.angle)!==null&&n!==void 0?n:0,minTickGap:(a=l.minTickGap)!==null&&a!==void 0?a:5,tick:(i=l.tick)!==null&&i!==void 0?i:!0,tickFormatter:l.tickFormatter}),x.createElement(VV,l))},YV=(e,t)=>{var{domain:r}=e,n=dd(e,zV),{domain:a}=t,i=dd(t,qV);return Ss(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:Ss({domain:r},{domain:a}):!1},A0=x.memo(GV,YV);A0.displayName="XAxis";var XV=["dangerouslySetInnerHTML","ticks"],JV=["id"],QV=["domain"],ZV=["domain"];function fv(){return fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fv.apply(null,arguments)}function fd(e,t){if(e==null)return{};var r,n,a=eH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function eH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function tH(e){var t=rt();return x.useLayoutEffect(()=>(t(bq(e)),()=>{t(wq(e))}),[e,t]),null}var rH=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=x.useRef(null),l=x.useRef(null),u=he(Jv),d=Bt(),h=rt(),p="yAxis",m=he(E=>zs(E,p,t,d)),y=he(E=>e2(E,t)),v=he(E=>l8(E,t)),j=he(E=>n2(E,p,t,d)),b=he(E=>DO(E,t));if(x.useLayoutEffect(()=>{if(!(n!=="auto"||!y||c0(a)||x.isValidElement(a)||b==null)){var E=i.current;if(E){var S=E.getCalculatedWidth();Math.round(y.width)!==Math.round(S)&&h(jq({id:t,width:S}))}}},[j,y,h,a,t,n,b]),y==null||v==null||b==null)return null;var{dangerouslySetInnerHTML:k,ticks:N}=e,A=fd(e,XV),{id:P}=b,C=fd(b,JV);return x.createElement(E0,fv({},A,C,{ref:i,labelRef:l,scale:m,x:v.x,y:v.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:y.width,height:y.height,className:Te("recharts-".concat(p," ").concat(p),r),viewBox:u,ticks:j}))},nH={allowDataOverflow:jr.allowDataOverflow,allowDecimals:jr.allowDecimals,allowDuplicatedCategory:jr.allowDuplicatedCategory,hide:!1,mirror:jr.mirror,orientation:jr.orientation,padding:jr.padding,reversed:jr.reversed,scale:jr.scale,tickCount:jr.tickCount,type:jr.type,width:jr.width,yAxisId:0},aH=e=>{var t,r,n,a,i,l=St(e,nH);return x.createElement(x.Fragment,null,x.createElement(tH,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(r=l.includeHidden)!==null&&r!==void 0?r:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(n=l.angle)!==null&&n!==void 0?n:0,minTickGap:(a=l.minTickGap)!==null&&a!==void 0?a:5,tick:(i=l.tick)!==null&&i!==void 0?i:!0,tickFormatter:l.tickFormatter}),x.createElement(rH,l))},iH=(e,t)=>{var{domain:r}=e,n=fd(e,QV),{domain:a}=t,i=fd(t,ZV);return Ss(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:Ss({domain:r},{domain:a}):!1},C0=x.memo(aH,iH);C0.displayName="YAxis";var Xm={exports:{}},Jm={};var bS;function sH(){if(bS)return Jm;bS=1;var e=Ns();function t(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,i=e.useEffect,l=e.useMemo,u=e.useDebugValue;return Jm.useSyncExternalStoreWithSelector=function(d,h,p,m,y){var v=a(null);if(v.current===null){var j={hasValue:!1,value:null};v.current=j}else j=v.current;v=l(function(){function k(E){if(!N){if(N=!0,A=E,E=m(E),y!==void 0&&j.hasValue){var S=j.value;if(y(S,E))return P=S}return P=E}if(S=P,r(A,E))return S;var T=m(E);return y!==void 0&&y(S,T)?(A=E,S):(A=E,P=T)}var N=!1,A,P,C=p===void 0?null:p;return[function(){return k(h())},C===null?void 0:function(){return k(C())}]},[h,p,m,y]);var b=n(d,v[0],v[1]);return i(function(){j.hasValue=!0,j.value=b},[b]),u(b),b},Jm}var wS;function oH(){return wS||(wS=1,Xm.exports=sH()),Xm.exports}oH();function lH(e){e()}function cH(){let e=null,t=null;return{clear(){e=null,t=null},notify(){lH(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var jS={notify(){},get:()=>[]};function uH(e,t){let r,n=jS,a=0,i=!1;function l(b){p();const k=n.subscribe(b);let N=!1;return()=>{N||(N=!0,k(),m())}}function u(){n.notify()}function d(){j.onStateChange&&j.onStateChange()}function h(){return i}function p(){a++,r||(r=e.subscribe(d),n=cH())}function m(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=jS)}function y(){i||(i=!0,p())}function v(){i&&(i=!1,m())}const j={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:h,trySubscribe:y,tryUnsubscribe:v,getListeners:()=>n};return j}var dH=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fH=dH(),hH=()=>typeof navigator<"u"&&navigator.product==="ReactNative",pH=hH(),mH=()=>fH||pH?x.useLayoutEffect:x.useEffect,gH=mH(),vH=Symbol.for("react-redux-context"),yH=typeof globalThis<"u"?globalThis:{};function xH(){if(!x.createContext)return{};const e=yH[vH]??=new Map;let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var bH=xH();function wH(e){const{children:t,context:r,serverState:n,store:a}=e,i=x.useMemo(()=>{const d=uH(a);return{store:a,subscription:d,getServerState:n?()=>n:void 0}},[a,n]),l=x.useMemo(()=>a.getState(),[a]);gH(()=>{const{subscription:d}=i;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==a.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[i,l]);const u=r||bH;return x.createElement(u.Provider,{value:i},t)}var jH=wH,kH=(e,t)=>t,T0=F([kH,Ae,CO,Et,b2,aa,fz,_t],vz),R0=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},_A=Wr("mouseClick"),SA=bl();SA.startListening({actionCreator:_A,effect:(e,t)=>{var r=e.payload,n=T0(t.getState(),R0(r));n?.activeIndex!=null&&t.dispatch(w8({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var hv=Wr("mouseMove"),NA=bl();NA.startListening({actionCreator:hv,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=e0(n,n.tooltip.settings.shared),i=T0(n,R0(r));a==="axis"&&(i?.activeIndex!=null?t.dispatch(d2({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(u2()))}});var kS={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},EA=Cr({name:"rootProps",initialState:kS,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:kS.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),_H=EA.reducer,{updateOptions:SH}=EA.actions,PA=Cr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:NH}=PA.actions,EH=PA.reducer,OA=Wr("keyDown"),AA=Wr("focus"),I0=bl();I0.startListening({actionCreator:OA,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var l=Number(t0(a,Ws(r))),u=aa(r);if(i==="Enter"){var d=nd(r,"axis","hover",String(a.index));t.dispatch(tv({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:d}));return}var h=f8(r),p=h==="left-to-right"?1:-1,m=i==="ArrowRight"?1:-1,y=l+m*p;if(!(u==null||y>=u.length||y<0)){var v=nd(r,"axis","hover",String(y));t.dispatch(tv({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:v}))}}}}});I0.startListening({actionCreator:AA,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",l=nd(r,"axis","hover",String(i));t.dispatch(tv({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:l}))}}}});var Ur=Wr("externalEvent"),CA=bl();CA.startListening({actionCreator:Ur,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:nz(r),activeDataKey:_2(r),activeIndex:Ta(r),activeLabel:k2(r),activeTooltipIndex:Ta(r),isTooltipActive:az(r)};e.payload.handler(n,e.payload.reactEvent)}}});var PH=F([qs],e=>e.tooltipItemPayloads),OH=F([PH,Il,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(u=>u.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var l=t(i,r);return l}}}),TA=Wr("touchMove"),RA=bl();RA.startListening({actionCreator:TA,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=e0(n,n.tooltip.settings.shared);if(a==="axis"){var i=T0(n,R0({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));i?.activeIndex!=null&&t.dispatch(d2({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var l,u=r.touches[0],d=document.elementFromPoint(u.clientX,u.clientY);if(!d||!d.getAttribute)return;var h=d.getAttribute(uP),p=(l=d.getAttribute(dP))!==null&&l!==void 0?l:void 0,m=OH(t.getState(),h,p);t.dispatch(c2({activeDataKey:p,activeIndex:h,activeCoordinate:m}))}}});var AH=RE({brush:qW,cartesianAxis:kq,chartData:Rz,errorBars:zq,graphicalItems:z9,layout:V3,legend:J$,options:Pz,polarAxis:r9,polarOptions:EH,referenceElements:XW,rootProps:_H,tooltip:j8}),CH=function(t){return v3({reducer:AH,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([SA.middleware,NA.middleware,I0.middleware,CA.middleware,RA.middleware]),enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(KE({type:"raf"}))},devTools:ea.devToolsEnabled})};function IA(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Bt(),i=x.useRef(null);if(a)return r;i.current==null&&(i.current=CH(t));var l=Kv;return x.createElement(jH,{context:l,store:i.current},r)}function DA(e){var{layout:t,margin:r}=e,n=rt(),a=Bt();return x.useEffect(()=>{a||(n(q3(t)),n(z3(r)))},[n,a,t,r]),null}function MA(e){var t=rt();return x.useEffect(()=>{t(SH(e))},[t,e]),null}var TH=["children"];function RH(e,t){if(e==null)return{};var r,n,a=IH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function IH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function hd(){return hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hd.apply(null,arguments)}var DH={width:"100%",height:"100%",display:"block"},MH=x.forwardRef((e,t)=>{var r=Zv(),n=ey(),a=xP();if(!bs(r)||!bs(n))return null;var{children:i,otherAttributes:l,title:u,desc:d}=e,h,p;return typeof l.tabIndex=="number"?h=l.tabIndex:h=a?0:void 0,typeof l.role=="string"?p=l.role:p=a?"application":void 0,x.createElement(Rv,hd({},l,{title:u,desc:d,role:p,tabIndex:h,width:r,height:n,style:DH,ref:t}),i)}),LH=e=>{var{children:t}=e,r=he(Md);if(!r)return null;var{width:n,height:a,y:i,x:l}=r;return x.createElement(Rv,{width:n,height:a,x:l,y:i},t)},_S=x.forwardRef((e,t)=>{var{children:r}=e,n=RH(e,TH),a=Bt();return a?x.createElement(LH,null,r):x.createElement(MH,hd({ref:t},n),r)});function $H(){var e=rt(),[t,r]=x.useState(null),n=he(b$);return x.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;yt(i)&&i!==n&&e(K3(i))}},[t,e,n]),r}function SS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function BH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SS(Object(r),!0).forEach(function(n){FH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FH(e,t,r){return(t=UH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UH(e){var t=zH(e,"string");return typeof t=="symbol"?t:t+""}function zH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Si(){return Si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Si.apply(null,arguments)}var qH=()=>(zz(),null);function pd(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var WH=x.forwardRef((e,t)=>{var r,n,a=x.useRef(null),[i,l]=x.useState({containerWidth:pd((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:pd((n=e.style)===null||n===void 0?void 0:n.height)}),u=x.useCallback((h,p)=>{l(m=>{var y=Math.round(h),v=Math.round(p);return m.containerWidth===y&&m.containerHeight===v?m:{containerWidth:y,containerHeight:v}})},[]),d=x.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null){var{width:p,height:m}=h.getBoundingClientRect();u(p,m);var y=j=>{var{width:b,height:k}=j[0].contentRect;u(b,k)},v=new ResizeObserver(y);v.observe(h),a.current=v}},[t,u]);return x.useEffect(()=>()=>{var h=a.current;h?.disconnect()},[u]),x.createElement(x.Fragment,null,x.createElement(Bd,{width:i.containerWidth,height:i.containerHeight}),x.createElement("div",Si({ref:d},e)))}),KH=x.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=x.useState({containerWidth:pd(r),containerHeight:pd(n)}),l=x.useCallback((d,h)=>{i(p=>{var m=Math.round(d),y=Math.round(h);return p.containerWidth===m&&p.containerHeight===y?p:{containerWidth:m,containerHeight:y}})},[]),u=x.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:h,height:p}=d.getBoundingClientRect();l(h,p)}},[t,l]);return x.createElement(x.Fragment,null,x.createElement(Bd,{width:a.containerWidth,height:a.containerHeight}),x.createElement("div",Si({ref:u},e)))}),VH=x.forwardRef((e,t)=>{var{width:r,height:n}=e;return x.createElement(x.Fragment,null,x.createElement(Bd,{width:r,height:n}),x.createElement("div",Si({ref:t},e)))}),HH=x.forwardRef((e,t)=>{var{width:r,height:n}=e;return Hn(r)||Hn(n)?x.createElement(KH,Si({},e,{ref:t})):x.createElement(VH,Si({},e,{ref:t}))});function GH(e){return e===!0?WH:HH}var YH=x.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:l,onDoubleClick:u,onMouseDown:d,onMouseEnter:h,onMouseLeave:p,onMouseMove:m,onMouseUp:y,onTouchEnd:v,onTouchMove:j,onTouchStart:b,style:k,width:N,responsive:A,dispatchTouchEvents:P=!0}=e,C=x.useRef(null),E=rt(),[S,T]=x.useState(null),[I,M]=x.useState(null),z=$H(),W=Qv(),V=W?.width>0?W.width:N,Q=W?.height>0?W.height:a,se=x.useCallback(K=>{z(K),typeof t=="function"&&t(K),T(K),M(K),K!=null&&(C.current=K)},[z,t,T,M]),Y=x.useCallback(K=>{E(_A(K)),E(Ur({handler:i,reactEvent:K}))},[E,i]),oe=x.useCallback(K=>{E(hv(K)),E(Ur({handler:h,reactEvent:K}))},[E,h]),te=x.useCallback(K=>{E(u2()),E(Ur({handler:p,reactEvent:K}))},[E,p]),G=x.useCallback(K=>{E(hv(K)),E(Ur({handler:m,reactEvent:K}))},[E,m]),ie=x.useCallback(()=>{E(AA())},[E]),ae=x.useCallback(K=>{E(OA(K.key))},[E]),$=x.useCallback(K=>{E(Ur({handler:l,reactEvent:K}))},[E,l]),H=x.useCallback(K=>{E(Ur({handler:u,reactEvent:K}))},[E,u]),ye=x.useCallback(K=>{E(Ur({handler:d,reactEvent:K}))},[E,d]),Ee=x.useCallback(K=>{E(Ur({handler:y,reactEvent:K}))},[E,y]),je=x.useCallback(K=>{E(Ur({handler:b,reactEvent:K}))},[E,b]),Ce=x.useCallback(K=>{P&&E(TA(K)),E(Ur({handler:j,reactEvent:K}))},[E,P,j]),Le=x.useCallback(K=>{E(Ur({handler:v,reactEvent:K}))},[E,v]),Re=GH(A);return x.createElement(C2.Provider,{value:S},x.createElement(XN.Provider,{value:I},x.createElement(Re,{width:V??k?.width,height:Q??k?.height,className:Te("recharts-wrapper",n),style:BH({position:"relative",cursor:"default",width:V,height:Q},k),onClick:Y,onContextMenu:$,onDoubleClick:H,onFocus:ie,onKeyDown:ae,onMouseDown:ye,onMouseEnter:oe,onMouseLeave:te,onMouseMove:G,onMouseUp:Ee,onTouchEnd:Le,onTouchMove:Ce,onTouchStart:je,ref:se},x.createElement(qH,null),r)))}),XH=["width","height","responsive","children","className","style","compact","title","desc"];function JH(e,t){if(e==null)return{};var r,n,a=QH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function QH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var LA=x.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:l,style:u,compact:d,title:h,desc:p}=e,m=JH(e,XH),y=ar(m);return d?x.createElement(x.Fragment,null,x.createElement(Bd,{width:r,height:n}),x.createElement(_S,{otherAttributes:y,title:h,desc:p},i)):x.createElement(YH,{className:l,style:u,width:r,height:n,responsive:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(_S,{otherAttributes:y,title:h,desc:p,ref:t},x.createElement(QW,null,i)))});function pv(){return pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pv.apply(null,arguments)}var ZH={top:5,right:5,bottom:5,left:5},eG={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:ZH,reverseStackOrder:!1,syncMethod:"index",responsive:!1},D0=x.forwardRef(function(t,r){var n,a=St(t.categoricalChartProps,eG),{chartName:i,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:h}=t,p={chartName:i,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return x.createElement(IA,{preloadedState:{options:p},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:i},x.createElement(aA,{chartData:h.data}),x.createElement(DA,{layout:a.layout,margin:a.margin}),x.createElement(MA,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),x.createElement(LA,pv({},a,{ref:r})))}),tG=["axis"],rG=x.forwardRef((e,t)=>x.createElement(D0,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:tG,tooltipPayloadSearcher:af,categoricalChartProps:e,ref:t})),nG=["axis","item"],aG=x.forwardRef((e,t)=>x.createElement(D0,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:nG,tooltipPayloadSearcher:af,categoricalChartProps:e,ref:t}));function iG(e){var t=rt();return x.useEffect(()=>{t(NH(e))},[t,e]),null}var sG=["layout"];function mv(){return mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mv.apply(null,arguments)}function oG(e,t){if(e==null)return{};var r,n,a=lG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function lG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var cG={top:5,right:5,bottom:5,left:5},uG={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:cG,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},dG=x.forwardRef(function(t,r){var n,a=St(t.categoricalChartProps,uG),{layout:i}=a,l=oG(a,sG),{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:h,tooltipPayloadSearcher:p}=t,m={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return x.createElement(IA,{preloadedState:{options:m},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:u},x.createElement(aA,{chartData:a.data}),x.createElement(DA,{layout:i,margin:a.margin}),x.createElement(MA,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),x.createElement(iG,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),x.createElement(LA,mv({},l,{ref:r})))}),fG=["item"],hG={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},$A=x.forwardRef((e,t)=>{var r=St(e,hG);return x.createElement(dG,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:fG,tooltipPayloadSearcher:af,categoricalChartProps:r,ref:t})}),pG=["axis"],mG=x.forwardRef((e,t)=>x.createElement(D0,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:pG,tooltipPayloadSearcher:af,categoricalChartProps:e,ref:t}));function gG({data:e,type:t="line"}){if(!e||e.length===0)return c.jsx("div",{className:"flex items-center justify-center h-64 text-gray-400",children:"Aucune donne disponible"});const r=t==="line"?rG:aG;return c.jsx(Ld,{width:"100%",height:300,children:c.jsxs(r,{data:e,children:[c.jsx(P0,{strokeDasharray:"3 3",className:"stroke-gray-200 dark:stroke-gray-700"}),c.jsx(A0,{dataKey:"date",className:"text-gray-600 dark:text-gray-400",style:{fontSize:"12px"}}),c.jsx(C0,{className:"text-gray-600 dark:text-gray-400",style:{fontSize:"12px"}}),c.jsx(sf,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},labelStyle:{fontWeight:"bold",marginBottom:"4px"}}),c.jsx(Ts,{}),t==="line"?c.jsxs(c.Fragment,{children:[c.jsx(uv,{type:"monotone",dataKey:"reservations",name:"Rservations",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6}}),c.jsx(uv,{type:"monotone",dataKey:"confirmees",name:"Confirmes",stroke:"#10b981",strokeWidth:2,dot:{fill:"#10b981",r:4}})]}):c.jsxs(c.Fragment,{children:[c.jsx(lv,{dataKey:"reservations",name:"Rservations",fill:"#3b82f6"}),c.jsx(lv,{dataKey:"confirmees",name:"Confirmes",fill:"#10b981"})]})]})})}function vG({data:e}){if(!e||e.length===0)return c.jsx("div",{className:"flex items-center justify-center h-64 text-gray-400",children:"Aucune donne de revenus disponible"});const t=r=>`${r.toLocaleString()} FCFA`;return c.jsx(Ld,{width:"100%",height:300,children:c.jsxs(mG,{data:e,children:[c.jsx("defs",{children:c.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),c.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),c.jsx(P0,{strokeDasharray:"3 3",className:"stroke-gray-200 dark:stroke-gray-700"}),c.jsx(A0,{dataKey:"date",className:"text-gray-600 dark:text-gray-400",style:{fontSize:"12px"}}),c.jsx(C0,{className:"text-gray-600 dark:text-gray-400",style:{fontSize:"12px"},tickFormatter:t}),c.jsx(sf,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},formatter:t,labelStyle:{fontWeight:"bold",marginBottom:"4px"}}),c.jsx(kA,{type:"monotone",dataKey:"revenue",name:"Revenus",stroke:"#10b981",fillOpacity:1,fill:"url(#colorRevenue)"})]})})}const NS=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4"];function yG({data:e}){if(!e||e.length===0)return c.jsx("div",{className:"flex items-center justify-center h-64 text-gray-400",children:"Aucune donne de compagnies disponible"});const t=r=>`${r.value}`;return c.jsx(Ld,{width:"100%",height:300,children:c.jsxs($A,{children:[c.jsx(w0,{data:e,cx:"50%",cy:"50%",labelLine:!1,label:t,outerRadius:100,fill:"#8884d8",dataKey:"count",nameKey:"name",children:e.map((r,n)=>c.jsx(Ks,{fill:NS[n%NS.length]},`cell-${n}`))}),c.jsx(sf,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},formatter:(r,n)=>[`${r} rservations`,n]}),c.jsx(Ts,{verticalAlign:"bottom",height:36,formatter:r=>c.jsx("span",{className:"text-sm",children:r})})]})})}const xG={"En attente":"#f59e0b",Confirme:"#10b981",Annule:"#ef4444",Expire:"#6b7280"};function bG({data:e}){if(!e||e.length===0)return c.jsx("div",{className:"flex items-center justify-center h-64 text-gray-400",children:"Aucune donne de statut disponible"});const t=r=>`${(r.value/e.reduce((a,i)=>a+i.value,0)*100).toFixed(0)}%`;return c.jsx(Ld,{width:"100%",height:300,children:c.jsxs($A,{children:[c.jsx(w0,{data:e,cx:"50%",cy:"50%",labelLine:!1,label:t,outerRadius:100,fill:"#8884d8",dataKey:"value",nameKey:"name",children:e.map((r,n)=>c.jsx(Ks,{fill:xG[r.name]||"#6b7280"},`cell-${n}`))}),c.jsx(sf,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},formatter:r=>[`${r} rservations`]}),c.jsx(Ts,{verticalAlign:"bottom",height:36,formatter:r=>c.jsx("span",{className:"text-sm",children:r})})]})})}function wG(){const[e,t]=x.useState("7days"),[r,n]=x.useState({totalUsers:0,totalReservations:0,totalTrajets:0,totalRevenue:0,pendingReservations:0,confirmedReservations:0,canceledReservations:0,totalCompagnies:0,totalDestinations:0,totalAvis:0,avgRevenue:0,conversionRate:0,newUsersThisPeriod:0,newReservationsThisPeriod:0}),[a,i]=x.useState([]),[l,u]=x.useState(!0),[d,h]=x.useState({reservations:[],revenue:[],compagnies:[],status:[]});x.useEffect(()=>{m(),y(),v()},[e]);const p=()=>{const b=new Date;switch(e){case"today":const k=new Date;return k.setHours(0,0,0,0),k.toISOString();case"7days":const N=new Date;return N.setDate(N.getDate()-7),N.toISOString();case"30days":const A=new Date;return A.setDate(A.getDate()-30),A.toISOString();case"month":return new Date(b.getFullYear(),b.getMonth(),1).toISOString();default:return null}},m=async()=>{try{console.log(" Loading dashboard stats for period:",e);const b=p(),{count:k}=await ne.from("profiles").select("*",{count:"exact",head:!0});let N=ne.from("profiles").select("*",{count:"exact",head:!0});b&&(N=N.gte("updated_at",b));const{count:A}=await N,{count:P}=await ne.from("reservations").select("*",{count:"exact",head:!0});let C=ne.from("reservations").select("*",{count:"exact",head:!0});b&&(C=C.gte("created_at",b));const{count:E}=await C,{count:S}=await ne.from("trajets").select("*",{count:"exact",head:!0}),{count:T}=await ne.from("compagnies").select("*",{count:"exact",head:!0}),{count:I}=await ne.from("destinations").select("*",{count:"exact",head:!0}),{count:M}=await ne.from("avis").select("*",{count:"exact",head:!0});let z=ne.from("reservations").select("*",{count:"exact",head:!0}).eq("statut","en_attente");b&&(z=z.gte("created_at",b));const{count:W}=await z;let V=ne.from("reservations").select("*",{count:"exact",head:!0}).eq("statut","confirmee");b&&(V=V.gte("created_at",b));const{count:Q}=await V;let se=ne.from("reservations").select("*",{count:"exact",head:!0}).eq("statut","annulee");b&&(se=se.gte("created_at",b));const{count:Y}=await se;let oe=ne.from("reservations").select("montant_total").eq("statut_paiement","approved");b&&(oe=oe.gte("created_at",b));const{data:te}=await oe,G=te?.reduce(($,H)=>$+parseFloat(H.montant_total||0),0)||0,ie=te?.length>0?G/te.length:0,ae=E>0?Q/E*100:0;n({totalUsers:k||0,totalReservations:P||0,totalTrajets:S||0,totalRevenue:G,pendingReservations:W||0,confirmedReservations:Q||0,canceledReservations:Y||0,totalCompagnies:T||0,totalDestinations:I||0,totalAvis:M||0,avgRevenue:ie,conversionRate:ae,newUsersThisPeriod:A||0,newReservationsThisPeriod:E||0})}catch(b){console.error("Error loading stats:",b)}finally{u(!1)}},y=async()=>{try{console.log(" Loading recent reservations...");const{data:b,error:k}=await ne.from("reservations").select(`
          *,
          trajets(
            depart,
            arrivee,
            compagnies:compagnie_id(nom)
          )
        `).order("created_at",{ascending:!1}).limit(5);if(k)throw console.error(" Error loading reservations:",k),k;console.log(" Reservations loaded:",b?.length||0),console.log(" Sample data:",b?.[0]),i(b||[])}catch(b){console.error(" Exception loading recent reservations:",b),i([])}},v=async()=>{try{const{data:b}=await ne.from("reservations").select("created_at, statut, montant_total, statut_paiement, trajets(compagnies:compagnie_id(nom))").order("created_at",{ascending:!0});if(!b)return;const k=[];for(let E=6;E>=0;E--){const S=new Date;S.setDate(S.getDate()-E);const T=S.toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"}),I=b.filter(M=>new Date(M.created_at).toDateString()===S.toDateString());k.push({date:T,reservations:I.length,confirmees:I.filter(M=>M.statut==="confirmee").length})}const N=k.map(E=>({date:E.date,revenue:b.filter(S=>{const T=new Date(S.created_at),I=E.date.split("/").reverse().join("-");return T.toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"})===E.date&&S.statut_paiement==="approved"}).reduce((S,T)=>S+parseFloat(T.montant_total||0),0)})),A={};b.forEach(E=>{const S=E.trajets?.compagnies?.nom||"Autre";A[S]=(A[S]||0)+1});const P=Object.entries(A).map(([E,S])=>({name:E,count:S})).sort((E,S)=>S.count-E.count).slice(0,7),C=[{name:"En attente",value:b.filter(E=>E.statut==="en_attente").length},{name:"Confirme",value:b.filter(E=>E.statut==="confirmee").length},{name:"Annule",value:b.filter(E=>E.statut==="annulee").length},{name:"Expire",value:b.filter(E=>E.statut==="expiree").length}].filter(E=>E.value>0);h({reservations:k,revenue:N,compagnies:P,status:C})}catch(b){console.error("Error loading chart data:",b)}},j=b=>{const k={en_attente:{color:"bg-warning-light text-warning",icon:wn},confirmee:{color:"bg-success-light text-success",icon:gr},annulee:{color:"bg-error-light text-error",icon:hr}},{color:N,icon:A}=k[b]||k.en_attente;return c.jsxs("span",{className:`inline-flex items-center space-x-1 px-2 py-1 rounded text-xs font-semibold ${N}`,children:[c.jsx(A,{className:"h-3 w-3"}),c.jsx("span",{children:b})]})};return l?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):c.jsxs("div",{className:"page-container",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Dashboard Admin"}),c.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"Vue d'ensemble de la plateforme Bus Bnin"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ov,{className:"h-5 w-5 text-gray-500 hidden sm:block"}),c.jsxs("select",{value:e,onChange:b=>t(b.target.value),className:"input-field py-2 text-sm sm:text-base",children:[c.jsx("option",{value:"today",children:"Aujourd'hui"}),c.jsx("option",{value:"7days",children:"7 derniers jours"}),c.jsx("option",{value:"30days",children:"30 derniers jours"}),c.jsx("option",{value:"month",children:"Ce mois"}),c.jsx("option",{value:"all",children:"Tout"})]})]})]})}),c.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[c.jsx("div",{className:"card",children:c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Utilisateurs"}),c.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:r.totalUsers}),e!=="all"&&r.newUsersThisPeriod>0&&c.jsxs("p",{className:"text-xs text-success mt-1",children:["+",r.newUsersThisPeriod," nouveaux"]})]}),c.jsx("div",{className:"p-3 bg-primary-light rounded-lg",children:c.jsx(vs,{className:"h-6 w-6 sm:h-8 sm:w-8 text-primary"})})]})}),c.jsx("div",{className:"card",children:c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Rservations"}),c.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:r.newReservationsThisPeriod}),e!=="all"&&c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Total: ",r.totalReservations]})]}),c.jsx("div",{className:"p-3 bg-success-light rounded-lg",children:c.jsx(bn,{className:"h-6 w-6 sm:h-8 sm:w-8 text-success"})})]})}),c.jsx("div",{className:"card",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Trajets"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.totalTrajets})]}),c.jsx("div",{className:"p-3 bg-warning-light rounded-lg",children:c.jsx(mr,{className:"h-8 w-8 text-warning"})})]})}),c.jsx("div",{className:"card",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Revenu Total"}),c.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[r.totalRevenue.toLocaleString()," FCFA"]})]}),c.jsx("div",{className:"p-3 bg-success-light rounded-lg",children:c.jsx(mg,{className:"h-8 w-8 text-success"})})]})})]}),c.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4 sm:gap-6 mb-8",children:[c.jsx("div",{className:"card bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900 dark:to-blue-800",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"inline-flex p-2 bg-white dark:bg-blue-700 rounded-lg mb-2",children:c.jsx(xn,{className:"h-6 w-6 text-blue-600 dark:text-blue-300"})}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Compagnies"}),c.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:r.totalCompagnies})]})}),c.jsx("div",{className:"card bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900 dark:to-green-800",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"inline-flex p-2 bg-white dark:bg-green-700 rounded-lg mb-2",children:c.jsx(nr,{className:"h-6 w-6 text-green-600 dark:text-green-300"})}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Destinations"}),c.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:r.totalDestinations})]})}),c.jsx("div",{className:"card bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-900 dark:to-yellow-800",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"inline-flex p-2 bg-white dark:bg-yellow-700 rounded-lg mb-2",children:c.jsx(qn,{className:"h-6 w-6 text-yellow-600 dark:text-yellow-300"})}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Avis"}),c.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:r.totalAvis})]})}),c.jsx("div",{className:"card bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900 dark:to-purple-800",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"inline-flex p-2 bg-white dark:bg-purple-700 rounded-lg mb-2",children:c.jsx(mg,{className:"h-6 w-6 text-purple-600 dark:text-purple-300"})}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Revenu Moy."}),c.jsxs("p",{className:"text-base sm:text-lg font-bold text-gray-900 dark:text-white",children:[Math.round(r.avgRevenue).toLocaleString()," FCFA"]})]})}),c.jsx("div",{className:"card bg-gradient-to-br from-pink-50 to-pink-100 dark:from-pink-900 dark:to-pink-800",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"inline-flex p-2 bg-white dark:bg-pink-700 rounded-lg mb-2",children:c.jsx(FN,{className:"h-6 w-6 text-pink-600 dark:text-pink-300"})}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Conversion"}),c.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:[r.conversionRate.toFixed(1),"%"]})]})}),c.jsx("div",{className:"card bg-gradient-to-br from-indigo-50 to-indigo-100 dark:from-indigo-900 dark:to-indigo-800",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"inline-flex p-2 bg-white dark:bg-indigo-700 rounded-lg mb-2",children:c.jsx(EM,{className:"h-6 w-6 text-indigo-600 dark:text-indigo-300"})}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Trajets"}),c.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:r.totalTrajets})]})})]}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[c.jsx("div",{className:"card border-l-4 border-warning",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"En attente"}),c.jsx("p",{className:"text-3xl font-bold text-warning",children:r.pendingReservations})]}),c.jsx(wn,{className:"h-10 w-10 text-warning"})]})}),c.jsx("div",{className:"card border-l-4 border-success",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Confirmes"}),c.jsx("p",{className:"text-3xl font-bold text-success",children:r.confirmedReservations})]}),c.jsx(gr,{className:"h-10 w-10 text-success"})]})}),c.jsx("div",{className:"card border-l-4 border-error",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Annules"}),c.jsx("p",{className:"text-3xl font-bold text-error",children:r.canceledReservations})]}),c.jsx(hr,{className:"h-10 w-10 text-error"})]})})]}),c.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[c.jsx(ke,{to:"/admin/trajets",className:"card hover:shadow-lg transition-shadow",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-primary-light rounded-lg",children:c.jsx(mr,{className:"h-6 w-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Grer les trajets"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Ajouter, modifier ou supprimer"})]})]})}),c.jsx(ke,{to:"/admin/compagnies",className:"card hover:shadow-lg transition-shadow",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-success-light rounded-lg",children:c.jsx(jM,{className:"h-6 w-6 text-success"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Grer les compagnies"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Liste des transporteurs"})]})]})}),c.jsx(ke,{to:"/admin/reservations",className:"card hover:shadow-lg transition-shadow",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-warning-light rounded-lg",children:c.jsx(bn,{className:"h-6 w-6 text-warning"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Grer les rservations"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Voir et modifier"})]})]})}),c.jsx(ke,{to:"/admin/users",className:"card hover:shadow-lg transition-shadow",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-error-light rounded-lg",children:c.jsx(vs,{className:"h-6 w-6 text-error"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Grer les utilisateurs"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Modifier les rles"})]})]})}),c.jsx(ke,{to:"/admin/destinations",className:"card hover:shadow-lg transition-shadow",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-secondary-light rounded-lg",children:c.jsx(nr,{className:"h-6 w-6 text-secondary"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Grer les destinations"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Villes et localits"})]})]})})]}),c.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 mb-8",children:[c.jsxs("div",{className:"card",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Rservations (7 derniers jours)"}),c.jsx(gG,{data:d.reservations,type:"line"})]}),c.jsxs("div",{className:"card",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Revenus (7 derniers jours)"}),c.jsx(vG,{data:d.revenue})]})]}),c.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 mb-8",children:[c.jsxs("div",{className:"card",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Rservations par compagnie"}),c.jsx(yG,{data:d.compagnies})]}),c.jsxs("div",{className:"card",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Statuts des rservations"}),c.jsx(bG,{data:d.status})]})]}),c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Rservations rcentes"}),c.jsx(ke,{to:"/admin/reservations",className:"text-primary hover:underline text-sm font-medium",children:"Voir tout"})]}),a.length===0?c.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400 py-8",children:"Aucune rservation rcente"}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[c.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Client"}),c.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Trajet"}),c.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Montant"}),c.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Statut"}),c.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Date"})]})}),c.jsx("tbody",{children:a.map(b=>c.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[c.jsxs("td",{className:"py-3 px-4",children:[c.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:b.nom_passager||"N/A"}),c.jsx("p",{className:"text-xs text-gray-500",children:b.telephone_passager})]}),c.jsx("td",{className:"py-3 px-4",children:c.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[b.trajets?.depart,"  ",b.trajets?.arrivee]})}),c.jsx("td",{className:"py-3 px-4",children:c.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[b.montant_total," FCFA"]})}),c.jsx("td",{className:"py-3 px-4",children:j(b.statut)}),c.jsx("td",{className:"py-3 px-4",children:c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:new Date(b.created_at).toLocaleDateString("fr-FR")})})]},b.id))})]})})]})]})}function jG(){const[e,t]=x.useState([]),[r,n]=x.useState([]),[a,i]=x.useState(!0),[l,u]=x.useState(!1),[d,h]=x.useState(null),[p,m]=x.useState(""),[y,v]=x.useState({depart:"",arrivee:"",prix:"",horaires:"",gare:"",compagnie_id:""});x.useEffect(()=>{j()},[]);const j=async()=>{i(!0);try{await Promise.all([b(),k()])}finally{i(!1)}},b=async()=>{const{data:S,error:T}=await ne.from("trajets").select("*, compagnies:compagnie_id(nom)").order("created_at",{ascending:!1});T||t(S||[])},k=async()=>{const{data:S,error:T}=await ne.from("compagnies").select("id, nom").order("nom");T||n(S||[])},N=async S=>{S.preventDefault();const T=y.horaires.split(",").map(M=>M.trim()).filter(M=>M),I={depart:y.depart,arrivee:y.arrivee,prix:parseFloat(y.prix),horaires:T,gare:y.gare||null,compagnie_id:y.compagnie_id||null};try{d?await ne.from("trajets").update(I).eq("id",d.id):await ne.from("trajets").insert(I),await b(),C()}catch(M){console.error("Error saving trajet:",M),alert("Erreur lors de l'enregistrement")}},A=S=>{h(S),v({depart:S.depart,arrivee:S.arrivee,prix:S.prix,horaires:S.horaires?.join(", ")||"",gare:S.gare||"",compagnie_id:S.compagnie_id||""}),u(!0)},P=async S=>{if(confirm("tes-vous sr de vouloir supprimer ce trajet ?"))try{await ne.from("trajets").delete().eq("id",S),await b()}catch(T){console.error("Error deleting trajet:",T),alert("Erreur lors de la suppression")}},C=()=>{v({depart:"",arrivee:"",prix:"",horaires:"",gare:"",compagnie_id:""}),h(null),u(!1)},E=e.filter(S=>S.depart?.toLowerCase().includes(p.toLowerCase())||S.arrivee?.toLowerCase().includes(p.toLowerCase())||S.compagnies?.nom?.toLowerCase().includes(p.toLowerCase()));return c.jsxs("div",{className:"page-container",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Gestion des trajets"}),c.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[e.length," trajet",e.length>1?"s":""," au total"]})]}),c.jsxs("button",{onClick:()=>u(!l),className:"btn-primary flex items-center space-x-2",children:[c.jsx(kd,{className:"h-5 w-5"}),c.jsx("span",{children:"Nouveau trajet"})]})]}),l&&c.jsxs("div",{className:"card mb-8",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:d?"Modifier le trajet":"Ajouter un trajet"}),c.jsxs("form",{onSubmit:N,className:"space-y-4",children:[c.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Dpart *"}),c.jsx("input",{type:"text",value:y.depart,onChange:S=>v({...y,depart:S.target.value}),required:!0,className:"input-field dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Arrive *"}),c.jsx("input",{type:"text",value:y.arrivee,onChange:S=>v({...y,arrivee:S.target.value}),required:!0,className:"input-field dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Prix (FCFA) *"}),c.jsx("input",{type:"number",value:y.prix,onChange:S=>v({...y,prix:S.target.value}),required:!0,min:"0",className:"input-field dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Compagnie"}),c.jsxs("select",{value:y.compagnie_id,onChange:S=>v({...y,compagnie_id:S.target.value}),className:"input-field dark:bg-gray-700 dark:text-white dark:border-gray-600",children:[c.jsx("option",{value:"",children:"Slectionner une compagnie"}),r.map(S=>c.jsx("option",{value:S.id,children:S.nom},S.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Gare"}),c.jsx("input",{type:"text",value:y.gare,onChange:S=>v({...y,gare:S.target.value}),className:"input-field dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Horaires (spars par des virgules)"}),c.jsx("input",{type:"text",value:y.horaires,onChange:S=>v({...y,horaires:S.target.value}),placeholder:"06:00, 09:00, 12:00",className:"input-field dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsx("button",{type:"submit",className:"btn-primary",children:d?"Mettre  jour":"Ajouter"}),c.jsx("button",{type:"button",onClick:C,className:"btn-secondary",children:"Annuler"})]})]})]}),c.jsx("div",{className:"card mb-6",children:c.jsxs("div",{className:"relative",children:[c.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",value:p,onChange:S=>m(S.target.value),placeholder:"Rechercher un trajet...",className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})}),a?c.jsx("div",{className:"text-center py-12",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"})}):c.jsx("div",{className:"card overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[c.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Trajet"}),c.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Compagnie"}),c.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Prix"}),c.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Horaires"}),c.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Note"}),c.jsx("th",{className:"text-right py-3 px-4 font-semibold",children:"Actions"})]})}),c.jsx("tbody",{children:E.map(S=>c.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800",children:[c.jsxs("td",{className:"py-3 px-4",children:[c.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[S.depart,"  ",S.arrivee]}),S.gare&&c.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Gare: ",S.gare]})]}),c.jsx("td",{className:"py-3 px-4 text-gray-700 dark:text-gray-300",children:S.compagnies?.nom||"N/A"}),c.jsxs("td",{className:"py-3 px-4 font-semibold text-primary",children:[S.prix," FCFA"]}),c.jsx("td",{className:"py-3 px-4 text-sm text-gray-600 dark:text-gray-400",children:S.horaires?.join(", ")||"N/A"}),c.jsx("td",{className:"py-3 px-4",children:c.jsxs("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:[S.note||"N/A"," (",S.nb_avis||0," avis)"]})}),c.jsx("td",{className:"py-3 px-4",children:c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsx("button",{onClick:()=>A(S),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:c.jsx(wd,{className:"h-4 w-4 text-primary"})}),c.jsx("button",{onClick:()=>P(S.id),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:c.jsx(gl,{className:"h-4 w-4 text-error"})})]})})]},S.id))})]})})]})}function kG(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,i]=x.useState(!1),[l,u]=x.useState(null),[d,h]=x.useState({nom:"",logo_url:"",telephone:"",adresse:""});x.useEffect(()=>{p()},[]);const p=async()=>{n(!0);const{data:b,error:k}=await ne.from("compagnies").select("*").order("nom");k||t(b||[]),n(!1)},m=async b=>{b.preventDefault();try{l?await ne.from("compagnies").update(d).eq("id",l.id):await ne.from("compagnies").insert(d),await p(),j()}catch(k){console.error("Error saving compagnie:",k),alert("Erreur lors de l'enregistrement")}},y=b=>{u(b),h({nom:b.nom,logo_url:b.logo_url||"",telephone:b.telephone||"",adresse:b.adresse||""}),i(!0)},v=async b=>{if(confirm("tes-vous sr de vouloir supprimer cette compagnie ?"))try{await ne.from("compagnies").delete().eq("id",b),await p()}catch(k){console.error("Error deleting compagnie:",k),alert("Erreur lors de la suppression")}},j=()=>{h({nom:"",logo_url:"",telephone:"",adresse:""}),u(null),i(!1)};return c.jsxs("div",{className:"page-container",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Gestion des compagnies"}),c.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[e.length," compagnie",e.length>1?"s":""," au total"]})]}),c.jsxs("button",{onClick:()=>i(!a),className:"btn-primary flex items-center space-x-2",children:[c.jsx(kd,{className:"h-5 w-5"}),c.jsx("span",{children:"Nouvelle compagnie"})]})]}),a&&c.jsxs("div",{className:"card mb-8",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:l?"Modifier la compagnie":"Ajouter une compagnie"}),c.jsxs("form",{onSubmit:m,className:"space-y-4",children:[c.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Nom *"}),c.jsx("input",{type:"text",value:d.nom,onChange:b=>h({...d,nom:b.target.value}),required:!0,className:"input-field dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Tlphone"}),c.jsx("input",{type:"tel",value:d.telephone,onChange:b=>h({...d,telephone:b.target.value}),className:"input-field dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"URL du logo"}),c.jsx("input",{type:"url",value:d.logo_url,onChange:b=>h({...d,logo_url:b.target.value}),placeholder:"https://...",className:"input-field dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Adresse"}),c.jsx("input",{type:"text",value:d.adresse,onChange:b=>h({...d,adresse:b.target.value}),className:"input-field dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsx("button",{type:"submit",className:"btn-primary",children:l?"Mettre  jour":"Ajouter"}),c.jsx("button",{type:"button",onClick:j,className:"btn-secondary",children:"Annuler"})]})]})]}),r?c.jsx("div",{className:"text-center py-12",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"})}):c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(b=>c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-12 h-12 bg-primary-light rounded-lg flex items-center justify-center overflow-hidden",children:b.logo_url?c.jsx("img",{src:b.logo_url,alt:b.nom,className:"w-full h-full object-cover"}):c.jsx(xn,{className:"h-6 w-6 text-primary"})}),c.jsx("div",{children:c.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:b.nom})})]}),c.jsxs("div",{className:"flex space-x-1",children:[c.jsx("button",{onClick:()=>y(b),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:c.jsx(wd,{className:"h-4 w-4 text-primary"})}),c.jsx("button",{onClick:()=>v(b.id),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:c.jsx(gl,{className:"h-4 w-4 text-error"})})]})]}),c.jsxs("div",{className:"space-y-2 text-sm",children:[b.telephone&&c.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[c.jsx("strong",{children:"Tl:"})," ",b.telephone]}),b.adresse&&c.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[c.jsx("strong",{children:"Adresse:"})," ",b.adresse]}),c.jsxs("p",{className:"text-gray-500 dark:text-gray-500 text-xs",children:["Cre le ",new Date(b.created_at).toLocaleDateString("fr-FR")]})]})]},b.id))})]})}function _G(){const[e,t]=x.useState([]),[r,n]=x.useState([]),[a,i]=x.useState(!0),[l,u]=x.useState(""),[d,h]=x.useState("all"),[p,m]=x.useState("all"),[y,v]=x.useState(""),[j,b]=x.useState("");x.useEffect(()=>{k(),N()},[]);const k=async()=>{i(!0);try{console.log(" Loading all reservations...");const{data:S,error:T}=await ne.from("reservations").select(`
          *,
          trajets(
            depart,
            arrivee,
            compagnies:compagnie_id(nom)
          )
        `).order("created_at",{ascending:!1});if(T)throw console.error(" Error loading reservations:",T),console.error(" Error details:",{message:T.message,details:T.details,hint:T.hint,code:T.code}),T;console.log(" Reservations loaded:",S?.length||0),console.log(" First reservation:",S?.[0]),t(S||[])}catch(S){console.error(" Exception in loadReservations:",S),t([])}finally{i(!1)}},N=async()=>{try{const{data:S,error:T}=await ne.from("compagnies").select("id, nom").order("nom");if(T)throw T;n(S||[])}catch(S){console.error("Error loading compagnies:",S)}},A=async(S,T)=>{try{await ne.from("reservations").update({statut:T,updated_at:new Date().toISOString()}).eq("id",S),await k()}catch(I){console.error("Error updating reservation:",I),alert("Erreur lors de la mise  jour")}},P=S=>{const T={en_attente:{color:"bg-warning-light text-warning",icon:wn,label:"En attente"},confirmee:{color:"bg-success-light text-success",icon:gr,label:"Confirme"},annulee:{color:"bg-error-light text-error",icon:hr,label:"Annule"},expiree:{color:"bg-gray-200 text-gray-700",icon:hr,label:"Expire"}},{color:I,icon:M,label:z}=T[S]||T.en_attente;return c.jsxs("span",{className:`inline-flex items-center space-x-1 px-3 py-1 rounded-full text-sm font-semibold ${I}`,children:[c.jsx(M,{className:"h-4 w-4"}),c.jsx("span",{children:z})]})},C=S=>{const T={pending:{color:"bg-warning-light text-warning",label:"En attente"},approved:{color:"bg-success-light text-success",label:"Pay"},declined:{color:"bg-error-light text-error",label:"Refus"},canceled:{color:"bg-gray-200 text-gray-700",label:"Annul"}},{color:I,label:M}=T[S]||T.pending;return c.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${I}`,children:M})},E=e.filter(S=>{const T=S.nom_passager?.toLowerCase().includes(l.toLowerCase())||S.telephone_passager?.includes(l)||S.trajets?.depart?.toLowerCase().includes(l.toLowerCase())||S.trajets?.arrivee?.toLowerCase().includes(l.toLowerCase()),I=d==="all"||S.statut===d,M=p==="all"||S.trajets?.compagnies?.nom===p;let z=!0;if(y||j){const W=new Date(S.created_at);if(y){const V=new Date(y);V.setHours(0,0,0,0),z=z&&W>=V}if(j){const V=new Date(j);V.setHours(23,59,59,999),z=z&&W<=V}}return T&&I&&M&&z});return c.jsxs("div",{className:"page-container",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Gestion des rservations"}),c.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[e.length," rservation",e.length>1?"s":""," au total"]})]}),c.jsxs("div",{className:"card mb-6",children:[c.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-5 gap-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",value:l,onChange:S=>u(S.target.value),placeholder:"Rechercher...",className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),c.jsxs("div",{className:"relative",children:[c.jsx(Ov,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsxs("select",{value:d,onChange:S=>h(S.target.value),className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600",children:[c.jsx("option",{value:"all",children:"Tous les statuts"}),c.jsx("option",{value:"en_attente",children:"En attente"}),c.jsx("option",{value:"confirmee",children:"Confirme"}),c.jsx("option",{value:"annulee",children:"Annule"}),c.jsx("option",{value:"expiree",children:"Expire"})]})]}),c.jsxs("div",{className:"relative",children:[c.jsx(Nu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"date",value:y,onChange:S=>v(S.target.value),placeholder:"Date dbut",className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),c.jsxs("div",{className:"relative",children:[c.jsx(Nu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"date",value:j,onChange:S=>b(S.target.value),placeholder:"Date fin",className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),c.jsxs("div",{className:"relative",children:[c.jsx(xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsxs("select",{value:p,onChange:S=>m(S.target.value),className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600",children:[c.jsx("option",{value:"all",children:"Toutes les compagnies"}),r.map(S=>c.jsx("option",{value:S.nom,children:S.nom},S.id))]})]})]}),(y||j||l||d!=="all"||p!=="all")&&c.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[c.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[E.length," rsultat",E.length>1?"s":""," trouv",E.length>1?"s":""]}),c.jsx("button",{onClick:()=>{u(""),h("all"),m("all"),v(""),b("")},className:"text-sm text-primary hover:text-primary-dark font-medium",children:"Rinitialiser les filtres"})]})]}),a?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-4",children:"Chargement des rservations..."})]}):E.length===0?c.jsxs("div",{className:"card text-center py-12",children:[c.jsx(bn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Aucune rservation trouve"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:l||d!=="all"?"Essayez de modifier vos filtres de recherche":"Les rservations des clients apparatront ici"})]}):c.jsx("div",{className:"space-y-4",children:E.map(S=>c.jsx("div",{className:"card",children:c.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:S.nom_passager}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:S.telephone_passager})]}),c.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[P(S.statut),C(S.statut_paiement)]})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Compagnie"}),c.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:S.trajets?.compagnies?.nom||"N/A"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Trajet"}),c.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[S.trajets?.depart,"  ",S.trajets?.arrivee]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Horaire"}),c.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:S.horaire})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Places"}),c.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:S.nb_places})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Montant"}),c.jsxs("p",{className:"font-semibold text-primary",children:[S.montant_total," FCFA"]})]})]})]}),S.statut==="en_attente"&&c.jsxs("div",{className:"flex flex-col space-y-2",children:[c.jsx("button",{onClick:()=>A(S.id,"confirmee"),className:"btn-primary text-sm",children:"Confirmer"}),c.jsx("button",{onClick:()=>A(S.id,"annulee"),className:"btn-secondary text-sm",children:"Annuler"})]})]})},S.id))})]})}function SG(){const[e,t]=x.useState([]),[r,n]=x.useState([]),[a,i]=x.useState(!0),[l,u]=x.useState(""),[d,h]=x.useState("all"),[p,m]=x.useState(null),[y,v]=x.useState(!1);x.useEffect(()=>{j(),b()},[]);const j=async()=>{i(!0);try{console.log(" Loading users...");const{data:E,error:S}=await ne.from("profiles").select("*").order("updated_at",{ascending:!1});if(S)throw console.error(" Error loading users:",S),S;console.log(" Users loaded:",E?.length||0),console.log(" First user:",E?.[0]),t(E||[])}catch(E){console.error(" Exception in loadUsers:",E),t([])}finally{i(!1)}},b=async()=>{try{const{data:E,error:S}=await ne.from("compagnies").select("id, nom").order("nom");if(S)throw S;n(E||[])}catch(E){console.error("Error loading compagnies:",E)}},k=async(E,S)=>{try{const{error:T}=await ne.from("profiles").update({admin:S}).eq("id",E);if(T)throw T;await j(),alert("Rle mis  jour avec succs")}catch(T){console.error("Error updating user role:",T),alert("Erreur lors de la mise  jour du rle")}},N=async(E,S)=>{try{console.log(" Updating compagnie:",{userId:E,compagnieId:S});const T=S===""?null:S;console.log(" Update value:",T);const{data:I,error:M}=await ne.from("profiles").update({compagnie_id:T}).eq("id",E).select();if(M)throw console.error(" Supabase error:",M),M;console.log(" Update result:",I),await j(),alert("Compagnie mise  jour avec succs")}catch(T){console.error(" Error updating user compagnie:",T),alert(`Erreur lors de la mise  jour de la compagnie: ${T.message}`)}},A=async E=>{if(confirm("tes-vous sr de vouloir supprimer cet utilisateur ?"))try{const{error:S}=await ne.from("profiles").delete().eq("id",E);if(S)throw S;await j(),alert("Utilisateur supprim avec succs")}catch(S){console.error("Error deleting user:",S),alert("Erreur lors de la suppression. Note: Vous ne pouvez pas supprimer un utilisateur avec des rservations.")}},P=(E,S)=>{let T;E?T={color:"bg-error-light text-error",icon:fs,label:"Admin"}:S?T={color:"bg-warning-light text-warning",icon:xn,label:"Compagnie"}:T={color:"bg-primary-light text-primary",icon:ln,label:"Utilisateur"};const{color:I,icon:M,label:z}=T;return c.jsxs("span",{className:`inline-flex items-center space-x-1 px-3 py-1 rounded-full text-sm font-semibold ${I}`,children:[c.jsx(M,{className:"h-4 w-4"}),c.jsx("span",{children:z})]})},C=e.filter(E=>{const S=E.username?.toLowerCase().includes(l.toLowerCase())||E.email?.toLowerCase().includes(l.toLowerCase())||E.full_name?.toLowerCase().includes(l.toLowerCase()),T=d==="all"||d==="admin"&&E.admin||d==="user"&&!E.admin;return S&&T});return c.jsxs("div",{className:"page-container",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Gestion des utilisateurs"}),c.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[e.length," utilisateur",e.length>1?"s":""," au total"]})]}),c.jsxs("div",{className:"card mb-6",children:[c.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",value:l,onChange:E=>u(E.target.value),placeholder:"Rechercher par nom, email...",className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),c.jsxs("div",{className:"relative",children:[c.jsx(fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsxs("select",{value:d,onChange:E=>h(E.target.value),className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600",children:[c.jsx("option",{value:"all",children:"Tous les rles"}),c.jsx("option",{value:"user",children:"Utilisateurs"}),c.jsx("option",{value:"admin",children:"Administrateurs"})]})]})]}),(l||d!=="all")&&c.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[c.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[C.length," rsultat",C.length>1?"s":""," trouv",C.length>1?"s":""]}),c.jsx("button",{onClick:()=>{u(""),h("all")},className:"text-sm text-primary hover:text-primary-dark font-medium",children:"Rinitialiser les filtres"})]})]}),a?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-4",children:"Chargement des utilisateurs..."})]}):C.length===0?c.jsxs("div",{className:"card text-center py-12",children:[c.jsx(vs,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Aucun utilisateur trouv"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:l||d!=="all"?"Essayez de modifier vos filtres de recherche":"Les utilisateurs inscrits apparatront ici"})]}):c.jsx("div",{className:"grid gap-4",children:C.map(E=>c.jsx("div",{className:"card",children:c.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[E.avatar_url?c.jsx("img",{src:E.avatar_url,alt:E.username,className:"w-12 h-12 rounded-full object-cover"}):c.jsx("div",{className:"w-12 h-12 rounded-full bg-primary-light flex items-center justify-center",children:c.jsx(ln,{className:"h-6 w-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:E.full_name||E.username||"Sans nom"}),c.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[c.jsx(Cs,{className:"h-4 w-4"}),c.jsx("span",{children:E.email||"Email non renseign"})]})]})]}),c.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[P(E.admin,E.compagnie_id),E.compagnie_id&&c.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:["ID: ",E.compagnie_id.substring(0,8)]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Nom d'utilisateur"}),c.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:E.username||"Non dfini"})]}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-gray-600 dark:text-gray-400 flex items-center space-x-1",children:[c.jsx(bn,{className:"h-4 w-4"}),c.jsx("span",{children:"Mis  jour le"})]}),c.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:new Date(E.updated_at).toLocaleDateString("fr-FR")})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"ID"}),c.jsxs("p",{className:"font-mono text-xs text-gray-900 dark:text-white truncate",children:[E.id.substring(0,8),"..."]})]})]})]}),c.jsxs("div",{className:"flex flex-col space-y-2 lg:w-56",children:[c.jsxs("select",{value:E.admin?"admin":"user",onChange:S=>k(E.id,S.target.value==="admin"),className:"input-field text-sm dark:bg-gray-700 dark:text-white dark:border-gray-600",children:[c.jsx("option",{value:"user",children:"Utilisateur"}),c.jsx("option",{value:"admin",children:"Admin"})]}),c.jsxs("select",{value:E.compagnie_id||"",onChange:S=>N(E.id,S.target.value),className:"input-field text-sm dark:bg-gray-700 dark:text-white dark:border-gray-600",disabled:E.admin,children:[c.jsx("option",{value:"",children:"Aucune compagnie"}),r.map(S=>c.jsx("option",{value:S.id,children:S.nom},S.id))]}),c.jsxs("button",{onClick:()=>A(E.id),className:"btn-secondary text-sm flex items-center justify-center space-x-2",children:[c.jsx(gl,{className:"h-4 w-4"}),c.jsx("span",{children:"Supprimer"})]})]})]})},E.id))}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mt-8",children:[c.jsx("div",{className:"card border-l-4 border-primary",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Total utilisateurs"}),c.jsx("p",{className:"text-3xl font-bold text-primary",children:e.length})]}),c.jsx(vs,{className:"h-10 w-10 text-primary"})]})}),c.jsx("div",{className:"card border-l-4 border-error",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Administrateurs"}),c.jsx("p",{className:"text-3xl font-bold text-error",children:e.filter(E=>E.admin).length})]}),c.jsx(fs,{className:"h-10 w-10 text-error"})]})}),c.jsx("div",{className:"card border-l-4 border-success",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Utilisateurs actifs"}),c.jsx("p",{className:"text-3xl font-bold text-success",children:e.filter(E=>!E.admin).length})]}),c.jsx(ln,{className:"h-10 w-10 text-success"})]})})]})]})}function NG(){const[e,t]=x.useState([]),[r,n]=x.useState([]),[a,i]=x.useState(""),[l,u]=x.useState(!0),[d,h]=x.useState(!1),[p,m]=x.useState(null),[y,v]=x.useState({nom:""}),[j,b]=x.useState(""),[k,N]=x.useState("");x.useEffect(()=>{A()},[]),x.useEffect(()=>{const T=e.filter(I=>I.nom.toLowerCase().includes(a.toLowerCase()));n(T)},[a,e]);const A=async()=>{u(!0);try{const{data:T,error:I}=await ne.from("destinations").select("*").order("nom",{ascending:!0});if(I)throw I;t(T||[]),n(T||[])}catch(T){console.error("Erreur chargement destinations:",T),b("Erreur lors du chargement des destinations")}finally{u(!1)}},P=(T=null)=>{m(T),v(T?{nom:T.nom}:{nom:""}),b(""),h(!0)},C=()=>{h(!1),m(null),v({nom:""}),b("")},E=async T=>{if(T.preventDefault(),b(""),N(""),!y.nom.trim()){b("Le nom de la destination est requis");return}try{if(p){const{error:I}=await ne.from("destinations").update({nom:y.nom.trim()}).eq("id",p.id);if(I)throw I;N("Destination modifie avec succs")}else{const{error:I}=await ne.from("destinations").insert([{nom:y.nom.trim()}]);if(I)throw I;N("Destination ajoute avec succs")}await A(),C(),setTimeout(()=>N(""),3e3)}catch(I){console.error("Erreur:",I),I.code==="23505"?b("Cette destination existe dj"):b("Erreur lors de l'enregistrement")}},S=async T=>{if(window.confirm(`tes-vous sr de vouloir supprimer "${T.nom}" ?`))try{const{error:I}=await ne.from("destinations").delete().eq("id",T.id);if(I)throw I;N("Destination supprime avec succs"),await A(),setTimeout(()=>N(""),3e3)}catch(I){console.error("Erreur suppression:",I),I.code==="23503"?b("Impossible de supprimer cette destination car elle est utilise dans des trajets"):b("Erreur lors de la suppression"),setTimeout(()=>b(""),5e3)}};return c.jsxs("div",{className:"page-container",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-3 bg-primary-light rounded-xl",children:c.jsx(nr,{className:"h-8 w-8 text-primary"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:"Gestion des Destinations"}),c.jsxs("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 mt-1",children:[e.length," destination",e.length>1?"s":""]})]})]}),c.jsxs("button",{onClick:()=>P(),className:"btn-primary flex items-center space-x-2",children:[c.jsx(kd,{className:"h-5 w-5"}),c.jsx("span",{className:"hidden sm:inline",children:"Ajouter"})]})]}),k&&c.jsx("div",{className:"mb-6 p-4 bg-success-light text-success rounded-lg",children:k}),j&&!d&&c.jsx("div",{className:"mb-6 p-4 bg-error-light text-error rounded-lg",children:j}),c.jsx("div",{className:"mb-6",children:c.jsxs("div",{className:"relative",children:[c.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Rechercher une destination...",value:a,onChange:T=>i(T.target.value),className:"input-field pl-10"})]})}),l?c.jsx("div",{className:"text-center py-12",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"})}):r.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(nr,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:a?"Aucune destination trouve":"Aucune destination"})]}):c.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:r.map(T=>c.jsx("div",{className:"card hover:shadow-lg transition-shadow",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[c.jsx("div",{className:"p-2 bg-primary-light rounded-lg flex-shrink-0",children:c.jsx(nr,{className:"h-5 w-5 text-primary"})}),c.jsx("h3",{className:"font-bold text-gray-900 dark:text-white text-base sm:text-lg truncate",children:T.nom})]}),c.jsxs("div",{className:"flex items-center space-x-1 ml-2",children:[c.jsx("button",{onClick:()=>P(T),className:"p-2 hover:bg-primary-light rounded-lg transition-colors",title:"Modifier",children:c.jsx(PM,{className:"h-4 w-4 text-primary"})}),c.jsx("button",{onClick:()=>S(T),className:"p-2 hover:bg-error-light rounded-lg transition-colors",title:"Supprimer",children:c.jsx(gl,{className:"h-4 w-4 text-error"})})]})]})},T.id))}),d&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-md",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[c.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:p?"Modifier la destination":"Ajouter une destination"}),c.jsx("button",{onClick:C,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:c.jsx(ys,{className:"h-6 w-6 text-gray-500"})})]}),c.jsxs("form",{onSubmit:E,className:"p-6",children:[j&&c.jsx("div",{className:"mb-4 p-3 bg-error-light text-error rounded-lg text-sm",children:j}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Nom de la destination *"}),c.jsx("input",{type:"text",value:y.nom,onChange:T=>v({...y,nom:T.target.value}),className:"input-field",placeholder:"Ex: Cotonou, Porto-Novo, Parakou...",required:!0})]}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsx("button",{type:"button",onClick:C,className:"flex-1 btn-outline",children:"Annuler"}),c.jsx("button",{type:"submit",className:"flex-1 btn-primary",children:p?"Modifier":"Ajouter"})]})]})]})})]})}function EG(){const{session:e}=Jt(),[t,r]=x.useState(null),[n,a]=x.useState({totalTrajets:0,totalReservations:0,revenue:0,confirmedReservations:0,pendingReservations:0,canceledReservations:0}),[i,l]=x.useState([]),[u,d]=x.useState(!0);x.useEffect(()=>{h()},[e]);const h=async()=>{if(e?.user?.id)try{const{data:v,error:j}=await ne.from("profiles").select("compagnie_id, admin, compagnies(id, nom, logo_url, telephone, adresse)").eq("id",e.user.id).single();if(j)throw j;if(v.admin&&!v.compagnie_id)return;r(v.compagnies),v.compagnie_id&&(await p(v.compagnie_id),await m(v.compagnie_id))}catch(v){console.error("Error loading compagnie data:",v)}finally{d(!1)}},p=async v=>{try{const{data:j,error:b}=await ne.from("trajets").select("id").eq("compagnie_id",v);if(b)throw b;const k=j?.map(N=>N.id)||[];if(k.length>0){const{data:N,error:A}=await ne.from("reservations").select("statut, montant_total, statut_paiement").in("trajet_id",k);if(A)throw A;const P=N?.length||0,C=N?.filter(I=>I.statut==="confirmee").length||0,E=N?.filter(I=>I.statut==="en_attente").length||0,S=N?.filter(I=>I.statut==="annulee").length||0,T=N?.filter(I=>I.statut_paiement==="approved").reduce((I,M)=>I+parseFloat(M.montant_total||0),0)||0;a({totalTrajets:j?.length||0,totalReservations:P,revenue:T,confirmedReservations:C,pendingReservations:E,canceledReservations:S})}}catch(j){console.error("Error loading stats:",j)}},m=async v=>{try{const{data:j,error:b}=await ne.from("trajets").select("id").eq("compagnie_id",v);if(b)throw b;const k=j?.map(N=>N.id)||[];if(k.length>0){const{data:N,error:A}=await ne.from("reservations").select(`
            *,
            trajets(depart, arrivee)
          `).in("trajet_id",k).order("created_at",{ascending:!1}).limit(5);if(A)throw A;l(N||[])}}catch(j){console.error("Error loading recent reservations:",j)}},y=v=>{const j={en_attente:{color:"bg-warning-light text-warning",icon:wn,label:"En attente"},confirmee:{color:"bg-success-light text-success",icon:gr,label:"Confirme"},annulee:{color:"bg-error-light text-error",icon:hr,label:"Annule"}},{color:b,icon:k,label:N}=j[v]||j.en_attente;return c.jsxs("span",{className:`inline-flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-semibold ${b}`,children:[c.jsx(k,{className:"h-3 w-3"}),c.jsx("span",{children:N})]})};return u?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t?c.jsxs("div",{className:"page-container",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[t.logo_url?c.jsx("img",{src:t.logo_url,alt:t.nom,className:"w-16 h-16 rounded-lg object-cover"}):c.jsx("div",{className:"w-16 h-16 rounded-lg bg-primary-light flex items-center justify-center",children:c.jsx(mr,{className:"h-8 w-8 text-primary"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:t.nom}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Tableau de bord de votre compagnie"})]})]})}),c.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[c.jsx("div",{className:"card border-l-4 border-primary",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Trajets actifs"}),c.jsx("p",{className:"text-3xl font-bold text-primary",children:n.totalTrajets})]}),c.jsx(mr,{className:"h-10 w-10 text-primary"})]})}),c.jsx("div",{className:"card border-l-4 border-success",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Rservations"}),c.jsx("p",{className:"text-3xl font-bold text-success",children:n.totalReservations})]}),c.jsx(bn,{className:"h-10 w-10 text-success"})]})}),c.jsx("div",{className:"card border-l-4 border-warning",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Revenu total"}),c.jsxs("p",{className:"text-3xl font-bold text-warning",children:[n.revenue.toLocaleString()," FCFA"]})]}),c.jsx(mg,{className:"h-10 w-10 text-warning"})]})}),c.jsx("div",{className:"card",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Confirmes"}),c.jsx("p",{className:"text-2xl font-bold text-success",children:n.confirmedReservations})]}),c.jsx(gr,{className:"h-8 w-8 text-success"})]})}),c.jsx("div",{className:"card",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"En attente"}),c.jsx("p",{className:"text-2xl font-bold text-warning",children:n.pendingReservations})]}),c.jsx(wn,{className:"h-8 w-8 text-warning"})]})}),c.jsx("div",{className:"card",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Annules"}),c.jsx("p",{className:"text-2xl font-bold text-error",children:n.canceledReservations})]}),c.jsx(hr,{className:"h-8 w-8 text-error"})]})})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[c.jsx(ke,{to:"/compagnie/trajets",className:"card hover:shadow-lg transition-shadow",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-primary-light rounded-lg",children:c.jsx(mr,{className:"h-6 w-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Grer mes trajets"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Voir et modifier les trajets"})]})]})}),c.jsx(ke,{to:"/compagnie/reservations",className:"card hover:shadow-lg transition-shadow",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-success-light rounded-lg",children:c.jsx(bn,{className:"h-6 w-6 text-success"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Grer les rservations"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Confirmer ou annuler"})]})]})})]}),c.jsxs("div",{className:"card",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Rservations rcentes"}),i.length===0?c.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center py-8",children:"Aucune rservation pour le moment"}):c.jsx("div",{className:"space-y-4",children:i.map(v=>c.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:v.nom_passager}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:v.telephone_passager})]}),y(v.statut)]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Trajet:"}),c.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[v.trajets?.depart,"  ",v.trajets?.arrivee]})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Places:"}),c.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:v.nb_places})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Montant:"}),c.jsxs("p",{className:"font-semibold text-primary",children:[v.montant_total," FCFA"]})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Date:"}),c.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:new Date(v.created_at).toLocaleDateString("fr-FR")})]})]})]},v.id))})]})]}):c.jsx("div",{className:"page-container",children:c.jsxs("div",{className:"card text-center py-12",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Aucune compagnie assigne"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Contactez un administrateur pour tre assign  une compagnie."})]})})}function PG(){const{session:e}=Jt(),[t,r]=x.useState([]),[n,a]=x.useState(null),[i,l]=x.useState(!0),[u,d]=x.useState(""),[h,p]=x.useState(!1),[m,y]=x.useState(null),[v,j]=x.useState({depart:"",arrivee:"",prix:"",gare:"",horaires:[""]});x.useEffect(()=>{b()},[e]);const b=async()=>{if(e?.user?.id)try{const{data:M,error:z}=await ne.from("profiles").select("compagnie_id").eq("id",e.user.id).single();if(z)throw z;M.compagnie_id&&(a(M.compagnie_id),await k(M.compagnie_id))}catch(M){console.error("Error loading:",M)}finally{l(!1)}},k=async M=>{try{const{data:z,error:W}=await ne.from("trajets").select("*").eq("compagnie_id",M).order("created_at",{ascending:!1});if(W)throw W;r(z||[])}catch(z){console.error("Error loading trajets:",z),r([])}},N=(M=null)=>{M?(y(M),j({depart:M.depart,arrivee:M.arrivee,prix:M.prix,gare:M.gare||"",horaires:M.horaires||[""]})):(y(null),j({depart:"",arrivee:"",prix:"",gare:"",horaires:[""]})),p(!0)},A=()=>{p(!1),y(null),j({depart:"",arrivee:"",prix:"",gare:"",horaires:[""]})},P=()=>{j({...v,horaires:[...v.horaires,""]})},C=M=>{const z=v.horaires.filter((W,V)=>V!==M);j({...v,horaires:z.length>0?z:[""]})},E=(M,z)=>{const W=[...v.horaires];W[M]=z,j({...v,horaires:W})},S=async M=>{M.preventDefault();try{const z=v.horaires.filter(V=>V.trim()!==""),W={depart:v.depart,arrivee:v.arrivee,prix:parseFloat(v.prix),gare:v.gare||null,horaires:z.length>0?z:null,compagnie_id:n};if(m){const{error:V}=await ne.from("trajets").update(W).eq("id",m.id);if(V)throw V;alert("Trajet modifi avec succs")}else{const{error:V}=await ne.from("trajets").insert([W]);if(V)throw V;alert("Trajet ajout avec succs")}A(),await k(n)}catch(z){console.error("Error saving trajet:",z),alert("Erreur lors de l'enregistrement : "+z.message)}},T=async M=>{if(confirm("tes-vous sr de vouloir supprimer ce trajet ?"))try{const{error:z}=await ne.from("trajets").delete().eq("id",M);if(z)throw z;alert("Trajet supprim avec succs"),await k(n)}catch(z){console.error("Error deleting trajet:",z),alert("Erreur lors de la suppression : "+z.message)}},I=t.filter(M=>M.depart?.toLowerCase().includes(u.toLowerCase())||M.arrivee?.toLowerCase().includes(u.toLowerCase())||M.gare?.toLowerCase().includes(u.toLowerCase()));return i?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n?c.jsxs("div",{className:"page-container",children:[c.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Trajets de ma compagnie"}),c.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[t.length," trajet",t.length>1?"s":""," disponible",t.length>1?"s":""]})]}),c.jsxs("button",{onClick:()=>N(),className:"btn-primary flex items-center space-x-2",children:[c.jsx(kd,{className:"h-5 w-5"}),c.jsx("span",{children:"Ajouter un trajet"})]})]}),c.jsxs("div",{className:"card mb-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",value:u,onChange:M=>d(M.target.value),placeholder:"Rechercher un trajet (dpart, arrive, gare)...",className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),u&&c.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[c.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[I.length," rsultat",I.length>1?"s":""," trouv",I.length>1?"s":""]}),c.jsx("button",{onClick:()=>d(""),className:"text-sm text-primary hover:text-primary-dark font-medium",children:"Rinitialiser"})]})]}),I.length===0?c.jsxs("div",{className:"card text-center py-12",children:[c.jsx(mr,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Aucun trajet trouv"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:u?"Essayez de modifier votre recherche":"Les trajets de votre compagnie apparatront ici"})]}):c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:I.map(M=>c.jsxs("div",{className:"card hover:shadow-lg transition-shadow",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-2 bg-primary-light rounded-lg",children:c.jsx(mr,{className:"h-5 w-5 text-primary"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:M.depart}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Dpart"})]})]}),c.jsx("div",{className:"text-primary font-bold text-xl",children:""})]}),c.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[c.jsx("div",{className:"p-2 bg-success-light rounded-lg",children:c.jsx(nr,{className:"h-5 w-5 text-success"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:M.arrivee}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Arrive"})]})]}),c.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Prix"}),c.jsxs("span",{className:"font-bold text-primary text-lg",children:[M.prix," FCFA"]})]}),M.gare&&c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Gare"}),c.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:M.gare})]}),M.horaires&&Array.isArray(M.horaires)&&M.horaires.length>0&&c.jsxs("div",{children:[c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2 block",children:"Horaires disponibles"}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[M.horaires.slice(0,4).map((z,W)=>c.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded text-xs font-semibold text-gray-900 dark:text-white",children:z},W)),M.horaires.length>4&&c.jsxs("span",{className:"px-2 py-1 text-xs text-gray-600 dark:text-gray-400",children:["+",M.horaires.length-4]})]})]}),M.note>0&&c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Note"}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx("span",{className:"font-semibold text-warning",children:M.note.toFixed(1)}),c.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["(",M.nb_avis," avis)"]})]})]}),c.jsxs("div",{className:"flex space-x-2 pt-3 mt-3 border-t border-gray-200 dark:border-gray-700",children:[c.jsxs("button",{onClick:()=>N(M),className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors",children:[c.jsx(wd,{className:"h-4 w-4"}),c.jsx("span",{children:"Modifier"})]}),c.jsxs("button",{onClick:()=>T(M.id),className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-error text-white rounded-lg hover:bg-error-dark transition-colors",children:[c.jsx(gl,{className:"h-4 w-4"}),c.jsx("span",{children:"Supprimer"})]})]})]})]},M.id))}),h&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:m?"Modifier le trajet":"Ajouter un trajet"}),c.jsx("button",{onClick:A,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:c.jsx(ys,{className:"h-6 w-6"})})]}),c.jsxs("form",{onSubmit:S,className:"space-y-4",children:[c.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Ville de dpart *"}),c.jsx("input",{type:"text",required:!0,value:v.depart,onChange:M=>j({...v,depart:M.target.value}),className:"input-field dark:bg-gray-700 dark:text-white dark:border-gray-600",placeholder:"Ex: Cotonou"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Ville d'arrive *"}),c.jsx("input",{type:"text",required:!0,value:v.arrivee,onChange:M=>j({...v,arrivee:M.target.value}),className:"input-field dark:bg-gray-700 dark:text-white dark:border-gray-600",placeholder:"Ex: Porto-Novo"})]})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Prix (FCFA) *"}),c.jsx("input",{type:"number",required:!0,min:"0",value:v.prix,onChange:M=>j({...v,prix:M.target.value}),className:"input-field dark:bg-gray-700 dark:text-white dark:border-gray-600",placeholder:"Ex: 1500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Gare (optionnel)"}),c.jsx("input",{type:"text",value:v.gare,onChange:M=>j({...v,gare:M.target.value}),className:"input-field dark:bg-gray-700 dark:text-white dark:border-gray-600",placeholder:"Ex: Gare de Jonquet"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Horaires (optionnel)"}),v.horaires.map((M,z)=>c.jsxs("div",{className:"flex space-x-2 mb-2",children:[c.jsx("input",{type:"time",value:M,onChange:W=>E(z,W.target.value),className:"input-field flex-1 dark:bg-gray-700 dark:text-white dark:border-gray-600"}),v.horaires.length>1&&c.jsx("button",{type:"button",onClick:()=>C(z),className:"px-3 py-2 bg-error text-white rounded-lg hover:bg-error-dark transition-colors",children:c.jsx(ys,{className:"h-5 w-5"})})]},z)),c.jsx("button",{type:"button",onClick:P,className:"text-sm text-primary hover:text-primary-dark font-medium",children:"+ Ajouter un horaire"})]}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[c.jsx("button",{type:"button",onClick:A,className:"px-6 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:"Annuler"}),c.jsx("button",{type:"submit",className:"btn-primary",children:m?"Modifier":"Ajouter"})]})]})]})})})]}):c.jsx("div",{className:"page-container",children:c.jsxs("div",{className:"card text-center py-12",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Aucune compagnie assigne"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Contactez un administrateur pour tre assign  une compagnie."})]})})}function OG(){const{session:e}=Jt(),[t,r]=x.useState([]),[n,a]=x.useState(null),[i,l]=x.useState(!0),[u,d]=x.useState(""),[h,p]=x.useState("all"),[m,y]=x.useState(""),[v,j]=x.useState("");x.useEffect(()=>{b()},[e]);const b=async()=>{if(e?.user?.id)try{const{data:E,error:S}=await ne.from("profiles").select("compagnie_id").eq("id",e.user.id).single();if(S)throw S;E.compagnie_id&&(a(E.compagnie_id),await k(E.compagnie_id))}catch(E){console.error("Error loading:",E)}finally{l(!1)}},k=async E=>{try{const{data:S,error:T}=await ne.from("trajets").select("id").eq("compagnie_id",E);if(T)throw T;const I=S?.map(M=>M.id)||[];if(I.length>0){const{data:M,error:z}=await ne.from("reservations").select(`
            *,
            trajets(depart, arrivee)
          `).in("trajet_id",I).order("created_at",{ascending:!1});if(z)throw z;r(M||[])}}catch(S){console.error("Error loading reservations:",S),r([])}},N=async(E,S)=>{try{await ne.from("reservations").update({statut:S,updated_at:new Date().toISOString()}).eq("id",E),await b()}catch(T){console.error("Error updating reservation:",T),alert("Erreur lors de la mise  jour")}},A=E=>{const S={en_attente:{color:"bg-warning-light text-warning",icon:wn,label:"En attente"},confirmee:{color:"bg-success-light text-success",icon:gr,label:"Confirme"},annulee:{color:"bg-error-light text-error",icon:hr,label:"Annule"},expiree:{color:"bg-gray-200 text-gray-700",icon:hr,label:"Expire"}},{color:T,icon:I,label:M}=S[E]||S.en_attente;return c.jsxs("span",{className:`inline-flex items-center space-x-1 px-3 py-1 rounded-full text-sm font-semibold ${T}`,children:[c.jsx(I,{className:"h-4 w-4"}),c.jsx("span",{children:M})]})},P=E=>{const S={pending:{color:"bg-warning-light text-warning",label:"En attente"},approved:{color:"bg-success-light text-success",label:"Pay"},declined:{color:"bg-error-light text-error",label:"Refus"},canceled:{color:"bg-gray-200 text-gray-700",label:"Annul"}},{color:T,label:I}=S[E]||S.pending;return c.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${T}`,children:I})},C=t.filter(E=>{const S=E.nom_passager?.toLowerCase().includes(u.toLowerCase())||E.telephone_passager?.includes(u)||E.trajets?.depart?.toLowerCase().includes(u.toLowerCase())||E.trajets?.arrivee?.toLowerCase().includes(u.toLowerCase()),T=h==="all"||E.statut===h;let I=!0;if(m||v){const M=new Date(E.created_at);if(m){const z=new Date(m);z.setHours(0,0,0,0),I=I&&M>=z}if(v){const z=new Date(v);z.setHours(23,59,59,999),I=I&&M<=z}}return S&&T&&I});return i?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n?c.jsxs("div",{className:"page-container",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Rservations de ma compagnie"}),c.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[t.length," rservation",t.length>1?"s":""," au total"]})]}),c.jsxs("div",{className:"card mb-6",children:[c.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",value:u,onChange:E=>d(E.target.value),placeholder:"Rechercher...",className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),c.jsxs("div",{className:"relative",children:[c.jsx(Ov,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsxs("select",{value:h,onChange:E=>p(E.target.value),className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600",children:[c.jsx("option",{value:"all",children:"Tous les statuts"}),c.jsx("option",{value:"en_attente",children:"En attente"}),c.jsx("option",{value:"confirmee",children:"Confirme"}),c.jsx("option",{value:"annulee",children:"Annule"}),c.jsx("option",{value:"expiree",children:"Expire"})]})]}),c.jsxs("div",{className:"relative",children:[c.jsx(Nu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"date",value:m,onChange:E=>y(E.target.value),placeholder:"Date dbut",className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),c.jsxs("div",{className:"relative",children:[c.jsx(Nu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"date",value:v,onChange:E=>j(E.target.value),placeholder:"Date fin",className:"input-field pl-10 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]}),(m||v||u||h!=="all")&&c.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[c.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[C.length," rsultat",C.length>1?"s":""," trouv",C.length>1?"s":""]}),c.jsx("button",{onClick:()=>{d(""),p("all"),y(""),j("")},className:"text-sm text-primary hover:text-primary-dark font-medium",children:"Rinitialiser les filtres"})]})]}),C.length===0?c.jsxs("div",{className:"card text-center py-12",children:[c.jsx(bn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Aucune rservation trouve"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:u||h!=="all"?"Essayez de modifier vos filtres de recherche":"Les rservations des clients apparatront ici"})]}):c.jsx("div",{className:"space-y-4",children:C.map(E=>c.jsx("div",{className:"card",children:c.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:E.nom_passager}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:E.telephone_passager})]}),c.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[A(E.statut),P(E.statut_paiement)]})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Trajet"}),c.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[E.trajets?.depart,"  ",E.trajets?.arrivee]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Horaire"}),c.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:E.horaire})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Places"}),c.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:E.nb_places})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Montant"}),c.jsxs("p",{className:"font-semibold text-primary",children:[E.montant_total," FCFA"]})]})]})]}),E.statut==="en_attente"&&c.jsxs("div",{className:"flex flex-col space-y-2",children:[c.jsx("button",{onClick:()=>N(E.id,"confirmee"),className:"btn-primary text-sm",children:"Confirmer"}),c.jsx("button",{onClick:()=>N(E.id,"annulee"),className:"btn-secondary text-sm",children:"Annuler"})]})]})},E.id))})]}):c.jsx("div",{className:"page-container",children:c.jsxs("div",{className:"card text-center py-12",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Aucune compagnie assigne"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Contactez un administrateur pour tre assign  une compagnie."})]})})}function AG(){return c.jsx("div",{className:"min-h-screen flex items-center justify-center px-4",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-9xl font-bold text-primary mb-4",children:"404"}),c.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Page non trouve"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8 max-w-md",children:"Dsol, la page que vous recherchez n'existe pas ou a t dplace."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[c.jsxs(ke,{to:"/",className:"btn-primary flex items-center justify-center space-x-2",children:[c.jsx(_M,{className:"h-5 w-5"}),c.jsx("span",{children:"Retour  l'accueil"})]}),c.jsxs(ke,{to:"/trajets",className:"btn-outline flex items-center justify-center space-x-2",children:[c.jsx(cn,{className:"h-5 w-5"}),c.jsx("span",{children:"Rechercher des trajets"})]})]})]})})}function zo({children:e}){const{session:t,loading:r}=Jt();return r?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t?e:c.jsx(Qo,{to:"/login",replace:!0})}function CG(){const e=Ni();return x.useEffect(()=>{console.log(" React Router pathname:",e.pathname),console.log(" Window location:",window.location.href)},[e]),c.jsx($R,{children:c.jsxs(Ze,{path:"/",element:c.jsx(DM,{}),children:[c.jsx(Ze,{index:!0,element:c.jsx(MM,{})}),c.jsx(Ze,{path:"trajets",element:c.jsx(LM,{})}),c.jsx(Ze,{path:"trajet/:id",element:c.jsx($M,{})}),c.jsx(Ze,{path:"compagnies",element:c.jsx(BM,{})}),c.jsx(Ze,{path:"compagnies/:id",element:c.jsx(FM,{})}),c.jsx(Ze,{path:"login",element:c.jsx(KM,{})}),c.jsx(Ze,{path:"register",element:c.jsx(VM,{})}),c.jsx(Ze,{path:"reservation/:id",element:c.jsx(zo,{children:c.jsx(qM,{})})}),c.jsx(Ze,{path:"profile",element:c.jsx(zo,{children:c.jsx(HM,{})})}),c.jsx(Ze,{path:"reservations",element:c.jsx(zo,{children:c.jsx(GM,{})})}),c.jsx(Ze,{path:"favorites",element:c.jsx(zo,{children:c.jsx(YM,{})})}),c.jsx(Ze,{path:"payment/:id",element:c.jsx(zo,{children:c.jsx(WM,{})})}),c.jsx(Ze,{path:"admin",element:c.jsx(is,{children:c.jsx(wG,{})})}),c.jsx(Ze,{path:"admin/trajets",element:c.jsx(is,{children:c.jsx(jG,{})})}),c.jsx(Ze,{path:"admin/compagnies",element:c.jsx(is,{children:c.jsx(kG,{})})}),c.jsx(Ze,{path:"admin/reservations",element:c.jsx(is,{children:c.jsx(_G,{})})}),c.jsx(Ze,{path:"admin/users",element:c.jsx(is,{children:c.jsx(SG,{})})}),c.jsx(Ze,{path:"admin/destinations",element:c.jsx(is,{children:c.jsx(NG,{})})}),c.jsx(Ze,{path:"compagnie",element:c.jsx(jp,{children:c.jsx(EG,{})})}),c.jsx(Ze,{path:"compagnie/trajets",element:c.jsx(jp,{children:c.jsx(PG,{})})}),c.jsx(Ze,{path:"compagnie/reservations",element:c.jsx(jp,{children:c.jsx(OG,{})})}),c.jsx(Ze,{path:"*",element:c.jsx(AG,{})})]})})}WT.createRoot(document.getElementById("root")).render(c.jsx(PS.StrictMode,{children:c.jsx(VR,{children:c.jsx(vM,{children:c.jsx(yM,{children:c.jsx(CG,{})})})})}));
